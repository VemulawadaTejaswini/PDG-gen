Line_2 $$ public void setInternalReferences() --> Line_3 $$ for (int i = 0; i < REFSPECS.length; i++) [CD]
Line_3 $$ for (int i = 0; i < REFSPECS.length; i++) --> Line_4 $$ REFSPECS[i].setTypeRefs(conn) [CD]
Line_2 $$ public void setInternalReferences() --> Line_6 $$ String sql, sql2 [CD]
Line_3 $$ for (int i = 0; i < REFSPECS.length; i++) --> Line_9 $$ for (int i = 0; i < params2.length; i++) [FD]
Line_9 $$ for (int i = 0; i < params2.length; i++) --> Line_10 $$ log.traceln("\tProcessing seetag " + params2[i][0] + " references..") [CD]
Line_9 $$ for (int i = 0; i < params2.length; i++) --> Line_11 $$ sql = "select r.sourcedoc_id, " + params2[i][0] + ".id, " + params2[i][0] + "." + params2[i][1] + " from REFERENCE r, " + params2[i][0] + " where r.refdoc_name = " + params2[i][0] + "." + params2[i][1] + " and r.refdoc_id is null" [CD]
Line_6 $$ String sql, sql2 --> Line_11 $$ sql = "select r.sourcedoc_id, " + params2[i][0] + ".id, " + params2[i][0] + "." + params2[i][1] + " from REFERENCE r, " + params2[i][0] + " where r.refdoc_name = " + params2[i][0] + "." + params2[i][1] + " and r.refdoc_id is null" [FD]
Line_9 $$ for (int i = 0; i < params2.length; i++) --> Line_12 $$ Statement stmt = conn.createStatement() [CD]
Line_9 $$ for (int i = 0; i < params2.length; i++) --> Line_13 $$ ResultSet rset = stmt.executeQuery(sql) [CD]
Line_12 $$ Statement stmt = conn.createStatement() --> Line_13 $$ ResultSet rset = stmt.executeQuery(sql) [FD]
Line_11 $$ sql = "select r.sourcedoc_id, " + params2[i][0] + ".id, " + params2[i][0] + "." + params2[i][1] + " from REFERENCE r, " + params2[i][0] + " where r.refdoc_name = " + params2[i][0] + "." + params2[i][1] + " and r.refdoc_id is null" --> Line_13 $$ ResultSet rset = stmt.executeQuery(sql) [FD]
Line_6 $$ String sql, sql2 --> Line_13 $$ ResultSet rset = stmt.executeQuery(sql) [FD]
Line_9 $$ for (int i = 0; i < params2.length; i++) --> Line_14 $$ sql2 = "update REFERENCE set refdoc_id=? where sourcedoc_id=? and refdoc_name=?" [CD]
Line_6 $$ String sql, sql2 --> Line_14 $$ sql2 = "update REFERENCE set refdoc_id=? where sourcedoc_id=? and refdoc_name=?" [FD]
Line_9 $$ for (int i = 0; i < params2.length; i++) --> Line_15 $$ PreparedStatement pstmt = conn.prepareStatement(sql2) [CD]
Line_14 $$ sql2 = "update REFERENCE set refdoc_id=? where sourcedoc_id=? and refdoc_name=?" --> Line_15 $$ PreparedStatement pstmt = conn.prepareStatement(sql2) [FD]
Line_6 $$ String sql, sql2 --> Line_15 $$ PreparedStatement pstmt = conn.prepareStatement(sql2) [FD]
Line_9 $$ for (int i = 0; i < params2.length; i++) --> Line_16 $$ while (rset.next()) [CD]
Line_13 $$ ResultSet rset = stmt.executeQuery(sql) --> Line_16 $$ while (rset.next()) [FD]
Line_16 $$ while (rset.next()) --> Line_17 $$ pstmt.clearParameters() [CD]
Line_15 $$ PreparedStatement pstmt = conn.prepareStatement(sql2) --> Line_17 $$ pstmt.clearParameters() [FD]
Line_16 $$ while (rset.next()) --> Line_18 $$ pstmt.setInt(1, rset.getInt(2)) [CD]
Line_15 $$ PreparedStatement pstmt = conn.prepareStatement(sql2) --> Line_18 $$ pstmt.setInt(1, rset.getInt(2)) [FD]
Line_13 $$ ResultSet rset = stmt.executeQuery(sql) --> Line_18 $$ pstmt.setInt(1, rset.getInt(2)) [FD]
Line_16 $$ while (rset.next()) --> Line_19 $$ pstmt.setInt(2, rset.getInt(1)) [CD]
Line_15 $$ PreparedStatement pstmt = conn.prepareStatement(sql2) --> Line_19 $$ pstmt.setInt(2, rset.getInt(1)) [FD]
Line_13 $$ ResultSet rset = stmt.executeQuery(sql) --> Line_19 $$ pstmt.setInt(2, rset.getInt(1)) [FD]
Line_16 $$ while (rset.next()) --> Line_20 $$ pstmt.setString(3, rset.getString(3)) [CD]
Line_15 $$ PreparedStatement pstmt = conn.prepareStatement(sql2) --> Line_20 $$ pstmt.setString(3, rset.getString(3)) [FD]
Line_13 $$ ResultSet rset = stmt.executeQuery(sql) --> Line_20 $$ pstmt.setString(3, rset.getString(3)) [FD]
Line_16 $$ while (rset.next()) --> Line_21 $$ pstmt.executeUpdate() [CD]
Line_15 $$ PreparedStatement pstmt = conn.prepareStatement(sql2) --> Line_21 $$ pstmt.executeUpdate() [FD]
Line_9 $$ for (int i = 0; i < params2.length; i++) --> Line_23 $$ pstmt.close() [CD]
Line_15 $$ PreparedStatement pstmt = conn.prepareStatement(sql2) --> Line_23 $$ pstmt.close() [FD]
Line_9 $$ for (int i = 0; i < params2.length; i++) --> Line_24 $$ rset.close() [CD]
Line_13 $$ ResultSet rset = stmt.executeQuery(sql) --> Line_24 $$ rset.close() [FD]
Line_9 $$ for (int i = 0; i < params2.length; i++) --> Line_25 $$ stmt.close() [CD]
Line_12 $$ Statement stmt = conn.createStatement() --> Line_25 $$ stmt.close() [FD]
Line_9 $$ for (int i = 0; i < params2.length; i++) --> Line_26 $$ conn.commit() [CD]
