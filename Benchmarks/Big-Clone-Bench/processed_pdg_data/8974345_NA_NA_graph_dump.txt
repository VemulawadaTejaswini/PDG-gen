Line_2 $$ public String sruRead(String initialURL) --> Line_3 $$ out('\n') [CD]
Line_2 $$ public String sruRead(String initialURL) --> Line_4 $$ out("    trying: ") [CD]
Line_2 $$ public String sruRead(String initialURL) --> Line_5 $$ out(initialURL) [CD]
Line_2 $$ public String sruRead(String initialURL) --> Line_5 $$ out(initialURL) [FD]
Line_2 $$ public String sruRead(String initialURL) --> Line_6 $$ out('\n') [CD]
Line_2 $$ public String sruRead(String initialURL) --> Line_8 $$ URL url = null [CD]
Line_8 $$ URL url = null --> Line_10 $$ url = new URL(initialURL) [FD]
Line_2 $$ public String sruRead(String initialURL) --> Line_19 $$ HttpURLConnection huc = null [CD]
Line_19 $$ HttpURLConnection huc = null --> Line_21 $$ huc = (HttpURLConnection) url.openConnection() [FD]
Line_8 $$ URL url = null --> Line_21 $$ huc = (HttpURLConnection) url.openConnection() [FD]
Line_10 $$ url = new URL(initialURL) --> Line_21 $$ huc = (HttpURLConnection) url.openConnection() [FD]
Line_2 $$ public String sruRead(String initialURL) --> Line_30 $$ String contentType = huc.getContentType() [CD]
Line_19 $$ HttpURLConnection huc = null --> Line_30 $$ String contentType = huc.getContentType() [FD]
Line_21 $$ huc = (HttpURLConnection) url.openConnection() --> Line_30 $$ String contentType = huc.getContentType() [FD]
Line_2 $$ public String sruRead(String initialURL) --> Line_31 $$ if (contentType == null || (contentType.indexOf("text/xml") < 0 && contentType.indexOf("application/xml") < 0)) [CD]
Line_30 $$ String contentType = huc.getContentType() --> Line_31 $$ if (contentType == null || (contentType.indexOf("text/xml") < 0 && contentType.indexOf("application/xml") < 0)) [FD]
Line_31 $$ if (contentType == null || (contentType.indexOf("text/xml") < 0 && contentType.indexOf("application/xml") < 0)) --> Line_32 $$ out("  ** Warning: Content-Type not set to text/xml or application/xml") [CD]
Line_31 $$ if (contentType == null || (contentType.indexOf("text/xml") < 0 && contentType.indexOf("application/xml") < 0)) --> Line_33 $$ out('\n') [CD]
Line_31 $$ if (contentType == null || (contentType.indexOf("text/xml") < 0 && contentType.indexOf("application/xml") < 0)) --> Line_34 $$ out("    Content-type: ") [CD]
Line_31 $$ if (contentType == null || (contentType.indexOf("text/xml") < 0 && contentType.indexOf("application/xml") < 0)) --> Line_35 $$ out(contentType) [CD]
Line_30 $$ String contentType = huc.getContentType() --> Line_35 $$ out(contentType) [FD]
Line_31 $$ if (contentType == null || (contentType.indexOf("text/xml") < 0 && contentType.indexOf("application/xml") < 0)) --> Line_36 $$ out('\n') [CD]
Line_2 $$ public String sruRead(String initialURL) --> Line_39 $$ InputStream urlStream = null [CD]
Line_39 $$ InputStream urlStream = null --> Line_41 $$ urlStream = huc.getInputStream() [FD]
Line_19 $$ HttpURLConnection huc = null --> Line_41 $$ urlStream = huc.getInputStream() [FD]
Line_21 $$ huc = (HttpURLConnection) url.openConnection() --> Line_41 $$ urlStream = huc.getInputStream() [FD]
Line_2 $$ public String sruRead(String initialURL) --> Line_50 $$ BufferedReader in = new BufferedReader(new InputStreamReader(urlStream)) [CD]
Line_2 $$ public String sruRead(String initialURL) --> Line_51 $$ boolean xml = true [CD]
Line_2 $$ public String sruRead(String initialURL) --> Line_52 $$ String href = null, inputLine = null [CD]
Line_2 $$ public String sruRead(String initialURL) --> Line_53 $$ StringBuffer content = new StringBuffer(), stylesheet = null [CD]
Line_2 $$ public String sruRead(String initialURL) --> Line_54 $$ Transformer transformer = null [CD]
Line_52 $$ String href = null, inputLine = null --> Line_56 $$ inputLine = in.readLine() [FD]
Line_50 $$ BufferedReader in = new BufferedReader(new InputStreamReader(urlStream)) --> Line_56 $$ inputLine = in.readLine() [FD]
Line_2 $$ public String sruRead(String initialURL) --> Line_65 $$ if (inputLine == null) [CD]
Line_52 $$ String href = null, inputLine = null --> Line_65 $$ if (inputLine == null) [FD]
Line_56 $$ inputLine = in.readLine() --> Line_65 $$ if (inputLine == null) [FD]
Line_65 $$ if (inputLine == null) --> Line_66 $$ out("</pre><pre class='red'>") [CD]
Line_65 $$ if (inputLine == null) --> Line_67 $$ out("test failed: No input read from URL") [CD]
Line_65 $$ if (inputLine == null) --> Line_68 $$ out('\n') [CD]
Line_65 $$ if (inputLine == null) --> Line_69 $$ out("</pre><pre>") [CD]
Line_65 $$ if (inputLine == null) --> Line_70 $$ return null [CD]
Line_2 $$ public String sruRead(String initialURL) --> Line_72 $$ if (!inputLine.startsWith("<?xml ")) [CD]
Line_52 $$ String href = null, inputLine = null --> Line_72 $$ if (!inputLine.startsWith("<?xml ")) [FD]
Line_56 $$ inputLine = in.readLine() --> Line_72 $$ if (!inputLine.startsWith("<?xml ")) [FD]
Line_72 $$ if (!inputLine.startsWith("<?xml ")) --> Line_73 $$ xml = false [CD]
Line_51 $$ boolean xml = true --> Line_73 $$ xml = false [FD]
Line_72 $$ if (!inputLine.startsWith("<?xml ")) --> Line_74 $$ content.append(inputLine) [CD]
Line_53 $$ StringBuffer content = new StringBuffer(), stylesheet = null --> Line_74 $$ content.append(inputLine) [FD]
Line_52 $$ String href = null, inputLine = null --> Line_74 $$ content.append(inputLine) [FD]
Line_56 $$ inputLine = in.readLine() --> Line_74 $$ content.append(inputLine) [FD]
Line_2 $$ public String sruRead(String initialURL) --> Line_76 $$ if (xml) [CD]
Line_76 $$ if (xml) --> Line_77 $$ int offset = inputLine.indexOf('>') [CD]
Line_52 $$ String href = null, inputLine = null --> Line_77 $$ int offset = inputLine.indexOf('>') [FD]
Line_56 $$ inputLine = in.readLine() --> Line_77 $$ int offset = inputLine.indexOf('>') [FD]
Line_76 $$ if (xml) --> Line_78 $$ if (offset + 2 < inputLine.length()) [CD]
Line_52 $$ String href = null, inputLine = null --> Line_78 $$ if (offset + 2 < inputLine.length()) [FD]
Line_56 $$ inputLine = in.readLine() --> Line_78 $$ if (offset + 2 < inputLine.length()) [FD]
Line_78 $$ if (offset + 2 < inputLine.length()) --> Line_79 $$ inputLine = inputLine.substring(offset + 1) [CD]
Line_52 $$ String href = null, inputLine = null --> Line_79 $$ inputLine = inputLine.substring(offset + 1) [FD]
Line_56 $$ inputLine = in.readLine() --> Line_79 $$ inputLine = inputLine.substring(offset + 1) [FD]
Line_78 $$ if (offset + 2 < inputLine.length()) --> Line_80 $$ offset = inputLine.indexOf('<') [CD]
Line_77 $$ int offset = inputLine.indexOf('>') --> Line_80 $$ offset = inputLine.indexOf('<') [FD]
Line_52 $$ String href = null, inputLine = null --> Line_80 $$ offset = inputLine.indexOf('<') [FD]
Line_56 $$ inputLine = in.readLine() --> Line_80 $$ offset = inputLine.indexOf('<') [FD]
Line_79 $$ inputLine = inputLine.substring(offset + 1) --> Line_80 $$ offset = inputLine.indexOf('<') [FD]
Line_78 $$ if (offset + 2 < inputLine.length()) --> Line_81 $$ inputLine = inputLine.substring(offset) [CD]
Line_77 $$ int offset = inputLine.indexOf('>') --> Line_81 $$ inputLine = inputLine.substring(offset) [FD]
Line_80 $$ offset = inputLine.indexOf('<') --> Line_81 $$ inputLine = inputLine.substring(offset) [FD]
Line_52 $$ String href = null, inputLine = null --> Line_81 $$ inputLine = inputLine.substring(offset) [FD]
Line_56 $$ inputLine = in.readLine() --> Line_81 $$ inputLine = inputLine.substring(offset) [FD]
Line_79 $$ inputLine = inputLine.substring(offset + 1) --> Line_81 $$ inputLine = inputLine.substring(offset) [FD]
Line_52 $$ String href = null, inputLine = null --> Line_83 $$ inputLine = in.readLine() [FD]
Line_56 $$ inputLine = in.readLine() --> Line_83 $$ inputLine = in.readLine() [FD]
Line_79 $$ inputLine = inputLine.substring(offset + 1) --> Line_83 $$ inputLine = in.readLine() [FD]
Line_81 $$ inputLine = inputLine.substring(offset) --> Line_83 $$ inputLine = in.readLine() [FD]
Line_50 $$ BufferedReader in = new BufferedReader(new InputStreamReader(urlStream)) --> Line_83 $$ inputLine = in.readLine() [FD]
Line_52 $$ String href = null, inputLine = null --> Line_84 $$ while (inputLine.length() == 0) inputLine = in.readLine() [FD]
Line_56 $$ inputLine = in.readLine() --> Line_84 $$ while (inputLine.length() == 0) inputLine = in.readLine() [FD]
Line_79 $$ inputLine = inputLine.substring(offset + 1) --> Line_84 $$ while (inputLine.length() == 0) inputLine = in.readLine() [FD]
Line_81 $$ inputLine = inputLine.substring(offset) --> Line_84 $$ while (inputLine.length() == 0) inputLine = in.readLine() [FD]
Line_83 $$ inputLine = in.readLine() --> Line_84 $$ while (inputLine.length() == 0) inputLine = in.readLine() [FD]
Line_50 $$ BufferedReader in = new BufferedReader(new InputStreamReader(urlStream)) --> Line_84 $$ while (inputLine.length() == 0) inputLine = in.readLine() [FD]
Line_76 $$ if (xml) --> Line_93 $$ if (inputLine.startsWith("<?xml-stylesheet ")) [CD]
Line_84 $$ while (inputLine.length() == 0) inputLine = in.readLine() --> Line_93 $$ if (inputLine.startsWith("<?xml-stylesheet ")) [FD]
Line_52 $$ String href = null, inputLine = null --> Line_93 $$ if (inputLine.startsWith("<?xml-stylesheet ")) [FD]
Line_56 $$ inputLine = in.readLine() --> Line_93 $$ if (inputLine.startsWith("<?xml-stylesheet ")) [FD]
Line_79 $$ inputLine = inputLine.substring(offset + 1) --> Line_93 $$ if (inputLine.startsWith("<?xml-stylesheet ")) [FD]
Line_81 $$ inputLine = inputLine.substring(offset) --> Line_93 $$ if (inputLine.startsWith("<?xml-stylesheet ")) [FD]
Line_83 $$ inputLine = in.readLine() --> Line_93 $$ if (inputLine.startsWith("<?xml-stylesheet ")) [FD]
Line_93 $$ if (inputLine.startsWith("<?xml-stylesheet ")) --> Line_94 $$ offset = inputLine.indexOf("href=") [CD]
Line_77 $$ int offset = inputLine.indexOf('>') --> Line_94 $$ offset = inputLine.indexOf("href=") [FD]
Line_80 $$ offset = inputLine.indexOf('<') --> Line_94 $$ offset = inputLine.indexOf("href=") [FD]
Line_84 $$ while (inputLine.length() == 0) inputLine = in.readLine() --> Line_94 $$ offset = inputLine.indexOf("href=") [FD]
Line_52 $$ String href = null, inputLine = null --> Line_94 $$ offset = inputLine.indexOf("href=") [FD]
Line_56 $$ inputLine = in.readLine() --> Line_94 $$ offset = inputLine.indexOf("href=") [FD]
Line_79 $$ inputLine = inputLine.substring(offset + 1) --> Line_94 $$ offset = inputLine.indexOf("href=") [FD]
Line_81 $$ inputLine = inputLine.substring(offset) --> Line_94 $$ offset = inputLine.indexOf("href=") [FD]
Line_83 $$ inputLine = in.readLine() --> Line_94 $$ offset = inputLine.indexOf("href=") [FD]
Line_93 $$ if (inputLine.startsWith("<?xml-stylesheet ")) --> Line_95 $$ href = (inputLine.substring(inputLine.indexOf("href=") + 6)) [CD]
Line_52 $$ String href = null, inputLine = null --> Line_95 $$ href = (inputLine.substring(inputLine.indexOf("href=") + 6)) [FD]
Line_84 $$ while (inputLine.length() == 0) inputLine = in.readLine() --> Line_95 $$ href = (inputLine.substring(inputLine.indexOf("href=") + 6)) [FD]
Line_56 $$ inputLine = in.readLine() --> Line_95 $$ href = (inputLine.substring(inputLine.indexOf("href=") + 6)) [FD]
Line_79 $$ inputLine = inputLine.substring(offset + 1) --> Line_95 $$ href = (inputLine.substring(inputLine.indexOf("href=") + 6)) [FD]
Line_81 $$ inputLine = inputLine.substring(offset) --> Line_95 $$ href = (inputLine.substring(inputLine.indexOf("href=") + 6)) [FD]
Line_83 $$ inputLine = in.readLine() --> Line_95 $$ href = (inputLine.substring(inputLine.indexOf("href=") + 6)) [FD]
Line_93 $$ if (inputLine.startsWith("<?xml-stylesheet ")) --> Line_96 $$ href = href.substring(0, href.indexOf('"')) [CD]
Line_52 $$ String href = null, inputLine = null --> Line_96 $$ href = href.substring(0, href.indexOf('"')) [FD]
Line_95 $$ href = (inputLine.substring(inputLine.indexOf("href=") + 6)) --> Line_96 $$ href = href.substring(0, href.indexOf('"')) [FD]
Line_93 $$ if (inputLine.startsWith("<?xml-stylesheet ")) --> Line_97 $$ transformer = (Transformer) transformers.get(href) [CD]
Line_54 $$ Transformer transformer = null --> Line_97 $$ transformer = (Transformer) transformers.get(href) [FD]
Line_52 $$ String href = null, inputLine = null --> Line_97 $$ transformer = (Transformer) transformers.get(href) [FD]
Line_95 $$ href = (inputLine.substring(inputLine.indexOf("href=") + 6)) --> Line_97 $$ transformer = (Transformer) transformers.get(href) [FD]
Line_96 $$ href = href.substring(0, href.indexOf('"')) --> Line_97 $$ transformer = (Transformer) transformers.get(href) [FD]
Line_93 $$ if (inputLine.startsWith("<?xml-stylesheet ")) --> Line_98 $$ if (stylesheets.get(href) == null) [CD]
Line_52 $$ String href = null, inputLine = null --> Line_98 $$ if (stylesheets.get(href) == null) [FD]
Line_95 $$ href = (inputLine.substring(inputLine.indexOf("href=") + 6)) --> Line_98 $$ if (stylesheets.get(href) == null) [FD]
Line_96 $$ href = href.substring(0, href.indexOf('"')) --> Line_98 $$ if (stylesheets.get(href) == null) [FD]
Line_52 $$ String href = null, inputLine = null --> Line_100 $$ out(href) [FD]
Line_95 $$ href = (inputLine.substring(inputLine.indexOf("href=") + 6)) --> Line_100 $$ out(href) [FD]
Line_96 $$ href = href.substring(0, href.indexOf('"')) --> Line_100 $$ out(href) [FD]
Line_8 $$ URL url = null --> Line_103 $$ out(url.toString()) [FD]
Line_10 $$ url = new URL(initialURL) --> Line_103 $$ out(url.toString()) [FD]
Line_8 $$ URL url = null --> Line_105 $$ StreamSource source = new StreamSource(url.toString()) [FD]
Line_10 $$ url = new URL(initialURL) --> Line_105 $$ StreamSource source = new StreamSource(url.toString()) [FD]
Line_106 $$ TransformerFactory tFactory = TransformerFactory.newInstance() --> Line_107 $$ Source stylesht = tFactory.getAssociatedStylesheet(source, null, null, null) [FD]
Line_105 $$ StreamSource source = new StreamSource(url.toString()) --> Line_107 $$ Source stylesht = tFactory.getAssociatedStylesheet(source, null, null, null) [FD]
Line_54 $$ Transformer transformer = null --> Line_108 $$ transformer = tFactory.newTransformer(stylesht) [FD]
Line_97 $$ transformer = (Transformer) transformers.get(href) --> Line_108 $$ transformer = tFactory.newTransformer(stylesht) [FD]
Line_106 $$ TransformerFactory tFactory = TransformerFactory.newInstance() --> Line_108 $$ transformer = tFactory.newTransformer(stylesht) [FD]
Line_107 $$ Source stylesht = tFactory.getAssociatedStylesheet(source, null, null, null) --> Line_108 $$ transformer = tFactory.newTransformer(stylesht) [FD]
Line_52 $$ String href = null, inputLine = null --> Line_109 $$ transformers.put(href, transformer) [FD]
Line_95 $$ href = (inputLine.substring(inputLine.indexOf("href=") + 6)) --> Line_109 $$ transformers.put(href, transformer) [FD]
Line_96 $$ href = href.substring(0, href.indexOf('"')) --> Line_109 $$ transformers.put(href, transformer) [FD]
Line_54 $$ Transformer transformer = null --> Line_109 $$ transformers.put(href, transformer) [FD]
Line_97 $$ transformer = (Transformer) transformers.get(href) --> Line_109 $$ transformers.put(href, transformer) [FD]
Line_108 $$ transformer = tFactory.newTransformer(stylesht) --> Line_109 $$ transformers.put(href, transformer) [FD]
Line_93 $$ if (inputLine.startsWith("<?xml-stylesheet ")) --> Line_118 $$ stylesheets.put(href, href) [CD]
Line_52 $$ String href = null, inputLine = null --> Line_118 $$ stylesheets.put(href, href) [FD]
Line_95 $$ href = (inputLine.substring(inputLine.indexOf("href=") + 6)) --> Line_118 $$ stylesheets.put(href, href) [FD]
Line_96 $$ href = href.substring(0, href.indexOf('"')) --> Line_118 $$ stylesheets.put(href, href) [FD]
Line_93 $$ if (inputLine.startsWith("<?xml-stylesheet ")) --> Line_119 $$ content.append(inputLine) [CD]
Line_53 $$ StringBuffer content = new StringBuffer(), stylesheet = null --> Line_119 $$ content.append(inputLine) [FD]
Line_84 $$ while (inputLine.length() == 0) inputLine = in.readLine() --> Line_119 $$ content.append(inputLine) [FD]
Line_52 $$ String href = null, inputLine = null --> Line_119 $$ content.append(inputLine) [FD]
Line_56 $$ inputLine = in.readLine() --> Line_119 $$ content.append(inputLine) [FD]
Line_79 $$ inputLine = inputLine.substring(offset + 1) --> Line_119 $$ content.append(inputLine) [FD]
Line_81 $$ inputLine = inputLine.substring(offset) --> Line_119 $$ content.append(inputLine) [FD]
Line_83 $$ inputLine = in.readLine() --> Line_119 $$ content.append(inputLine) [FD]
Line_84 $$ while (inputLine.length() == 0) inputLine = in.readLine() --> Line_122 $$ while ((inputLine = in.readLine()) != null) content.append(inputLine) [FD]
Line_52 $$ String href = null, inputLine = null --> Line_122 $$ while ((inputLine = in.readLine()) != null) content.append(inputLine) [FD]
Line_56 $$ inputLine = in.readLine() --> Line_122 $$ while ((inputLine = in.readLine()) != null) content.append(inputLine) [FD]
Line_79 $$ inputLine = inputLine.substring(offset + 1) --> Line_122 $$ while ((inputLine = in.readLine()) != null) content.append(inputLine) [FD]
Line_81 $$ inputLine = inputLine.substring(offset) --> Line_122 $$ while ((inputLine = in.readLine()) != null) content.append(inputLine) [FD]
Line_83 $$ inputLine = in.readLine() --> Line_122 $$ while ((inputLine = in.readLine()) != null) content.append(inputLine) [FD]
Line_50 $$ BufferedReader in = new BufferedReader(new InputStreamReader(urlStream)) --> Line_122 $$ while ((inputLine = in.readLine()) != null) content.append(inputLine) [FD]
Line_53 $$ StringBuffer content = new StringBuffer(), stylesheet = null --> Line_122 $$ while ((inputLine = in.readLine()) != null) content.append(inputLine) [FD]
Line_2 $$ public String sruRead(String initialURL) --> Line_131 $$ String contentStr = content.toString() [CD]
Line_53 $$ StringBuffer content = new StringBuffer(), stylesheet = null --> Line_131 $$ String contentStr = content.toString() [FD]
Line_2 $$ public String sruRead(String initialURL) --> Line_132 $$ if (transformer != null) [CD]
Line_54 $$ Transformer transformer = null --> Line_132 $$ if (transformer != null) [FD]
Line_97 $$ transformer = (Transformer) transformers.get(href) --> Line_132 $$ if (transformer != null) [FD]
Line_108 $$ transformer = tFactory.newTransformer(stylesht) --> Line_132 $$ if (transformer != null) [FD]
Line_132 $$ if (transformer != null) --> Line_133 $$ StreamSource streamXMLRecord = new StreamSource(new StringReader(contentStr)) [CD]
Line_132 $$ if (transformer != null) --> Line_134 $$ StringWriter xmlRecordWriter = new StringWriter() [CD]
Line_54 $$ Transformer transformer = null --> Line_136 $$ transformer.transform(streamXMLRecord, new StreamResult(xmlRecordWriter)) [FD]
Line_97 $$ transformer = (Transformer) transformers.get(href) --> Line_136 $$ transformer.transform(streamXMLRecord, new StreamResult(xmlRecordWriter)) [FD]
Line_108 $$ transformer = tFactory.newTransformer(stylesht) --> Line_136 $$ transformer.transform(streamXMLRecord, new StreamResult(xmlRecordWriter)) [FD]
Line_133 $$ StreamSource streamXMLRecord = new StreamSource(new StringReader(contentStr)) --> Line_136 $$ transformer.transform(streamXMLRecord, new StreamResult(xmlRecordWriter)) [FD]
Line_52 $$ String href = null, inputLine = null --> Line_138 $$ out(href) [FD]
Line_95 $$ href = (inputLine.substring(inputLine.indexOf("href=") + 6)) --> Line_138 $$ out(href) [FD]
Line_96 $$ href = href.substring(0, href.indexOf('"')) --> Line_138 $$ out(href) [FD]
Line_52 $$ String href = null, inputLine = null --> Line_144 $$ out(href) [FD]
Line_95 $$ href = (inputLine.substring(inputLine.indexOf("href=") + 6)) --> Line_144 $$ out(href) [FD]
Line_96 $$ href = href.substring(0, href.indexOf('"')) --> Line_144 $$ out(href) [FD]
Line_2 $$ public String sruRead(String initialURL) --> Line_152 $$ return contentStr [CD]
