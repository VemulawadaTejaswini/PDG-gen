Line_2 $$ public static void batchInsertOrder(Order o) throws AppException --> Line_3 $$ Connection conn = DBUtils.getDataConnection() [CD]
Line_2 $$ public static void batchInsertOrder(Order o) throws AppException --> Line_4 $$ PreparedStatement pstmt = null [CD]
Line_2 $$ public static void batchInsertOrder(Order o) throws AppException --> Line_5 $$ ResultSet rs = null [CD]
Line_2 $$ public static void batchInsertOrder(Order o) throws AppException --> Line_6 $$ String sqlOrder = null [CD]
Line_2 $$ public static void batchInsertOrder(Order o) throws AppException --> Line_7 $$ String sqlDetail = null [CD]
Line_3 $$ Connection conn = DBUtils.getDataConnection() --> Line_9 $$ conn.setAutoCommit(false) [FD]
Line_6 $$ String sqlOrder = null --> Line_10 $$ sqlOrder = "insert into SO_SOMain (ID,cSOCode,dDate," + "cBusType,cCusCode,cCusName," + "cDepCode,cSTCode," + "iVTid,cMaker,cMemo) values (?,?,?,?,?,?,?,?,?,?,?)" [FD]
Line_7 $$ String sqlDetail = null --> Line_11 $$ sqlDetail = "insert into SO_SODetails (ID,cSOCode,cInvCode,cInvName," + "iNum,iQuantity,iTaxUnitPrice,iSum,dPreDate,iSOsID,cFree1,cUnitID) values(?,?,?,?,?,?,?,?,?,?,?,?)" [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) [FD]
Line_3 $$ Connection conn = DBUtils.getDataConnection() --> Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) [FD]
Line_6 $$ String sqlOrder = null --> Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) [FD]
Line_10 $$ sqlOrder = "insert into SO_SOMain (ID,cSOCode,dDate," + "cBusType,cCusCode,cCusName," + "cDepCode,cSTCode," + "iVTid,cMaker,cMemo) values (?,?,?,?,?,?,?,?,?,?,?)" --> Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) [FD]
Line_3 $$ Connection conn = DBUtils.getDataConnection() --> Line_13 $$ long maxId = getMaxID(conn, pstmt, rs) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_13 $$ long maxId = getMaxID(conn, pstmt, rs) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_13 $$ long maxId = getMaxID(conn, pstmt, rs) [FD]
Line_5 $$ ResultSet rs = null --> Line_13 $$ long maxId = getMaxID(conn, pstmt, rs) [FD]
Line_13 $$ long maxId = getMaxID(conn, pstmt, rs) --> Line_14 $$ maxId++ [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_15 $$ pstmt.setLong(1, maxId) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_15 $$ pstmt.setLong(1, maxId) [FD]
Line_13 $$ long maxId = getMaxID(conn, pstmt, rs) --> Line_15 $$ pstmt.setLong(1, maxId) [FD]
Line_2 $$ public static void batchInsertOrder(Order o) throws AppException --> Line_17 $$ o.setId(l.intValue()) [FD]
Line_16 $$ Long l = maxId --> Line_17 $$ o.setId(l.intValue()) [FD]
Line_2 $$ public static void batchInsertOrder(Order o) throws AppException --> Line_18 $$ String code = o.getCode() [FD]
Line_18 $$ String code = o.getCode() --> Line_19 $$ long maxCSOCode = getMaxCSOCode(code, conn, pstmt, rs) [FD]
Line_3 $$ Connection conn = DBUtils.getDataConnection() --> Line_19 $$ long maxCSOCode = getMaxCSOCode(code, conn, pstmt, rs) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_19 $$ long maxCSOCode = getMaxCSOCode(code, conn, pstmt, rs) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_19 $$ long maxCSOCode = getMaxCSOCode(code, conn, pstmt, rs) [FD]
Line_5 $$ ResultSet rs = null --> Line_19 $$ long maxCSOCode = getMaxCSOCode(code, conn, pstmt, rs) [FD]
Line_18 $$ String code = o.getCode() --> Line_20 $$ String csOCode = getCSOCode(code, maxCSOCode) [FD]
Line_19 $$ long maxCSOCode = getMaxCSOCode(code, conn, pstmt, rs) --> Line_20 $$ String csOCode = getCSOCode(code, maxCSOCode) [FD]
Line_2 $$ public static void batchInsertOrder(Order o) throws AppException --> Line_21 $$ o.setCode(csOCode) [FD]
Line_20 $$ String csOCode = getCSOCode(code, maxCSOCode) --> Line_21 $$ o.setCode(csOCode) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_22 $$ pstmt.setString(2, csOCode) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_22 $$ pstmt.setString(2, csOCode) [FD]
Line_20 $$ String csOCode = getCSOCode(code, maxCSOCode) --> Line_22 $$ pstmt.setString(2, csOCode) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_23 $$ pstmt.setDate(3, DateUtil.getSqlDateFormUtilDate(o.getOrderDate())) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_23 $$ pstmt.setDate(3, DateUtil.getSqlDateFormUtilDate(o.getOrderDate())) [FD]
Line_2 $$ public static void batchInsertOrder(Order o) throws AppException --> Line_23 $$ pstmt.setDate(3, DateUtil.getSqlDateFormUtilDate(o.getOrderDate())) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_24 $$ pstmt.setString(4, o.getBusinessType()) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_24 $$ pstmt.setString(4, o.getBusinessType()) [FD]
Line_2 $$ public static void batchInsertOrder(Order o) throws AppException --> Line_24 $$ pstmt.setString(4, o.getBusinessType()) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_25 $$ pstmt.setString(5, o.getC().getId()) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_25 $$ pstmt.setString(5, o.getC().getId()) [FD]
Line_2 $$ public static void batchInsertOrder(Order o) throws AppException --> Line_25 $$ pstmt.setString(5, o.getC().getId()) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_26 $$ pstmt.setString(6, o.getC().getName()) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_26 $$ pstmt.setString(6, o.getC().getName()) [FD]
Line_2 $$ public static void batchInsertOrder(Order o) throws AppException --> Line_26 $$ pstmt.setString(6, o.getC().getName()) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_27 $$ pstmt.setString(7, o.getP().getDept().getId()) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_27 $$ pstmt.setString(7, o.getP().getDept().getId()) [FD]
Line_2 $$ public static void batchInsertOrder(Order o) throws AppException --> Line_27 $$ pstmt.setString(7, o.getP().getDept().getId()) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_28 $$ pstmt.setString(8, o.getSaleType().getId()) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_28 $$ pstmt.setString(8, o.getSaleType().getId()) [FD]
Line_2 $$ public static void batchInsertOrder(Order o) throws AppException --> Line_28 $$ pstmt.setString(8, o.getSaleType().getId()) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_29 $$ pstmt.setInt(9, o.getiVtid()) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_29 $$ pstmt.setInt(9, o.getiVtid()) [FD]
Line_2 $$ public static void batchInsertOrder(Order o) throws AppException --> Line_29 $$ pstmt.setInt(9, o.getiVtid()) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_30 $$ pstmt.setString(10, o.getP().getName()) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_30 $$ pstmt.setString(10, o.getP().getName()) [FD]
Line_2 $$ public static void batchInsertOrder(Order o) throws AppException --> Line_30 $$ pstmt.setString(10, o.getP().getName()) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_31 $$ pstmt.setString(11, o.getRemark()) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_31 $$ pstmt.setString(11, o.getRemark()) [FD]
Line_2 $$ public static void batchInsertOrder(Order o) throws AppException --> Line_31 $$ pstmt.setString(11, o.getRemark()) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_32 $$ pstmt.executeUpdate() [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_32 $$ pstmt.executeUpdate() [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_33 $$ pstmt.clearParameters() [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_33 $$ pstmt.clearParameters() [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) [FD]
Line_3 $$ Connection conn = DBUtils.getDataConnection() --> Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) [FD]
Line_7 $$ String sqlDetail = null --> Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) [FD]
Line_11 $$ sqlDetail = "insert into SO_SODetails (ID,cSOCode,cInvCode,cInvName," + "iNum,iQuantity,iTaxUnitPrice,iSum,dPreDate,iSOsID,cFree1,cUnitID) values(?,?,?,?,?,?,?,?,?,?,?,?)" --> Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) [FD]
Line_2 $$ public static void batchInsertOrder(Order o) throws AppException --> Line_35 $$ ArrayList<OrderDetail> ods = o.getOds() [FD]
Line_3 $$ Connection conn = DBUtils.getDataConnection() --> Line_36 $$ long iSOsID = getiSOsID(conn, pstmt, rs) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_36 $$ long iSOsID = getiSOsID(conn, pstmt, rs) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_36 $$ long iSOsID = getiSOsID(conn, pstmt, rs) [FD]
Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) --> Line_36 $$ long iSOsID = getiSOsID(conn, pstmt, rs) [FD]
Line_5 $$ ResultSet rs = null --> Line_36 $$ long iSOsID = getiSOsID(conn, pstmt, rs) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_38 $$ pstmt.setLong(1, maxId) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_38 $$ pstmt.setLong(1, maxId) [FD]
Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) --> Line_38 $$ pstmt.setLong(1, maxId) [FD]
Line_13 $$ long maxId = getMaxID(conn, pstmt, rs) --> Line_38 $$ pstmt.setLong(1, maxId) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_39 $$ pstmt.setString(2, csOCode) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_39 $$ pstmt.setString(2, csOCode) [FD]
Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) --> Line_39 $$ pstmt.setString(2, csOCode) [FD]
Line_20 $$ String csOCode = getCSOCode(code, maxCSOCode) --> Line_39 $$ pstmt.setString(2, csOCode) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_40 $$ pstmt.setString(3, od.getInventory().getId()) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_40 $$ pstmt.setString(3, od.getInventory().getId()) [FD]
Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) --> Line_40 $$ pstmt.setString(3, od.getInventory().getId()) [FD]
Line_37 $$ for (OrderDetail od : ods) --> Line_40 $$ pstmt.setString(3, od.getInventory().getId()) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_41 $$ pstmt.setString(4, od.getInventory().getName()) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_41 $$ pstmt.setString(4, od.getInventory().getName()) [FD]
Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) --> Line_41 $$ pstmt.setString(4, od.getInventory().getName()) [FD]
Line_37 $$ for (OrderDetail od : ods) --> Line_41 $$ pstmt.setString(4, od.getInventory().getName()) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_42 $$ pstmt.setInt(5, od.getPiece()) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_42 $$ pstmt.setInt(5, od.getPiece()) [FD]
Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) --> Line_42 $$ pstmt.setInt(5, od.getPiece()) [FD]
Line_37 $$ for (OrderDetail od : ods) --> Line_42 $$ pstmt.setInt(5, od.getPiece()) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_43 $$ pstmt.setBigDecimal(6, od.getCount()) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_43 $$ pstmt.setBigDecimal(6, od.getCount()) [FD]
Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) --> Line_43 $$ pstmt.setBigDecimal(6, od.getCount()) [FD]
Line_37 $$ for (OrderDetail od : ods) --> Line_43 $$ pstmt.setBigDecimal(6, od.getCount()) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_44 $$ pstmt.setBigDecimal(7, od.getPrice()) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_44 $$ pstmt.setBigDecimal(7, od.getPrice()) [FD]
Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) --> Line_44 $$ pstmt.setBigDecimal(7, od.getPrice()) [FD]
Line_37 $$ for (OrderDetail od : ods) --> Line_44 $$ pstmt.setBigDecimal(7, od.getPrice()) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_45 $$ pstmt.setBigDecimal(8, od.getSum()) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_45 $$ pstmt.setBigDecimal(8, od.getSum()) [FD]
Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) --> Line_45 $$ pstmt.setBigDecimal(8, od.getSum()) [FD]
Line_37 $$ for (OrderDetail od : ods) --> Line_45 $$ pstmt.setBigDecimal(8, od.getSum()) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_46 $$ pstmt.setDate(9, DateUtil.getSqlDateFormUtilDate(od.getSendDate())) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_46 $$ pstmt.setDate(9, DateUtil.getSqlDateFormUtilDate(od.getSendDate())) [FD]
Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) --> Line_46 $$ pstmt.setDate(9, DateUtil.getSqlDateFormUtilDate(od.getSendDate())) [FD]
Line_37 $$ for (OrderDetail od : ods) --> Line_46 $$ pstmt.setDate(9, DateUtil.getSqlDateFormUtilDate(od.getSendDate())) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_47 $$ pstmt.setLong(10, ++iSOsID) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_47 $$ pstmt.setLong(10, ++iSOsID) [FD]
Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) --> Line_47 $$ pstmt.setLong(10, ++iSOsID) [FD]
Line_36 $$ long iSOsID = getiSOsID(conn, pstmt, rs) --> Line_47 $$ pstmt.setLong(10, ++iSOsID) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_48 $$ pstmt.setString(11, od.getPacking().getcValue()) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_48 $$ pstmt.setString(11, od.getPacking().getcValue()) [FD]
Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) --> Line_48 $$ pstmt.setString(11, od.getPacking().getcValue()) [FD]
Line_37 $$ for (OrderDetail od : ods) --> Line_48 $$ pstmt.setString(11, od.getPacking().getcValue()) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_49 $$ pstmt.setString(12, od.getInventory().getSAComUnitCode()) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_49 $$ pstmt.setString(12, od.getInventory().getSAComUnitCode()) [FD]
Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) --> Line_49 $$ pstmt.setString(12, od.getInventory().getSAComUnitCode()) [FD]
Line_37 $$ for (OrderDetail od : ods) --> Line_49 $$ pstmt.setString(12, od.getInventory().getSAComUnitCode()) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_50 $$ pstmt.executeUpdate() [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_50 $$ pstmt.executeUpdate() [FD]
Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) --> Line_50 $$ pstmt.executeUpdate() [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_51 $$ pstmt.clearParameters() [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_51 $$ pstmt.clearParameters() [FD]
Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) --> Line_51 $$ pstmt.clearParameters() [FD]
Line_3 $$ Connection conn = DBUtils.getDataConnection() --> Line_53 $$ conn.commit() [FD]
Line_3 $$ Connection conn = DBUtils.getDataConnection() --> Line_56 $$ conn.rollback() [FD]
Line_5 $$ ResultSet rs = null --> Line_63 $$ DBUtils.closeAll(rs, pstmt, conn) [FD]
Line_4 $$ PreparedStatement pstmt = null --> Line_63 $$ DBUtils.closeAll(rs, pstmt, conn) [FD]
Line_12 $$ pstmt = conn.prepareStatement(sqlOrder) --> Line_63 $$ DBUtils.closeAll(rs, pstmt, conn) [FD]
Line_34 $$ pstmt = conn.prepareStatement(sqlDetail) --> Line_63 $$ DBUtils.closeAll(rs, pstmt, conn) [FD]
Line_3 $$ Connection conn = DBUtils.getDataConnection() --> Line_63 $$ DBUtils.closeAll(rs, pstmt, conn) [FD]
