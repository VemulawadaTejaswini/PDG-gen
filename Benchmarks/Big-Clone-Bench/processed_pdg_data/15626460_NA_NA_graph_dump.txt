Line_3 $$ Datastream ds = new DatastreamManagedContent() --> Line_4 $$ setDSCommonProperties(ds, entry) [FD]
Line_7 $$ IRI contentLocation = entry.getContentSrc() --> Line_8 $$ if (contentLocation != null) [FD]
Line_8 $$ if (contentLocation != null) --> Line_9 $$ if (m_obj.isNew()) [CD]
Line_9 $$ if (m_obj.isNew()) --> Line_10 $$ ValidationUtility.validateURL(contentLocation.toString(), ds.DSControlGrp) [CD]
Line_7 $$ IRI contentLocation = entry.getContentSrc() --> Line_10 $$ ValidationUtility.validateURL(contentLocation.toString(), ds.DSControlGrp) [FD]
Line_8 $$ if (contentLocation != null) --> Line_12 $$ if (m_format.equals(ATOM_ZIP1_1)) [CD]
Line_12 $$ if (m_format.equals(ATOM_ZIP1_1)) --> Line_13 $$ if (!contentLocation.isAbsolute() && !contentLocation.isPathAbsolute()) [CD]
Line_7 $$ IRI contentLocation = entry.getContentSrc() --> Line_13 $$ if (!contentLocation.isAbsolute() && !contentLocation.isPathAbsolute()) [FD]
Line_13 $$ if (!contentLocation.isAbsolute() && !contentLocation.isPathAbsolute()) --> Line_14 $$ File f = getContentSrcAsFile(contentLocation) [CD]
Line_7 $$ IRI contentLocation = entry.getContentSrc() --> Line_14 $$ File f = getContentSrcAsFile(contentLocation) [FD]
Line_13 $$ if (!contentLocation.isAbsolute() && !contentLocation.isPathAbsolute()) --> Line_15 $$ contentLocation = new IRI(DatastreamManagedContent.TEMP_SCHEME + f.getAbsolutePath()) [CD]
Line_7 $$ IRI contentLocation = entry.getContentSrc() --> Line_15 $$ contentLocation = new IRI(DatastreamManagedContent.TEMP_SCHEME + f.getAbsolutePath()) [FD]
Line_14 $$ File f = getContentSrcAsFile(contentLocation) --> Line_15 $$ contentLocation = new IRI(DatastreamManagedContent.TEMP_SCHEME + f.getAbsolutePath()) [FD]
Line_8 $$ if (contentLocation != null) --> Line_18 $$ ds.DSLocation = contentLocation.toString() [CD]
Line_7 $$ IRI contentLocation = entry.getContentSrc() --> Line_18 $$ ds.DSLocation = contentLocation.toString() [FD]
Line_15 $$ contentLocation = new IRI(DatastreamManagedContent.TEMP_SCHEME + f.getAbsolutePath()) --> Line_18 $$ ds.DSLocation = contentLocation.toString() [FD]
Line_8 $$ if (contentLocation != null) --> Line_19 $$ ds.DSLocation = (DOTranslationUtility.normalizeDSLocationURLs(m_obj.getPid(), ds, m_transContext)).DSLocation [CD]
Line_3 $$ Datastream ds = new DatastreamManagedContent() --> Line_19 $$ ds.DSLocation = (DOTranslationUtility.normalizeDSLocationURLs(m_obj.getPid(), ds, m_transContext)).DSLocation [FD]
Line_8 $$ if (contentLocation != null) --> Line_20 $$ return ds [CD]
Line_25 $$ if (MimeTypeHelper.isText(ds.DSMIME) || MimeTypeHelper.isXml(ds.DSMIME)) --> Line_26 $$ IOUtils.copy(new StringReader(entry.getContent()), out, m_encoding) [CD]
Line_24 $$ OutputStream out = new FileOutputStream(temp) --> Line_26 $$ IOUtils.copy(new StringReader(entry.getContent()), out, m_encoding) [FD]
Line_25 $$ if (MimeTypeHelper.isText(ds.DSMIME) || MimeTypeHelper.isXml(ds.DSMIME)) --> Line_28 $$ IOUtils.copy(entry.getContentStream(), out) [CD]
Line_24 $$ OutputStream out = new FileOutputStream(temp) --> Line_28 $$ IOUtils.copy(entry.getContentStream(), out) [FD]
Line_23 $$ File temp = File.createTempFile("binary-datastream", null) --> Line_30 $$ ds.DSLocation = DatastreamManagedContent.TEMP_SCHEME + temp.getAbsolutePath() [FD]
