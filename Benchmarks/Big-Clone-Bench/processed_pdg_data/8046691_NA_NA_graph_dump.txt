Line_2 $$ private void retrieveFile(URL url, RSLink link) --> Line_3 $$ link.setStatus(RSLink.STATUS_DOWNLOADING) [CD]
Line_2 $$ private void retrieveFile(URL url, RSLink link) --> Line_3 $$ link.setStatus(RSLink.STATUS_DOWNLOADING) [FD]
Line_2 $$ private void retrieveFile(URL url, RSLink link) --> Line_4 $$ HttpURLConnection httpConn = null [CD]
Line_2 $$ private void retrieveFile(URL url, RSLink link) --> Line_5 $$ DataOutputStream outs = null [CD]
Line_2 $$ private void retrieveFile(URL url, RSLink link) --> Line_6 $$ BufferedInputStream bins = null [CD]
Line_2 $$ private void retrieveFile(URL url, RSLink link) --> Line_7 $$ BufferedOutputStream bouts = null [CD]
Line_2 $$ private void retrieveFile(URL url, RSLink link) --> Line_9 $$ String postData = URLEncoder.encode("mirror", "UTF-8") + "=" + URLEncoder.encode(url.toString(), "UTF-8") [FD]
Line_4 $$ HttpURLConnection httpConn = null --> Line_10 $$ httpConn = (HttpURLConnection) url.openConnection() [FD]
Line_2 $$ private void retrieveFile(URL url, RSLink link) --> Line_10 $$ httpConn = (HttpURLConnection) url.openConnection() [FD]
Line_4 $$ HttpURLConnection httpConn = null --> Line_11 $$ httpConn.setRequestMethod("POST") [FD]
Line_10 $$ httpConn = (HttpURLConnection) url.openConnection() --> Line_11 $$ httpConn.setRequestMethod("POST") [FD]
Line_4 $$ HttpURLConnection httpConn = null --> Line_12 $$ httpConn.setRequestProperty("Content-Type", "application/x-www-form-urlencoded") [FD]
Line_10 $$ httpConn = (HttpURLConnection) url.openConnection() --> Line_12 $$ httpConn.setRequestProperty("Content-Type", "application/x-www-form-urlencoded") [FD]
Line_4 $$ HttpURLConnection httpConn = null --> Line_13 $$ httpConn.setRequestProperty("Content-Length", "" + Integer.toString(postData.getBytes().length)) [FD]
Line_10 $$ httpConn = (HttpURLConnection) url.openConnection() --> Line_13 $$ httpConn.setRequestProperty("Content-Length", "" + Integer.toString(postData.getBytes().length)) [FD]
Line_9 $$ String postData = URLEncoder.encode("mirror", "UTF-8") + "=" + URLEncoder.encode(url.toString(), "UTF-8") --> Line_13 $$ httpConn.setRequestProperty("Content-Length", "" + Integer.toString(postData.getBytes().length)) [FD]
Line_4 $$ HttpURLConnection httpConn = null --> Line_14 $$ httpConn.setRequestProperty("Content-Language", "en-US") [FD]
Line_10 $$ httpConn = (HttpURLConnection) url.openConnection() --> Line_14 $$ httpConn.setRequestProperty("Content-Language", "en-US") [FD]
Line_4 $$ HttpURLConnection httpConn = null --> Line_15 $$ httpConn.setDoOutput(true) [FD]
Line_10 $$ httpConn = (HttpURLConnection) url.openConnection() --> Line_15 $$ httpConn.setDoOutput(true) [FD]
Line_4 $$ HttpURLConnection httpConn = null --> Line_16 $$ httpConn.setDoInput(true) [FD]
Line_10 $$ httpConn = (HttpURLConnection) url.openConnection() --> Line_16 $$ httpConn.setDoInput(true) [FD]
Line_5 $$ DataOutputStream outs = null --> Line_17 $$ outs = new DataOutputStream(httpConn.getOutputStream()) [FD]
Line_4 $$ HttpURLConnection httpConn = null --> Line_17 $$ outs = new DataOutputStream(httpConn.getOutputStream()) [FD]
Line_10 $$ httpConn = (HttpURLConnection) url.openConnection() --> Line_17 $$ outs = new DataOutputStream(httpConn.getOutputStream()) [FD]
Line_5 $$ DataOutputStream outs = null --> Line_18 $$ outs.writeBytes(postData) [FD]
Line_17 $$ outs = new DataOutputStream(httpConn.getOutputStream()) --> Line_18 $$ outs.writeBytes(postData) [FD]
Line_9 $$ String postData = URLEncoder.encode("mirror", "UTF-8") + "=" + URLEncoder.encode(url.toString(), "UTF-8") --> Line_18 $$ outs.writeBytes(postData) [FD]
Line_5 $$ DataOutputStream outs = null --> Line_19 $$ outs.flush() [FD]
Line_17 $$ outs = new DataOutputStream(httpConn.getOutputStream()) --> Line_19 $$ outs.flush() [FD]
Line_20 $$ Pattern mimePattern = Pattern.compile(".+/html.+") --> Line_21 $$ Matcher matcher = mimePattern.matcher(httpConn.getContentType()) [FD]
Line_4 $$ HttpURLConnection httpConn = null --> Line_21 $$ Matcher matcher = mimePattern.matcher(httpConn.getContentType()) [FD]
Line_10 $$ httpConn = (HttpURLConnection) url.openConnection() --> Line_21 $$ Matcher matcher = mimePattern.matcher(httpConn.getContentType()) [FD]
Line_21 $$ Matcher matcher = mimePattern.matcher(httpConn.getContentType()) --> Line_22 $$ if (matcher.find()) [FD]
Line_22 $$ if (matcher.find()) --> Line_23 $$ log("Can not download, maybe all RS slots are busy!") [CD]
Line_22 $$ if (matcher.find()) --> Line_24 $$ return [CD]
Line_2 $$ private void retrieveFile(URL url, RSLink link) --> Line_26 $$ link.setSize(httpConn.getContentLength()) [FD]
Line_4 $$ HttpURLConnection httpConn = null --> Line_26 $$ link.setSize(httpConn.getContentLength()) [FD]
Line_10 $$ httpConn = (HttpURLConnection) url.openConnection() --> Line_26 $$ link.setSize(httpConn.getContentLength()) [FD]
Line_6 $$ BufferedInputStream bins = null --> Line_27 $$ bins = new BufferedInputStream(httpConn.getInputStream(), 4096) [FD]
Line_4 $$ HttpURLConnection httpConn = null --> Line_27 $$ bins = new BufferedInputStream(httpConn.getInputStream(), 4096) [FD]
Line_10 $$ httpConn = (HttpURLConnection) url.openConnection() --> Line_27 $$ bins = new BufferedInputStream(httpConn.getInputStream(), 4096) [FD]
Line_7 $$ BufferedOutputStream bouts = null --> Line_28 $$ bouts = new BufferedOutputStream(new FileOutputStream(link.getFile()), 4096) [FD]
Line_2 $$ private void retrieveFile(URL url, RSLink link) --> Line_28 $$ bouts = new BufferedOutputStream(new FileOutputStream(link.getFile()), 4096) [FD]
Line_2 $$ private void retrieveFile(URL url, RSLink link) --> Line_29 $$ link.setStatus(RSLink.STATUS_DOWNLOADING) [FD]
Line_2 $$ private void retrieveFile(URL url, RSLink link) --> Line_30 $$ link.setDown(0) [FD]
Line_32 $$ int count --> Line_33 $$ while ((count = bins.read(byteBuffer)) != -1) [FD]
Line_6 $$ BufferedInputStream bins = null --> Line_33 $$ while ((count = bins.read(byteBuffer)) != -1) [FD]
Line_27 $$ bins = new BufferedInputStream(httpConn.getInputStream(), 4096) --> Line_33 $$ while ((count = bins.read(byteBuffer)) != -1) [FD]
Line_31 $$ byte[] byteBuffer = new byte[4096] --> Line_33 $$ while ((count = bins.read(byteBuffer)) != -1) [FD]
Line_33 $$ while ((count = bins.read(byteBuffer)) != -1) --> Line_34 $$ bouts.write(byteBuffer, 0, count) [CD]
Line_33 $$ while ((count = bins.read(byteBuffer)) != -1) --> Line_34 $$ bouts.write(byteBuffer, 0, count) [FD]
Line_7 $$ BufferedOutputStream bouts = null --> Line_34 $$ bouts.write(byteBuffer, 0, count) [FD]
Line_28 $$ bouts = new BufferedOutputStream(new FileOutputStream(link.getFile()), 4096) --> Line_34 $$ bouts.write(byteBuffer, 0, count) [FD]
Line_31 $$ byte[] byteBuffer = new byte[4096] --> Line_34 $$ bouts.write(byteBuffer, 0, count) [FD]
Line_32 $$ int count --> Line_34 $$ bouts.write(byteBuffer, 0, count) [FD]
Line_33 $$ while ((count = bins.read(byteBuffer)) != -1) --> Line_35 $$ link.setDown(link.getDown() + count) [CD]
Line_2 $$ private void retrieveFile(URL url, RSLink link) --> Line_35 $$ link.setDown(link.getDown() + count) [FD]
Line_33 $$ while ((count = bins.read(byteBuffer)) != -1) --> Line_36 $$ if (!Main.start.get()) [CD]
Line_36 $$ if (!Main.start.get()) --> Line_37 $$ link.setStatus(RSLink.STATUS_NOTHING) [CD]
Line_2 $$ private void retrieveFile(URL url, RSLink link) --> Line_37 $$ link.setStatus(RSLink.STATUS_NOTHING) [FD]
Line_36 $$ if (!Main.start.get()) --> Line_38 $$ return [CD]
Line_2 $$ private void retrieveFile(URL url, RSLink link) --> Line_41 $$ link.setStatus(RSLink.STATUS_DONE) [FD]
Line_2 $$ private void retrieveFile(URL url, RSLink link) --> Line_44 $$ link.setStatus(RSLink.STATUS_NOTHING) [FD]
Line_5 $$ DataOutputStream outs = null --> Line_47 $$ if (outs != null) [FD]
Line_17 $$ outs = new DataOutputStream(httpConn.getOutputStream()) --> Line_47 $$ if (outs != null) [FD]
Line_7 $$ BufferedOutputStream bouts = null --> Line_48 $$ if (bouts != null) [FD]
Line_28 $$ bouts = new BufferedOutputStream(new FileOutputStream(link.getFile()), 4096) --> Line_48 $$ if (bouts != null) [FD]
Line_6 $$ BufferedInputStream bins = null --> Line_49 $$ if (bins != null) [FD]
Line_27 $$ bins = new BufferedInputStream(httpConn.getInputStream(), 4096) --> Line_49 $$ if (bins != null) [FD]
Line_4 $$ HttpURLConnection httpConn = null --> Line_53 $$ if (httpConn != null) [FD]
Line_10 $$ httpConn = (HttpURLConnection) url.openConnection() --> Line_53 $$ if (httpConn != null) [FD]
