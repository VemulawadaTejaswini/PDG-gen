Line_2 $$ public static NotaFiscal insert(NotaFiscal objNF) --> Line_3 $$ final Connection c = DBConnection.getConnection() [CD]
Line_2 $$ public static NotaFiscal insert(NotaFiscal objNF) --> Line_4 $$ PreparedStatement pst = null [CD]
Line_2 $$ public static NotaFiscal insert(NotaFiscal objNF) --> Line_5 $$ int result [CD]
Line_2 $$ public static NotaFiscal insert(NotaFiscal objNF) --> Line_6 $$ if (c == null) [CD]
Line_3 $$ final Connection c = DBConnection.getConnection() --> Line_6 $$ if (c == null) [FD]
Line_6 $$ if (c == null) --> Line_7 $$ return null [CD]
Line_2 $$ public static NotaFiscal insert(NotaFiscal objNF) --> Line_9 $$ if (objNF == null) [CD]
Line_2 $$ public static NotaFiscal insert(NotaFiscal objNF) --> Line_9 $$ if (objNF == null) [FD]
Line_9 $$ if (objNF == null) --> Line_10 $$ return null [CD]
Line_3 $$ final Connection c = DBConnection.getConnection() --> Line_13 $$ c.setAutoCommit(false) [FD]
Line_15 $$ int idNotaFiscal --> Line_16 $$ idNotaFiscal = NotaFiscalDAO.getLastCodigo() [FD]
Line_15 $$ int idNotaFiscal --> Line_17 $$ if (idNotaFiscal < 1) [FD]
Line_16 $$ idNotaFiscal = NotaFiscalDAO.getLastCodigo() --> Line_17 $$ if (idNotaFiscal < 1) [FD]
Line_17 $$ if (idNotaFiscal < 1) --> Line_18 $$ return null [CD]
Line_14 $$ String sql = "" --> Line_20 $$ sql = "INSERT INTO nota_fiscal " + "(id_nota_fiscal, id_fornecedor, total, data_emissao, data_cadastro, numero) " + "VALUES(?, ?, TRUNCATE(?,2), STR_TO_DATE(?,'%d/%m/%Y'), now(), ?) " [FD]
Line_4 $$ PreparedStatement pst = null --> Line_21 $$ pst = c.prepareStatement(sql) [FD]
Line_3 $$ final Connection c = DBConnection.getConnection() --> Line_21 $$ pst = c.prepareStatement(sql) [FD]
Line_14 $$ String sql = "" --> Line_21 $$ pst = c.prepareStatement(sql) [FD]
Line_20 $$ sql = "INSERT INTO nota_fiscal " + "(id_nota_fiscal, id_fornecedor, total, data_emissao, data_cadastro, numero) " + "VALUES(?, ?, TRUNCATE(?,2), STR_TO_DATE(?,'%d/%m/%Y'), now(), ?) " --> Line_21 $$ pst = c.prepareStatement(sql) [FD]
Line_4 $$ PreparedStatement pst = null --> Line_22 $$ pst.setInt(1, idNotaFiscal) [FD]
Line_21 $$ pst = c.prepareStatement(sql) --> Line_22 $$ pst.setInt(1, idNotaFiscal) [FD]
Line_15 $$ int idNotaFiscal --> Line_22 $$ pst.setInt(1, idNotaFiscal) [FD]
Line_16 $$ idNotaFiscal = NotaFiscalDAO.getLastCodigo() --> Line_22 $$ pst.setInt(1, idNotaFiscal) [FD]
Line_4 $$ PreparedStatement pst = null --> Line_23 $$ pst.setLong(2, objNF.getFornecedor().getCodigo()) [FD]
Line_21 $$ pst = c.prepareStatement(sql) --> Line_23 $$ pst.setLong(2, objNF.getFornecedor().getCodigo()) [FD]
Line_2 $$ public static NotaFiscal insert(NotaFiscal objNF) --> Line_23 $$ pst.setLong(2, objNF.getFornecedor().getCodigo()) [FD]
Line_4 $$ PreparedStatement pst = null --> Line_24 $$ pst.setString(3, new DecimalFormat("#0.00").format(objNF.getValor())) [FD]
Line_21 $$ pst = c.prepareStatement(sql) --> Line_24 $$ pst.setString(3, new DecimalFormat("#0.00").format(objNF.getValor())) [FD]
Line_2 $$ public static NotaFiscal insert(NotaFiscal objNF) --> Line_24 $$ pst.setString(3, new DecimalFormat("#0.00").format(objNF.getValor())) [FD]
Line_4 $$ PreparedStatement pst = null --> Line_25 $$ pst.setString(4, objNF.getDataEmissaoFormatada()) [FD]
Line_21 $$ pst = c.prepareStatement(sql) --> Line_25 $$ pst.setString(4, objNF.getDataEmissaoFormatada()) [FD]
Line_2 $$ public static NotaFiscal insert(NotaFiscal objNF) --> Line_25 $$ pst.setString(4, objNF.getDataEmissaoFormatada()) [FD]
Line_4 $$ PreparedStatement pst = null --> Line_26 $$ pst.setString(5, objNF.getNumero()) [FD]
Line_21 $$ pst = c.prepareStatement(sql) --> Line_26 $$ pst.setString(5, objNF.getNumero()) [FD]
Line_2 $$ public static NotaFiscal insert(NotaFiscal objNF) --> Line_26 $$ pst.setString(5, objNF.getNumero()) [FD]
Line_5 $$ int result --> Line_27 $$ result = pst.executeUpdate() [FD]
Line_4 $$ PreparedStatement pst = null --> Line_27 $$ result = pst.executeUpdate() [FD]
Line_21 $$ pst = c.prepareStatement(sql) --> Line_27 $$ result = pst.executeUpdate() [FD]
Line_4 $$ PreparedStatement pst = null --> Line_28 $$ pst = null [FD]
Line_21 $$ pst = c.prepareStatement(sql) --> Line_28 $$ pst = null [FD]
Line_5 $$ int result --> Line_29 $$ if (result > 0) [FD]
Line_27 $$ result = pst.executeUpdate() --> Line_29 $$ if (result > 0) [FD]
Line_29 $$ if (result > 0) --> Line_30 $$ Iterator<ItemNotaFiscal> itINF = (objNF.getItemNotaFiscal()).iterator() [CD]
Line_2 $$ public static NotaFiscal insert(NotaFiscal objNF) --> Line_30 $$ Iterator<ItemNotaFiscal> itINF = (objNF.getItemNotaFiscal()).iterator() [FD]
Line_29 $$ if (result > 0) --> Line_31 $$ while ((itINF != null) && (itINF.hasNext())) [CD]
Line_30 $$ Iterator<ItemNotaFiscal> itINF = (objNF.getItemNotaFiscal()).iterator() --> Line_31 $$ while ((itINF != null) && (itINF.hasNext())) [FD]
Line_31 $$ while ((itINF != null) && (itINF.hasNext())) --> Line_32 $$ ItemNotaFiscal objINF = (ItemNotaFiscal) itINF.next() [CD]
Line_30 $$ Iterator<ItemNotaFiscal> itINF = (objNF.getItemNotaFiscal()).iterator() --> Line_32 $$ ItemNotaFiscal objINF = (ItemNotaFiscal) itINF.next() [FD]
Line_31 $$ while ((itINF != null) && (itINF.hasNext())) --> Line_33 $$ sql = "" [CD]
Line_14 $$ String sql = "" --> Line_33 $$ sql = "" [FD]
Line_20 $$ sql = "INSERT INTO nota_fiscal " + "(id_nota_fiscal, id_fornecedor, total, data_emissao, data_cadastro, numero) " + "VALUES(?, ?, TRUNCATE(?,2), STR_TO_DATE(?,'%d/%m/%Y'), now(), ?) " --> Line_33 $$ sql = "" [FD]
Line_31 $$ while ((itINF != null) && (itINF.hasNext())) --> Line_34 $$ sql = "INSERT INTO item_nota_fiscal " + "(id_nota_fiscal, id_produto, quantidade, subtotal) " + "VALUES(?, ?, ?, TRUNCATE(?,2))" [CD]
Line_33 $$ sql = "" --> Line_34 $$ sql = "INSERT INTO item_nota_fiscal " + "(id_nota_fiscal, id_produto, quantidade, subtotal) " + "VALUES(?, ?, ?, TRUNCATE(?,2))" [FD]
Line_14 $$ String sql = "" --> Line_34 $$ sql = "INSERT INTO item_nota_fiscal " + "(id_nota_fiscal, id_produto, quantidade, subtotal) " + "VALUES(?, ?, ?, TRUNCATE(?,2))" [FD]
Line_20 $$ sql = "INSERT INTO nota_fiscal " + "(id_nota_fiscal, id_fornecedor, total, data_emissao, data_cadastro, numero) " + "VALUES(?, ?, TRUNCATE(?,2), STR_TO_DATE(?,'%d/%m/%Y'), now(), ?) " --> Line_34 $$ sql = "INSERT INTO item_nota_fiscal " + "(id_nota_fiscal, id_produto, quantidade, subtotal) " + "VALUES(?, ?, ?, TRUNCATE(?,2))" [FD]
Line_31 $$ while ((itINF != null) && (itINF.hasNext())) --> Line_35 $$ pst = c.prepareStatement(sql) [CD]
Line_4 $$ PreparedStatement pst = null --> Line_35 $$ pst = c.prepareStatement(sql) [FD]
Line_21 $$ pst = c.prepareStatement(sql) --> Line_35 $$ pst = c.prepareStatement(sql) [FD]
Line_28 $$ pst = null --> Line_35 $$ pst = c.prepareStatement(sql) [FD]
Line_3 $$ final Connection c = DBConnection.getConnection() --> Line_35 $$ pst = c.prepareStatement(sql) [FD]
Line_33 $$ sql = "" --> Line_35 $$ pst = c.prepareStatement(sql) [FD]
Line_34 $$ sql = "INSERT INTO item_nota_fiscal " + "(id_nota_fiscal, id_produto, quantidade, subtotal) " + "VALUES(?, ?, ?, TRUNCATE(?,2))" --> Line_35 $$ pst = c.prepareStatement(sql) [FD]
Line_14 $$ String sql = "" --> Line_35 $$ pst = c.prepareStatement(sql) [FD]
Line_20 $$ sql = "INSERT INTO nota_fiscal " + "(id_nota_fiscal, id_fornecedor, total, data_emissao, data_cadastro, numero) " + "VALUES(?, ?, TRUNCATE(?,2), STR_TO_DATE(?,'%d/%m/%Y'), now(), ?) " --> Line_35 $$ pst = c.prepareStatement(sql) [FD]
Line_31 $$ while ((itINF != null) && (itINF.hasNext())) --> Line_36 $$ pst.setInt(1, idNotaFiscal) [CD]
Line_35 $$ pst = c.prepareStatement(sql) --> Line_36 $$ pst.setInt(1, idNotaFiscal) [FD]
Line_4 $$ PreparedStatement pst = null --> Line_36 $$ pst.setInt(1, idNotaFiscal) [FD]
Line_21 $$ pst = c.prepareStatement(sql) --> Line_36 $$ pst.setInt(1, idNotaFiscal) [FD]
Line_28 $$ pst = null --> Line_36 $$ pst.setInt(1, idNotaFiscal) [FD]
Line_15 $$ int idNotaFiscal --> Line_36 $$ pst.setInt(1, idNotaFiscal) [FD]
Line_16 $$ idNotaFiscal = NotaFiscalDAO.getLastCodigo() --> Line_36 $$ pst.setInt(1, idNotaFiscal) [FD]
Line_31 $$ while ((itINF != null) && (itINF.hasNext())) --> Line_37 $$ pst.setInt(2, objINF.getProduto().getCodigo()) [CD]
Line_35 $$ pst = c.prepareStatement(sql) --> Line_37 $$ pst.setInt(2, objINF.getProduto().getCodigo()) [FD]
Line_4 $$ PreparedStatement pst = null --> Line_37 $$ pst.setInt(2, objINF.getProduto().getCodigo()) [FD]
Line_21 $$ pst = c.prepareStatement(sql) --> Line_37 $$ pst.setInt(2, objINF.getProduto().getCodigo()) [FD]
Line_28 $$ pst = null --> Line_37 $$ pst.setInt(2, objINF.getProduto().getCodigo()) [FD]
Line_32 $$ ItemNotaFiscal objINF = (ItemNotaFiscal) itINF.next() --> Line_37 $$ pst.setInt(2, objINF.getProduto().getCodigo()) [FD]
Line_31 $$ while ((itINF != null) && (itINF.hasNext())) --> Line_38 $$ pst.setInt(3, objINF.getQuantidade()) [CD]
Line_35 $$ pst = c.prepareStatement(sql) --> Line_38 $$ pst.setInt(3, objINF.getQuantidade()) [FD]
Line_4 $$ PreparedStatement pst = null --> Line_38 $$ pst.setInt(3, objINF.getQuantidade()) [FD]
Line_21 $$ pst = c.prepareStatement(sql) --> Line_38 $$ pst.setInt(3, objINF.getQuantidade()) [FD]
Line_28 $$ pst = null --> Line_38 $$ pst.setInt(3, objINF.getQuantidade()) [FD]
Line_32 $$ ItemNotaFiscal objINF = (ItemNotaFiscal) itINF.next() --> Line_38 $$ pst.setInt(3, objINF.getQuantidade()) [FD]
Line_31 $$ while ((itINF != null) && (itINF.hasNext())) --> Line_39 $$ pst.setString(4, new DecimalFormat("#0.00").format(objINF.getSubtotal())) [CD]
Line_35 $$ pst = c.prepareStatement(sql) --> Line_39 $$ pst.setString(4, new DecimalFormat("#0.00").format(objINF.getSubtotal())) [FD]
Line_4 $$ PreparedStatement pst = null --> Line_39 $$ pst.setString(4, new DecimalFormat("#0.00").format(objINF.getSubtotal())) [FD]
Line_21 $$ pst = c.prepareStatement(sql) --> Line_39 $$ pst.setString(4, new DecimalFormat("#0.00").format(objINF.getSubtotal())) [FD]
Line_28 $$ pst = null --> Line_39 $$ pst.setString(4, new DecimalFormat("#0.00").format(objINF.getSubtotal())) [FD]
Line_32 $$ ItemNotaFiscal objINF = (ItemNotaFiscal) itINF.next() --> Line_39 $$ pst.setString(4, new DecimalFormat("#0.00").format(objINF.getSubtotal())) [FD]
Line_31 $$ while ((itINF != null) && (itINF.hasNext())) --> Line_40 $$ result = pst.executeUpdate() [CD]
Line_5 $$ int result --> Line_40 $$ result = pst.executeUpdate() [FD]
Line_27 $$ result = pst.executeUpdate() --> Line_40 $$ result = pst.executeUpdate() [FD]
Line_35 $$ pst = c.prepareStatement(sql) --> Line_40 $$ result = pst.executeUpdate() [FD]
Line_4 $$ PreparedStatement pst = null --> Line_40 $$ result = pst.executeUpdate() [FD]
Line_21 $$ pst = c.prepareStatement(sql) --> Line_40 $$ result = pst.executeUpdate() [FD]
Line_28 $$ pst = null --> Line_40 $$ result = pst.executeUpdate() [FD]
Line_3 $$ final Connection c = DBConnection.getConnection() --> Line_43 $$ c.commit() [FD]
Line_2 $$ public static NotaFiscal insert(NotaFiscal objNF) --> Line_44 $$ objNF.setCodigo(idNotaFiscal) [FD]
Line_15 $$ int idNotaFiscal --> Line_44 $$ objNF.setCodigo(idNotaFiscal) [FD]
Line_16 $$ idNotaFiscal = NotaFiscalDAO.getLastCodigo() --> Line_44 $$ objNF.setCodigo(idNotaFiscal) [FD]
Line_3 $$ final Connection c = DBConnection.getConnection() --> Line_47 $$ c.rollback() [FD]
Line_2 $$ public static NotaFiscal insert(NotaFiscal objNF) --> Line_52 $$ objNF = null [FD]
Line_35 $$ pst = c.prepareStatement(sql) --> Line_54 $$ DBConnection.closePreparedStatement(pst) [FD]
Line_4 $$ PreparedStatement pst = null --> Line_54 $$ DBConnection.closePreparedStatement(pst) [FD]
Line_21 $$ pst = c.prepareStatement(sql) --> Line_54 $$ DBConnection.closePreparedStatement(pst) [FD]
Line_28 $$ pst = null --> Line_54 $$ DBConnection.closePreparedStatement(pst) [FD]
Line_3 $$ final Connection c = DBConnection.getConnection() --> Line_55 $$ DBConnection.closeConnection(c) [FD]
Line_2 $$ public static NotaFiscal insert(NotaFiscal objNF) --> Line_57 $$ return objNF [CD]
