Line_2 $$ public int saveRoom(String name, String icon, String stringid) --> Line_3 $$ DBConnection con = null [CD]
Line_2 $$ public int saveRoom(String name, String icon, String stringid) --> Line_4 $$ int categoryId = -1 [CD]
Line_3 $$ DBConnection con = null --> Line_6 $$ con = DBServiceManager.allocateConnection() [FD]
Line_3 $$ DBConnection con = null --> Line_7 $$ con.setAutoCommit(false) [FD]
Line_6 $$ con = DBServiceManager.allocateConnection() --> Line_7 $$ con.setAutoCommit(false) [FD]
Line_3 $$ DBConnection con = null --> Line_9 $$ PreparedStatement ps = con.prepareStatement(query) [FD]
Line_6 $$ con = DBServiceManager.allocateConnection() --> Line_9 $$ PreparedStatement ps = con.prepareStatement(query) [FD]
Line_8 $$ String query = "INSERT INTO cafe_Chat_Category " + "(cafe_Chat_Category_pid,cafe_Chat_Category_name, cafe_Chat_Category_icon) " + "VALUES (null,?,?) " --> Line_9 $$ PreparedStatement ps = con.prepareStatement(query) [FD]
Line_9 $$ PreparedStatement ps = con.prepareStatement(query) --> Line_10 $$ ps.setString(1, name) [FD]
Line_2 $$ public int saveRoom(String name, String icon, String stringid) --> Line_10 $$ ps.setString(1, name) [FD]
Line_9 $$ PreparedStatement ps = con.prepareStatement(query) --> Line_11 $$ ps.setString(2, icon) [FD]
Line_2 $$ public int saveRoom(String name, String icon, String stringid) --> Line_11 $$ ps.setString(2, icon) [FD]
Line_9 $$ PreparedStatement ps = con.prepareStatement(query) --> Line_12 $$ ps.executeUpdate() [FD]
Line_8 $$ String query = "INSERT INTO cafe_Chat_Category " + "(cafe_Chat_Category_pid,cafe_Chat_Category_name, cafe_Chat_Category_icon) " + "VALUES (null,?,?) " --> Line_13 $$ query = "SELECT cafe_Chat_Category_id FROM cafe_Chat_Category " + "WHERE cafe_Chat_Category_name=? " [FD]
Line_9 $$ PreparedStatement ps = con.prepareStatement(query) --> Line_14 $$ ps = con.prepareStatement(query) [FD]
Line_3 $$ DBConnection con = null --> Line_14 $$ ps = con.prepareStatement(query) [FD]
Line_6 $$ con = DBServiceManager.allocateConnection() --> Line_14 $$ ps = con.prepareStatement(query) [FD]
Line_8 $$ String query = "INSERT INTO cafe_Chat_Category " + "(cafe_Chat_Category_pid,cafe_Chat_Category_name, cafe_Chat_Category_icon) " + "VALUES (null,?,?) " --> Line_14 $$ ps = con.prepareStatement(query) [FD]
Line_13 $$ query = "SELECT cafe_Chat_Category_id FROM cafe_Chat_Category " + "WHERE cafe_Chat_Category_name=? " --> Line_14 $$ ps = con.prepareStatement(query) [FD]
Line_9 $$ PreparedStatement ps = con.prepareStatement(query) --> Line_15 $$ ps.setString(1, name) [FD]
Line_14 $$ ps = con.prepareStatement(query) --> Line_15 $$ ps.setString(1, name) [FD]
Line_2 $$ public int saveRoom(String name, String icon, String stringid) --> Line_15 $$ ps.setString(1, name) [FD]
Line_9 $$ PreparedStatement ps = con.prepareStatement(query) --> Line_16 $$ ResultSet rs = ps.executeQuery() [FD]
Line_14 $$ ps = con.prepareStatement(query) --> Line_16 $$ ResultSet rs = ps.executeQuery() [FD]
Line_16 $$ ResultSet rs = ps.executeQuery() --> Line_17 $$ if (rs.next()) [FD]
Line_17 $$ if (rs.next()) --> Line_18 $$ query = "INSERT INTO cafe_Chatroom (cafe_chatroom_category, cafe_chatroom_name, cafe_chatroom_stringid) " + "VALUES (?,?,?) " [CD]
Line_8 $$ String query = "INSERT INTO cafe_Chat_Category " + "(cafe_Chat_Category_pid,cafe_Chat_Category_name, cafe_Chat_Category_icon) " + "VALUES (null,?,?) " --> Line_18 $$ query = "INSERT INTO cafe_Chatroom (cafe_chatroom_category, cafe_chatroom_name, cafe_chatroom_stringid) " + "VALUES (?,?,?) " [FD]
Line_13 $$ query = "SELECT cafe_Chat_Category_id FROM cafe_Chat_Category " + "WHERE cafe_Chat_Category_name=? " --> Line_18 $$ query = "INSERT INTO cafe_Chatroom (cafe_chatroom_category, cafe_chatroom_name, cafe_chatroom_stringid) " + "VALUES (?,?,?) " [FD]
Line_17 $$ if (rs.next()) --> Line_19 $$ ps = con.prepareStatement(query) [CD]
Line_9 $$ PreparedStatement ps = con.prepareStatement(query) --> Line_19 $$ ps = con.prepareStatement(query) [FD]
Line_14 $$ ps = con.prepareStatement(query) --> Line_19 $$ ps = con.prepareStatement(query) [FD]
Line_3 $$ DBConnection con = null --> Line_19 $$ ps = con.prepareStatement(query) [FD]
Line_6 $$ con = DBServiceManager.allocateConnection() --> Line_19 $$ ps = con.prepareStatement(query) [FD]
Line_8 $$ String query = "INSERT INTO cafe_Chat_Category " + "(cafe_Chat_Category_pid,cafe_Chat_Category_name, cafe_Chat_Category_icon) " + "VALUES (null,?,?) " --> Line_19 $$ ps = con.prepareStatement(query) [FD]
Line_13 $$ query = "SELECT cafe_Chat_Category_id FROM cafe_Chat_Category " + "WHERE cafe_Chat_Category_name=? " --> Line_19 $$ ps = con.prepareStatement(query) [FD]
Line_18 $$ query = "INSERT INTO cafe_Chatroom (cafe_chatroom_category, cafe_chatroom_name, cafe_chatroom_stringid) " + "VALUES (?,?,?) " --> Line_19 $$ ps = con.prepareStatement(query) [FD]
Line_17 $$ if (rs.next()) --> Line_20 $$ ps.setInt(1, rs.getInt("cafe_Chat_Category_id")) [CD]
Line_9 $$ PreparedStatement ps = con.prepareStatement(query) --> Line_20 $$ ps.setInt(1, rs.getInt("cafe_Chat_Category_id")) [FD]
Line_14 $$ ps = con.prepareStatement(query) --> Line_20 $$ ps.setInt(1, rs.getInt("cafe_Chat_Category_id")) [FD]
Line_19 $$ ps = con.prepareStatement(query) --> Line_20 $$ ps.setInt(1, rs.getInt("cafe_Chat_Category_id")) [FD]
Line_16 $$ ResultSet rs = ps.executeQuery() --> Line_20 $$ ps.setInt(1, rs.getInt("cafe_Chat_Category_id")) [FD]
Line_17 $$ if (rs.next()) --> Line_21 $$ categoryId = rs.getInt("cafe_Chat_Category_id") [CD]
Line_4 $$ int categoryId = -1 --> Line_21 $$ categoryId = rs.getInt("cafe_Chat_Category_id") [FD]
Line_16 $$ ResultSet rs = ps.executeQuery() --> Line_21 $$ categoryId = rs.getInt("cafe_Chat_Category_id") [FD]
Line_17 $$ if (rs.next()) --> Line_22 $$ ps.setString(2, name) [CD]
Line_9 $$ PreparedStatement ps = con.prepareStatement(query) --> Line_22 $$ ps.setString(2, name) [FD]
Line_14 $$ ps = con.prepareStatement(query) --> Line_22 $$ ps.setString(2, name) [FD]
Line_19 $$ ps = con.prepareStatement(query) --> Line_22 $$ ps.setString(2, name) [FD]
Line_2 $$ public int saveRoom(String name, String icon, String stringid) --> Line_22 $$ ps.setString(2, name) [FD]
Line_17 $$ if (rs.next()) --> Line_23 $$ ps.setString(3, stringid) [CD]
Line_9 $$ PreparedStatement ps = con.prepareStatement(query) --> Line_23 $$ ps.setString(3, stringid) [FD]
Line_14 $$ ps = con.prepareStatement(query) --> Line_23 $$ ps.setString(3, stringid) [FD]
Line_19 $$ ps = con.prepareStatement(query) --> Line_23 $$ ps.setString(3, stringid) [FD]
Line_2 $$ public int saveRoom(String name, String icon, String stringid) --> Line_23 $$ ps.setString(3, stringid) [FD]
Line_17 $$ if (rs.next()) --> Line_24 $$ ps.executeUpdate() [CD]
Line_9 $$ PreparedStatement ps = con.prepareStatement(query) --> Line_24 $$ ps.executeUpdate() [FD]
Line_14 $$ ps = con.prepareStatement(query) --> Line_24 $$ ps.executeUpdate() [FD]
Line_19 $$ ps = con.prepareStatement(query) --> Line_24 $$ ps.executeUpdate() [FD]
Line_3 $$ DBConnection con = null --> Line_26 $$ con.commit() [FD]
Line_6 $$ con = DBServiceManager.allocateConnection() --> Line_26 $$ con.commit() [FD]
Line_3 $$ DBConnection con = null --> Line_27 $$ con.setAutoCommit(true) [FD]
Line_6 $$ con = DBServiceManager.allocateConnection() --> Line_27 $$ con.setAutoCommit(true) [FD]
Line_3 $$ DBConnection con = null --> Line_30 $$ con.rollback() [FD]
Line_6 $$ con = DBServiceManager.allocateConnection() --> Line_30 $$ con.rollback() [FD]
Line_3 $$ DBConnection con = null --> Line_34 $$ if (con != null) [FD]
Line_6 $$ con = DBServiceManager.allocateConnection() --> Line_34 $$ if (con != null) [FD]
Line_2 $$ public int saveRoom(String name, String icon, String stringid) --> Line_36 $$ return categoryId [CD]
