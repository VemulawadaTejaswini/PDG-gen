Line_2 $$ public SysSequences getSeqs(String tableName) throws SQLException --> Line_3 $$ SysSequences seq = new SysSequences() [CD]
Line_2 $$ public SysSequences getSeqs(String tableName) throws SQLException --> Line_4 $$ if (tableName == null || tableName.trim().equals("")) [CD]
Line_2 $$ public SysSequences getSeqs(String tableName) throws SQLException --> Line_4 $$ if (tableName == null || tableName.trim().equals("")) [FD]
Line_2 $$ public SysSequences getSeqs(String tableName) throws SQLException --> Line_5 $$ Connection conn = null [CD]
Line_5 $$ Connection conn = null --> Line_7 $$ conn = ConnectUtil.getConnect() [FD]
Line_5 $$ Connection conn = null --> Line_8 $$ conn.setAutoCommit(false) [FD]
Line_7 $$ conn = ConnectUtil.getConnect() --> Line_8 $$ conn.setAutoCommit(false) [FD]
Line_5 $$ Connection conn = null --> Line_9 $$ PreparedStatement ps = conn.prepareStatement("update ss_sys_sequences set next_value=next_value+step_value where table_name='" + tableName + "'") [FD]
Line_7 $$ conn = ConnectUtil.getConnect() --> Line_9 $$ PreparedStatement ps = conn.prepareStatement("update ss_sys_sequences set next_value=next_value+step_value where table_name='" + tableName + "'") [FD]
Line_9 $$ PreparedStatement ps = conn.prepareStatement("update ss_sys_sequences set next_value=next_value+step_value where table_name='" + tableName + "'") --> Line_10 $$ ps.executeUpdate() [FD]
Line_9 $$ PreparedStatement ps = conn.prepareStatement("update ss_sys_sequences set next_value=next_value+step_value where table_name='" + tableName + "'") --> Line_11 $$ ps.close() [FD]
Line_9 $$ PreparedStatement ps = conn.prepareStatement("update ss_sys_sequences set next_value=next_value+step_value where table_name='" + tableName + "'") --> Line_12 $$ ps = conn.prepareStatement("select * from ss_sys_sequences where table_name='" + tableName + "'") [FD]
Line_5 $$ Connection conn = null --> Line_12 $$ ps = conn.prepareStatement("select * from ss_sys_sequences where table_name='" + tableName + "'") [FD]
Line_7 $$ conn = ConnectUtil.getConnect() --> Line_12 $$ ps = conn.prepareStatement("select * from ss_sys_sequences where table_name='" + tableName + "'") [FD]
Line_9 $$ PreparedStatement ps = conn.prepareStatement("update ss_sys_sequences set next_value=next_value+step_value where table_name='" + tableName + "'") --> Line_13 $$ ResultSet rs = ps.executeQuery() [FD]
Line_12 $$ ps = conn.prepareStatement("select * from ss_sys_sequences where table_name='" + tableName + "'") --> Line_13 $$ ResultSet rs = ps.executeQuery() [FD]
Line_13 $$ ResultSet rs = ps.executeQuery() --> Line_14 $$ while (rs.next()) [FD]
Line_14 $$ while (rs.next()) --> Line_15 $$ long nextValue = rs.getLong(2) [CD]
Line_13 $$ ResultSet rs = ps.executeQuery() --> Line_15 $$ long nextValue = rs.getLong(2) [FD]
Line_14 $$ while (rs.next()) --> Line_16 $$ long stepValue = rs.getLong(3) [CD]
Line_13 $$ ResultSet rs = ps.executeQuery() --> Line_16 $$ long stepValue = rs.getLong(3) [FD]
Line_14 $$ while (rs.next()) --> Line_17 $$ seq.setTableName(tableName) [CD]
Line_3 $$ SysSequences seq = new SysSequences() --> Line_17 $$ seq.setTableName(tableName) [FD]
Line_2 $$ public SysSequences getSeqs(String tableName) throws SQLException --> Line_17 $$ seq.setTableName(tableName) [FD]
Line_14 $$ while (rs.next()) --> Line_18 $$ seq.setNextValue(nextValue - stepValue + 1) [CD]
Line_3 $$ SysSequences seq = new SysSequences() --> Line_18 $$ seq.setNextValue(nextValue - stepValue + 1) [FD]
Line_14 $$ while (rs.next()) --> Line_19 $$ seq.setStepValue(stepValue) [CD]
Line_3 $$ SysSequences seq = new SysSequences() --> Line_19 $$ seq.setStepValue(stepValue) [FD]
Line_16 $$ long stepValue = rs.getLong(3) --> Line_19 $$ seq.setStepValue(stepValue) [FD]
Line_13 $$ ResultSet rs = ps.executeQuery() --> Line_21 $$ rs.close() [FD]
Line_9 $$ PreparedStatement ps = conn.prepareStatement("update ss_sys_sequences set next_value=next_value+step_value where table_name='" + tableName + "'") --> Line_22 $$ ps.close() [FD]
Line_12 $$ ps = conn.prepareStatement("select * from ss_sys_sequences where table_name='" + tableName + "'") --> Line_22 $$ ps.close() [FD]
Line_3 $$ SysSequences seq = new SysSequences() --> Line_23 $$ if (seq.getTableName() == null) [FD]
Line_23 $$ if (seq.getTableName() == null) --> Line_24 $$ ps = conn.prepareStatement("insert into ss_sys_sequences values('" + tableName + "'," + (Constants.DEFAULT_CURR_VALUE + Constants.DEFAULT_STEP_VALUE) + "," + Constants.DEFAULT_STEP_VALUE + ")") [CD]
Line_9 $$ PreparedStatement ps = conn.prepareStatement("update ss_sys_sequences set next_value=next_value+step_value where table_name='" + tableName + "'") --> Line_24 $$ ps = conn.prepareStatement("insert into ss_sys_sequences values('" + tableName + "'," + (Constants.DEFAULT_CURR_VALUE + Constants.DEFAULT_STEP_VALUE) + "," + Constants.DEFAULT_STEP_VALUE + ")") [FD]
Line_12 $$ ps = conn.prepareStatement("select * from ss_sys_sequences where table_name='" + tableName + "'") --> Line_24 $$ ps = conn.prepareStatement("insert into ss_sys_sequences values('" + tableName + "'," + (Constants.DEFAULT_CURR_VALUE + Constants.DEFAULT_STEP_VALUE) + "," + Constants.DEFAULT_STEP_VALUE + ")") [FD]
Line_5 $$ Connection conn = null --> Line_24 $$ ps = conn.prepareStatement("insert into ss_sys_sequences values('" + tableName + "'," + (Constants.DEFAULT_CURR_VALUE + Constants.DEFAULT_STEP_VALUE) + "," + Constants.DEFAULT_STEP_VALUE + ")") [FD]
Line_7 $$ conn = ConnectUtil.getConnect() --> Line_24 $$ ps = conn.prepareStatement("insert into ss_sys_sequences values('" + tableName + "'," + (Constants.DEFAULT_CURR_VALUE + Constants.DEFAULT_STEP_VALUE) + "," + Constants.DEFAULT_STEP_VALUE + ")") [FD]
Line_23 $$ if (seq.getTableName() == null) --> Line_25 $$ ps.executeUpdate() [CD]
Line_9 $$ PreparedStatement ps = conn.prepareStatement("update ss_sys_sequences set next_value=next_value+step_value where table_name='" + tableName + "'") --> Line_25 $$ ps.executeUpdate() [FD]
Line_12 $$ ps = conn.prepareStatement("select * from ss_sys_sequences where table_name='" + tableName + "'") --> Line_25 $$ ps.executeUpdate() [FD]
Line_24 $$ ps = conn.prepareStatement("insert into ss_sys_sequences values('" + tableName + "'," + (Constants.DEFAULT_CURR_VALUE + Constants.DEFAULT_STEP_VALUE) + "," + Constants.DEFAULT_STEP_VALUE + ")") --> Line_25 $$ ps.executeUpdate() [FD]
Line_23 $$ if (seq.getTableName() == null) --> Line_26 $$ ps.close() [CD]
Line_9 $$ PreparedStatement ps = conn.prepareStatement("update ss_sys_sequences set next_value=next_value+step_value where table_name='" + tableName + "'") --> Line_26 $$ ps.close() [FD]
Line_12 $$ ps = conn.prepareStatement("select * from ss_sys_sequences where table_name='" + tableName + "'") --> Line_26 $$ ps.close() [FD]
Line_24 $$ ps = conn.prepareStatement("insert into ss_sys_sequences values('" + tableName + "'," + (Constants.DEFAULT_CURR_VALUE + Constants.DEFAULT_STEP_VALUE) + "," + Constants.DEFAULT_STEP_VALUE + ")") --> Line_26 $$ ps.close() [FD]
Line_23 $$ if (seq.getTableName() == null) --> Line_27 $$ seq.setTableName(tableName) [CD]
Line_3 $$ SysSequences seq = new SysSequences() --> Line_27 $$ seq.setTableName(tableName) [FD]
Line_2 $$ public SysSequences getSeqs(String tableName) throws SQLException --> Line_27 $$ seq.setTableName(tableName) [FD]
Line_23 $$ if (seq.getTableName() == null) --> Line_28 $$ seq.setNextValue(Constants.DEFAULT_CURR_VALUE + 1) [CD]
Line_3 $$ SysSequences seq = new SysSequences() --> Line_28 $$ seq.setNextValue(Constants.DEFAULT_CURR_VALUE + 1) [FD]
Line_23 $$ if (seq.getTableName() == null) --> Line_29 $$ seq.setStepValue(Constants.DEFAULT_STEP_VALUE) [CD]
Line_3 $$ SysSequences seq = new SysSequences() --> Line_29 $$ seq.setStepValue(Constants.DEFAULT_STEP_VALUE) [FD]
Line_5 $$ Connection conn = null --> Line_31 $$ conn.commit() [FD]
Line_7 $$ conn = ConnectUtil.getConnect() --> Line_31 $$ conn.commit() [FD]
Line_5 $$ Connection conn = null --> Line_33 $$ conn.rollback() [FD]
Line_7 $$ conn = ConnectUtil.getConnect() --> Line_33 $$ conn.rollback() [FD]
Line_5 $$ Connection conn = null --> Line_37 $$ conn.setAutoCommit(true) [FD]
Line_7 $$ conn = ConnectUtil.getConnect() --> Line_37 $$ conn.setAutoCommit(true) [FD]
Line_5 $$ Connection conn = null --> Line_40 $$ ConnectUtil.closeConn(conn) [FD]
Line_7 $$ conn = ConnectUtil.getConnect() --> Line_40 $$ ConnectUtil.closeConn(conn) [FD]
Line_2 $$ public SysSequences getSeqs(String tableName) throws SQLException --> Line_42 $$ return seq [CD]
