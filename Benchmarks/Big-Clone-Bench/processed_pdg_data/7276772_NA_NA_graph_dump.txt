Line_2 $$ public void testBlobB() --> Line_3 $$ ResultSet rs [CD]
Line_2 $$ public void testBlobB() --> Line_4 $$ byte[] ba [CD]
Line_2 $$ public void testBlobB() --> Line_5 $$ byte[] baR1 = new byte[] [CD]
Line_2 $$ public void testBlobB() --> Line_6 $$ byte[] baR2 = new byte[] [CD]
Line_9 $$ Statement st = connection.createStatement() --> Line_10 $$ st.executeUpdate("DROP TABLE blo IF EXISTS") [FD]
Line_9 $$ Statement st = connection.createStatement() --> Line_11 $$ st.executeUpdate("CREATE TABLE blo (id INTEGER, b blob( 100))") [FD]
Line_12 $$ PreparedStatement ps = connection.prepareStatement("INSERT INTO blo(id, b) values(2, ?)") --> Line_13 $$ ps.setBlob(1, new SerialBlob(baR1)) [FD]
Line_12 $$ PreparedStatement ps = connection.prepareStatement("INSERT INTO blo(id, b) values(2, ?)") --> Line_14 $$ ps.executeUpdate() [FD]
Line_3 $$ ResultSet rs --> Line_15 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") [FD]
Line_9 $$ Statement st = connection.createStatement() --> Line_15 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") [FD]
Line_3 $$ ResultSet rs --> Line_16 $$ if (!rs.next()) [FD]
Line_15 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_16 $$ if (!rs.next()) [FD]
Line_16 $$ if (!rs.next()) --> Line_17 $$ assertTrue("No row with id 2", false) [CD]
Line_3 $$ ResultSet rs --> Line_19 $$ java.sql.Blob blob1 = rs.getBlob("b") [FD]
Line_15 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_19 $$ java.sql.Blob blob1 = rs.getBlob("b") [FD]
Line_19 $$ java.sql.Blob blob1 = rs.getBlob("b") --> Line_20 $$ System.out.println("Size of retrieved blob: " + blob1.length()) [FD]
Line_19 $$ java.sql.Blob blob1 = rs.getBlob("b") --> Line_21 $$ byte[] baOut = blob1.getBytes(1, (int) blob1.length()) [FD]
Line_22 $$ if (baOut.length != baR1.length) --> Line_23 $$ assertTrue("Expected array len " + baR1.length + ", got len " + baOut.length, false) [CD]
Line_25 $$ for (int i = 0; i < baOut.length; i++) --> Line_26 $$ if (baOut[i] != baR1[i]) [CD]
Line_26 $$ if (baOut[i] != baR1[i]) --> Line_27 $$ assertTrue("Expected array len " + baR1.length + ", got len " + baOut.length, false) [CD]
Line_3 $$ ResultSet rs --> Line_30 $$ rs.close() [FD]
Line_15 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_30 $$ rs.close() [FD]
Line_3 $$ ResultSet rs --> Line_31 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") [FD]
Line_15 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_31 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") [FD]
Line_9 $$ Statement st = connection.createStatement() --> Line_31 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") [FD]
Line_3 $$ ResultSet rs --> Line_32 $$ if (!rs.next()) [FD]
Line_15 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_32 $$ if (!rs.next()) [FD]
Line_31 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_32 $$ if (!rs.next()) [FD]
Line_32 $$ if (!rs.next()) --> Line_33 $$ assertTrue("No row with id 2", false) [CD]
Line_19 $$ java.sql.Blob blob1 = rs.getBlob("b") --> Line_35 $$ blob1 = rs.getBlob("b") [FD]
Line_3 $$ ResultSet rs --> Line_35 $$ blob1 = rs.getBlob("b") [FD]
Line_15 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_35 $$ blob1 = rs.getBlob("b") [FD]
Line_31 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_35 $$ blob1 = rs.getBlob("b") [FD]
Line_4 $$ byte[] ba --> Line_36 $$ ba = blob1.getBytes(1, baR2.length) [FD]
Line_19 $$ java.sql.Blob blob1 = rs.getBlob("b") --> Line_36 $$ ba = blob1.getBytes(1, baR2.length) [FD]
Line_35 $$ blob1 = rs.getBlob("b") --> Line_36 $$ ba = blob1.getBytes(1, baR2.length) [FD]
Line_37 $$ if (ba.length != baR2.length) --> Line_38 $$ assertTrue("row2 byte length differs", false) [CD]
Line_25 $$ for (int i = 0; i < baOut.length; i++) --> Line_40 $$ for (int i = 0; i < ba.length; i++) [FD]
Line_40 $$ for (int i = 0; i < ba.length; i++) --> Line_41 $$ if (ba[i] != baR1[i]) [CD]
Line_41 $$ if (ba[i] != baR1[i]) --> Line_42 $$ assertTrue("row2 byte " + i + " differs", false) [CD]
Line_3 $$ ResultSet rs --> Line_45 $$ rs.close() [FD]
Line_15 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_45 $$ rs.close() [FD]
Line_31 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_45 $$ rs.close() [FD]
Line_12 $$ PreparedStatement ps = connection.prepareStatement("INSERT INTO blo(id, b) values(2, ?)") --> Line_47 $$ ps.setBinaryStream(1, new HsqlByteArrayInputStream(baR1), baR1.length) [FD]
Line_12 $$ PreparedStatement ps = connection.prepareStatement("INSERT INTO blo(id, b) values(2, ?)") --> Line_48 $$ ps.executeUpdate() [FD]
Line_3 $$ ResultSet rs --> Line_49 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") [FD]
Line_15 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_49 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") [FD]
Line_31 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_49 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") [FD]
Line_9 $$ Statement st = connection.createStatement() --> Line_49 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") [FD]
Line_3 $$ ResultSet rs --> Line_50 $$ if (!rs.next()) [FD]
Line_15 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_50 $$ if (!rs.next()) [FD]
Line_31 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_50 $$ if (!rs.next()) [FD]
Line_49 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_50 $$ if (!rs.next()) [FD]
Line_50 $$ if (!rs.next()) --> Line_51 $$ assertTrue("No row with id 2", false) [CD]
Line_19 $$ java.sql.Blob blob1 = rs.getBlob("b") --> Line_53 $$ blob1 = rs.getBlob("b") [FD]
Line_35 $$ blob1 = rs.getBlob("b") --> Line_53 $$ blob1 = rs.getBlob("b") [FD]
Line_3 $$ ResultSet rs --> Line_53 $$ blob1 = rs.getBlob("b") [FD]
Line_15 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_53 $$ blob1 = rs.getBlob("b") [FD]
Line_31 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_53 $$ blob1 = rs.getBlob("b") [FD]
Line_49 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_53 $$ blob1 = rs.getBlob("b") [FD]
Line_19 $$ java.sql.Blob blob1 = rs.getBlob("b") --> Line_54 $$ System.out.println("Size of retrieved blob: " + blob1.length()) [FD]
Line_35 $$ blob1 = rs.getBlob("b") --> Line_54 $$ System.out.println("Size of retrieved blob: " + blob1.length()) [FD]
Line_53 $$ blob1 = rs.getBlob("b") --> Line_54 $$ System.out.println("Size of retrieved blob: " + blob1.length()) [FD]
Line_21 $$ byte[] baOut = blob1.getBytes(1, (int) blob1.length()) --> Line_55 $$ baOut = blob1.getBytes(1, (int) blob1.length()) [FD]
Line_19 $$ java.sql.Blob blob1 = rs.getBlob("b") --> Line_55 $$ baOut = blob1.getBytes(1, (int) blob1.length()) [FD]
Line_35 $$ blob1 = rs.getBlob("b") --> Line_55 $$ baOut = blob1.getBytes(1, (int) blob1.length()) [FD]
Line_53 $$ blob1 = rs.getBlob("b") --> Line_55 $$ baOut = blob1.getBytes(1, (int) blob1.length()) [FD]
Line_56 $$ if (baOut.length != baR1.length) --> Line_57 $$ assertTrue("Expected array len " + baR1.length + ", got len " + baOut.length, false) [CD]
Line_40 $$ for (int i = 0; i < ba.length; i++) --> Line_59 $$ for (int i = 0; i < baOut.length; i++) [FD]
Line_25 $$ for (int i = 0; i < baOut.length; i++) --> Line_59 $$ for (int i = 0; i < baOut.length; i++) [FD]
Line_59 $$ for (int i = 0; i < baOut.length; i++) --> Line_60 $$ if (baOut[i] != baR1[i]) [CD]
Line_60 $$ if (baOut[i] != baR1[i]) --> Line_61 $$ assertTrue("Expected array len " + baR1.length + ", got len " + baOut.length, false) [CD]
Line_3 $$ ResultSet rs --> Line_64 $$ rs.close() [FD]
Line_15 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_64 $$ rs.close() [FD]
Line_31 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_64 $$ rs.close() [FD]
Line_49 $$ rs = st.executeQuery("SELECT b FROM blo WHERE id = 2") --> Line_64 $$ rs.close() [FD]
