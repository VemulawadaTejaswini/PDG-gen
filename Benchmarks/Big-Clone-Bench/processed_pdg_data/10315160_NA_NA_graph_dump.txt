Line_2 $$ public void saveSharedFiles(List<FrostSharedFileItem> sfFiles) throws SQLException --> Line_3 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection() [CD]
Line_3 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection() --> Line_5 $$ conn.setAutoCommit(false) [FD]
Line_3 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection() --> Line_6 $$ Statement s = conn.createStatement() [FD]
Line_6 $$ Statement s = conn.createStatement() --> Line_7 $$ s.executeUpdate("DELETE FROM SHAREDFILES") [FD]
Line_6 $$ Statement s = conn.createStatement() --> Line_8 $$ s.close() [FD]
Line_6 $$ Statement s = conn.createStatement() --> Line_9 $$ s = null [FD]
Line_3 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection() --> Line_10 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO SHAREDFILES (" + "path,size,fnkey,sha,owner,comment,rating,keywords," + "lastuploaded,uploadcount,reflastsent,requestlastreceived,requestsreceivedcount,lastmodified) " + "VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") [FD]
Line_2 $$ public void saveSharedFiles(List<FrostSharedFileItem> sfFiles) throws SQLException --> Line_11 $$ for (Iterator<FrostSharedFileItem> i = sfFiles.iterator(); i.hasNext(); ) [FD]
Line_11 $$ for (Iterator<FrostSharedFileItem> i = sfFiles.iterator(); i.hasNext(); ) --> Line_12 $$ FrostSharedFileItem sfItem = i.next() [CD]
Line_11 $$ for (Iterator<FrostSharedFileItem> i = sfFiles.iterator(); i.hasNext(); ) --> Line_12 $$ FrostSharedFileItem sfItem = i.next() [FD]
Line_11 $$ for (Iterator<FrostSharedFileItem> i = sfFiles.iterator(); i.hasNext(); ) --> Line_13 $$ int ix = 1 [CD]
Line_11 $$ for (Iterator<FrostSharedFileItem> i = sfFiles.iterator(); i.hasNext(); ) --> Line_14 $$ ps.setString(ix++, sfItem.getFile().getPath()) [CD]
Line_10 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO SHAREDFILES (" + "path,size,fnkey,sha,owner,comment,rating,keywords," + "lastuploaded,uploadcount,reflastsent,requestlastreceived,requestsreceivedcount,lastmodified) " + "VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_14 $$ ps.setString(ix++, sfItem.getFile().getPath()) [FD]
Line_13 $$ int ix = 1 --> Line_14 $$ ps.setString(ix++, sfItem.getFile().getPath()) [FD]
Line_12 $$ FrostSharedFileItem sfItem = i.next() --> Line_14 $$ ps.setString(ix++, sfItem.getFile().getPath()) [FD]
Line_11 $$ for (Iterator<FrostSharedFileItem> i = sfFiles.iterator(); i.hasNext(); ) --> Line_15 $$ ps.setLong(ix++, sfItem.getFileSize()) [CD]
Line_10 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO SHAREDFILES (" + "path,size,fnkey,sha,owner,comment,rating,keywords," + "lastuploaded,uploadcount,reflastsent,requestlastreceived,requestsreceivedcount,lastmodified) " + "VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_15 $$ ps.setLong(ix++, sfItem.getFileSize()) [FD]
Line_13 $$ int ix = 1 --> Line_15 $$ ps.setLong(ix++, sfItem.getFileSize()) [FD]
Line_12 $$ FrostSharedFileItem sfItem = i.next() --> Line_15 $$ ps.setLong(ix++, sfItem.getFileSize()) [FD]
Line_11 $$ for (Iterator<FrostSharedFileItem> i = sfFiles.iterator(); i.hasNext(); ) --> Line_16 $$ ps.setString(ix++, sfItem.getChkKey()) [CD]
Line_10 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO SHAREDFILES (" + "path,size,fnkey,sha,owner,comment,rating,keywords," + "lastuploaded,uploadcount,reflastsent,requestlastreceived,requestsreceivedcount,lastmodified) " + "VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_16 $$ ps.setString(ix++, sfItem.getChkKey()) [FD]
Line_13 $$ int ix = 1 --> Line_16 $$ ps.setString(ix++, sfItem.getChkKey()) [FD]
Line_12 $$ FrostSharedFileItem sfItem = i.next() --> Line_16 $$ ps.setString(ix++, sfItem.getChkKey()) [FD]
Line_11 $$ for (Iterator<FrostSharedFileItem> i = sfFiles.iterator(); i.hasNext(); ) --> Line_17 $$ ps.setString(ix++, sfItem.getSha()) [CD]
Line_10 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO SHAREDFILES (" + "path,size,fnkey,sha,owner,comment,rating,keywords," + "lastuploaded,uploadcount,reflastsent,requestlastreceived,requestsreceivedcount,lastmodified) " + "VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_17 $$ ps.setString(ix++, sfItem.getSha()) [FD]
Line_13 $$ int ix = 1 --> Line_17 $$ ps.setString(ix++, sfItem.getSha()) [FD]
Line_12 $$ FrostSharedFileItem sfItem = i.next() --> Line_17 $$ ps.setString(ix++, sfItem.getSha()) [FD]
Line_11 $$ for (Iterator<FrostSharedFileItem> i = sfFiles.iterator(); i.hasNext(); ) --> Line_18 $$ ps.setString(ix++, sfItem.getOwner()) [CD]
Line_10 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO SHAREDFILES (" + "path,size,fnkey,sha,owner,comment,rating,keywords," + "lastuploaded,uploadcount,reflastsent,requestlastreceived,requestsreceivedcount,lastmodified) " + "VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_18 $$ ps.setString(ix++, sfItem.getOwner()) [FD]
Line_13 $$ int ix = 1 --> Line_18 $$ ps.setString(ix++, sfItem.getOwner()) [FD]
Line_12 $$ FrostSharedFileItem sfItem = i.next() --> Line_18 $$ ps.setString(ix++, sfItem.getOwner()) [FD]
Line_11 $$ for (Iterator<FrostSharedFileItem> i = sfFiles.iterator(); i.hasNext(); ) --> Line_19 $$ ps.setString(ix++, sfItem.getComment()) [CD]
Line_10 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO SHAREDFILES (" + "path,size,fnkey,sha,owner,comment,rating,keywords," + "lastuploaded,uploadcount,reflastsent,requestlastreceived,requestsreceivedcount,lastmodified) " + "VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_19 $$ ps.setString(ix++, sfItem.getComment()) [FD]
Line_13 $$ int ix = 1 --> Line_19 $$ ps.setString(ix++, sfItem.getComment()) [FD]
Line_12 $$ FrostSharedFileItem sfItem = i.next() --> Line_19 $$ ps.setString(ix++, sfItem.getComment()) [FD]
Line_11 $$ for (Iterator<FrostSharedFileItem> i = sfFiles.iterator(); i.hasNext(); ) --> Line_20 $$ ps.setInt(ix++, sfItem.getRating()) [CD]
Line_10 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO SHAREDFILES (" + "path,size,fnkey,sha,owner,comment,rating,keywords," + "lastuploaded,uploadcount,reflastsent,requestlastreceived,requestsreceivedcount,lastmodified) " + "VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_20 $$ ps.setInt(ix++, sfItem.getRating()) [FD]
Line_13 $$ int ix = 1 --> Line_20 $$ ps.setInt(ix++, sfItem.getRating()) [FD]
Line_12 $$ FrostSharedFileItem sfItem = i.next() --> Line_20 $$ ps.setInt(ix++, sfItem.getRating()) [FD]
Line_11 $$ for (Iterator<FrostSharedFileItem> i = sfFiles.iterator(); i.hasNext(); ) --> Line_21 $$ ps.setString(ix++, sfItem.getKeywords()) [CD]
Line_10 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO SHAREDFILES (" + "path,size,fnkey,sha,owner,comment,rating,keywords," + "lastuploaded,uploadcount,reflastsent,requestlastreceived,requestsreceivedcount,lastmodified) " + "VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_21 $$ ps.setString(ix++, sfItem.getKeywords()) [FD]
Line_13 $$ int ix = 1 --> Line_21 $$ ps.setString(ix++, sfItem.getKeywords()) [FD]
Line_12 $$ FrostSharedFileItem sfItem = i.next() --> Line_21 $$ ps.setString(ix++, sfItem.getKeywords()) [FD]
Line_11 $$ for (Iterator<FrostSharedFileItem> i = sfFiles.iterator(); i.hasNext(); ) --> Line_22 $$ ps.setLong(ix++, sfItem.getLastUploaded()) [CD]
Line_10 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO SHAREDFILES (" + "path,size,fnkey,sha,owner,comment,rating,keywords," + "lastuploaded,uploadcount,reflastsent,requestlastreceived,requestsreceivedcount,lastmodified) " + "VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_22 $$ ps.setLong(ix++, sfItem.getLastUploaded()) [FD]
Line_13 $$ int ix = 1 --> Line_22 $$ ps.setLong(ix++, sfItem.getLastUploaded()) [FD]
Line_12 $$ FrostSharedFileItem sfItem = i.next() --> Line_22 $$ ps.setLong(ix++, sfItem.getLastUploaded()) [FD]
Line_11 $$ for (Iterator<FrostSharedFileItem> i = sfFiles.iterator(); i.hasNext(); ) --> Line_23 $$ ps.setInt(ix++, sfItem.getUploadCount()) [CD]
Line_10 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO SHAREDFILES (" + "path,size,fnkey,sha,owner,comment,rating,keywords," + "lastuploaded,uploadcount,reflastsent,requestlastreceived,requestsreceivedcount,lastmodified) " + "VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_23 $$ ps.setInt(ix++, sfItem.getUploadCount()) [FD]
Line_13 $$ int ix = 1 --> Line_23 $$ ps.setInt(ix++, sfItem.getUploadCount()) [FD]
Line_12 $$ FrostSharedFileItem sfItem = i.next() --> Line_23 $$ ps.setInt(ix++, sfItem.getUploadCount()) [FD]
Line_11 $$ for (Iterator<FrostSharedFileItem> i = sfFiles.iterator(); i.hasNext(); ) --> Line_24 $$ ps.setLong(ix++, sfItem.getRefLastSent()) [CD]
Line_10 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO SHAREDFILES (" + "path,size,fnkey,sha,owner,comment,rating,keywords," + "lastuploaded,uploadcount,reflastsent,requestlastreceived,requestsreceivedcount,lastmodified) " + "VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_24 $$ ps.setLong(ix++, sfItem.getRefLastSent()) [FD]
Line_13 $$ int ix = 1 --> Line_24 $$ ps.setLong(ix++, sfItem.getRefLastSent()) [FD]
Line_12 $$ FrostSharedFileItem sfItem = i.next() --> Line_24 $$ ps.setLong(ix++, sfItem.getRefLastSent()) [FD]
Line_11 $$ for (Iterator<FrostSharedFileItem> i = sfFiles.iterator(); i.hasNext(); ) --> Line_25 $$ ps.setLong(ix++, sfItem.getRequestLastReceived()) [CD]
Line_10 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO SHAREDFILES (" + "path,size,fnkey,sha,owner,comment,rating,keywords," + "lastuploaded,uploadcount,reflastsent,requestlastreceived,requestsreceivedcount,lastmodified) " + "VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_25 $$ ps.setLong(ix++, sfItem.getRequestLastReceived()) [FD]
Line_13 $$ int ix = 1 --> Line_25 $$ ps.setLong(ix++, sfItem.getRequestLastReceived()) [FD]
Line_12 $$ FrostSharedFileItem sfItem = i.next() --> Line_25 $$ ps.setLong(ix++, sfItem.getRequestLastReceived()) [FD]
Line_11 $$ for (Iterator<FrostSharedFileItem> i = sfFiles.iterator(); i.hasNext(); ) --> Line_26 $$ ps.setInt(ix++, sfItem.getRequestsReceived()) [CD]
Line_10 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO SHAREDFILES (" + "path,size,fnkey,sha,owner,comment,rating,keywords," + "lastuploaded,uploadcount,reflastsent,requestlastreceived,requestsreceivedcount,lastmodified) " + "VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_26 $$ ps.setInt(ix++, sfItem.getRequestsReceived()) [FD]
Line_13 $$ int ix = 1 --> Line_26 $$ ps.setInt(ix++, sfItem.getRequestsReceived()) [FD]
Line_12 $$ FrostSharedFileItem sfItem = i.next() --> Line_26 $$ ps.setInt(ix++, sfItem.getRequestsReceived()) [FD]
Line_11 $$ for (Iterator<FrostSharedFileItem> i = sfFiles.iterator(); i.hasNext(); ) --> Line_27 $$ ps.setLong(ix++, sfItem.getLastModified()) [CD]
Line_10 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO SHAREDFILES (" + "path,size,fnkey,sha,owner,comment,rating,keywords," + "lastuploaded,uploadcount,reflastsent,requestlastreceived,requestsreceivedcount,lastmodified) " + "VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_27 $$ ps.setLong(ix++, sfItem.getLastModified()) [FD]
Line_13 $$ int ix = 1 --> Line_27 $$ ps.setLong(ix++, sfItem.getLastModified()) [FD]
Line_12 $$ FrostSharedFileItem sfItem = i.next() --> Line_27 $$ ps.setLong(ix++, sfItem.getLastModified()) [FD]
Line_11 $$ for (Iterator<FrostSharedFileItem> i = sfFiles.iterator(); i.hasNext(); ) --> Line_28 $$ ps.executeUpdate() [CD]
Line_10 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO SHAREDFILES (" + "path,size,fnkey,sha,owner,comment,rating,keywords," + "lastuploaded,uploadcount,reflastsent,requestlastreceived,requestsreceivedcount,lastmodified) " + "VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_28 $$ ps.executeUpdate() [FD]
Line_10 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO SHAREDFILES (" + "path,size,fnkey,sha,owner,comment,rating,keywords," + "lastuploaded,uploadcount,reflastsent,requestlastreceived,requestsreceivedcount,lastmodified) " + "VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_30 $$ ps.close() [FD]
Line_3 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection() --> Line_31 $$ conn.commit() [FD]
Line_3 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection() --> Line_32 $$ conn.setAutoCommit(true) [FD]
Line_3 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection() --> Line_36 $$ conn.rollback() [FD]
Line_3 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection() --> Line_41 $$ conn.setAutoCommit(true) [FD]
Line_3 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection() --> Line_45 $$ AppLayerDatabase.getInstance().givePooledConnection(conn) [FD]
