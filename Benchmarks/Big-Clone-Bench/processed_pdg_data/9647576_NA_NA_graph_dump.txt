Line_2 $$ private void Reserve() throws SQLException --> Line_3 $$ Statement stbookings, stchartwl [CD]
Line_2 $$ private void Reserve() throws SQLException --> Line_4 $$ String sp = "" [CD]
Line_2 $$ private void Reserve() throws SQLException --> Line_5 $$ if (useragent) [CD]
Line_4 $$ String sp = "" --> Line_5 $$ if (useragent) [FD]
Line_2 $$ private void Reserve() throws SQLException --> Line_6 $$ String userbooksql = "" [CD]
Line_2 $$ private void Reserve() throws SQLException --> Line_7 $$ String agentbooksql = "" [CD]
Line_2 $$ private void Reserve() throws SQLException --> Line_8 $$ String bookingid = String.valueOf(System.currentTimeMillis()) [CD]
Line_2 $$ private void Reserve() throws SQLException --> Line_9 $$ String currentcoach [CD]
Line_2 $$ private void Reserve() throws SQLException --> Line_10 $$ String currentseat [CD]
Line_12 $$ if (useragent) --> Line_13 $$ agentbooksql = "update hp_administrator.agent_bookings set BOOKINGS = xmlquery('copy $new := $BOOKINGS modify do insert " [CD]
Line_7 $$ String agentbooksql = "" --> Line_13 $$ agentbooksql = "update hp_administrator.agent_bookings set BOOKINGS = xmlquery('copy $new := $BOOKINGS modify do insert " [FD]
Line_12 $$ if (useragent) --> Line_14 $$ agentbooksql += " <detail booking_id=\"" + booking_details.getTicketno() + "\" status=\"open\" train_no=\"" + booking_details.getTrain_no() + "\" source=\"" + booking_details.getSource() + "\" dest=\"" + booking_details.getDestination() + "\" dep_date=\"" + booking_details.getDate() + "\" > " [CD]
Line_7 $$ String agentbooksql = "" --> Line_14 $$ agentbooksql += " <detail booking_id=\"" + booking_details.getTicketno() + "\" status=\"open\" train_no=\"" + booking_details.getTrain_no() + "\" source=\"" + booking_details.getSource() + "\" dest=\"" + booking_details.getDestination() + "\" dep_date=\"" + booking_details.getDate() + "\" > " [FD]
Line_13 $$ agentbooksql = "update hp_administrator.agent_bookings set BOOKINGS = xmlquery('copy $new := $BOOKINGS modify do insert " --> Line_14 $$ agentbooksql += " <detail booking_id=\"" + booking_details.getTicketno() + "\" status=\"open\" train_no=\"" + booking_details.getTrain_no() + "\" source=\"" + booking_details.getSource() + "\" dest=\"" + booking_details.getDestination() + "\" dep_date=\"" + booking_details.getDate() + "\" > " [FD]
Line_12 $$ if (useragent) --> Line_15 $$ if (!useragent) [CD]
Line_15 $$ if (!useragent) --> Line_16 $$ userbooksql = "update hp_administrator.user_bookings set BOOKINGS = xmlquery('copy $new := $BOOKINGS modify do insert " [CD]
Line_6 $$ String userbooksql = "" --> Line_16 $$ userbooksql = "update hp_administrator.user_bookings set BOOKINGS = xmlquery('copy $new := $BOOKINGS modify do insert " [FD]
Line_15 $$ if (!useragent) --> Line_17 $$ userbooksql += " <detail booking_id=\"" + booking_details.getTicketno() + "\" status=\"open\" train_no=\"" + booking_details.getTrain_no() + "\" source=\"" + booking_details.getSource() + "\" dest=\"" + booking_details.getDestination() + "\" dep_date=\"" + booking_details.getDate() + "\" > " [CD]
Line_6 $$ String userbooksql = "" --> Line_17 $$ userbooksql += " <detail booking_id=\"" + booking_details.getTicketno() + "\" status=\"open\" train_no=\"" + booking_details.getTrain_no() + "\" source=\"" + booking_details.getSource() + "\" dest=\"" + booking_details.getDestination() + "\" dep_date=\"" + booking_details.getDate() + "\" > " [FD]
Line_16 $$ userbooksql = "update hp_administrator.user_bookings set BOOKINGS = xmlquery('copy $new := $BOOKINGS modify do insert " --> Line_17 $$ userbooksql += " <detail booking_id=\"" + booking_details.getTicketno() + "\" status=\"open\" train_no=\"" + booking_details.getTrain_no() + "\" source=\"" + booking_details.getSource() + "\" dest=\"" + booking_details.getDestination() + "\" dep_date=\"" + booking_details.getDate() + "\" > " [FD]
Line_19 $$ for (int tickpos = 0; tickpos < booking_details.getNoOfPersons(); tickpos++) --> Line_20 $$ currentcoach = coach.get(tickpos) [CD]
Line_19 $$ for (int tickpos = 0; tickpos < booking_details.getNoOfPersons(); tickpos++) --> Line_20 $$ currentcoach = coach.get(tickpos) [FD]
Line_9 $$ String currentcoach --> Line_20 $$ currentcoach = coach.get(tickpos) [FD]
Line_19 $$ for (int tickpos = 0; tickpos < booking_details.getNoOfPersons(); tickpos++) --> Line_21 $$ currentseat = seatno.get(tickpos) [CD]
Line_19 $$ for (int tickpos = 0; tickpos < booking_details.getNoOfPersons(); tickpos++) --> Line_21 $$ currentseat = seatno.get(tickpos) [FD]
Line_10 $$ String currentseat --> Line_21 $$ currentseat = seatno.get(tickpos) [FD]
Line_19 $$ for (int tickpos = 0; tickpos < booking_details.getNoOfPersons(); tickpos++) --> Line_22 $$ if (!currentcoach.equals("WL")) [CD]
Line_20 $$ currentcoach = coach.get(tickpos) --> Line_22 $$ if (!currentcoach.equals("WL")) [FD]
Line_9 $$ String currentcoach --> Line_22 $$ if (!currentcoach.equals("WL")) [FD]
Line_22 $$ if (!currentcoach.equals("WL")) --> Line_23 $$ String chartavailupdsql = "update hp_administrator.chart_wl_order set AVAILABLE_BOOKED = xmlquery('copy $new := $AVAILABLE_BOOKED   modify do insert " [CD]
Line_22 $$ if (!currentcoach.equals("WL")) --> Line_24 $$ chartavailupdsql += "<seat number=\"" + currentseat + "\"><details user_id=\"" + booking_details.getUserId() + "\" usertype=\"" + sp + "\" ticket_no=\"" + booking_details.getTicketno() + "\" name=\"" + booking_details.getNameAt(tickpos) + "\" age=\"" + booking_details.getAgeAt(tickpos) + "\" sex=\"" + booking_details.getSexAt(tickpos) + "\" type=\"primary\"  /></seat>" [CD]
Line_23 $$ String chartavailupdsql = "update hp_administrator.chart_wl_order set AVAILABLE_BOOKED = xmlquery('copy $new := $AVAILABLE_BOOKED   modify do insert " --> Line_24 $$ chartavailupdsql += "<seat number=\"" + currentseat + "\"><details user_id=\"" + booking_details.getUserId() + "\" usertype=\"" + sp + "\" ticket_no=\"" + booking_details.getTicketno() + "\" name=\"" + booking_details.getNameAt(tickpos) + "\" age=\"" + booking_details.getAgeAt(tickpos) + "\" sex=\"" + booking_details.getSexAt(tickpos) + "\" type=\"primary\"  /></seat>" [FD]
Line_19 $$ for (int tickpos = 0; tickpos < booking_details.getNoOfPersons(); tickpos++) --> Line_24 $$ chartavailupdsql += "<seat number=\"" + currentseat + "\"><details user_id=\"" + booking_details.getUserId() + "\" usertype=\"" + sp + "\" ticket_no=\"" + booking_details.getTicketno() + "\" name=\"" + booking_details.getNameAt(tickpos) + "\" age=\"" + booking_details.getAgeAt(tickpos) + "\" sex=\"" + booking_details.getSexAt(tickpos) + "\" type=\"primary\"  /></seat>" [FD]
Line_22 $$ if (!currentcoach.equals("WL")) --> Line_25 $$ chartavailupdsql += " into $new/status/class[@name=\"" + booking_details.getTclass() + "\"]/coach[@number=\"" + currentcoach + "\"] " [CD]
Line_23 $$ String chartavailupdsql = "update hp_administrator.chart_wl_order set AVAILABLE_BOOKED = xmlquery('copy $new := $AVAILABLE_BOOKED   modify do insert " --> Line_25 $$ chartavailupdsql += " into $new/status/class[@name=\"" + booking_details.getTclass() + "\"]/coach[@number=\"" + currentcoach + "\"] " [FD]
Line_24 $$ chartavailupdsql += "<seat number=\"" + currentseat + "\"><details user_id=\"" + booking_details.getUserId() + "\" usertype=\"" + sp + "\" ticket_no=\"" + booking_details.getTicketno() + "\" name=\"" + booking_details.getNameAt(tickpos) + "\" age=\"" + booking_details.getAgeAt(tickpos) + "\" sex=\"" + booking_details.getSexAt(tickpos) + "\" type=\"primary\"  /></seat>" --> Line_25 $$ chartavailupdsql += " into $new/status/class[@name=\"" + booking_details.getTclass() + "\"]/coach[@number=\"" + currentcoach + "\"] " [FD]
Line_22 $$ if (!currentcoach.equals("WL")) --> Line_26 $$ chartavailupdsql += " return  $new' ) where train_no like '" + booking_details.getTrain_no() + "' and date = '" + booking_details.getDate() + "' " [CD]
Line_23 $$ String chartavailupdsql = "update hp_administrator.chart_wl_order set AVAILABLE_BOOKED = xmlquery('copy $new := $AVAILABLE_BOOKED   modify do insert " --> Line_26 $$ chartavailupdsql += " return  $new' ) where train_no like '" + booking_details.getTrain_no() + "' and date = '" + booking_details.getDate() + "' " [FD]
Line_24 $$ chartavailupdsql += "<seat number=\"" + currentseat + "\"><details user_id=\"" + booking_details.getUserId() + "\" usertype=\"" + sp + "\" ticket_no=\"" + booking_details.getTicketno() + "\" name=\"" + booking_details.getNameAt(tickpos) + "\" age=\"" + booking_details.getAgeAt(tickpos) + "\" sex=\"" + booking_details.getSexAt(tickpos) + "\" type=\"primary\"  /></seat>" --> Line_26 $$ chartavailupdsql += " return  $new' ) where train_no like '" + booking_details.getTrain_no() + "' and date = '" + booking_details.getDate() + "' " [FD]
Line_22 $$ if (!currentcoach.equals("WL")) --> Line_27 $$ System.out.println(chartavailupdsql) [CD]
Line_23 $$ String chartavailupdsql = "update hp_administrator.chart_wl_order set AVAILABLE_BOOKED = xmlquery('copy $new := $AVAILABLE_BOOKED   modify do insert " --> Line_27 $$ System.out.println(chartavailupdsql) [FD]
Line_24 $$ chartavailupdsql += "<seat number=\"" + currentseat + "\"><details user_id=\"" + booking_details.getUserId() + "\" usertype=\"" + sp + "\" ticket_no=\"" + booking_details.getTicketno() + "\" name=\"" + booking_details.getNameAt(tickpos) + "\" age=\"" + booking_details.getAgeAt(tickpos) + "\" sex=\"" + booking_details.getSexAt(tickpos) + "\" type=\"primary\"  /></seat>" --> Line_27 $$ System.out.println(chartavailupdsql) [FD]
Line_26 $$ chartavailupdsql += " return  $new' ) where train_no like '" + booking_details.getTrain_no() + "' and date = '" + booking_details.getDate() + "' " --> Line_27 $$ System.out.println(chartavailupdsql) [FD]
Line_22 $$ if (!currentcoach.equals("WL")) --> Line_28 $$ stchartwl = conn.createStatement() [CD]
Line_3 $$ Statement stbookings, stchartwl --> Line_28 $$ stchartwl = conn.createStatement() [FD]
Line_22 $$ if (!currentcoach.equals("WL")) --> Line_29 $$ int updstat = stchartwl.executeUpdate(chartavailupdsql) [CD]
Line_28 $$ stchartwl = conn.createStatement() --> Line_29 $$ int updstat = stchartwl.executeUpdate(chartavailupdsql) [FD]
Line_3 $$ Statement stbookings, stchartwl --> Line_29 $$ int updstat = stchartwl.executeUpdate(chartavailupdsql) [FD]
Line_23 $$ String chartavailupdsql = "update hp_administrator.chart_wl_order set AVAILABLE_BOOKED = xmlquery('copy $new := $AVAILABLE_BOOKED   modify do insert " --> Line_29 $$ int updstat = stchartwl.executeUpdate(chartavailupdsql) [FD]
Line_24 $$ chartavailupdsql += "<seat number=\"" + currentseat + "\"><details user_id=\"" + booking_details.getUserId() + "\" usertype=\"" + sp + "\" ticket_no=\"" + booking_details.getTicketno() + "\" name=\"" + booking_details.getNameAt(tickpos) + "\" age=\"" + booking_details.getAgeAt(tickpos) + "\" sex=\"" + booking_details.getSexAt(tickpos) + "\" type=\"primary\"  /></seat>" --> Line_29 $$ int updstat = stchartwl.executeUpdate(chartavailupdsql) [FD]
Line_26 $$ chartavailupdsql += " return  $new' ) where train_no like '" + booking_details.getTrain_no() + "' and date = '" + booking_details.getDate() + "' " --> Line_29 $$ int updstat = stchartwl.executeUpdate(chartavailupdsql) [FD]
Line_22 $$ if (!currentcoach.equals("WL")) --> Line_30 $$ System.out.println("chart_wl  availability  updated") [CD]
Line_29 $$ int updstat = stchartwl.executeUpdate(chartavailupdsql) --> Line_30 $$ System.out.println("chart_wl  availability  updated") [FD]
Line_22 $$ if (!currentcoach.equals("WL")) --> Line_31 $$ if (currentcoach.equals("WL")) [CD]
Line_20 $$ currentcoach = coach.get(tickpos) --> Line_31 $$ if (currentcoach.equals("WL")) [FD]
Line_9 $$ String currentcoach --> Line_31 $$ if (currentcoach.equals("WL")) [FD]
Line_31 $$ if (currentcoach.equals("WL")) --> Line_32 $$ String chartwlupdsql = "update hp_administrator.chart_wl_order set WAITLISTING = xmlquery('copy $new := $WAITLISTING modify do insert " [CD]
Line_31 $$ if (currentcoach.equals("WL")) --> Line_33 $$ chartwlupdsql += "<details user_id=\"" + booking_details.getUserId() + "\" usertype=\"" + sp + "\" ticket_no=\"" + booking_details.getTicketno() + "\" name=\"" + booking_details.getNameAt(tickpos) + "\" age=\"" + booking_details.getAgeAt(tickpos) + "\" sex=\"" + booking_details.getSexAt(tickpos) + "\" type=\"primary\" /></seat>" [CD]
Line_32 $$ String chartwlupdsql = "update hp_administrator.chart_wl_order set WAITLISTING = xmlquery('copy $new := $WAITLISTING modify do insert " --> Line_33 $$ chartwlupdsql += "<details user_id=\"" + booking_details.getUserId() + "\" usertype=\"" + sp + "\" ticket_no=\"" + booking_details.getTicketno() + "\" name=\"" + booking_details.getNameAt(tickpos) + "\" age=\"" + booking_details.getAgeAt(tickpos) + "\" sex=\"" + booking_details.getSexAt(tickpos) + "\" type=\"primary\" /></seat>" [FD]
Line_19 $$ for (int tickpos = 0; tickpos < booking_details.getNoOfPersons(); tickpos++) --> Line_33 $$ chartwlupdsql += "<details user_id=\"" + booking_details.getUserId() + "\" usertype=\"" + sp + "\" ticket_no=\"" + booking_details.getTicketno() + "\" name=\"" + booking_details.getNameAt(tickpos) + "\" age=\"" + booking_details.getAgeAt(tickpos) + "\" sex=\"" + booking_details.getSexAt(tickpos) + "\" type=\"primary\" /></seat>" [FD]
Line_31 $$ if (currentcoach.equals("WL")) --> Line_34 $$ chartwlupdsql += " into $new/status/class[@name=\"" + booking_details.getTclass() + "\"] " [CD]
Line_32 $$ String chartwlupdsql = "update hp_administrator.chart_wl_order set WAITLISTING = xmlquery('copy $new := $WAITLISTING modify do insert " --> Line_34 $$ chartwlupdsql += " into $new/status/class[@name=\"" + booking_details.getTclass() + "\"] " [FD]
Line_33 $$ chartwlupdsql += "<details user_id=\"" + booking_details.getUserId() + "\" usertype=\"" + sp + "\" ticket_no=\"" + booking_details.getTicketno() + "\" name=\"" + booking_details.getNameAt(tickpos) + "\" age=\"" + booking_details.getAgeAt(tickpos) + "\" sex=\"" + booking_details.getSexAt(tickpos) + "\" type=\"primary\" /></seat>" --> Line_34 $$ chartwlupdsql += " into $new/status/class[@name=\"" + booking_details.getTclass() + "\"] " [FD]
Line_31 $$ if (currentcoach.equals("WL")) --> Line_35 $$ chartwlupdsql += " return  $new' ) where train_no like '" + booking_details.getTrain_no() + "' and date = '" + booking_details.getDate() + "' " [CD]
Line_32 $$ String chartwlupdsql = "update hp_administrator.chart_wl_order set WAITLISTING = xmlquery('copy $new := $WAITLISTING modify do insert " --> Line_35 $$ chartwlupdsql += " return  $new' ) where train_no like '" + booking_details.getTrain_no() + "' and date = '" + booking_details.getDate() + "' " [FD]
Line_33 $$ chartwlupdsql += "<details user_id=\"" + booking_details.getUserId() + "\" usertype=\"" + sp + "\" ticket_no=\"" + booking_details.getTicketno() + "\" name=\"" + booking_details.getNameAt(tickpos) + "\" age=\"" + booking_details.getAgeAt(tickpos) + "\" sex=\"" + booking_details.getSexAt(tickpos) + "\" type=\"primary\" /></seat>" --> Line_35 $$ chartwlupdsql += " return  $new' ) where train_no like '" + booking_details.getTrain_no() + "' and date = '" + booking_details.getDate() + "' " [FD]
Line_31 $$ if (currentcoach.equals("WL")) --> Line_36 $$ System.out.println(chartwlupdsql) [CD]
Line_32 $$ String chartwlupdsql = "update hp_administrator.chart_wl_order set WAITLISTING = xmlquery('copy $new := $WAITLISTING modify do insert " --> Line_36 $$ System.out.println(chartwlupdsql) [FD]
Line_33 $$ chartwlupdsql += "<details user_id=\"" + booking_details.getUserId() + "\" usertype=\"" + sp + "\" ticket_no=\"" + booking_details.getTicketno() + "\" name=\"" + booking_details.getNameAt(tickpos) + "\" age=\"" + booking_details.getAgeAt(tickpos) + "\" sex=\"" + booking_details.getSexAt(tickpos) + "\" type=\"primary\" /></seat>" --> Line_36 $$ System.out.println(chartwlupdsql) [FD]
Line_35 $$ chartwlupdsql += " return  $new' ) where train_no like '" + booking_details.getTrain_no() + "' and date = '" + booking_details.getDate() + "' " --> Line_36 $$ System.out.println(chartwlupdsql) [FD]
Line_31 $$ if (currentcoach.equals("WL")) --> Line_37 $$ stchartwl = conn.createStatement() [CD]
Line_28 $$ stchartwl = conn.createStatement() --> Line_37 $$ stchartwl = conn.createStatement() [FD]
Line_3 $$ Statement stbookings, stchartwl --> Line_37 $$ stchartwl = conn.createStatement() [FD]
Line_31 $$ if (currentcoach.equals("WL")) --> Line_38 $$ int updstat = stchartwl.executeUpdate(chartwlupdsql) [CD]
Line_28 $$ stchartwl = conn.createStatement() --> Line_38 $$ int updstat = stchartwl.executeUpdate(chartwlupdsql) [FD]
Line_37 $$ stchartwl = conn.createStatement() --> Line_38 $$ int updstat = stchartwl.executeUpdate(chartwlupdsql) [FD]
Line_3 $$ Statement stbookings, stchartwl --> Line_38 $$ int updstat = stchartwl.executeUpdate(chartwlupdsql) [FD]
Line_32 $$ String chartwlupdsql = "update hp_administrator.chart_wl_order set WAITLISTING = xmlquery('copy $new := $WAITLISTING modify do insert " --> Line_38 $$ int updstat = stchartwl.executeUpdate(chartwlupdsql) [FD]
Line_33 $$ chartwlupdsql += "<details user_id=\"" + booking_details.getUserId() + "\" usertype=\"" + sp + "\" ticket_no=\"" + booking_details.getTicketno() + "\" name=\"" + booking_details.getNameAt(tickpos) + "\" age=\"" + booking_details.getAgeAt(tickpos) + "\" sex=\"" + booking_details.getSexAt(tickpos) + "\" type=\"primary\" /></seat>" --> Line_38 $$ int updstat = stchartwl.executeUpdate(chartwlupdsql) [FD]
Line_35 $$ chartwlupdsql += " return  $new' ) where train_no like '" + booking_details.getTrain_no() + "' and date = '" + booking_details.getDate() + "' " --> Line_38 $$ int updstat = stchartwl.executeUpdate(chartwlupdsql) [FD]
Line_31 $$ if (currentcoach.equals("WL")) --> Line_39 $$ System.out.println("chart_wl  waitlisting  updated") [CD]
Line_29 $$ int updstat = stchartwl.executeUpdate(chartavailupdsql) --> Line_39 $$ System.out.println("chart_wl  waitlisting  updated") [FD]
Line_19 $$ for (int tickpos = 0; tickpos < booking_details.getNoOfPersons(); tickpos++) --> Line_41 $$ agentbooksql += "<person><coach>" + currentcoach + "</coach><seat>" + currentseat + "</seat></person>" [CD]
Line_7 $$ String agentbooksql = "" --> Line_41 $$ agentbooksql += "<person><coach>" + currentcoach + "</coach><seat>" + currentseat + "</seat></person>" [FD]
Line_13 $$ agentbooksql = "update hp_administrator.agent_bookings set BOOKINGS = xmlquery('copy $new := $BOOKINGS modify do insert " --> Line_41 $$ agentbooksql += "<person><coach>" + currentcoach + "</coach><seat>" + currentseat + "</seat></person>" [FD]
Line_14 $$ agentbooksql += " <detail booking_id=\"" + booking_details.getTicketno() + "\" status=\"open\" train_no=\"" + booking_details.getTrain_no() + "\" source=\"" + booking_details.getSource() + "\" dest=\"" + booking_details.getDestination() + "\" dep_date=\"" + booking_details.getDate() + "\" > " --> Line_41 $$ agentbooksql += "<person><coach>" + currentcoach + "</coach><seat>" + currentseat + "</seat></person>" [FD]
Line_6 $$ String userbooksql = "" --> Line_41 $$ agentbooksql += "<person><coach>" + currentcoach + "</coach><seat>" + currentseat + "</seat></person>" [FD]
Line_16 $$ userbooksql = "update hp_administrator.user_bookings set BOOKINGS = xmlquery('copy $new := $BOOKINGS modify do insert " --> Line_41 $$ agentbooksql += "<person><coach>" + currentcoach + "</coach><seat>" + currentseat + "</seat></person>" [FD]
Line_17 $$ userbooksql += " <detail booking_id=\"" + booking_details.getTicketno() + "\" status=\"open\" train_no=\"" + booking_details.getTrain_no() + "\" source=\"" + booking_details.getSource() + "\" dest=\"" + booking_details.getDestination() + "\" dep_date=\"" + booking_details.getDate() + "\" > " --> Line_41 $$ agentbooksql += "<person><coach>" + currentcoach + "</coach><seat>" + currentseat + "</seat></person>" [FD]
Line_43 $$ if (useragent) --> Line_44 $$ agentbooksql += "</detail>   as first into $new/book return  $new' ) where agent_id like '" + booking_details.getUserId() + "'" [CD]
Line_41 $$ agentbooksql += "<person><coach>" + currentcoach + "</coach><seat>" + currentseat + "</seat></person>" --> Line_44 $$ agentbooksql += "</detail>   as first into $new/book return  $new' ) where agent_id like '" + booking_details.getUserId() + "'" [FD]
Line_7 $$ String agentbooksql = "" --> Line_44 $$ agentbooksql += "</detail>   as first into $new/book return  $new' ) where agent_id like '" + booking_details.getUserId() + "'" [FD]
Line_13 $$ agentbooksql = "update hp_administrator.agent_bookings set BOOKINGS = xmlquery('copy $new := $BOOKINGS modify do insert " --> Line_44 $$ agentbooksql += "</detail>   as first into $new/book return  $new' ) where agent_id like '" + booking_details.getUserId() + "'" [FD]
Line_14 $$ agentbooksql += " <detail booking_id=\"" + booking_details.getTicketno() + "\" status=\"open\" train_no=\"" + booking_details.getTrain_no() + "\" source=\"" + booking_details.getSource() + "\" dest=\"" + booking_details.getDestination() + "\" dep_date=\"" + booking_details.getDate() + "\" > " --> Line_44 $$ agentbooksql += "</detail>   as first into $new/book return  $new' ) where agent_id like '" + booking_details.getUserId() + "'" [FD]
Line_43 $$ if (useragent) --> Line_45 $$ System.out.println(agentbooksql) [CD]
Line_41 $$ agentbooksql += "<person><coach>" + currentcoach + "</coach><seat>" + currentseat + "</seat></person>" --> Line_45 $$ System.out.println(agentbooksql) [FD]
Line_7 $$ String agentbooksql = "" --> Line_45 $$ System.out.println(agentbooksql) [FD]
Line_13 $$ agentbooksql = "update hp_administrator.agent_bookings set BOOKINGS = xmlquery('copy $new := $BOOKINGS modify do insert " --> Line_45 $$ System.out.println(agentbooksql) [FD]
Line_14 $$ agentbooksql += " <detail booking_id=\"" + booking_details.getTicketno() + "\" status=\"open\" train_no=\"" + booking_details.getTrain_no() + "\" source=\"" + booking_details.getSource() + "\" dest=\"" + booking_details.getDestination() + "\" dep_date=\"" + booking_details.getDate() + "\" > " --> Line_45 $$ System.out.println(agentbooksql) [FD]
Line_44 $$ agentbooksql += "</detail>   as first into $new/book return  $new' ) where agent_id like '" + booking_details.getUserId() + "'" --> Line_45 $$ System.out.println(agentbooksql) [FD]
Line_43 $$ if (useragent) --> Line_46 $$ stbookings = conn.createStatement() [CD]
Line_3 $$ Statement stbookings, stchartwl --> Line_46 $$ stbookings = conn.createStatement() [FD]
Line_43 $$ if (useragent) --> Line_47 $$ int updstat = stbookings.executeUpdate(agentbooksql) [CD]
Line_3 $$ Statement stbookings, stchartwl --> Line_47 $$ int updstat = stbookings.executeUpdate(agentbooksql) [FD]
Line_46 $$ stbookings = conn.createStatement() --> Line_47 $$ int updstat = stbookings.executeUpdate(agentbooksql) [FD]
Line_41 $$ agentbooksql += "<person><coach>" + currentcoach + "</coach><seat>" + currentseat + "</seat></person>" --> Line_47 $$ int updstat = stbookings.executeUpdate(agentbooksql) [FD]
Line_7 $$ String agentbooksql = "" --> Line_47 $$ int updstat = stbookings.executeUpdate(agentbooksql) [FD]
Line_13 $$ agentbooksql = "update hp_administrator.agent_bookings set BOOKINGS = xmlquery('copy $new := $BOOKINGS modify do insert " --> Line_47 $$ int updstat = stbookings.executeUpdate(agentbooksql) [FD]
Line_14 $$ agentbooksql += " <detail booking_id=\"" + booking_details.getTicketno() + "\" status=\"open\" train_no=\"" + booking_details.getTrain_no() + "\" source=\"" + booking_details.getSource() + "\" dest=\"" + booking_details.getDestination() + "\" dep_date=\"" + booking_details.getDate() + "\" > " --> Line_47 $$ int updstat = stbookings.executeUpdate(agentbooksql) [FD]
Line_44 $$ agentbooksql += "</detail>   as first into $new/book return  $new' ) where agent_id like '" + booking_details.getUserId() + "'" --> Line_47 $$ int updstat = stbookings.executeUpdate(agentbooksql) [FD]
Line_43 $$ if (useragent) --> Line_48 $$ System.out.println("agent bookings updated") [CD]
Line_29 $$ int updstat = stchartwl.executeUpdate(chartavailupdsql) --> Line_48 $$ System.out.println("agent bookings updated") [FD]
Line_47 $$ int updstat = stbookings.executeUpdate(agentbooksql) --> Line_48 $$ System.out.println("agent bookings updated") [FD]
Line_43 $$ if (useragent) --> Line_50 $$ userbooksql += "</detail>   as first into $new/book return  $new' ) where user_id like '" + booking_details.getUserId() + "'" [CD]
Line_41 $$ agentbooksql += "<person><coach>" + currentcoach + "</coach><seat>" + currentseat + "</seat></person>" --> Line_50 $$ userbooksql += "</detail>   as first into $new/book return  $new' ) where user_id like '" + booking_details.getUserId() + "'" [FD]
Line_6 $$ String userbooksql = "" --> Line_50 $$ userbooksql += "</detail>   as first into $new/book return  $new' ) where user_id like '" + booking_details.getUserId() + "'" [FD]
Line_16 $$ userbooksql = "update hp_administrator.user_bookings set BOOKINGS = xmlquery('copy $new := $BOOKINGS modify do insert " --> Line_50 $$ userbooksql += "</detail>   as first into $new/book return  $new' ) where user_id like '" + booking_details.getUserId() + "'" [FD]
Line_17 $$ userbooksql += " <detail booking_id=\"" + booking_details.getTicketno() + "\" status=\"open\" train_no=\"" + booking_details.getTrain_no() + "\" source=\"" + booking_details.getSource() + "\" dest=\"" + booking_details.getDestination() + "\" dep_date=\"" + booking_details.getDate() + "\" > " --> Line_50 $$ userbooksql += "</detail>   as first into $new/book return  $new' ) where user_id like '" + booking_details.getUserId() + "'" [FD]
Line_43 $$ if (useragent) --> Line_51 $$ System.out.println(userbooksql) [CD]
Line_41 $$ agentbooksql += "<person><coach>" + currentcoach + "</coach><seat>" + currentseat + "</seat></person>" --> Line_51 $$ System.out.println(userbooksql) [FD]
Line_6 $$ String userbooksql = "" --> Line_51 $$ System.out.println(userbooksql) [FD]
Line_16 $$ userbooksql = "update hp_administrator.user_bookings set BOOKINGS = xmlquery('copy $new := $BOOKINGS modify do insert " --> Line_51 $$ System.out.println(userbooksql) [FD]
Line_17 $$ userbooksql += " <detail booking_id=\"" + booking_details.getTicketno() + "\" status=\"open\" train_no=\"" + booking_details.getTrain_no() + "\" source=\"" + booking_details.getSource() + "\" dest=\"" + booking_details.getDestination() + "\" dep_date=\"" + booking_details.getDate() + "\" > " --> Line_51 $$ System.out.println(userbooksql) [FD]
Line_50 $$ userbooksql += "</detail>   as first into $new/book return  $new' ) where user_id like '" + booking_details.getUserId() + "'" --> Line_51 $$ System.out.println(userbooksql) [FD]
Line_43 $$ if (useragent) --> Line_52 $$ stbookings = conn.createStatement() [CD]
Line_3 $$ Statement stbookings, stchartwl --> Line_52 $$ stbookings = conn.createStatement() [FD]
Line_46 $$ stbookings = conn.createStatement() --> Line_52 $$ stbookings = conn.createStatement() [FD]
Line_43 $$ if (useragent) --> Line_53 $$ int updstat = stbookings.executeUpdate(userbooksql) [CD]
Line_3 $$ Statement stbookings, stchartwl --> Line_53 $$ int updstat = stbookings.executeUpdate(userbooksql) [FD]
Line_46 $$ stbookings = conn.createStatement() --> Line_53 $$ int updstat = stbookings.executeUpdate(userbooksql) [FD]
Line_52 $$ stbookings = conn.createStatement() --> Line_53 $$ int updstat = stbookings.executeUpdate(userbooksql) [FD]
Line_41 $$ agentbooksql += "<person><coach>" + currentcoach + "</coach><seat>" + currentseat + "</seat></person>" --> Line_53 $$ int updstat = stbookings.executeUpdate(userbooksql) [FD]
Line_6 $$ String userbooksql = "" --> Line_53 $$ int updstat = stbookings.executeUpdate(userbooksql) [FD]
Line_16 $$ userbooksql = "update hp_administrator.user_bookings set BOOKINGS = xmlquery('copy $new := $BOOKINGS modify do insert " --> Line_53 $$ int updstat = stbookings.executeUpdate(userbooksql) [FD]
Line_17 $$ userbooksql += " <detail booking_id=\"" + booking_details.getTicketno() + "\" status=\"open\" train_no=\"" + booking_details.getTrain_no() + "\" source=\"" + booking_details.getSource() + "\" dest=\"" + booking_details.getDestination() + "\" dep_date=\"" + booking_details.getDate() + "\" > " --> Line_53 $$ int updstat = stbookings.executeUpdate(userbooksql) [FD]
Line_50 $$ userbooksql += "</detail>   as first into $new/book return  $new' ) where user_id like '" + booking_details.getUserId() + "'" --> Line_53 $$ int updstat = stbookings.executeUpdate(userbooksql) [FD]
Line_43 $$ if (useragent) --> Line_54 $$ System.out.println("user bookings  updated") [CD]
Line_29 $$ int updstat = stchartwl.executeUpdate(chartavailupdsql) --> Line_54 $$ System.out.println("user bookings  updated") [FD]
Line_47 $$ int updstat = stbookings.executeUpdate(agentbooksql) --> Line_54 $$ System.out.println("user bookings  updated") [FD]
Line_37 $$ stchartwl = conn.createStatement() --> Line_29 $$ int updstat = stchartwl.executeUpdate(chartavailupdsql) [FD]
