Line_2 $$ public void markAsCachedHelper(Item item, Date from, Date to, Map<String, Boolean> properties) --> Line_3 $$ if (properties.size() == 0) [CD]
Line_2 $$ public void markAsCachedHelper(Item item, Date from, Date to, Map<String, Boolean> properties) --> Line_3 $$ if (properties.size() == 0) [FD]
Line_3 $$ if (properties.size() == 0) --> Line_4 $$ return [CD]
Line_2 $$ public void markAsCachedHelper(Item item, Date from, Date to, Map<String, Boolean> properties) --> Line_6 $$ Connection conn = null [CD]
Line_2 $$ public void markAsCachedHelper(Item item, Date from, Date to, Map<String, Boolean> properties) --> Line_7 $$ Iterable<Integer> props = representer.getInternalReps(properties.keySet()) [CD]
Line_2 $$ public void markAsCachedHelper(Item item, Date from, Date to, Map<String, Boolean> properties) --> Line_7 $$ Iterable<Integer> props = representer.getInternalReps(properties.keySet()) [FD]
Line_2 $$ public void markAsCachedHelper(Item item, Date from, Date to, Map<String, Boolean> properties) --> Line_8 $$ Integer hostIndex = representer.lookUpInternalRep(item.getResolved().getHost()) [CD]
Line_2 $$ public void markAsCachedHelper(Item item, Date from, Date to, Map<String, Boolean> properties) --> Line_8 $$ Integer hostIndex = representer.lookUpInternalRep(item.getResolved().getHost()) [FD]
Line_2 $$ public void markAsCachedHelper(Item item, Date from, Date to, Map<String, Boolean> properties) --> Line_9 $$ HashMap<Integer, long[]> periods = new HashMap<Integer, long[]>() [CD]
Line_2 $$ public void markAsCachedHelper(Item item, Date from, Date to, Map<String, Boolean> properties) --> Line_10 $$ for (Map.Entry<String, Boolean> e : properties.entrySet()) [FD]
Line_9 $$ HashMap<Integer, long[]> periods = new HashMap<Integer, long[]>() --> Line_11 $$ periods.put(representer.lookUpInternalRep(e.getKey()), new long[] [FD]
Line_2 $$ public void markAsCachedHelper(Item item, Date from, Date to, Map<String, Boolean> properties) --> Line_11 $$ periods.put(representer.lookUpInternalRep(e.getKey()), new long[] [FD]
Line_6 $$ Connection conn = null --> Line_14 $$ conn = getConnection() [FD]
Line_6 $$ Connection conn = null --> Line_15 $$ conn.setAutoCommit(false) [FD]
Line_14 $$ conn = getConnection() --> Line_15 $$ conn.setAutoCommit(false) [FD]
Line_6 $$ Connection conn = null --> Line_16 $$ conn.setSavepoint() [FD]
Line_14 $$ conn = getConnection() --> Line_16 $$ conn.setSavepoint() [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") [FD]
Line_6 $$ Connection conn = null --> Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") [FD]
Line_14 $$ conn = getConnection() --> Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_20 $$ stmt.setString(1, item.getResolved().getId()) [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_20 $$ stmt.setString(1, item.getResolved().getId()) [FD]
Line_2 $$ public void markAsCachedHelper(Item item, Date from, Date to, Map<String, Boolean> properties) --> Line_20 $$ stmt.setString(1, item.getResolved().getId()) [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_21 $$ stmt.setInt(2, hostIndex) [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_21 $$ stmt.setInt(2, hostIndex) [FD]
Line_8 $$ Integer hostIndex = representer.lookUpInternalRep(item.getResolved().getHost()) --> Line_21 $$ stmt.setInt(2, hostIndex) [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_22 $$ stmt.setLong(4, to.getTime()) [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_22 $$ stmt.setLong(4, to.getTime()) [FD]
Line_2 $$ public void markAsCachedHelper(Item item, Date from, Date to, Map<String, Boolean> properties) --> Line_22 $$ stmt.setLong(4, to.getTime()) [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_23 $$ stmt.setLong(5, from.getTime()) [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_23 $$ stmt.setLong(5, from.getTime()) [FD]
Line_2 $$ public void markAsCachedHelper(Item item, Date from, Date to, Map<String, Boolean> properties) --> Line_23 $$ stmt.setLong(5, from.getTime()) [FD]
Line_9 $$ HashMap<Integer, long[]> periods = new HashMap<Integer, long[]>() --> Line_24 $$ for (Map.Entry<Integer, long[]> e1 : periods.entrySet()) [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_25 $$ stmt.setInt(3, e1.getKey()) [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_25 $$ stmt.setInt(3, e1.getKey()) [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_26 $$ ResultSet rs = stmt.executeQuery() [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_26 $$ ResultSet rs = stmt.executeQuery() [FD]
Line_26 $$ ResultSet rs = stmt.executeQuery() --> Line_27 $$ if (rs.next()) [FD]
Line_27 $$ if (rs.next()) --> Line_28 $$ e1.getValue()[0] = Math.min(rs.getLong(1), e1.getValue()[0]) [CD]
Line_26 $$ ResultSet rs = stmt.executeQuery() --> Line_28 $$ e1.getValue()[0] = Math.min(rs.getLong(1), e1.getValue()[0]) [FD]
Line_27 $$ if (rs.next()) --> Line_29 $$ e1.getValue()[1] = Math.max(rs.getLong(2), e1.getValue()[1]) [CD]
Line_26 $$ ResultSet rs = stmt.executeQuery() --> Line_29 $$ e1.getValue()[1] = Math.max(rs.getLong(2), e1.getValue()[1]) [FD]
Line_27 $$ if (rs.next()) --> Line_30 $$ e1.getValue()[2] = Math.max(rs.getInt(3), e1.getValue()[2]) [CD]
Line_26 $$ ResultSet rs = stmt.executeQuery() --> Line_30 $$ e1.getValue()[2] = Math.max(rs.getInt(3), e1.getValue()[2]) [FD]
Line_26 $$ ResultSet rs = stmt.executeQuery() --> Line_32 $$ StorageUtils.close(rs) [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_34 $$ StorageUtils.close(stmt) [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_34 $$ StorageUtils.close(stmt) [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_35 $$ stmt = conn.prepareStatement("DELETE FROM cachedperiods WHERE " + "id = ? AND host = ? AND " + "starttime <= ? AND endtime >= ? AND " + "prop IN (" + StringUtils.join(props.iterator(), ",") + ")") [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_35 $$ stmt = conn.prepareStatement("DELETE FROM cachedperiods WHERE " + "id = ? AND host = ? AND " + "starttime <= ? AND endtime >= ? AND " + "prop IN (" + StringUtils.join(props.iterator(), ",") + ")") [FD]
Line_6 $$ Connection conn = null --> Line_35 $$ stmt = conn.prepareStatement("DELETE FROM cachedperiods WHERE " + "id = ? AND host = ? AND " + "starttime <= ? AND endtime >= ? AND " + "prop IN (" + StringUtils.join(props.iterator(), ",") + ")") [FD]
Line_14 $$ conn = getConnection() --> Line_35 $$ stmt = conn.prepareStatement("DELETE FROM cachedperiods WHERE " + "id = ? AND host = ? AND " + "starttime <= ? AND endtime >= ? AND " + "prop IN (" + StringUtils.join(props.iterator(), ",") + ")") [FD]
Line_7 $$ Iterable<Integer> props = representer.getInternalReps(properties.keySet()) --> Line_35 $$ stmt = conn.prepareStatement("DELETE FROM cachedperiods WHERE " + "id = ? AND host = ? AND " + "starttime <= ? AND endtime >= ? AND " + "prop IN (" + StringUtils.join(props.iterator(), ",") + ")") [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_36 $$ stmt.setString(1, item.getResolved().getId()) [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_36 $$ stmt.setString(1, item.getResolved().getId()) [FD]
Line_35 $$ stmt = conn.prepareStatement("DELETE FROM cachedperiods WHERE " + "id = ? AND host = ? AND " + "starttime <= ? AND endtime >= ? AND " + "prop IN (" + StringUtils.join(props.iterator(), ",") + ")") --> Line_36 $$ stmt.setString(1, item.getResolved().getId()) [FD]
Line_2 $$ public void markAsCachedHelper(Item item, Date from, Date to, Map<String, Boolean> properties) --> Line_36 $$ stmt.setString(1, item.getResolved().getId()) [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_37 $$ stmt.setInt(2, hostIndex) [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_37 $$ stmt.setInt(2, hostIndex) [FD]
Line_35 $$ stmt = conn.prepareStatement("DELETE FROM cachedperiods WHERE " + "id = ? AND host = ? AND " + "starttime <= ? AND endtime >= ? AND " + "prop IN (" + StringUtils.join(props.iterator(), ",") + ")") --> Line_37 $$ stmt.setInt(2, hostIndex) [FD]
Line_8 $$ Integer hostIndex = representer.lookUpInternalRep(item.getResolved().getHost()) --> Line_37 $$ stmt.setInt(2, hostIndex) [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_38 $$ stmt.setLong(3, to.getTime()) [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_38 $$ stmt.setLong(3, to.getTime()) [FD]
Line_35 $$ stmt = conn.prepareStatement("DELETE FROM cachedperiods WHERE " + "id = ? AND host = ? AND " + "starttime <= ? AND endtime >= ? AND " + "prop IN (" + StringUtils.join(props.iterator(), ",") + ")") --> Line_38 $$ stmt.setLong(3, to.getTime()) [FD]
Line_2 $$ public void markAsCachedHelper(Item item, Date from, Date to, Map<String, Boolean> properties) --> Line_38 $$ stmt.setLong(3, to.getTime()) [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_39 $$ stmt.setLong(4, from.getTime()) [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_39 $$ stmt.setLong(4, from.getTime()) [FD]
Line_35 $$ stmt = conn.prepareStatement("DELETE FROM cachedperiods WHERE " + "id = ? AND host = ? AND " + "starttime <= ? AND endtime >= ? AND " + "prop IN (" + StringUtils.join(props.iterator(), ",") + ")") --> Line_39 $$ stmt.setLong(4, from.getTime()) [FD]
Line_2 $$ public void markAsCachedHelper(Item item, Date from, Date to, Map<String, Boolean> properties) --> Line_39 $$ stmt.setLong(4, from.getTime()) [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_40 $$ stmt.executeUpdate() [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_40 $$ stmt.executeUpdate() [FD]
Line_35 $$ stmt = conn.prepareStatement("DELETE FROM cachedperiods WHERE " + "id = ? AND host = ? AND " + "starttime <= ? AND endtime >= ? AND " + "prop IN (" + StringUtils.join(props.iterator(), ",") + ")") --> Line_40 $$ stmt.executeUpdate() [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_41 $$ StorageUtils.close(stmt) [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_41 $$ StorageUtils.close(stmt) [FD]
Line_35 $$ stmt = conn.prepareStatement("DELETE FROM cachedperiods WHERE " + "id = ? AND host = ? AND " + "starttime <= ? AND endtime >= ? AND " + "prop IN (" + StringUtils.join(props.iterator(), ",") + ")") --> Line_41 $$ StorageUtils.close(stmt) [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_42 $$ stmt = conn.prepareStatement("INSERT INTO cachedperiods (id, host, prop, starttime, endtime, hasvalues) VALUES (?, ?, ?, ?, ?, ?)") [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_42 $$ stmt = conn.prepareStatement("INSERT INTO cachedperiods (id, host, prop, starttime, endtime, hasvalues) VALUES (?, ?, ?, ?, ?, ?)") [FD]
Line_35 $$ stmt = conn.prepareStatement("DELETE FROM cachedperiods WHERE " + "id = ? AND host = ? AND " + "starttime <= ? AND endtime >= ? AND " + "prop IN (" + StringUtils.join(props.iterator(), ",") + ")") --> Line_42 $$ stmt = conn.prepareStatement("INSERT INTO cachedperiods (id, host, prop, starttime, endtime, hasvalues) VALUES (?, ?, ?, ?, ?, ?)") [FD]
Line_6 $$ Connection conn = null --> Line_42 $$ stmt = conn.prepareStatement("INSERT INTO cachedperiods (id, host, prop, starttime, endtime, hasvalues) VALUES (?, ?, ?, ?, ?, ?)") [FD]
Line_14 $$ conn = getConnection() --> Line_42 $$ stmt = conn.prepareStatement("INSERT INTO cachedperiods (id, host, prop, starttime, endtime, hasvalues) VALUES (?, ?, ?, ?, ?, ?)") [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_43 $$ stmt.setString(1, item.getResolved().getId()) [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_43 $$ stmt.setString(1, item.getResolved().getId()) [FD]
Line_35 $$ stmt = conn.prepareStatement("DELETE FROM cachedperiods WHERE " + "id = ? AND host = ? AND " + "starttime <= ? AND endtime >= ? AND " + "prop IN (" + StringUtils.join(props.iterator(), ",") + ")") --> Line_43 $$ stmt.setString(1, item.getResolved().getId()) [FD]
Line_42 $$ stmt = conn.prepareStatement("INSERT INTO cachedperiods (id, host, prop, starttime, endtime, hasvalues) VALUES (?, ?, ?, ?, ?, ?)") --> Line_43 $$ stmt.setString(1, item.getResolved().getId()) [FD]
Line_2 $$ public void markAsCachedHelper(Item item, Date from, Date to, Map<String, Boolean> properties) --> Line_43 $$ stmt.setString(1, item.getResolved().getId()) [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_44 $$ stmt.setInt(2, hostIndex) [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_44 $$ stmt.setInt(2, hostIndex) [FD]
Line_35 $$ stmt = conn.prepareStatement("DELETE FROM cachedperiods WHERE " + "id = ? AND host = ? AND " + "starttime <= ? AND endtime >= ? AND " + "prop IN (" + StringUtils.join(props.iterator(), ",") + ")") --> Line_44 $$ stmt.setInt(2, hostIndex) [FD]
Line_42 $$ stmt = conn.prepareStatement("INSERT INTO cachedperiods (id, host, prop, starttime, endtime, hasvalues) VALUES (?, ?, ?, ?, ?, ?)") --> Line_44 $$ stmt.setInt(2, hostIndex) [FD]
Line_8 $$ Integer hostIndex = representer.lookUpInternalRep(item.getResolved().getHost()) --> Line_44 $$ stmt.setInt(2, hostIndex) [FD]
Line_9 $$ HashMap<Integer, long[]> periods = new HashMap<Integer, long[]>() --> Line_45 $$ for (Map.Entry<Integer, long[]> e2 : periods.entrySet()) [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_46 $$ stmt.setInt(3, e2.getKey()) [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_46 $$ stmt.setInt(3, e2.getKey()) [FD]
Line_35 $$ stmt = conn.prepareStatement("DELETE FROM cachedperiods WHERE " + "id = ? AND host = ? AND " + "starttime <= ? AND endtime >= ? AND " + "prop IN (" + StringUtils.join(props.iterator(), ",") + ")") --> Line_46 $$ stmt.setInt(3, e2.getKey()) [FD]
Line_42 $$ stmt = conn.prepareStatement("INSERT INTO cachedperiods (id, host, prop, starttime, endtime, hasvalues) VALUES (?, ?, ?, ?, ?, ?)") --> Line_46 $$ stmt.setInt(3, e2.getKey()) [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_47 $$ stmt.setLong(4, e2.getValue()[0]) [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_47 $$ stmt.setLong(4, e2.getValue()[0]) [FD]
Line_35 $$ stmt = conn.prepareStatement("DELETE FROM cachedperiods WHERE " + "id = ? AND host = ? AND " + "starttime <= ? AND endtime >= ? AND " + "prop IN (" + StringUtils.join(props.iterator(), ",") + ")") --> Line_47 $$ stmt.setLong(4, e2.getValue()[0]) [FD]
Line_42 $$ stmt = conn.prepareStatement("INSERT INTO cachedperiods (id, host, prop, starttime, endtime, hasvalues) VALUES (?, ?, ?, ?, ?, ?)") --> Line_47 $$ stmt.setLong(4, e2.getValue()[0]) [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_48 $$ stmt.setLong(5, e2.getValue()[1]) [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_48 $$ stmt.setLong(5, e2.getValue()[1]) [FD]
Line_35 $$ stmt = conn.prepareStatement("DELETE FROM cachedperiods WHERE " + "id = ? AND host = ? AND " + "starttime <= ? AND endtime >= ? AND " + "prop IN (" + StringUtils.join(props.iterator(), ",") + ")") --> Line_48 $$ stmt.setLong(5, e2.getValue()[1]) [FD]
Line_42 $$ stmt = conn.prepareStatement("INSERT INTO cachedperiods (id, host, prop, starttime, endtime, hasvalues) VALUES (?, ?, ?, ?, ?, ?)") --> Line_48 $$ stmt.setLong(5, e2.getValue()[1]) [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_49 $$ stmt.setInt(6, (int) e2.getValue()[2]) [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_49 $$ stmt.setInt(6, (int) e2.getValue()[2]) [FD]
Line_35 $$ stmt = conn.prepareStatement("DELETE FROM cachedperiods WHERE " + "id = ? AND host = ? AND " + "starttime <= ? AND endtime >= ? AND " + "prop IN (" + StringUtils.join(props.iterator(), ",") + ")") --> Line_49 $$ stmt.setInt(6, (int) e2.getValue()[2]) [FD]
Line_42 $$ stmt = conn.prepareStatement("INSERT INTO cachedperiods (id, host, prop, starttime, endtime, hasvalues) VALUES (?, ?, ?, ?, ?, ?)") --> Line_49 $$ stmt.setInt(6, (int) e2.getValue()[2]) [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_50 $$ stmt.executeUpdate() [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_50 $$ stmt.executeUpdate() [FD]
Line_35 $$ stmt = conn.prepareStatement("DELETE FROM cachedperiods WHERE " + "id = ? AND host = ? AND " + "starttime <= ? AND endtime >= ? AND " + "prop IN (" + StringUtils.join(props.iterator(), ",") + ")") --> Line_50 $$ stmt.executeUpdate() [FD]
Line_42 $$ stmt = conn.prepareStatement("INSERT INTO cachedperiods (id, host, prop, starttime, endtime, hasvalues) VALUES (?, ?, ?, ?, ?, ?)") --> Line_50 $$ stmt.executeUpdate() [FD]
Line_17 $$ PreparedStatement stmt = null --> Line_53 $$ StorageUtils.close(stmt) [FD]
Line_19 $$ stmt = conn.prepareStatement("SELECT MIN(starttime), MAX(endtime), MAX(hasvalues) FROM cachedperiods WHERE " + "id = ? AND host = ? AND prop = ? AND " + "starttime <= ? AND endtime >= ?") --> Line_53 $$ StorageUtils.close(stmt) [FD]
Line_35 $$ stmt = conn.prepareStatement("DELETE FROM cachedperiods WHERE " + "id = ? AND host = ? AND " + "starttime <= ? AND endtime >= ? AND " + "prop IN (" + StringUtils.join(props.iterator(), ",") + ")") --> Line_53 $$ StorageUtils.close(stmt) [FD]
Line_42 $$ stmt = conn.prepareStatement("INSERT INTO cachedperiods (id, host, prop, starttime, endtime, hasvalues) VALUES (?, ?, ?, ?, ?, ?)") --> Line_53 $$ StorageUtils.close(stmt) [FD]
Line_6 $$ Connection conn = null --> Line_55 $$ conn.commit() [FD]
Line_14 $$ conn = getConnection() --> Line_55 $$ conn.commit() [FD]
Line_6 $$ Connection conn = null --> Line_59 $$ conn.rollback() [FD]
Line_14 $$ conn = getConnection() --> Line_59 $$ conn.rollback() [FD]
Line_6 $$ Connection conn = null --> Line_64 $$ StorageUtils.close(conn) [FD]
Line_14 $$ conn = getConnection() --> Line_64 $$ StorageUtils.close(conn) [FD]
