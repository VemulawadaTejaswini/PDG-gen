Line_5 $$ Resource resource = entry.getResource() --> Line_6 $$ if (!resource.isFile()) [FD]
Line_6 $$ if (!resource.isFile()) --> Line_7 $$ return [CD]
Line_9 $$ if (server.length() == 0) --> Line_10 $$ return [CD]
Line_3 $$ FTPClient ftpClient = new FTPClient() --> Line_13 $$ ftpClient.connect(server) [FD]
Line_14 $$ if (user.length() > 0) --> Line_15 $$ ftpClient.login(user, password) [CD]
Line_3 $$ FTPClient ftpClient = new FTPClient() --> Line_15 $$ ftpClient.login(user, password) [FD]
Line_3 $$ FTPClient ftpClient = new FTPClient() --> Line_17 $$ int reply = ftpClient.getReplyCode() [FD]
Line_17 $$ int reply = ftpClient.getReplyCode() --> Line_18 $$ if (!FTPReply.isPositiveCompletion(reply)) [FD]
Line_18 $$ if (!FTPReply.isPositiveCompletion(reply)) --> Line_19 $$ ftpClient.disconnect() [CD]
Line_3 $$ FTPClient ftpClient = new FTPClient() --> Line_19 $$ ftpClient.disconnect() [FD]
Line_18 $$ if (!FTPReply.isPositiveCompletion(reply)) --> Line_20 $$ monitor.handleError("FTP server refused connection:" + server, null) [CD]
Line_18 $$ if (!FTPReply.isPositiveCompletion(reply)) --> Line_21 $$ return [CD]
Line_3 $$ FTPClient ftpClient = new FTPClient() --> Line_23 $$ ftpClient.setFileType(FTP.IMAGE_FILE_TYPE) [FD]
Line_3 $$ FTPClient ftpClient = new FTPClient() --> Line_24 $$ ftpClient.enterLocalPassiveMode() [FD]
Line_25 $$ if (directory.length() > 0) --> Line_26 $$ ftpClient.changeWorkingDirectory(directory) [CD]
Line_3 $$ FTPClient ftpClient = new FTPClient() --> Line_26 $$ ftpClient.changeWorkingDirectory(directory) [FD]
Line_5 $$ Resource resource = entry.getResource() --> Line_29 $$ InputStream is = new BufferedInputStream(monitor.getRepository().getStorageManager().getFileInputStream(new File(resource.getPath()))) [FD]
Line_3 $$ FTPClient ftpClient = new FTPClient() --> Line_30 $$ boolean ok = ftpClient.storeUniqueFile(filename, is) [FD]
Line_29 $$ InputStream is = new BufferedInputStream(monitor.getRepository().getStorageManager().getFileInputStream(new File(resource.getPath()))) --> Line_30 $$ boolean ok = ftpClient.storeUniqueFile(filename, is) [FD]
Line_29 $$ InputStream is = new BufferedInputStream(monitor.getRepository().getStorageManager().getFileInputStream(new File(resource.getPath()))) --> Line_31 $$ is.close() [FD]
Line_32 $$ if (ok) --> Line_33 $$ monitor.logInfo("Wrote file:" + directory + " " + filename) [CD]
Line_32 $$ if (ok) --> Line_35 $$ monitor.handleError("Failed to write file:" + directory + " " + filename, null) [CD]
Line_3 $$ FTPClient ftpClient = new FTPClient() --> Line_41 $$ ftpClient.logout() [FD]
Line_3 $$ FTPClient ftpClient = new FTPClient() --> Line_45 $$ ftpClient.disconnect() [FD]
