Line_2 $$ protected void syncMessages(Message message) --> Line_3 $$ if (message.getEvent() == Event.CONNECT || message.getEvent() == Event.SYNC_DONE) [CD]
Line_2 $$ protected void syncMessages(Message message) --> Line_3 $$ if (message.getEvent() == Event.CONNECT || message.getEvent() == Event.SYNC_DONE) [FD]
Line_2 $$ protected void syncMessages(Message message) --> Line_4 $$ logger.info(String.format("remove stale replication messages: %s", message.toString())) [CD]
Line_2 $$ protected void syncMessages(Message message) --> Line_4 $$ logger.info(String.format("remove stale replication messages: %s", message.toString())) [FD]
Line_2 $$ protected void syncMessages(Message message) --> Line_5 $$ String className = "" [CD]
Line_2 $$ protected void syncMessages(Message message) --> Line_6 $$ long classId = 0 [CD]
Line_2 $$ protected void syncMessages(Message message) --> Line_7 $$ if (message.getBody() instanceof Entity) [CD]
Line_2 $$ protected void syncMessages(Message message) --> Line_7 $$ if (message.getBody() instanceof Entity) [FD]
Line_7 $$ if (message.getBody() instanceof Entity) --> Line_8 $$ Entity entity = (Entity) message.getBody() [CD]
Line_2 $$ protected void syncMessages(Message message) --> Line_8 $$ Entity entity = (Entity) message.getBody() [FD]
Line_7 $$ if (message.getBody() instanceof Entity) --> Line_9 $$ className = entity.getClass().getName() [CD]
Line_8 $$ Entity entity = (Entity) message.getBody() --> Line_9 $$ className = entity.getClass().getName() [FD]
Line_7 $$ if (message.getBody() instanceof Entity) --> Line_10 $$ classId = entity.getId() [CD]
Line_8 $$ Entity entity = (Entity) message.getBody() --> Line_10 $$ classId = entity.getId() [FD]
Line_2 $$ protected void syncMessages(Message message) --> Line_12 $$ ConnectionProvider cp = null [CD]
Line_2 $$ protected void syncMessages(Message message) --> Line_13 $$ Connection conn = null [CD]
Line_2 $$ protected void syncMessages(Message message) --> Line_14 $$ PreparedStatement ps = null [CD]
Line_12 $$ ConnectionProvider cp = null --> Line_17 $$ cp = impl.getConnectionProvider() [FD]
Line_16 $$ SessionFactoryImplementor impl = (SessionFactoryImplementor) portalDao.getSessionFactory() --> Line_17 $$ cp = impl.getConnectionProvider() [FD]
Line_13 $$ Connection conn = null --> Line_18 $$ conn = cp.getConnection() [FD]
Line_12 $$ ConnectionProvider cp = null --> Line_18 $$ conn = cp.getConnection() [FD]
Line_17 $$ cp = impl.getConnectionProvider() --> Line_18 $$ conn = cp.getConnection() [FD]
Line_13 $$ Connection conn = null --> Line_19 $$ conn.setAutoCommit(false) [FD]
Line_18 $$ conn = cp.getConnection() --> Line_19 $$ conn.setAutoCommit(false) [FD]
Line_14 $$ PreparedStatement ps = null --> Line_20 $$ ps = conn.prepareStatement("delete from light_replication_message where event=? and className=? and classId=?") [FD]
Line_13 $$ Connection conn = null --> Line_20 $$ ps = conn.prepareStatement("delete from light_replication_message where event=? and className=? and classId=?") [FD]
Line_18 $$ conn = cp.getConnection() --> Line_20 $$ ps = conn.prepareStatement("delete from light_replication_message where event=? and className=? and classId=?") [FD]
Line_14 $$ PreparedStatement ps = null --> Line_21 $$ ps.setString(1, message.getEvent().toString()) [FD]
Line_2 $$ protected void syncMessages(Message message) --> Line_21 $$ ps.setString(1, message.getEvent().toString()) [FD]
Line_14 $$ PreparedStatement ps = null --> Line_22 $$ ps.setString(2, className) [FD]
Line_14 $$ PreparedStatement ps = null --> Line_23 $$ ps.setLong(3, classId) [FD]
Line_14 $$ PreparedStatement ps = null --> Line_24 $$ ps.executeUpdate() [FD]
Line_13 $$ Connection conn = null --> Line_25 $$ conn.commit() [FD]
Line_18 $$ conn = cp.getConnection() --> Line_25 $$ conn.commit() [FD]
Line_14 $$ PreparedStatement ps = null --> Line_26 $$ ps.close() [FD]
Line_13 $$ Connection conn = null --> Line_27 $$ conn.close() [FD]
Line_18 $$ conn = cp.getConnection() --> Line_27 $$ conn.close() [FD]
Line_13 $$ Connection conn = null --> Line_30 $$ conn.rollback() [FD]
Line_18 $$ conn = cp.getConnection() --> Line_30 $$ conn.rollback() [FD]
Line_14 $$ PreparedStatement ps = null --> Line_31 $$ ps.close() [FD]
Line_13 $$ Connection conn = null --> Line_32 $$ conn.close() [FD]
Line_18 $$ conn = cp.getConnection() --> Line_32 $$ conn.close() [FD]
