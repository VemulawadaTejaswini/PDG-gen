Line_2 $$ private void saveMimeParts(MimeMessage oMsg, String sMsgCharSeq, String sBoundary, String sMsgGuid, String sMsgId, int iPgMessage, int iOffset) throws MessagingException, OutOfMemoryError --> Line_3 $$ if (DebugFile.trace) [CD]
Line_3 $$ if (DebugFile.trace) --> Line_4 $$ DebugFile.writeln("Begin DBFolder.saveMimeParts([Connection], [MimeMessage], " + sBoundary + ", " + sMsgGuid + "," + sMsgId + ", " + String.valueOf(iPgMessage) + ", " + String.valueOf(iOffset) + ", [Properties])") [CD]
Line_2 $$ private void saveMimeParts(MimeMessage oMsg, String sMsgCharSeq, String sBoundary, String sMsgGuid, String sMsgId, int iPgMessage, int iOffset) throws MessagingException, OutOfMemoryError --> Line_4 $$ DebugFile.writeln("Begin DBFolder.saveMimeParts([Connection], [MimeMessage], " + sBoundary + ", " + sMsgGuid + "," + sMsgId + ", " + String.valueOf(iPgMessage) + ", " + String.valueOf(iOffset) + ", [Properties])") [FD]
Line_3 $$ if (DebugFile.trace) --> Line_5 $$ DebugFile.incIdent() [CD]
Line_2 $$ private void saveMimeParts(MimeMessage oMsg, String sMsgCharSeq, String sBoundary, String sMsgGuid, String sMsgId, int iPgMessage, int iOffset) throws MessagingException, OutOfMemoryError --> Line_7 $$ PreparedStatement oStmt = null [CD]
Line_2 $$ private void saveMimeParts(MimeMessage oMsg, String sMsgCharSeq, String sBoundary, String sMsgGuid, String sMsgId, int iPgMessage, int iOffset) throws MessagingException, OutOfMemoryError --> Line_8 $$ Blob oContentTxt [CD]
Line_2 $$ private void saveMimeParts(MimeMessage oMsg, String sMsgCharSeq, String sBoundary, String sMsgGuid, String sMsgId, int iPgMessage, int iOffset) throws MessagingException, OutOfMemoryError --> Line_9 $$ ByteArrayOutputStream byOutPart [CD]
Line_2 $$ private void saveMimeParts(MimeMessage oMsg, String sMsgCharSeq, String sBoundary, String sMsgGuid, String sMsgId, int iPgMessage, int iOffset) throws MessagingException, OutOfMemoryError --> Line_10 $$ int iPrevPart = 0, iThisPart = 0, iNextPart = 0, iPartStart = 0 [CD]
Line_2 $$ private void saveMimeParts(MimeMessage oMsg, String sMsgCharSeq, String sBoundary, String sMsgGuid, String sMsgId, int iPgMessage, int iOffset) throws MessagingException, OutOfMemoryError --> Line_12 $$ MimeMultipart oParts = (MimeMultipart) oMsg.getContent() [FD]
Line_12 $$ MimeMultipart oParts = (MimeMultipart) oMsg.getContent() --> Line_13 $$ final int iParts = oParts.getCount() [FD]
Line_13 $$ final int iParts = oParts.getCount() --> Line_14 $$ DebugFile.writeln("message has " + String.valueOf(iParts) + " parts") [FD]
Line_13 $$ final int iParts = oParts.getCount() --> Line_15 $$ if (iParts > 0) [FD]
Line_15 $$ if (iParts > 0) --> Line_16 $$ if (sMsgCharSeq != null && sBoundary != null && ((iOpenMode & MODE_MBOX) != 0)) [CD]
Line_16 $$ if (sMsgCharSeq != null && sBoundary != null && ((iOpenMode & MODE_MBOX) != 0)) --> Line_17 $$ iPrevPart = sMsgCharSeq.indexOf(sBoundary, iPrevPart) [CD]
Line_10 $$ int iPrevPart = 0, iThisPart = 0, iNextPart = 0, iPartStart = 0 --> Line_17 $$ iPrevPart = sMsgCharSeq.indexOf(sBoundary, iPrevPart) [FD]
Line_2 $$ private void saveMimeParts(MimeMessage oMsg, String sMsgCharSeq, String sBoundary, String sMsgGuid, String sMsgId, int iPgMessage, int iOffset) throws MessagingException, OutOfMemoryError --> Line_17 $$ iPrevPart = sMsgCharSeq.indexOf(sBoundary, iPrevPart) [FD]
Line_16 $$ if (sMsgCharSeq != null && sBoundary != null && ((iOpenMode & MODE_MBOX) != 0)) --> Line_18 $$ if (iPrevPart > 0) [CD]
Line_10 $$ int iPrevPart = 0, iThisPart = 0, iNextPart = 0, iPartStart = 0 --> Line_18 $$ if (iPrevPart > 0) [FD]
Line_17 $$ iPrevPart = sMsgCharSeq.indexOf(sBoundary, iPrevPart) --> Line_18 $$ if (iPrevPart > 0) [FD]
Line_18 $$ if (iPrevPart > 0) --> Line_19 $$ iPrevPart += sBoundary.length() [CD]
Line_10 $$ int iPrevPart = 0, iThisPart = 0, iNextPart = 0, iPartStart = 0 --> Line_19 $$ iPrevPart += sBoundary.length() [FD]
Line_17 $$ iPrevPart = sMsgCharSeq.indexOf(sBoundary, iPrevPart) --> Line_19 $$ iPrevPart += sBoundary.length() [FD]
Line_2 $$ private void saveMimeParts(MimeMessage oMsg, String sMsgCharSeq, String sBoundary, String sMsgGuid, String sMsgId, int iPgMessage, int iOffset) throws MessagingException, OutOfMemoryError --> Line_19 $$ iPrevPart += sBoundary.length() [FD]
Line_18 $$ if (iPrevPart > 0) --> Line_20 $$ DebugFile.writeln("found message boundary token at " + String.valueOf(iPrevPart)) [CD]
Line_10 $$ int iPrevPart = 0, iThisPart = 0, iNextPart = 0, iPartStart = 0 --> Line_20 $$ DebugFile.writeln("found message boundary token at " + String.valueOf(iPrevPart)) [FD]
Line_17 $$ iPrevPart = sMsgCharSeq.indexOf(sBoundary, iPrevPart) --> Line_20 $$ DebugFile.writeln("found message boundary token at " + String.valueOf(iPrevPart)) [FD]
Line_19 $$ iPrevPart += sBoundary.length() --> Line_20 $$ DebugFile.writeln("found message boundary token at " + String.valueOf(iPrevPart)) [FD]
Line_15 $$ if (iParts > 0) --> Line_23 $$ String sSQL = "INSERT INTO " + DB.k_mime_parts + "(gu_mimemsg,id_message,pg_message,nu_offset,id_part,id_content,id_type,id_disposition,len_part,de_part,tx_md5,file_name,by_content) VALUES ('" + sMsgGuid + "',?,?,?,?,?,?,?,?,?,NULL,?,?)" [CD]
Line_15 $$ if (iParts > 0) --> Line_24 $$ DebugFile.writeln("Connection.prepareStatement(" + sSQL + ")") [CD]
Line_15 $$ if (iParts > 0) --> Line_25 $$ oStmt = oConn.prepareStatement(sSQL) [CD]
Line_7 $$ PreparedStatement oStmt = null --> Line_25 $$ oStmt = oConn.prepareStatement(sSQL) [FD]
Line_23 $$ String sSQL = "INSERT INTO " + DB.k_mime_parts + "(gu_mimemsg,id_message,pg_message,nu_offset,id_part,id_content,id_type,id_disposition,len_part,de_part,tx_md5,file_name,by_content) VALUES ('" + sMsgGuid + "',?,?,?,?,?,?,?,?,?,NULL,?,?)" --> Line_25 $$ oStmt = oConn.prepareStatement(sSQL) [FD]
Line_15 $$ if (iParts > 0) --> Line_26 $$ for (int p = 0; p < iParts; p++) [CD]
Line_13 $$ final int iParts = oParts.getCount() --> Line_26 $$ for (int p = 0; p < iParts; p++) [FD]
Line_26 $$ for (int p = 0; p < iParts; p++) --> Line_27 $$ DebugFile.writeln("processing part " + String.valueOf(p)) [CD]
Line_26 $$ for (int p = 0; p < iParts; p++) --> Line_27 $$ DebugFile.writeln("processing part " + String.valueOf(p)) [FD]
Line_26 $$ for (int p = 0; p < iParts; p++) --> Line_28 $$ BodyPart oPart = oParts.getBodyPart(p) [CD]
Line_26 $$ for (int p = 0; p < iParts; p++) --> Line_28 $$ BodyPart oPart = oParts.getBodyPart(p) [FD]
Line_12 $$ MimeMultipart oParts = (MimeMultipart) oMsg.getContent() --> Line_28 $$ BodyPart oPart = oParts.getBodyPart(p) [FD]
Line_26 $$ for (int p = 0; p < iParts; p++) --> Line_29 $$ byOutPart = new ByteArrayOutputStream(oPart.getSize() > 0 ? oPart.getSize() : 131072) [CD]
Line_9 $$ ByteArrayOutputStream byOutPart --> Line_29 $$ byOutPart = new ByteArrayOutputStream(oPart.getSize() > 0 ? oPart.getSize() : 131072) [FD]
Line_28 $$ BodyPart oPart = oParts.getBodyPart(p) --> Line_29 $$ byOutPart = new ByteArrayOutputStream(oPart.getSize() > 0 ? oPart.getSize() : 131072) [FD]
Line_26 $$ for (int p = 0; p < iParts; p++) --> Line_30 $$ oPart.writeTo(byOutPart) [CD]
Line_28 $$ BodyPart oPart = oParts.getBodyPart(p) --> Line_30 $$ oPart.writeTo(byOutPart) [FD]
Line_29 $$ byOutPart = new ByteArrayOutputStream(oPart.getSize() > 0 ? oPart.getSize() : 131072) --> Line_30 $$ oPart.writeTo(byOutPart) [FD]
Line_9 $$ ByteArrayOutputStream byOutPart --> Line_30 $$ oPart.writeTo(byOutPart) [FD]
Line_26 $$ for (int p = 0; p < iParts; p++) --> Line_31 $$ if (sMsgCharSeq != null && sBoundary != null && iPrevPart > 0) [CD]
Line_31 $$ if (sMsgCharSeq != null && sBoundary != null && iPrevPart > 0) --> Line_32 $$ iThisPart = sMsgCharSeq.indexOf(sBoundary, iPrevPart) [CD]
Line_10 $$ int iPrevPart = 0, iThisPart = 0, iNextPart = 0, iPartStart = 0 --> Line_32 $$ iThisPart = sMsgCharSeq.indexOf(sBoundary, iPrevPart) [FD]
Line_2 $$ private void saveMimeParts(MimeMessage oMsg, String sMsgCharSeq, String sBoundary, String sMsgGuid, String sMsgId, int iPgMessage, int iOffset) throws MessagingException, OutOfMemoryError --> Line_32 $$ iThisPart = sMsgCharSeq.indexOf(sBoundary, iPrevPart) [FD]
Line_17 $$ iPrevPart = sMsgCharSeq.indexOf(sBoundary, iPrevPart) --> Line_32 $$ iThisPart = sMsgCharSeq.indexOf(sBoundary, iPrevPart) [FD]
Line_19 $$ iPrevPart += sBoundary.length() --> Line_32 $$ iThisPart = sMsgCharSeq.indexOf(sBoundary, iPrevPart) [FD]
Line_31 $$ if (sMsgCharSeq != null && sBoundary != null && iPrevPart > 0) --> Line_33 $$ if (iThisPart > 0) [CD]
Line_32 $$ iThisPart = sMsgCharSeq.indexOf(sBoundary, iPrevPart) --> Line_33 $$ if (iThisPart > 0) [FD]
Line_10 $$ int iPrevPart = 0, iThisPart = 0, iNextPart = 0, iPartStart = 0 --> Line_33 $$ if (iThisPart > 0) [FD]
Line_33 $$ if (iThisPart > 0) --> Line_34 $$ DebugFile.writeln("found part " + String.valueOf(p + iOffset) + " boundary at " + String.valueOf(iThisPart)) [CD]
Line_32 $$ iThisPart = sMsgCharSeq.indexOf(sBoundary, iPrevPart) --> Line_34 $$ DebugFile.writeln("found part " + String.valueOf(p + iOffset) + " boundary at " + String.valueOf(iThisPart)) [FD]
Line_10 $$ int iPrevPart = 0, iThisPart = 0, iNextPart = 0, iPartStart = 0 --> Line_34 $$ DebugFile.writeln("found part " + String.valueOf(p + iOffset) + " boundary at " + String.valueOf(iThisPart)) [FD]
Line_33 $$ if (iThisPart > 0) --> Line_35 $$ iPartStart = iThisPart + sBoundary.length() [CD]
Line_10 $$ int iPrevPart = 0, iThisPart = 0, iNextPart = 0, iPartStart = 0 --> Line_35 $$ iPartStart = iThisPart + sBoundary.length() [FD]
Line_32 $$ iThisPart = sMsgCharSeq.indexOf(sBoundary, iPrevPart) --> Line_35 $$ iPartStart = iThisPart + sBoundary.length() [FD]
Line_2 $$ private void saveMimeParts(MimeMessage oMsg, String sMsgCharSeq, String sBoundary, String sMsgGuid, String sMsgId, int iPgMessage, int iOffset) throws MessagingException, OutOfMemoryError --> Line_35 $$ iPartStart = iThisPart + sBoundary.length() [FD]
Line_33 $$ if (iThisPart > 0) --> Line_36 $$ while (iPartStart < sMsgCharSeq.length()) [CD]
Line_35 $$ iPartStart = iThisPart + sBoundary.length() --> Line_36 $$ while (iPartStart < sMsgCharSeq.length()) [FD]
Line_10 $$ int iPrevPart = 0, iThisPart = 0, iNextPart = 0, iPartStart = 0 --> Line_36 $$ while (iPartStart < sMsgCharSeq.length()) [FD]
Line_2 $$ private void saveMimeParts(MimeMessage oMsg, String sMsgCharSeq, String sBoundary, String sMsgGuid, String sMsgId, int iPgMessage, int iOffset) throws MessagingException, OutOfMemoryError --> Line_36 $$ while (iPartStart < sMsgCharSeq.length()) [FD]
Line_36 $$ while (iPartStart < sMsgCharSeq.length()) --> Line_37 $$ if (sMsgCharSeq.charAt(iPartStart) != ' ' && sMsgCharSeq.charAt(iPartStart) != '\r' && sMsgCharSeq.charAt(iPartStart) != '\n' && sMsgCharSeq.charAt(iPartStart) != '\t') [CD]
Line_2 $$ private void saveMimeParts(MimeMessage oMsg, String sMsgCharSeq, String sBoundary, String sMsgGuid, String sMsgId, int iPgMessage, int iOffset) throws MessagingException, OutOfMemoryError --> Line_37 $$ if (sMsgCharSeq.charAt(iPartStart) != ' ' && sMsgCharSeq.charAt(iPartStart) != '\r' && sMsgCharSeq.charAt(iPartStart) != '\n' && sMsgCharSeq.charAt(iPartStart) != '\t') [FD]
Line_35 $$ iPartStart = iThisPart + sBoundary.length() --> Line_37 $$ if (sMsgCharSeq.charAt(iPartStart) != ' ' && sMsgCharSeq.charAt(iPartStart) != '\r' && sMsgCharSeq.charAt(iPartStart) != '\n' && sMsgCharSeq.charAt(iPartStart) != '\t') [FD]
Line_10 $$ int iPrevPart = 0, iThisPart = 0, iNextPart = 0, iPartStart = 0 --> Line_37 $$ if (sMsgCharSeq.charAt(iPartStart) != ' ' && sMsgCharSeq.charAt(iPartStart) != '\r' && sMsgCharSeq.charAt(iPartStart) != '\n' && sMsgCharSeq.charAt(iPartStart) != '\t') [FD]
Line_31 $$ if (sMsgCharSeq != null && sBoundary != null && iPrevPart > 0) --> Line_40 $$ iNextPart = sMsgCharSeq.indexOf(sBoundary, iPartStart) [CD]
Line_10 $$ int iPrevPart = 0, iThisPart = 0, iNextPart = 0, iPartStart = 0 --> Line_40 $$ iNextPart = sMsgCharSeq.indexOf(sBoundary, iPartStart) [FD]
Line_2 $$ private void saveMimeParts(MimeMessage oMsg, String sMsgCharSeq, String sBoundary, String sMsgGuid, String sMsgId, int iPgMessage, int iOffset) throws MessagingException, OutOfMemoryError --> Line_40 $$ iNextPart = sMsgCharSeq.indexOf(sBoundary, iPartStart) [FD]
Line_35 $$ iPartStart = iThisPart + sBoundary.length() --> Line_40 $$ iNextPart = sMsgCharSeq.indexOf(sBoundary, iPartStart) [FD]
Line_31 $$ if (sMsgCharSeq != null && sBoundary != null && iPrevPart > 0) --> Line_41 $$ if (iNextPart < 0) [CD]
Line_40 $$ iNextPart = sMsgCharSeq.indexOf(sBoundary, iPartStart) --> Line_41 $$ if (iNextPart < 0) [FD]
Line_10 $$ int iPrevPart = 0, iThisPart = 0, iNextPart = 0, iPartStart = 0 --> Line_41 $$ if (iNextPart < 0) [FD]
Line_41 $$ if (iNextPart < 0) --> Line_42 $$ DebugFile.writeln("no next part found") [CD]
Line_41 $$ if (iNextPart < 0) --> Line_43 $$ iNextPart = sMsgCharSeq.length() [CD]
Line_40 $$ iNextPart = sMsgCharSeq.indexOf(sBoundary, iPartStart) --> Line_43 $$ iNextPart = sMsgCharSeq.length() [FD]
Line_10 $$ int iPrevPart = 0, iThisPart = 0, iNextPart = 0, iPartStart = 0 --> Line_43 $$ iNextPart = sMsgCharSeq.length() [FD]
Line_2 $$ private void saveMimeParts(MimeMessage oMsg, String sMsgCharSeq, String sBoundary, String sMsgGuid, String sMsgId, int iPgMessage, int iOffset) throws MessagingException, OutOfMemoryError --> Line_43 $$ iNextPart = sMsgCharSeq.length() [FD]
Line_41 $$ if (iNextPart < 0) --> Line_45 $$ DebugFile.writeln("next part boundary found at " + String.valueOf(iNextPart)) [CD]
Line_40 $$ iNextPart = sMsgCharSeq.indexOf(sBoundary, iPartStart) --> Line_45 $$ DebugFile.writeln("next part boundary found at " + String.valueOf(iNextPart)) [FD]
Line_43 $$ iNextPart = sMsgCharSeq.length() --> Line_45 $$ DebugFile.writeln("next part boundary found at " + String.valueOf(iNextPart)) [FD]
Line_10 $$ int iPrevPart = 0, iThisPart = 0, iNextPart = 0, iPartStart = 0 --> Line_45 $$ DebugFile.writeln("next part boundary found at " + String.valueOf(iNextPart)) [FD]
Line_26 $$ for (int p = 0; p < iParts; p++) --> Line_48 $$ String sContentType = oPart.getContentType() [CD]
Line_28 $$ BodyPart oPart = oParts.getBodyPart(p) --> Line_48 $$ String sContentType = oPart.getContentType() [FD]
Line_26 $$ for (int p = 0; p < iParts; p++) --> Line_49 $$ sContentType = MimeUtility.decodeText(sContentType) [CD]
Line_26 $$ for (int p = 0; p < iParts; p++) --> Line_51 $$ if ((null != sContentType) && (null != ((DBStore) getStore()).getSession())) [CD]
Line_51 $$ if ((null != sContentType) && (null != ((DBStore) getStore()).getSession())) --> Line_52 $$ DebugFile.writeln("Part Content-Type: " + sContentType.replace('\r', ' ').replace('\n', ' ')) [CD]
Line_51 $$ if ((null != sContentType) && (null != ((DBStore) getStore()).getSession())) --> Line_53 $$ if (sContentType.toUpperCase().startsWith("MULTIPART/ALTERNATIVE") || sContentType.toUpperCase().startsWith("MULTIPART/RELATED") || sContentType.toUpperCase().startsWith("MULTIPART/SIGNED")) [CD]
Line_29 $$ byOutPart = new ByteArrayOutputStream(oPart.getSize() > 0 ? oPart.getSize() : 131072) --> Line_55 $$ ByteArrayInputStream byInStrm = new ByteArrayInputStream(byOutPart.toByteArray()) [FD]
Line_9 $$ ByteArrayOutputStream byOutPart --> Line_55 $$ ByteArrayInputStream byInStrm = new ByteArrayInputStream(byOutPart.toByteArray()) [FD]
Line_2 $$ private void saveMimeParts(MimeMessage oMsg, String sMsgCharSeq, String sBoundary, String sMsgGuid, String sMsgId, int iPgMessage, int iOffset) throws MessagingException, OutOfMemoryError --> Line_57 $$ saveMimeParts(oForwarded, sMsgCharSeq, getPartsBoundary(oForwarded), sMsgGuid, sMsgId, iPgMessage, iOffset + iParts) [FD]
Line_26 $$ for (int p = 0; p < iParts; p++) --> Line_66 $$ if (!bForwardedAttachment) [CD]
Line_66 $$ if (!bForwardedAttachment) --> Line_67 $$ oStmt.setString(1, sMsgId) [CD]
Line_7 $$ PreparedStatement oStmt = null --> Line_67 $$ oStmt.setString(1, sMsgId) [FD]
Line_25 $$ oStmt = oConn.prepareStatement(sSQL) --> Line_67 $$ oStmt.setString(1, sMsgId) [FD]
Line_2 $$ private void saveMimeParts(MimeMessage oMsg, String sMsgCharSeq, String sBoundary, String sMsgGuid, String sMsgId, int iPgMessage, int iOffset) throws MessagingException, OutOfMemoryError --> Line_67 $$ oStmt.setString(1, sMsgId) [FD]
Line_66 $$ if (!bForwardedAttachment) --> Line_68 $$ oStmt.setBigDecimal(2, new BigDecimal(iPgMessage)) [CD]
Line_7 $$ PreparedStatement oStmt = null --> Line_68 $$ oStmt.setBigDecimal(2, new BigDecimal(iPgMessage)) [FD]
Line_25 $$ oStmt = oConn.prepareStatement(sSQL) --> Line_68 $$ oStmt.setBigDecimal(2, new BigDecimal(iPgMessage)) [FD]
Line_66 $$ if (!bForwardedAttachment) --> Line_69 $$ oStmt.setNull(3, oConn.getDataBaseProduct() == JDCConnection.DBMS_ORACLE ? Types.NUMERIC : Types.DECIMAL) [CD]
Line_7 $$ PreparedStatement oStmt = null --> Line_69 $$ oStmt.setNull(3, oConn.getDataBaseProduct() == JDCConnection.DBMS_ORACLE ? Types.NUMERIC : Types.DECIMAL) [FD]
Line_25 $$ oStmt = oConn.prepareStatement(sSQL) --> Line_69 $$ oStmt.setNull(3, oConn.getDataBaseProduct() == JDCConnection.DBMS_ORACLE ? Types.NUMERIC : Types.DECIMAL) [FD]
Line_66 $$ if (!bForwardedAttachment) --> Line_70 $$ oStmt.setInt(4, p + iOffset) [CD]
Line_7 $$ PreparedStatement oStmt = null --> Line_70 $$ oStmt.setInt(4, p + iOffset) [FD]
Line_25 $$ oStmt = oConn.prepareStatement(sSQL) --> Line_70 $$ oStmt.setInt(4, p + iOffset) [FD]
Line_66 $$ if (!bForwardedAttachment) --> Line_71 $$ oStmt.setString(5, ((javax.mail.internet.MimeBodyPart) oPart).getContentID()) [CD]
Line_7 $$ PreparedStatement oStmt = null --> Line_71 $$ oStmt.setString(5, ((javax.mail.internet.MimeBodyPart) oPart).getContentID()) [FD]
Line_25 $$ oStmt = oConn.prepareStatement(sSQL) --> Line_71 $$ oStmt.setString(5, ((javax.mail.internet.MimeBodyPart) oPart).getContentID()) [FD]
Line_66 $$ if (!bForwardedAttachment) --> Line_72 $$ oStmt.setString(6, Gadgets.left(sContentType, 254)) [CD]
Line_7 $$ PreparedStatement oStmt = null --> Line_72 $$ oStmt.setString(6, Gadgets.left(sContentType, 254)) [FD]
Line_25 $$ oStmt = oConn.prepareStatement(sSQL) --> Line_72 $$ oStmt.setString(6, Gadgets.left(sContentType, 254)) [FD]
Line_66 $$ if (!bForwardedAttachment) --> Line_73 $$ oStmt.setString(7, Gadgets.left(oPart.getDisposition(), 100)) [CD]
Line_7 $$ PreparedStatement oStmt = null --> Line_73 $$ oStmt.setString(7, Gadgets.left(oPart.getDisposition(), 100)) [FD]
Line_25 $$ oStmt = oConn.prepareStatement(sSQL) --> Line_73 $$ oStmt.setString(7, Gadgets.left(oPart.getDisposition(), 100)) [FD]
Line_28 $$ BodyPart oPart = oParts.getBodyPart(p) --> Line_73 $$ oStmt.setString(7, Gadgets.left(oPart.getDisposition(), 100)) [FD]
Line_66 $$ if (!bForwardedAttachment) --> Line_74 $$ oStmt.setInt(8, oPart.getSize() > 0 ? oPart.getSize() : byOutPart.size()) [CD]
Line_7 $$ PreparedStatement oStmt = null --> Line_74 $$ oStmt.setInt(8, oPart.getSize() > 0 ? oPart.getSize() : byOutPart.size()) [FD]
Line_25 $$ oStmt = oConn.prepareStatement(sSQL) --> Line_74 $$ oStmt.setInt(8, oPart.getSize() > 0 ? oPart.getSize() : byOutPart.size()) [FD]
Line_28 $$ BodyPart oPart = oParts.getBodyPart(p) --> Line_74 $$ oStmt.setInt(8, oPart.getSize() > 0 ? oPart.getSize() : byOutPart.size()) [FD]
Line_29 $$ byOutPart = new ByteArrayOutputStream(oPart.getSize() > 0 ? oPart.getSize() : 131072) --> Line_74 $$ oStmt.setInt(8, oPart.getSize() > 0 ? oPart.getSize() : byOutPart.size()) [FD]
Line_9 $$ ByteArrayOutputStream byOutPart --> Line_74 $$ oStmt.setInt(8, oPart.getSize() > 0 ? oPart.getSize() : byOutPart.size()) [FD]
Line_66 $$ if (!bForwardedAttachment) --> Line_75 $$ oStmt.setString(9, Gadgets.left(MimeUtility.decodeText(oPart.getDescription()), 254)) [CD]
Line_28 $$ BodyPart oPart = oParts.getBodyPart(p) --> Line_75 $$ oStmt.setString(9, Gadgets.left(MimeUtility.decodeText(oPart.getDescription()), 254)) [FD]
Line_7 $$ PreparedStatement oStmt = null --> Line_75 $$ oStmt.setString(9, Gadgets.left(MimeUtility.decodeText(oPart.getDescription()), 254)) [FD]
Line_25 $$ oStmt = oConn.prepareStatement(sSQL) --> Line_75 $$ oStmt.setString(9, Gadgets.left(MimeUtility.decodeText(oPart.getDescription()), 254)) [FD]
Line_66 $$ if (!bForwardedAttachment) --> Line_76 $$ DebugFile.writeln("file name is " + oPart.getFileName()) [CD]
Line_28 $$ BodyPart oPart = oParts.getBodyPart(p) --> Line_76 $$ DebugFile.writeln("file name is " + oPart.getFileName()) [FD]
Line_66 $$ if (!bForwardedAttachment) --> Line_77 $$ oStmt.setString(10, Gadgets.left(MimeUtility.decodeText(oPart.getFileName()), 254)) [CD]
Line_28 $$ BodyPart oPart = oParts.getBodyPart(p) --> Line_77 $$ oStmt.setString(10, Gadgets.left(MimeUtility.decodeText(oPart.getFileName()), 254)) [FD]
Line_7 $$ PreparedStatement oStmt = null --> Line_77 $$ oStmt.setString(10, Gadgets.left(MimeUtility.decodeText(oPart.getFileName()), 254)) [FD]
Line_25 $$ oStmt = oConn.prepareStatement(sSQL) --> Line_77 $$ oStmt.setString(10, Gadgets.left(MimeUtility.decodeText(oPart.getFileName()), 254)) [FD]
Line_66 $$ if (!bForwardedAttachment) --> Line_78 $$ oStmt.setBinaryStream(11, new ByteArrayInputStream(byOutPart.toByteArray()), byOutPart.size()) [CD]
Line_7 $$ PreparedStatement oStmt = null --> Line_78 $$ oStmt.setBinaryStream(11, new ByteArrayInputStream(byOutPart.toByteArray()), byOutPart.size()) [FD]
Line_25 $$ oStmt = oConn.prepareStatement(sSQL) --> Line_78 $$ oStmt.setBinaryStream(11, new ByteArrayInputStream(byOutPart.toByteArray()), byOutPart.size()) [FD]
Line_29 $$ byOutPart = new ByteArrayOutputStream(oPart.getSize() > 0 ? oPart.getSize() : 131072) --> Line_78 $$ oStmt.setBinaryStream(11, new ByteArrayInputStream(byOutPart.toByteArray()), byOutPart.size()) [FD]
Line_9 $$ ByteArrayOutputStream byOutPart --> Line_78 $$ oStmt.setBinaryStream(11, new ByteArrayInputStream(byOutPart.toByteArray()), byOutPart.size()) [FD]
Line_66 $$ if (!bForwardedAttachment) --> Line_79 $$ DebugFile.writeln("PreparedStatement.executeUpdate()") [CD]
Line_66 $$ if (!bForwardedAttachment) --> Line_80 $$ oStmt.executeUpdate() [CD]
Line_7 $$ PreparedStatement oStmt = null --> Line_80 $$ oStmt.executeUpdate() [FD]
Line_25 $$ oStmt = oConn.prepareStatement(sSQL) --> Line_80 $$ oStmt.executeUpdate() [FD]
Line_26 $$ for (int p = 0; p < iParts; p++) --> Line_82 $$ byOutPart.close() [CD]
Line_29 $$ byOutPart = new ByteArrayOutputStream(oPart.getSize() > 0 ? oPart.getSize() : 131072) --> Line_82 $$ byOutPart.close() [FD]
Line_9 $$ ByteArrayOutputStream byOutPart --> Line_82 $$ byOutPart.close() [FD]
Line_26 $$ for (int p = 0; p < iParts; p++) --> Line_83 $$ byOutPart = null [CD]
Line_29 $$ byOutPart = new ByteArrayOutputStream(oPart.getSize() > 0 ? oPart.getSize() : 131072) --> Line_83 $$ byOutPart = null [FD]
Line_9 $$ ByteArrayOutputStream byOutPart --> Line_83 $$ byOutPart = null [FD]
Line_26 $$ for (int p = 0; p < iParts; p++) --> Line_84 $$ oContentTxt = null [CD]
Line_8 $$ Blob oContentTxt --> Line_84 $$ oContentTxt = null [FD]
Line_26 $$ for (int p = 0; p < iParts; p++) --> Line_85 $$ if ((iOpenMode & MODE_MBOX) != 0) [CD]
Line_10 $$ int iPrevPart = 0, iThisPart = 0, iNextPart = 0, iPartStart = 0 --> Line_85 $$ if ((iOpenMode & MODE_MBOX) != 0) [FD]
Line_17 $$ iPrevPart = sMsgCharSeq.indexOf(sBoundary, iPrevPart) --> Line_85 $$ if ((iOpenMode & MODE_MBOX) != 0) [FD]
Line_19 $$ iPrevPart += sBoundary.length() --> Line_85 $$ if ((iOpenMode & MODE_MBOX) != 0) [FD]
Line_40 $$ iNextPart = sMsgCharSeq.indexOf(sBoundary, iPartStart) --> Line_85 $$ if ((iOpenMode & MODE_MBOX) != 0) [FD]
Line_43 $$ iNextPart = sMsgCharSeq.length() --> Line_85 $$ if ((iOpenMode & MODE_MBOX) != 0) [FD]
Line_15 $$ if (iParts > 0) --> Line_87 $$ DebugFile.writeln("PreparedStatement.close()") [CD]
Line_15 $$ if (iParts > 0) --> Line_88 $$ oStmt.close() [CD]
Line_7 $$ PreparedStatement oStmt = null --> Line_88 $$ oStmt.close() [FD]
Line_25 $$ oStmt = oConn.prepareStatement(sSQL) --> Line_88 $$ oStmt.close() [FD]
Line_91 $$ if (DebugFile.trace) --> Line_92 $$ DebugFile.writeln("SQLException " + e.getMessage()) [CD]
Line_91 $$ if (DebugFile.trace) --> Line_93 $$ DebugFile.decIdent() [CD]
Line_7 $$ PreparedStatement oStmt = null --> Line_95 $$ if (null != oStmt) [FD]
Line_25 $$ oStmt = oConn.prepareStatement(sSQL) --> Line_95 $$ if (null != oStmt) [FD]
Line_7 $$ PreparedStatement oStmt = null --> Line_97 $$ oStmt.close() [FD]
Line_25 $$ oStmt = oConn.prepareStatement(sSQL) --> Line_97 $$ oStmt.close() [FD]
Line_107 $$ if (DebugFile.trace) --> Line_108 $$ DebugFile.writeln("IOException " + e.getMessage()) [CD]
Line_107 $$ if (DebugFile.trace) --> Line_109 $$ DebugFile.decIdent() [CD]
Line_7 $$ PreparedStatement oStmt = null --> Line_111 $$ if (null != oStmt) [FD]
Line_25 $$ oStmt = oConn.prepareStatement(sSQL) --> Line_111 $$ if (null != oStmt) [FD]
Line_7 $$ PreparedStatement oStmt = null --> Line_113 $$ oStmt.close() [FD]
Line_25 $$ oStmt = oConn.prepareStatement(sSQL) --> Line_113 $$ oStmt.close() [FD]
Line_119 $$ if (DebugFile.trace) --> Line_120 $$ DebugFile.writeln(e.getClass().getName() + " " + e.getMessage()) [CD]
Line_119 $$ if (DebugFile.trace) --> Line_121 $$ DebugFile.decIdent() [CD]
Line_7 $$ PreparedStatement oStmt = null --> Line_123 $$ if (null != oStmt) [FD]
Line_25 $$ oStmt = oConn.prepareStatement(sSQL) --> Line_123 $$ if (null != oStmt) [FD]
Line_7 $$ PreparedStatement oStmt = null --> Line_125 $$ oStmt.close() [FD]
Line_25 $$ oStmt = oConn.prepareStatement(sSQL) --> Line_125 $$ oStmt.close() [FD]
Line_2 $$ private void saveMimeParts(MimeMessage oMsg, String sMsgCharSeq, String sBoundary, String sMsgGuid, String sMsgId, int iPgMessage, int iOffset) throws MessagingException, OutOfMemoryError --> Line_131 $$ if (DebugFile.trace) [CD]
Line_131 $$ if (DebugFile.trace) --> Line_132 $$ DebugFile.decIdent() [CD]
Line_131 $$ if (DebugFile.trace) --> Line_133 $$ DebugFile.writeln("End DBFolder.saveMimeParts()") [CD]
Line_83 $$ byOutPart = null --> Line_30 $$ oPart.writeTo(byOutPart) [FD]
Line_85 $$ if ((iOpenMode & MODE_MBOX) != 0) --> Line_32 $$ iThisPart = sMsgCharSeq.indexOf(sBoundary, iPrevPart) [FD]
Line_43 $$ iNextPart = sMsgCharSeq.length() --> Line_41 $$ if (iNextPart < 0) [FD]
Line_83 $$ byOutPart = null --> Line_55 $$ ByteArrayInputStream byInStrm = new ByteArrayInputStream(byOutPart.toByteArray()) [FD]
Line_83 $$ byOutPart = null --> Line_74 $$ oStmt.setInt(8, oPart.getSize() > 0 ? oPart.getSize() : byOutPart.size()) [FD]
Line_83 $$ byOutPart = null --> Line_78 $$ oStmt.setBinaryStream(11, new ByteArrayInputStream(byOutPart.toByteArray()), byOutPart.size()) [FD]
Line_83 $$ byOutPart = null --> Line_82 $$ byOutPart.close() [FD]
