Line_2 $$ public void cleanup(long timeout) throws PersisterException --> Line_3 $$ long threshold = System.currentTimeMillis() - timeout [CD]
Line_2 $$ public void cleanup(long timeout) throws PersisterException --> Line_4 $$ Connection conn = null [CD]
Line_2 $$ public void cleanup(long timeout) throws PersisterException --> Line_5 $$ PreparedStatement ps = null [CD]
Line_4 $$ Connection conn = null --> Line_7 $$ conn = _ds.getConnection() [FD]
Line_4 $$ Connection conn = null --> Line_8 $$ conn.setAutoCommit(true) [FD]
Line_7 $$ conn = _ds.getConnection() --> Line_8 $$ conn.setAutoCommit(true) [FD]
Line_5 $$ PreparedStatement ps = null --> Line_9 $$ ps = conn.prepareStatement("delete from " + _table_name + " where " + _ts_col + " < ?") [FD]
Line_4 $$ Connection conn = null --> Line_9 $$ ps = conn.prepareStatement("delete from " + _table_name + " where " + _ts_col + " < ?") [FD]
Line_7 $$ conn = _ds.getConnection() --> Line_9 $$ ps = conn.prepareStatement("delete from " + _table_name + " where " + _ts_col + " < ?") [FD]
Line_5 $$ PreparedStatement ps = null --> Line_10 $$ ps.setLong(1, threshold) [FD]
Line_9 $$ ps = conn.prepareStatement("delete from " + _table_name + " where " + _ts_col + " < ?") --> Line_10 $$ ps.setLong(1, threshold) [FD]
Line_3 $$ long threshold = System.currentTimeMillis() - timeout --> Line_10 $$ ps.setLong(1, threshold) [FD]
Line_5 $$ PreparedStatement ps = null --> Line_11 $$ ps.executeUpdate() [FD]
Line_9 $$ ps = conn.prepareStatement("delete from " + _table_name + " where " + _ts_col + " < ?") --> Line_11 $$ ps.executeUpdate() [FD]
Line_4 $$ Connection conn = null --> Line_13 $$ if (conn != null) [FD]
Line_7 $$ conn = _ds.getConnection() --> Line_13 $$ if (conn != null) [FD]
Line_4 $$ Connection conn = null --> Line_15 $$ conn.rollback() [FD]
Line_7 $$ conn = _ds.getConnection() --> Line_15 $$ conn.rollback() [FD]
Line_5 $$ PreparedStatement ps = null --> Line_21 $$ if (ps != null) [FD]
Line_9 $$ ps = conn.prepareStatement("delete from " + _table_name + " where " + _ts_col + " < ?") --> Line_21 $$ if (ps != null) [FD]
Line_5 $$ PreparedStatement ps = null --> Line_23 $$ ps.close() [FD]
Line_9 $$ ps = conn.prepareStatement("delete from " + _table_name + " where " + _ts_col + " < ?") --> Line_23 $$ ps.close() [FD]
Line_4 $$ Connection conn = null --> Line_27 $$ if (conn != null) [FD]
Line_7 $$ conn = _ds.getConnection() --> Line_27 $$ if (conn != null) [FD]
Line_4 $$ Connection conn = null --> Line_29 $$ conn.close() [FD]
Line_7 $$ conn = _ds.getConnection() --> Line_29 $$ conn.close() [FD]
