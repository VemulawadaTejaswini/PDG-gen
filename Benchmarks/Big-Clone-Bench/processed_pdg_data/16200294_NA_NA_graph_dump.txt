Line_2 $$ public String fetchElectronicEdition(Publication pub) --> Line_3 $$ final String url = pub.getEe() [CD]
Line_2 $$ public String fetchElectronicEdition(Publication pub) --> Line_3 $$ final String url = pub.getEe() [FD]
Line_2 $$ public String fetchElectronicEdition(Publication pub) --> Line_4 $$ HttpMethod method = null [CD]
Line_2 $$ public String fetchElectronicEdition(Publication pub) --> Line_5 $$ String responseBody = "" [CD]
Line_2 $$ public String fetchElectronicEdition(Publication pub) --> Line_6 $$ method = new GetMethod(url) [CD]
Line_4 $$ HttpMethod method = null --> Line_6 $$ method = new GetMethod(url) [FD]
Line_2 $$ public String fetchElectronicEdition(Publication pub) --> Line_7 $$ method.setFollowRedirects(true) [CD]
Line_4 $$ HttpMethod method = null --> Line_7 $$ method.setFollowRedirects(true) [FD]
Line_6 $$ method = new GetMethod(url) --> Line_7 $$ method.setFollowRedirects(true) [FD]
Line_4 $$ HttpMethod method = null --> Line_9 $$ if (StringUtils.isNotBlank(method.getURI().getScheme())) [FD]
Line_6 $$ method = new GetMethod(url) --> Line_9 $$ if (StringUtils.isNotBlank(method.getURI().getScheme())) [FD]
Line_9 $$ if (StringUtils.isNotBlank(method.getURI().getScheme())) --> Line_10 $$ InputStream is = null [CD]
Line_9 $$ if (StringUtils.isNotBlank(method.getURI().getScheme())) --> Line_11 $$ StringWriter writer = new StringWriter() [CD]
Line_4 $$ HttpMethod method = null --> Line_13 $$ client.executeMethod(method) [FD]
Line_6 $$ method = new GetMethod(url) --> Line_13 $$ client.executeMethod(method) [FD]
Line_4 $$ HttpMethod method = null --> Line_14 $$ Header contentType = method.getResponseHeader("Content-Type") [FD]
Line_6 $$ method = new GetMethod(url) --> Line_14 $$ Header contentType = method.getResponseHeader("Content-Type") [FD]
Line_14 $$ Header contentType = method.getResponseHeader("Content-Type") --> Line_15 $$ if (contentType != null && StringUtils.isNotBlank(contentType.getValue()) && contentType.getValue().indexOf("text/html") >= 0) [FD]
Line_15 $$ if (contentType != null && StringUtils.isNotBlank(contentType.getValue()) && contentType.getValue().indexOf("text/html") >= 0) --> Line_16 $$ is = method.getResponseBodyAsStream() [CD]
Line_10 $$ InputStream is = null --> Line_16 $$ is = method.getResponseBodyAsStream() [FD]
Line_4 $$ HttpMethod method = null --> Line_16 $$ is = method.getResponseBodyAsStream() [FD]
Line_6 $$ method = new GetMethod(url) --> Line_16 $$ is = method.getResponseBodyAsStream() [FD]
Line_15 $$ if (contentType != null && StringUtils.isNotBlank(contentType.getValue()) && contentType.getValue().indexOf("text/html") >= 0) --> Line_17 $$ IOUtils.copy(is, writer) [CD]
Line_10 $$ InputStream is = null --> Line_17 $$ IOUtils.copy(is, writer) [FD]
Line_16 $$ is = method.getResponseBodyAsStream() --> Line_17 $$ IOUtils.copy(is, writer) [FD]
Line_11 $$ StringWriter writer = new StringWriter() --> Line_17 $$ IOUtils.copy(is, writer) [FD]
Line_15 $$ if (contentType != null && StringUtils.isNotBlank(contentType.getValue()) && contentType.getValue().indexOf("text/html") >= 0) --> Line_18 $$ responseBody = writer.toString() [CD]
Line_5 $$ String responseBody = "" --> Line_18 $$ responseBody = writer.toString() [FD]
Line_11 $$ StringWriter writer = new StringWriter() --> Line_18 $$ responseBody = writer.toString() [FD]
Line_15 $$ if (contentType != null && StringUtils.isNotBlank(contentType.getValue()) && contentType.getValue().indexOf("text/html") >= 0) --> Line_20 $$ logger.info("ignoring non-text/html response from page: " + url + " content-type:" + contentType) [CD]
Line_10 $$ InputStream is = null --> Line_28 $$ IOUtils.closeQuietly(is) [FD]
Line_16 $$ is = method.getResponseBodyAsStream() --> Line_28 $$ IOUtils.closeQuietly(is) [FD]
Line_11 $$ StringWriter writer = new StringWriter() --> Line_29 $$ IOUtils.closeQuietly(writer) [FD]
Line_4 $$ HttpMethod method = null --> Line_35 $$ method.releaseConnection() [FD]
Line_6 $$ method = new GetMethod(url) --> Line_35 $$ method.releaseConnection() [FD]
Line_2 $$ public String fetchElectronicEdition(Publication pub) --> Line_37 $$ return responseBody [CD]
