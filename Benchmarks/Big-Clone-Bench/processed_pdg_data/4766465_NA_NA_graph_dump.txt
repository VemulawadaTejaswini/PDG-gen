Line_2 $$ private void saveVideo(URL url, DownloadTask task) --> Line_3 $$ if (url == null) [CD]
Line_2 $$ private void saveVideo(URL url, DownloadTask task) --> Line_3 $$ if (url == null) [FD]
Line_3 $$ if (url == null) --> Line_4 $$ return [CD]
Line_2 $$ private void saveVideo(URL url, DownloadTask task) --> Line_6 $$ FileOutputStream out = null [CD]
Line_2 $$ private void saveVideo(URL url, DownloadTask task) --> Line_7 $$ InputStream stream = null [CD]
Line_2 $$ private void saveVideo(URL url, DownloadTask task) --> Line_8 $$ BufferedInputStream bis = null [CD]
Line_2 $$ private void saveVideo(URL url, DownloadTask task) --> Line_9 $$ BufferedOutputStream bos = null [CD]
Line_2 $$ private void saveVideo(URL url, DownloadTask task) --> Line_10 $$ File file = new File(task.source.getPreferredVideoLocation("mp4")) [CD]
Line_2 $$ private void saveVideo(URL url, DownloadTask task) --> Line_11 $$ publish("Starting download to file:" + file.getAbsolutePath()) [CD]
Line_10 $$ File file = new File(task.source.getPreferredVideoLocation("mp4")) --> Line_11 $$ publish("Starting download to file:" + file.getAbsolutePath()) [FD]
Line_6 $$ FileOutputStream out = null --> Line_13 $$ out = new FileOutputStream(file) [FD]
Line_2 $$ private void saveVideo(URL url, DownloadTask task) --> Line_14 $$ URLConnection uc = url.openConnection() [FD]
Line_14 $$ URLConnection uc = url.openConnection() --> Line_15 $$ String contentType = uc.getContentType() [FD]
Line_14 $$ URLConnection uc = url.openConnection() --> Line_16 $$ int length = uc.getContentLength() [FD]
Line_16 $$ int length = uc.getContentLength() --> Line_17 $$ StatisticsStorage.numberofdownloadedbytes += length [FD]
Line_7 $$ InputStream stream = null --> Line_19 $$ stream = uc.getInputStream() [FD]
Line_14 $$ URLConnection uc = url.openConnection() --> Line_19 $$ stream = uc.getInputStream() [FD]
Line_8 $$ BufferedInputStream bis = null --> Line_20 $$ bis = new BufferedInputStream(stream) [FD]
Line_9 $$ BufferedOutputStream bos = null --> Line_21 $$ bos = new BufferedOutputStream(out) [FD]
Line_25 $$ int nextbyte --> Line_26 $$ while ((nextbyte = bis.read()) != -1) [FD]
Line_8 $$ BufferedInputStream bis = null --> Line_26 $$ while ((nextbyte = bis.read()) != -1) [FD]
Line_20 $$ bis = new BufferedInputStream(stream) --> Line_26 $$ while ((nextbyte = bis.read()) != -1) [FD]
Line_26 $$ while ((nextbyte = bis.read()) != -1) --> Line_27 $$ bos.write(nextbyte) [CD]
Line_26 $$ while ((nextbyte = bis.read()) != -1) --> Line_27 $$ bos.write(nextbyte) [FD]
Line_9 $$ BufferedOutputStream bos = null --> Line_27 $$ bos.write(nextbyte) [FD]
Line_21 $$ bos = new BufferedOutputStream(out) --> Line_27 $$ bos.write(nextbyte) [FD]
Line_25 $$ int nextbyte --> Line_27 $$ bos.write(nextbyte) [FD]
Line_26 $$ while ((nextbyte = bis.read()) != -1) --> Line_28 $$ i++ [CD]
Line_23 $$ int i = 0 --> Line_28 $$ i++ [FD]
Line_26 $$ while ((nextbyte = bis.read()) != -1) --> Line_29 $$ if (System.currentTimeMillis() - time >= 1000) [CD]
Line_29 $$ if (System.currentTimeMillis() - time >= 1000) --> Line_30 $$ publish("downloaded " + (i++) + " bytes of " + length + " bytes.") [CD]
Line_23 $$ int i = 0 --> Line_30 $$ publish("downloaded " + (i++) + " bytes of " + length + " bytes.") [FD]
Line_29 $$ if (System.currentTimeMillis() - time >= 1000) --> Line_31 $$ time = System.currentTimeMillis() [CD]
Line_24 $$ long time = System.currentTimeMillis() --> Line_31 $$ time = System.currentTimeMillis() [FD]
Line_29 $$ if (System.currentTimeMillis() - time >= 1000) --> Line_32 $$ int progress = (i - 1) / length [CD]
Line_29 $$ if (System.currentTimeMillis() - time >= 1000) --> Line_33 $$ if (progress <= 100 && progress >= 0) [CD]
Line_32 $$ int progress = (i - 1) / length --> Line_33 $$ if (progress <= 100 && progress >= 0) [FD]
Line_9 $$ BufferedOutputStream bos = null --> Line_36 $$ bos.write(bytes) [FD]
Line_21 $$ bos = new BufferedOutputStream(out) --> Line_36 $$ bos.write(bytes) [FD]
Line_22 $$ byte[] bytes = new byte[1024] --> Line_36 $$ bos.write(bytes) [FD]
Line_2 $$ private void saveVideo(URL url, DownloadTask task) --> Line_38 $$ System.err.println(url) [FD]
Line_6 $$ FileOutputStream out = null --> Line_42 $$ if (out != null) [FD]
Line_13 $$ out = new FileOutputStream(file) --> Line_42 $$ if (out != null) [FD]
Line_7 $$ InputStream stream = null --> Line_43 $$ if (stream != null) [FD]
Line_19 $$ stream = uc.getInputStream() --> Line_43 $$ if (stream != null) [FD]
Line_8 $$ BufferedInputStream bis = null --> Line_44 $$ if (bis != null) [FD]
Line_20 $$ bis = new BufferedInputStream(stream) --> Line_44 $$ if (bis != null) [FD]
Line_9 $$ BufferedOutputStream bos = null --> Line_45 $$ if (bos != null) [FD]
Line_21 $$ bos = new BufferedOutputStream(out) --> Line_45 $$ if (bos != null) [FD]
Line_2 $$ private void saveVideo(URL url, DownloadTask task) --> Line_50 $$ System.out.println("done downloading video") [CD]
Line_2 $$ private void saveVideo(URL url, DownloadTask task) --> Line_51 $$ task.source.setVideo(file.getAbsolutePath()) [CD]
Line_10 $$ File file = new File(task.source.getPreferredVideoLocation("mp4")) --> Line_51 $$ task.source.setVideo(file.getAbsolutePath()) [FD]
Line_2 $$ private void saveVideo(URL url, DownloadTask task) --> Line_52 $$ if (task.source.hasLyrics()) [CD]
Line_52 $$ if (task.source.hasLyrics()) --> Line_53 $$ task.source.getLyrics().setTag("Video", file.getName()) [CD]
Line_10 $$ File file = new File(task.source.getPreferredVideoLocation("mp4")) --> Line_53 $$ task.source.getLyrics().setTag("Video", file.getName()) [FD]
