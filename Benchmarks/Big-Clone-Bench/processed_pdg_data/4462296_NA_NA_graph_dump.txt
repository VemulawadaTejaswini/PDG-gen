Line_2 $$ public synchronized void insertMessage(FrostUnsentMessageObject mo) throws SQLException --> Line_3 $$ AttachmentList files = mo.getAttachmentsOfType(Attachment.FILE) [CD]
Line_2 $$ public synchronized void insertMessage(FrostUnsentMessageObject mo) throws SQLException --> Line_3 $$ AttachmentList files = mo.getAttachmentsOfType(Attachment.FILE) [FD]
Line_2 $$ public synchronized void insertMessage(FrostUnsentMessageObject mo) throws SQLException --> Line_4 $$ AttachmentList boards = mo.getAttachmentsOfType(Attachment.BOARD) [CD]
Line_2 $$ public synchronized void insertMessage(FrostUnsentMessageObject mo) throws SQLException --> Line_4 $$ AttachmentList boards = mo.getAttachmentsOfType(Attachment.BOARD) [FD]
Line_2 $$ public synchronized void insertMessage(FrostUnsentMessageObject mo) throws SQLException --> Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection() [CD]
Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection() --> Line_7 $$ conn.setAutoCommit(false) [FD]
Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection() --> Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO UNSENDMESSAGES (" + "primkey,messageid,inreplyto,board,sendafter,idlinepos,idlinelen,fromname,subject,recipient,msgcontent," + "hasfileattachment,hasboardattachment,timeAdded" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") [FD]
Line_10 $$ Statement stmt = AppLayerDatabase.getInstance().createStatement() --> Line_11 $$ ResultSet rs = stmt.executeQuery("select UNIQUEKEY('UNSENDMESSAGES')") [FD]
Line_11 $$ ResultSet rs = stmt.executeQuery("select UNIQUEKEY('UNSENDMESSAGES')") --> Line_12 $$ if (rs.next()) [FD]
Line_12 $$ if (rs.next()) --> Line_13 $$ identity = new Long(rs.getLong(1)) [CD]
Line_9 $$ Long identity = null --> Line_13 $$ identity = new Long(rs.getLong(1)) [FD]
Line_11 $$ ResultSet rs = stmt.executeQuery("select UNIQUEKEY('UNSENDMESSAGES')") --> Line_13 $$ identity = new Long(rs.getLong(1)) [FD]
Line_12 $$ if (rs.next()) --> Line_15 $$ logger.log(Level.SEVERE, "Could not retrieve a new unique key!") [CD]
Line_11 $$ ResultSet rs = stmt.executeQuery("select UNIQUEKEY('UNSENDMESSAGES')") --> Line_17 $$ rs.close() [FD]
Line_10 $$ Statement stmt = AppLayerDatabase.getInstance().createStatement() --> Line_18 $$ stmt.close() [FD]
Line_2 $$ public synchronized void insertMessage(FrostUnsentMessageObject mo) throws SQLException --> Line_19 $$ mo.setMsgIdentity(identity.longValue()) [FD]
Line_9 $$ Long identity = null --> Line_19 $$ mo.setMsgIdentity(identity.longValue()) [FD]
Line_13 $$ identity = new Long(rs.getLong(1)) --> Line_19 $$ mo.setMsgIdentity(identity.longValue()) [FD]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO UNSENDMESSAGES (" + "primkey,messageid,inreplyto,board,sendafter,idlinepos,idlinelen,fromname,subject,recipient,msgcontent," + "hasfileattachment,hasboardattachment,timeAdded" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_21 $$ ps.setLong(i++, mo.getMsgIdentity()) [FD]
Line_20 $$ int i = 1 --> Line_21 $$ ps.setLong(i++, mo.getMsgIdentity()) [FD]
Line_2 $$ public synchronized void insertMessage(FrostUnsentMessageObject mo) throws SQLException --> Line_21 $$ ps.setLong(i++, mo.getMsgIdentity()) [FD]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO UNSENDMESSAGES (" + "primkey,messageid,inreplyto,board,sendafter,idlinepos,idlinelen,fromname,subject,recipient,msgcontent," + "hasfileattachment,hasboardattachment,timeAdded" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_22 $$ ps.setString(i++, mo.getMessageId()) [FD]
Line_20 $$ int i = 1 --> Line_22 $$ ps.setString(i++, mo.getMessageId()) [FD]
Line_2 $$ public synchronized void insertMessage(FrostUnsentMessageObject mo) throws SQLException --> Line_22 $$ ps.setString(i++, mo.getMessageId()) [FD]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO UNSENDMESSAGES (" + "primkey,messageid,inreplyto,board,sendafter,idlinepos,idlinelen,fromname,subject,recipient,msgcontent," + "hasfileattachment,hasboardattachment,timeAdded" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_23 $$ ps.setString(i++, mo.getInReplyTo()) [FD]
Line_20 $$ int i = 1 --> Line_23 $$ ps.setString(i++, mo.getInReplyTo()) [FD]
Line_2 $$ public synchronized void insertMessage(FrostUnsentMessageObject mo) throws SQLException --> Line_23 $$ ps.setString(i++, mo.getInReplyTo()) [FD]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO UNSENDMESSAGES (" + "primkey,messageid,inreplyto,board,sendafter,idlinepos,idlinelen,fromname,subject,recipient,msgcontent," + "hasfileattachment,hasboardattachment,timeAdded" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_24 $$ ps.setInt(i++, mo.getBoard().getPrimaryKey().intValue()) [FD]
Line_20 $$ int i = 1 --> Line_24 $$ ps.setInt(i++, mo.getBoard().getPrimaryKey().intValue()) [FD]
Line_2 $$ public synchronized void insertMessage(FrostUnsentMessageObject mo) throws SQLException --> Line_24 $$ ps.setInt(i++, mo.getBoard().getPrimaryKey().intValue()) [FD]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO UNSENDMESSAGES (" + "primkey,messageid,inreplyto,board,sendafter,idlinepos,idlinelen,fromname,subject,recipient,msgcontent," + "hasfileattachment,hasboardattachment,timeAdded" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_25 $$ ps.setLong(i++, 0) [FD]
Line_20 $$ int i = 1 --> Line_25 $$ ps.setLong(i++, 0) [FD]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO UNSENDMESSAGES (" + "primkey,messageid,inreplyto,board,sendafter,idlinepos,idlinelen,fromname,subject,recipient,msgcontent," + "hasfileattachment,hasboardattachment,timeAdded" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_26 $$ ps.setInt(i++, mo.getIdLinePos()) [FD]
Line_20 $$ int i = 1 --> Line_26 $$ ps.setInt(i++, mo.getIdLinePos()) [FD]
Line_2 $$ public synchronized void insertMessage(FrostUnsentMessageObject mo) throws SQLException --> Line_26 $$ ps.setInt(i++, mo.getIdLinePos()) [FD]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO UNSENDMESSAGES (" + "primkey,messageid,inreplyto,board,sendafter,idlinepos,idlinelen,fromname,subject,recipient,msgcontent," + "hasfileattachment,hasboardattachment,timeAdded" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_27 $$ ps.setInt(i++, mo.getIdLineLen()) [FD]
Line_20 $$ int i = 1 --> Line_27 $$ ps.setInt(i++, mo.getIdLineLen()) [FD]
Line_2 $$ public synchronized void insertMessage(FrostUnsentMessageObject mo) throws SQLException --> Line_27 $$ ps.setInt(i++, mo.getIdLineLen()) [FD]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO UNSENDMESSAGES (" + "primkey,messageid,inreplyto,board,sendafter,idlinepos,idlinelen,fromname,subject,recipient,msgcontent," + "hasfileattachment,hasboardattachment,timeAdded" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_28 $$ ps.setString(i++, mo.getFromName()) [FD]
Line_20 $$ int i = 1 --> Line_28 $$ ps.setString(i++, mo.getFromName()) [FD]
Line_2 $$ public synchronized void insertMessage(FrostUnsentMessageObject mo) throws SQLException --> Line_28 $$ ps.setString(i++, mo.getFromName()) [FD]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO UNSENDMESSAGES (" + "primkey,messageid,inreplyto,board,sendafter,idlinepos,idlinelen,fromname,subject,recipient,msgcontent," + "hasfileattachment,hasboardattachment,timeAdded" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_29 $$ ps.setString(i++, mo.getSubject()) [FD]
Line_20 $$ int i = 1 --> Line_29 $$ ps.setString(i++, mo.getSubject()) [FD]
Line_2 $$ public synchronized void insertMessage(FrostUnsentMessageObject mo) throws SQLException --> Line_29 $$ ps.setString(i++, mo.getSubject()) [FD]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO UNSENDMESSAGES (" + "primkey,messageid,inreplyto,board,sendafter,idlinepos,idlinelen,fromname,subject,recipient,msgcontent," + "hasfileattachment,hasboardattachment,timeAdded" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_30 $$ ps.setString(i++, mo.getRecipientName()) [FD]
Line_20 $$ int i = 1 --> Line_30 $$ ps.setString(i++, mo.getRecipientName()) [FD]
Line_2 $$ public synchronized void insertMessage(FrostUnsentMessageObject mo) throws SQLException --> Line_30 $$ ps.setString(i++, mo.getRecipientName()) [FD]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO UNSENDMESSAGES (" + "primkey,messageid,inreplyto,board,sendafter,idlinepos,idlinelen,fromname,subject,recipient,msgcontent," + "hasfileattachment,hasboardattachment,timeAdded" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_31 $$ ps.setString(i++, mo.getContent()) [FD]
Line_20 $$ int i = 1 --> Line_31 $$ ps.setString(i++, mo.getContent()) [FD]
Line_2 $$ public synchronized void insertMessage(FrostUnsentMessageObject mo) throws SQLException --> Line_31 $$ ps.setString(i++, mo.getContent()) [FD]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO UNSENDMESSAGES (" + "primkey,messageid,inreplyto,board,sendafter,idlinepos,idlinelen,fromname,subject,recipient,msgcontent," + "hasfileattachment,hasboardattachment,timeAdded" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_32 $$ ps.setBoolean(i++, (files.size() > 0)) [FD]
Line_20 $$ int i = 1 --> Line_32 $$ ps.setBoolean(i++, (files.size() > 0)) [FD]
Line_3 $$ AttachmentList files = mo.getAttachmentsOfType(Attachment.FILE) --> Line_32 $$ ps.setBoolean(i++, (files.size() > 0)) [FD]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO UNSENDMESSAGES (" + "primkey,messageid,inreplyto,board,sendafter,idlinepos,idlinelen,fromname,subject,recipient,msgcontent," + "hasfileattachment,hasboardattachment,timeAdded" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_33 $$ ps.setBoolean(i++, (boards.size() > 0)) [FD]
Line_20 $$ int i = 1 --> Line_33 $$ ps.setBoolean(i++, (boards.size() > 0)) [FD]
Line_4 $$ AttachmentList boards = mo.getAttachmentsOfType(Attachment.BOARD) --> Line_33 $$ ps.setBoolean(i++, (boards.size() > 0)) [FD]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO UNSENDMESSAGES (" + "primkey,messageid,inreplyto,board,sendafter,idlinepos,idlinelen,fromname,subject,recipient,msgcontent," + "hasfileattachment,hasboardattachment,timeAdded" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_34 $$ ps.setLong(i++, mo.getTimeAdded()) [FD]
Line_20 $$ int i = 1 --> Line_34 $$ ps.setLong(i++, mo.getTimeAdded()) [FD]
Line_2 $$ public synchronized void insertMessage(FrostUnsentMessageObject mo) throws SQLException --> Line_34 $$ ps.setLong(i++, mo.getTimeAdded()) [FD]
Line_35 $$ int inserted = 0 --> Line_37 $$ inserted = ps.executeUpdate() [FD]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO UNSENDMESSAGES (" + "primkey,messageid,inreplyto,board,sendafter,idlinepos,idlinelen,fromname,subject,recipient,msgcontent," + "hasfileattachment,hasboardattachment,timeAdded" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_37 $$ inserted = ps.executeUpdate() [FD]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO UNSENDMESSAGES (" + "primkey,messageid,inreplyto,board,sendafter,idlinepos,idlinelen,fromname,subject,recipient,msgcontent," + "hasfileattachment,hasboardattachment,timeAdded" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)") --> Line_39 $$ ps.close() [FD]
Line_35 $$ int inserted = 0 --> Line_41 $$ if (inserted == 0) [FD]
Line_37 $$ inserted = ps.executeUpdate() --> Line_41 $$ if (inserted == 0) [FD]
Line_41 $$ if (inserted == 0) --> Line_42 $$ logger.log(Level.SEVERE, "message insert returned 0 !!!") [CD]
Line_41 $$ if (inserted == 0) --> Line_43 $$ return [CD]
Line_2 $$ public synchronized void insertMessage(FrostUnsentMessageObject mo) throws SQLException --> Line_45 $$ mo.setMsgIdentity(identity.longValue()) [FD]
Line_9 $$ Long identity = null --> Line_45 $$ mo.setMsgIdentity(identity.longValue()) [FD]
Line_13 $$ identity = new Long(rs.getLong(1)) --> Line_45 $$ mo.setMsgIdentity(identity.longValue()) [FD]
Line_3 $$ AttachmentList files = mo.getAttachmentsOfType(Attachment.FILE) --> Line_46 $$ if (files.size() > 0) [FD]
Line_46 $$ if (files.size() > 0) --> Line_47 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO UNSENDFILEATTACHMENTS" + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)") [CD]
Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection() --> Line_47 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO UNSENDFILEATTACHMENTS" + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)") [FD]
Line_46 $$ if (files.size() > 0) --> Line_48 $$ for (Iterator it = files.iterator(); it.hasNext(); ) [CD]
Line_3 $$ AttachmentList files = mo.getAttachmentsOfType(Attachment.FILE) --> Line_48 $$ for (Iterator it = files.iterator(); it.hasNext(); ) [FD]
Line_48 $$ for (Iterator it = files.iterator(); it.hasNext(); ) --> Line_49 $$ FileAttachment fa = (FileAttachment) it.next() [CD]
Line_48 $$ for (Iterator it = files.iterator(); it.hasNext(); ) --> Line_49 $$ FileAttachment fa = (FileAttachment) it.next() [FD]
Line_48 $$ for (Iterator it = files.iterator(); it.hasNext(); ) --> Line_50 $$ int ix = 1 [CD]
Line_48 $$ for (Iterator it = files.iterator(); it.hasNext(); ) --> Line_51 $$ p.setLong(ix++, mo.getMsgIdentity()) [CD]
Line_47 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO UNSENDFILEATTACHMENTS" + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)") --> Line_51 $$ p.setLong(ix++, mo.getMsgIdentity()) [FD]
Line_50 $$ int ix = 1 --> Line_51 $$ p.setLong(ix++, mo.getMsgIdentity()) [FD]
Line_2 $$ public synchronized void insertMessage(FrostUnsentMessageObject mo) throws SQLException --> Line_51 $$ p.setLong(ix++, mo.getMsgIdentity()) [FD]
Line_48 $$ for (Iterator it = files.iterator(); it.hasNext(); ) --> Line_52 $$ p.setString(ix++, fa.getInternalFile().getPath()) [CD]
Line_47 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO UNSENDFILEATTACHMENTS" + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)") --> Line_52 $$ p.setString(ix++, fa.getInternalFile().getPath()) [FD]
Line_50 $$ int ix = 1 --> Line_52 $$ p.setString(ix++, fa.getInternalFile().getPath()) [FD]
Line_49 $$ FileAttachment fa = (FileAttachment) it.next() --> Line_52 $$ p.setString(ix++, fa.getInternalFile().getPath()) [FD]
Line_48 $$ for (Iterator it = files.iterator(); it.hasNext(); ) --> Line_53 $$ p.setLong(ix++, fa.getFileSize()) [CD]
Line_47 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO UNSENDFILEATTACHMENTS" + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)") --> Line_53 $$ p.setLong(ix++, fa.getFileSize()) [FD]
Line_50 $$ int ix = 1 --> Line_53 $$ p.setLong(ix++, fa.getFileSize()) [FD]
Line_49 $$ FileAttachment fa = (FileAttachment) it.next() --> Line_53 $$ p.setLong(ix++, fa.getFileSize()) [FD]
Line_48 $$ for (Iterator it = files.iterator(); it.hasNext(); ) --> Line_54 $$ p.setString(ix++, fa.getKey()) [CD]
Line_47 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO UNSENDFILEATTACHMENTS" + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)") --> Line_54 $$ p.setString(ix++, fa.getKey()) [FD]
Line_50 $$ int ix = 1 --> Line_54 $$ p.setString(ix++, fa.getKey()) [FD]
Line_49 $$ FileAttachment fa = (FileAttachment) it.next() --> Line_54 $$ p.setString(ix++, fa.getKey()) [FD]
Line_48 $$ for (Iterator it = files.iterator(); it.hasNext(); ) --> Line_55 $$ int ins = p.executeUpdate() [CD]
Line_47 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO UNSENDFILEATTACHMENTS" + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)") --> Line_55 $$ int ins = p.executeUpdate() [FD]
Line_48 $$ for (Iterator it = files.iterator(); it.hasNext(); ) --> Line_56 $$ if (ins == 0) [CD]
Line_55 $$ int ins = p.executeUpdate() --> Line_56 $$ if (ins == 0) [FD]
Line_56 $$ if (ins == 0) --> Line_57 $$ logger.log(Level.SEVERE, "fileattachment insert returned 0 !!!") [CD]
Line_46 $$ if (files.size() > 0) --> Line_60 $$ p.close() [CD]
Line_47 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO UNSENDFILEATTACHMENTS" + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)") --> Line_60 $$ p.close() [FD]
Line_4 $$ AttachmentList boards = mo.getAttachmentsOfType(Attachment.BOARD) --> Line_62 $$ if (boards.size() > 0) [FD]
Line_62 $$ if (boards.size() > 0) --> Line_63 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO UNSENDBOARDATTACHMENTS" + " (msgref,boardname,boardpublickey,boardprivatekey,boarddescription)" + " VALUES (?,?,?,?,?)") [CD]
Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection() --> Line_63 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO UNSENDBOARDATTACHMENTS" + " (msgref,boardname,boardpublickey,boardprivatekey,boarddescription)" + " VALUES (?,?,?,?,?)") [FD]
Line_62 $$ if (boards.size() > 0) --> Line_64 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) [CD]
Line_48 $$ for (Iterator it = files.iterator(); it.hasNext(); ) --> Line_64 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) [FD]
Line_4 $$ AttachmentList boards = mo.getAttachmentsOfType(Attachment.BOARD) --> Line_64 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) [FD]
Line_64 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) --> Line_65 $$ BoardAttachment ba = (BoardAttachment) it.next() [CD]
Line_64 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) --> Line_65 $$ BoardAttachment ba = (BoardAttachment) it.next() [FD]
Line_48 $$ for (Iterator it = files.iterator(); it.hasNext(); ) --> Line_65 $$ BoardAttachment ba = (BoardAttachment) it.next() [FD]
Line_64 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) --> Line_66 $$ Board b = ba.getBoardObj() [CD]
Line_65 $$ BoardAttachment ba = (BoardAttachment) it.next() --> Line_66 $$ Board b = ba.getBoardObj() [FD]
Line_64 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) --> Line_67 $$ int ix = 1 [CD]
Line_64 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) --> Line_68 $$ p.setLong(ix++, mo.getMsgIdentity()) [CD]
Line_47 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO UNSENDFILEATTACHMENTS" + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)") --> Line_68 $$ p.setLong(ix++, mo.getMsgIdentity()) [FD]
Line_67 $$ int ix = 1 --> Line_68 $$ p.setLong(ix++, mo.getMsgIdentity()) [FD]
Line_50 $$ int ix = 1 --> Line_68 $$ p.setLong(ix++, mo.getMsgIdentity()) [FD]
Line_2 $$ public synchronized void insertMessage(FrostUnsentMessageObject mo) throws SQLException --> Line_68 $$ p.setLong(ix++, mo.getMsgIdentity()) [FD]
Line_64 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) --> Line_69 $$ p.setString(ix++, b.getNameLowerCase()) [CD]
Line_47 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO UNSENDFILEATTACHMENTS" + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)") --> Line_69 $$ p.setString(ix++, b.getNameLowerCase()) [FD]
Line_67 $$ int ix = 1 --> Line_69 $$ p.setString(ix++, b.getNameLowerCase()) [FD]
Line_50 $$ int ix = 1 --> Line_69 $$ p.setString(ix++, b.getNameLowerCase()) [FD]
Line_66 $$ Board b = ba.getBoardObj() --> Line_69 $$ p.setString(ix++, b.getNameLowerCase()) [FD]
Line_64 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) --> Line_70 $$ p.setString(ix++, b.getPublicKey()) [CD]
Line_47 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO UNSENDFILEATTACHMENTS" + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)") --> Line_70 $$ p.setString(ix++, b.getPublicKey()) [FD]
Line_67 $$ int ix = 1 --> Line_70 $$ p.setString(ix++, b.getPublicKey()) [FD]
Line_50 $$ int ix = 1 --> Line_70 $$ p.setString(ix++, b.getPublicKey()) [FD]
Line_66 $$ Board b = ba.getBoardObj() --> Line_70 $$ p.setString(ix++, b.getPublicKey()) [FD]
Line_64 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) --> Line_71 $$ p.setString(ix++, b.getPrivateKey()) [CD]
Line_47 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO UNSENDFILEATTACHMENTS" + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)") --> Line_71 $$ p.setString(ix++, b.getPrivateKey()) [FD]
Line_67 $$ int ix = 1 --> Line_71 $$ p.setString(ix++, b.getPrivateKey()) [FD]
Line_50 $$ int ix = 1 --> Line_71 $$ p.setString(ix++, b.getPrivateKey()) [FD]
Line_66 $$ Board b = ba.getBoardObj() --> Line_71 $$ p.setString(ix++, b.getPrivateKey()) [FD]
Line_64 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) --> Line_72 $$ p.setString(ix++, b.getDescription()) [CD]
Line_47 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO UNSENDFILEATTACHMENTS" + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)") --> Line_72 $$ p.setString(ix++, b.getDescription()) [FD]
Line_67 $$ int ix = 1 --> Line_72 $$ p.setString(ix++, b.getDescription()) [FD]
Line_50 $$ int ix = 1 --> Line_72 $$ p.setString(ix++, b.getDescription()) [FD]
Line_66 $$ Board b = ba.getBoardObj() --> Line_72 $$ p.setString(ix++, b.getDescription()) [FD]
Line_64 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) --> Line_73 $$ int ins = p.executeUpdate() [CD]
Line_47 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO UNSENDFILEATTACHMENTS" + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)") --> Line_73 $$ int ins = p.executeUpdate() [FD]
Line_64 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) --> Line_74 $$ if (ins == 0) [CD]
Line_73 $$ int ins = p.executeUpdate() --> Line_74 $$ if (ins == 0) [FD]
Line_55 $$ int ins = p.executeUpdate() --> Line_74 $$ if (ins == 0) [FD]
Line_74 $$ if (ins == 0) --> Line_75 $$ logger.log(Level.SEVERE, "boardattachment insert returned 0 !!!") [CD]
Line_62 $$ if (boards.size() > 0) --> Line_78 $$ p.close() [CD]
Line_47 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO UNSENDFILEATTACHMENTS" + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)") --> Line_78 $$ p.close() [FD]
Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection() --> Line_80 $$ conn.commit() [FD]
Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection() --> Line_81 $$ conn.setAutoCommit(true) [FD]
Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection() --> Line_85 $$ conn.rollback() [FD]
Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection() --> Line_90 $$ conn.setAutoCommit(true) [FD]
Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection() --> Line_94 $$ AppLayerDatabase.getInstance().givePooledConnection(conn) [FD]
