Line_2 $$ protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException --> Line_3 $$ if (req.getParameter("i") != null) [CD]
Line_2 $$ protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException --> Line_3 $$ if (req.getParameter("i") != null) [FD]
Line_3 $$ if (req.getParameter("i") != null) --> Line_4 $$ String img = req.getParameter("i") [CD]
Line_2 $$ protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException --> Line_4 $$ String img = req.getParameter("i") [FD]
Line_3 $$ if (req.getParameter("i") != null) --> Line_5 $$ if (img == null) [CD]
Line_4 $$ String img = req.getParameter("i") --> Line_5 $$ if (img == null) [FD]
Line_5 $$ if (img == null) --> Line_6 $$ resp.sendError(404, "Image was null") [CD]
Line_2 $$ protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException --> Line_6 $$ resp.sendError(404, "Image was null") [FD]
Line_5 $$ if (img == null) --> Line_7 $$ return [CD]
Line_3 $$ if (req.getParameter("i") != null) --> Line_9 $$ File f = null [CD]
Line_3 $$ if (req.getParameter("i") != null) --> Line_10 $$ if (img.startsWith("file")) [CD]
Line_4 $$ String img = req.getParameter("i") --> Line_10 $$ if (img.startsWith("file")) [FD]
Line_9 $$ File f = null --> Line_12 $$ f = new File(new URI(img)) [FD]
Line_2 $$ protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException --> Line_14 $$ resp.sendError(500, e.getMessage()) [FD]
Line_10 $$ if (img.startsWith("file")) --> Line_18 $$ f = new File(img) [CD]
Line_9 $$ File f = null --> Line_18 $$ f = new File(img) [FD]
Line_12 $$ f = new File(new URI(img)) --> Line_18 $$ f = new File(img) [FD]
Line_3 $$ if (req.getParameter("i") != null) --> Line_20 $$ if (f.exists()) [CD]
Line_9 $$ File f = null --> Line_20 $$ if (f.exists()) [FD]
Line_12 $$ f = new File(new URI(img)) --> Line_20 $$ if (f.exists()) [FD]
Line_18 $$ f = new File(img) --> Line_20 $$ if (f.exists()) [FD]
Line_20 $$ if (f.exists()) --> Line_21 $$ f = f.getCanonicalFile() [CD]
Line_9 $$ File f = null --> Line_21 $$ f = f.getCanonicalFile() [FD]
Line_12 $$ f = new File(new URI(img)) --> Line_21 $$ f = f.getCanonicalFile() [FD]
Line_18 $$ f = new File(img) --> Line_21 $$ f = f.getCanonicalFile() [FD]
Line_20 $$ if (f.exists()) --> Line_22 $$ if (f.getName().endsWith(".jpg") || f.getName().endsWith(".png")) [CD]
Line_9 $$ File f = null --> Line_22 $$ if (f.getName().endsWith(".jpg") || f.getName().endsWith(".png")) [FD]
Line_12 $$ f = new File(new URI(img)) --> Line_22 $$ if (f.getName().endsWith(".jpg") || f.getName().endsWith(".png")) [FD]
Line_18 $$ f = new File(img) --> Line_22 $$ if (f.getName().endsWith(".jpg") || f.getName().endsWith(".png")) [FD]
Line_21 $$ f = f.getCanonicalFile() --> Line_22 $$ if (f.getName().endsWith(".jpg") || f.getName().endsWith(".png")) [FD]
Line_22 $$ if (f.getName().endsWith(".jpg") || f.getName().endsWith(".png")) --> Line_23 $$ resp.setContentType("image/png") [CD]
Line_2 $$ protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException --> Line_23 $$ resp.setContentType("image/png") [FD]
Line_22 $$ if (f.getName().endsWith(".jpg") || f.getName().endsWith(".png")) --> Line_24 $$ FileInputStream fis = null [CD]
Line_22 $$ if (f.getName().endsWith(".jpg") || f.getName().endsWith(".png")) --> Line_25 $$ OutputStream os = resp.getOutputStream() [CD]
Line_2 $$ protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException --> Line_25 $$ OutputStream os = resp.getOutputStream() [FD]
Line_24 $$ FileInputStream fis = null --> Line_27 $$ fis = new FileInputStream(f) [FD]
Line_24 $$ FileInputStream fis = null --> Line_28 $$ IOUtils.copy(fis, os) [FD]
Line_27 $$ fis = new FileInputStream(f) --> Line_28 $$ IOUtils.copy(fis, os) [FD]
Line_25 $$ OutputStream os = resp.getOutputStream() --> Line_28 $$ IOUtils.copy(fis, os) [FD]
Line_25 $$ OutputStream os = resp.getOutputStream() --> Line_30 $$ os.flush() [FD]
Line_24 $$ FileInputStream fis = null --> Line_31 $$ if (fis != null) [FD]
Line_27 $$ fis = new FileInputStream(f) --> Line_31 $$ if (fis != null) [FD]
Line_3 $$ if (req.getParameter("i") != null) --> Line_35 $$ return [CD]
Line_2 $$ protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException --> Line_37 $$ String mediaUrl = "/media" + req.getPathInfo() [CD]
Line_2 $$ protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException --> Line_37 $$ String mediaUrl = "/media" + req.getPathInfo() [FD]
Line_2 $$ protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException --> Line_38 $$ String parts[] = mediaUrl.split("/") [CD]
Line_37 $$ String mediaUrl = "/media" + req.getPathInfo() --> Line_38 $$ String parts[] = mediaUrl.split("/") [FD]
Line_2 $$ protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException --> Line_39 $$ mediaHandler.handleRequest(parts, req, resp) [CD]
Line_2 $$ protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException --> Line_39 $$ mediaHandler.handleRequest(parts, req, resp) [FD]
