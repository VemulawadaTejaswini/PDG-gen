Line_6 $$ URL url = new URL(actionUrl) --> Line_7 $$ HttpURLConnection conn = (HttpURLConnection) url.openConnection() [FD]
Line_7 $$ HttpURLConnection conn = (HttpURLConnection) url.openConnection() --> Line_8 $$ conn.setConnectTimeout(6 * 1000) [FD]
Line_7 $$ HttpURLConnection conn = (HttpURLConnection) url.openConnection() --> Line_9 $$ conn.setDoInput(true) [FD]
Line_7 $$ HttpURLConnection conn = (HttpURLConnection) url.openConnection() --> Line_10 $$ conn.setDoOutput(true) [FD]
Line_7 $$ HttpURLConnection conn = (HttpURLConnection) url.openConnection() --> Line_11 $$ conn.setUseCaches(false) [FD]
Line_7 $$ HttpURLConnection conn = (HttpURLConnection) url.openConnection() --> Line_12 $$ conn.setRequestMethod("POST") [FD]
Line_7 $$ HttpURLConnection conn = (HttpURLConnection) url.openConnection() --> Line_13 $$ conn.setRequestProperty("Connection", "Keep-Alive") [FD]
Line_7 $$ HttpURLConnection conn = (HttpURLConnection) url.openConnection() --> Line_14 $$ conn.setRequestProperty("Charset", "UTF-8") [FD]
Line_7 $$ HttpURLConnection conn = (HttpURLConnection) url.openConnection() --> Line_15 $$ conn.setRequestProperty("Content-Type", MULTIPART_FORM_DATA + "; boundary=" + BOUNDARY) [FD]
Line_2 $$ public static String post(String actionUrl, Map<String, String> params, FormFile[] files) --> Line_17 $$ for (Map.Entry<String, String> entry : params.entrySet()) [FD]
Line_16 $$ StringBuilder sb = new StringBuilder() --> Line_18 $$ sb.append("--") [FD]
Line_16 $$ StringBuilder sb = new StringBuilder() --> Line_19 $$ sb.append(BOUNDARY) [FD]
Line_4 $$ String BOUNDARY = "---------7d4a6d158c9" --> Line_19 $$ sb.append(BOUNDARY) [FD]
Line_16 $$ StringBuilder sb = new StringBuilder() --> Line_20 $$ sb.append("\r\n") [FD]
Line_16 $$ StringBuilder sb = new StringBuilder() --> Line_21 $$ sb.append("Content-Disposition: form-data; name=\"" + entry.getKey() + "\"\r\n\r\n") [FD]
Line_16 $$ StringBuilder sb = new StringBuilder() --> Line_22 $$ sb.append(entry.getValue()) [FD]
Line_16 $$ StringBuilder sb = new StringBuilder() --> Line_23 $$ sb.append("\r\n") [FD]
Line_7 $$ HttpURLConnection conn = (HttpURLConnection) url.openConnection() --> Line_25 $$ DataOutputStream outStream = new DataOutputStream(conn.getOutputStream()) [FD]
Line_25 $$ DataOutputStream outStream = new DataOutputStream(conn.getOutputStream()) --> Line_26 $$ outStream.write(sb.toString().getBytes()) [FD]
Line_16 $$ StringBuilder sb = new StringBuilder() --> Line_26 $$ outStream.write(sb.toString().getBytes()) [FD]
Line_28 $$ StringBuilder split = new StringBuilder() --> Line_29 $$ split.append("--") [FD]
Line_28 $$ StringBuilder split = new StringBuilder() --> Line_30 $$ split.append(BOUNDARY) [FD]
Line_4 $$ String BOUNDARY = "---------7d4a6d158c9" --> Line_30 $$ split.append(BOUNDARY) [FD]
Line_28 $$ StringBuilder split = new StringBuilder() --> Line_31 $$ split.append("\r\n") [FD]
Line_28 $$ StringBuilder split = new StringBuilder() --> Line_32 $$ split.append("Content-Disposition: form-data;name=\"" + file.getFileName() + "\";filename=\"" + file.getFileName() + "\"\r\n") [FD]
Line_27 $$ for (FormFile file : files) --> Line_32 $$ split.append("Content-Disposition: form-data;name=\"" + file.getFileName() + "\";filename=\"" + file.getFileName() + "\"\r\n") [FD]
Line_28 $$ StringBuilder split = new StringBuilder() --> Line_33 $$ split.append("Content-Type: " + file.getContentType() + "\r\n\r\n") [FD]
Line_27 $$ for (FormFile file : files) --> Line_33 $$ split.append("Content-Type: " + file.getContentType() + "\r\n\r\n") [FD]
Line_25 $$ DataOutputStream outStream = new DataOutputStream(conn.getOutputStream()) --> Line_34 $$ outStream.write(split.toString().getBytes()) [FD]
Line_28 $$ StringBuilder split = new StringBuilder() --> Line_34 $$ outStream.write(split.toString().getBytes()) [FD]
Line_25 $$ DataOutputStream outStream = new DataOutputStream(conn.getOutputStream()) --> Line_35 $$ outStream.write(file.getFileData(), 0, file.getFileData().length) [FD]
Line_27 $$ for (FormFile file : files) --> Line_35 $$ outStream.write(file.getFileData(), 0, file.getFileData().length) [FD]
Line_25 $$ DataOutputStream outStream = new DataOutputStream(conn.getOutputStream()) --> Line_36 $$ outStream.write("\r\n".getBytes()) [FD]
Line_25 $$ DataOutputStream outStream = new DataOutputStream(conn.getOutputStream()) --> Line_39 $$ outStream.write(end_data) [FD]
Line_38 $$ byte[] end_data = ("--" + BOUNDARY + "--\r\n").getBytes() --> Line_39 $$ outStream.write(end_data) [FD]
Line_25 $$ DataOutputStream outStream = new DataOutputStream(conn.getOutputStream()) --> Line_40 $$ outStream.flush() [FD]
Line_7 $$ HttpURLConnection conn = (HttpURLConnection) url.openConnection() --> Line_41 $$ int cah = conn.getResponseCode() [FD]
Line_41 $$ int cah = conn.getResponseCode() --> Line_42 $$ if (cah != 200) [FD]
Line_7 $$ HttpURLConnection conn = (HttpURLConnection) url.openConnection() --> Line_43 $$ InputStream is = conn.getInputStream() [FD]
Line_44 $$ int ch --> Line_46 $$ while ((ch = is.read()) != -1) [FD]
Line_43 $$ InputStream is = conn.getInputStream() --> Line_46 $$ while ((ch = is.read()) != -1) [FD]
Line_46 $$ while ((ch = is.read()) != -1) --> Line_47 $$ b.append((char) ch) [CD]
Line_45 $$ StringBuilder b = new StringBuilder() --> Line_47 $$ b.append((char) ch) [FD]
Line_45 $$ StringBuilder b = new StringBuilder() --> Line_49 $$ Log.i("ItcastHttpPost", b.toString()) [FD]
Line_25 $$ DataOutputStream outStream = new DataOutputStream(conn.getOutputStream()) --> Line_50 $$ outStream.close() [FD]
Line_7 $$ HttpURLConnection conn = (HttpURLConnection) url.openConnection() --> Line_51 $$ conn.disconnect() [FD]
Line_45 $$ StringBuilder b = new StringBuilder() --> Line_52 $$ return b.toString() [FD]
