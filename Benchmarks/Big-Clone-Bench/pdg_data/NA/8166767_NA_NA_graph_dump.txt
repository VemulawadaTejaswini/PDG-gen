Line_0 $$ Entry-->Line_1 $$ public class dummy [ CD ]
Line_1 $$ public class dummy -->Line_2 $$ public Object invoke(MethodInvocation invocation, int retryTimes) throws Throwable [ CD ]
Line_2 $$ public Object invoke(MethodInvocation invocation, int retryTimes) throws Throwable -->Line_3 $$ retryTimes--[ CD ]
Line_2 $$ public Object invoke(MethodInvocation invocation, int retryTimes) throws Throwable -->Line_3 $$ retryTimes--[ FD ]
Line_2 $$ public Object invoke(MethodInvocation invocation, int retryTimes) throws Throwable -->Line_5 $$ String url = getServiceUrl() + "/" + invocation.getMethod().getName()[ FD ]
Line_2 $$ public Object invoke(MethodInvocation invocation, int retryTimes) throws Throwable -->Line_7 $$ if (invocation.getMethod().getParameterTypes().length > 0)[ FD ]
Line_7 $$ if (invocation.getMethod().getParameterTypes().length > 0)-->Line_7 $$ postMethod.setEntity(new StringEntity(JsonUtils.toJson(invocation.getArguments())))[ CD ]
Line_6 $$ HttpPost postMethod = new HttpPost(url)-->Line_7 $$ postMethod.setEntity(new StringEntity(JsonUtils.toJson(invocation.getArguments())))[ FD ]
Line_2 $$ public Object invoke(MethodInvocation invocation, int retryTimes) throws Throwable -->Line_7 $$ postMethod.setEntity(new StringEntity(JsonUtils.toJson(invocation.getArguments())))[ FD ]
Line_8 $$ HttpResponse rsp = HttpClientUtils.getDefaultInstance().execute(postMethod)-->Line_8 $$ HttpResponse rsp = HttpClientUtils.getDefaultInstance().execute(postMethod)[ CD ]
Line_6 $$ HttpPost postMethod = new HttpPost(url)-->Line_8 $$ HttpResponse rsp = HttpClientUtils.getDefaultInstance().execute(postMethod)[ FD ]
Line_9 $$ StatusLine sl = rsp.getStatusLine()-->Line_9 $$ StatusLine sl = rsp.getStatusLine()[ CD ]
Line_8 $$ HttpResponse rsp = HttpClientUtils.getDefaultInstance().execute(postMethod)-->Line_9 $$ StatusLine sl = rsp.getStatusLine()[ FD ]
Line_9 $$ StatusLine sl = rsp.getStatusLine()-->Line_10 $$ if (sl.getStatusCode() >= 300) [ FD ]
Line_9 $$ StatusLine sl = rsp.getStatusLine()-->Line_11 $$ throw new RuntimeException("Did not receive successful HTTP response: status code = " + sl.getStatusCode() + ", status message = [" + sl.getReasonPhrase() + "]")[ FD ]
Line_9 $$ StatusLine sl = rsp.getStatusLine()-->Line_11 $$ throw new RuntimeException("Did not receive successful HTTP response: status code = " + sl.getStatusCode() + ", status message = [" + sl.getReasonPhrase() + "]")[ FD ]
Line_13 $$ HttpEntity entity = rsp.getEntity()-->Line_13 $$ HttpEntity entity = rsp.getEntity()[ CD ]
Line_8 $$ HttpResponse rsp = HttpClientUtils.getDefaultInstance().execute(postMethod)-->Line_13 $$ HttpEntity entity = rsp.getEntity()[ FD ]
Line_15 $$ InputStream is = entity.getContent()-->Line_15 $$ InputStream is = entity.getContent()[ CD ]
Line_13 $$ HttpEntity entity = rsp.getEntity()-->Line_15 $$ InputStream is = entity.getContent()[ FD ]
Line_18 $$ while ((line = reader.readLine()) != null) sb.append(line).append("\n")-->Line_18 $$ while ((line = reader.readLine()) != null) sb.append(line).append("\n")[ FD ]
Line_17 $$ String line-->Line_18 $$ while ((line = reader.readLine()) != null) sb.append(line).append("\n")[ FD ]
Line_18 $$ while ((line = reader.readLine()) != null) sb.append(line).append("\n")-->Line_18 $$ while ((line = reader.readLine()) != null) sb.append(line).append("\n")[ CD ]
Line_16 $$ BufferedReader reader = new BufferedReader(new InputStreamReader(is, "utf-8"))-->Line_18 $$ while ((line = reader.readLine()) != null) sb.append(line).append("\n")[ FD ]
Line_18 $$ while ((line = reader.readLine()) != null) sb.append(line).append("\n")-->Line_18 $$ sb.append(line).append("\n")[ CD ]
Line_14 $$ StringBuilder sb = new StringBuilder()-->Line_18 $$ sb.append(line).append("\n")[ FD ]
Line_18 $$ while ((line = reader.readLine()) != null) sb.append(line).append("\n")-->Line_18 $$ sb.append(line).append("\n")[ FD ]
Line_17 $$ String line-->Line_18 $$ sb.append(line).append("\n")[ FD ]
Line_16 $$ BufferedReader reader = new BufferedReader(new InputStreamReader(is, "utf-8"))-->Line_19 $$ reader.close()[ FD ]
Line_15 $$ InputStream is = entity.getContent()-->Line_20 $$ is.close()[ FD ]
Line_14 $$ StringBuilder sb = new StringBuilder()-->Line_22 $$ if (sb.length() > 0) [ FD ]
Line_22 $$ if (sb.length() > 0) -->Line_23 $$ sb.deleteCharAt(sb.length() - 1)[ CD ]
Line_14 $$ StringBuilder sb = new StringBuilder()-->Line_23 $$ sb.deleteCharAt(sb.length() - 1)[ FD ]
Line_14 $$ StringBuilder sb = new StringBuilder()-->Line_23 $$ sb.deleteCharAt(sb.length() - 1)[ FD ]
Line_22 $$ if (sb.length() > 0) -->Line_24 $$ responseBody = sb.toString()[ CD ]
Line_21 $$ String responseBody = null-->Line_24 $$ responseBody = sb.toString()[ FD ]
Line_24 $$ responseBody = sb.toString()-->Line_24 $$ responseBody = sb.toString()[ FD ]
Line_24 $$ responseBody = sb.toString()-->Line_24 $$ responseBody = sb.toString()[ CD ]
Line_14 $$ StringBuilder sb = new StringBuilder()-->Line_24 $$ responseBody = sb.toString()[ FD ]
Line_26 $$ Type t = invocation.getMethod().getGenericReturnType()-->Line_26 $$ Type t = invocation.getMethod().getGenericReturnType()[ CD ]
Line_2 $$ public Object invoke(MethodInvocation invocation, int retryTimes) throws Throwable -->Line_26 $$ Type t = invocation.getMethod().getGenericReturnType()[ FD ]
Line_26 $$ Type t = invocation.getMethod().getGenericReturnType()-->Line_27 $$ if (t.equals(Void.class) || responseBody == null)[ FD ]
Line_27 $$ if (t.equals(Void.class) || responseBody == null)-->Line_27 $$ return null[ CD ]
Line_28 $$ return JsonUtils.fromJson(responseBody, t)-->Line_28 $$ return JsonUtils.fromJson(responseBody, t)[ CD ]
Line_21 $$ String responseBody = null-->Line_28 $$ return JsonUtils.fromJson(responseBody, t)[ FD ]
Line_24 $$ responseBody = sb.toString()-->Line_28 $$ return JsonUtils.fromJson(responseBody, t)[ FD ]
Line_26 $$ Type t = invocation.getMethod().getGenericReturnType()-->Line_28 $$ return JsonUtils.fromJson(responseBody, t)[ FD ]
Line_2 $$ public Object invoke(MethodInvocation invocation, int retryTimes) throws Throwable -->Line_30 $$ if (retryTimes < 0)[ FD ]
Line_31 $$ if (urlFromDiscovery) -->Line_32 $$ String serviceUrl = discoverServiceUrl(getServiceInterface().getName())[ CD ]
Line_32 $$ String serviceUrl = discoverServiceUrl(getServiceInterface().getName())-->Line_32 $$ String serviceUrl = discoverServiceUrl(getServiceInterface().getName())[ CD ]
Line_31 $$ if (urlFromDiscovery) -->Line_33 $$ if (!serviceUrl.equals(getServiceUrl())) [ CD ]
Line_33 $$ if (!serviceUrl.equals(getServiceUrl())) -->Line_33 $$ if (!serviceUrl.equals(getServiceUrl())) [ CD ]
Line_33 $$ if (!serviceUrl.equals(getServiceUrl())) -->Line_33 $$ if (!serviceUrl.equals(getServiceUrl())) [ CD ]
Line_32 $$ String serviceUrl = discoverServiceUrl(getServiceInterface().getName())-->Line_33 $$ if (!serviceUrl.equals(getServiceUrl())) [ FD ]
Line_33 $$ if (!serviceUrl.equals(getServiceUrl())) -->Line_34 $$ setServiceUrl(serviceUrl)[ CD ]
Line_32 $$ String serviceUrl = discoverServiceUrl(getServiceInterface().getName())-->Line_34 $$ setServiceUrl(serviceUrl)[ FD ]
Line_33 $$ if (!serviceUrl.equals(getServiceUrl())) -->Line_35 $$ log.info("relocate service url:" + serviceUrl)[ CD ]
Line_38 $$ return invoke(invocation, retryTimes)-->Line_38 $$ return invoke(invocation, retryTimes)[ CD ]
Line_2 $$ public Object invoke(MethodInvocation invocation, int retryTimes) throws Throwable -->Line_38 $$ return invoke(invocation, retryTimes)[ FD ]
Line_2 $$ public Object invoke(MethodInvocation invocation, int retryTimes) throws Throwable -->Line_38 $$ return invoke(invocation, retryTimes)[ FD ]
Line_18 $$ while ((line = reader.readLine()) != null) sb.append(line).append("\n")-->Line_18 $$ sb.append(line).append("\n")[ FD ]
