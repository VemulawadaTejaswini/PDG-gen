Line_0 $$ Entry-->Line_1 $$ public class dummy [ CD ]
Line_1 $$ public class dummy -->Line_2 $$ protected void doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws ServletException, IOException [ CD ]
Line_2 $$ protected void doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws ServletException, IOException -->Line_3 $$ String pathInfo = httpServletRequest.getPathInfo()[ CD ]
Line_3 $$ String pathInfo = httpServletRequest.getPathInfo()-->Line_3 $$ String pathInfo = httpServletRequest.getPathInfo()[ CD ]
Line_2 $$ protected void doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws ServletException, IOException -->Line_3 $$ String pathInfo = httpServletRequest.getPathInfo()[ FD ]
Line_2 $$ protected void doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws ServletException, IOException -->Line_4 $$ log.info("PathInfo: " + pathInfo)[ CD ]
Line_2 $$ protected void doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws ServletException, IOException -->Line_5 $$ if (pathInfo == null || pathInfo.equals("") || pathInfo.equals("/")) [ CD ]
Line_3 $$ String pathInfo = httpServletRequest.getPathInfo()-->Line_5 $$ if (pathInfo == null || pathInfo.equals("") || pathInfo.equals("/")) [ FD ]
Line_3 $$ String pathInfo = httpServletRequest.getPathInfo()-->Line_5 $$ if (pathInfo == null || pathInfo.equals("") || pathInfo.equals("/")) [ FD ]
Line_5 $$ if (pathInfo == null || pathInfo.equals("") || pathInfo.equals("/")) -->Line_6 $$ httpServletResponse.sendError(HttpServletResponse.SC_NOT_FOUND)[ CD ]
Line_2 $$ protected void doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws ServletException, IOException -->Line_6 $$ httpServletResponse.sendError(HttpServletResponse.SC_NOT_FOUND)[ FD ]
Line_5 $$ if (pathInfo == null || pathInfo.equals("") || pathInfo.equals("/")) -->Line_7 $$ return[ CD ]
Line_2 $$ protected void doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws ServletException, IOException -->Line_9 $$ String fileName = pathInfo.charAt(0) == '/' ? pathInfo.substring(1) : pathInfo[ CD ]
Line_3 $$ String pathInfo = httpServletRequest.getPathInfo()-->Line_9 $$ String fileName = pathInfo.charAt(0) == '/' ? pathInfo.substring(1) : pathInfo[ FD ]
Line_3 $$ String pathInfo = httpServletRequest.getPathInfo()-->Line_9 $$ String fileName = pathInfo.charAt(0) == '/' ? pathInfo.substring(1) : pathInfo[ FD ]
Line_2 $$ protected void doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws ServletException, IOException -->Line_10 $$ log.info("FileName: " + fileName)[ CD ]
Line_2 $$ protected void doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws ServletException, IOException -->Line_11 $$ Connection con = null[ CD ]
Line_2 $$ protected void doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws ServletException, IOException -->Line_12 $$ PreparedStatement ps = null[ CD ]
Line_2 $$ protected void doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws ServletException, IOException -->Line_13 $$ ResultSet rs = null[ CD ]
Line_11 $$ Connection con = null-->Line_15 $$ con = getDataSource().getConnection()[ FD ]
Line_15 $$ con = getDataSource().getConnection()-->Line_15 $$ con = getDataSource().getConnection()[ FD ]
Line_15 $$ con = getDataSource().getConnection()-->Line_15 $$ con = getDataSource().getConnection()[ CD ]
Line_12 $$ PreparedStatement ps = null-->Line_16 $$ ps = con.prepareStatement("select file, size from files where name=?")[ FD ]
Line_16 $$ ps = con.prepareStatement("select file, size from files where name=?")-->Line_16 $$ ps = con.prepareStatement("select file, size from files where name=?")[ FD ]
Line_16 $$ ps = con.prepareStatement("select file, size from files where name=?")-->Line_16 $$ ps = con.prepareStatement("select file, size from files where name=?")[ CD ]
Line_11 $$ Connection con = null-->Line_16 $$ ps = con.prepareStatement("select file, size from files where name=?")[ FD ]
Line_15 $$ con = getDataSource().getConnection()-->Line_16 $$ ps = con.prepareStatement("select file, size from files where name=?")[ FD ]
Line_12 $$ PreparedStatement ps = null-->Line_17 $$ ps.setString(1, fileName)[ FD ]
Line_16 $$ ps = con.prepareStatement("select file, size from files where name=?")-->Line_17 $$ ps.setString(1, fileName)[ FD ]
Line_9 $$ String fileName = pathInfo.charAt(0) == '/' ? pathInfo.substring(1) : pathInfo-->Line_17 $$ ps.setString(1, fileName)[ FD ]
Line_13 $$ ResultSet rs = null-->Line_18 $$ rs = ps.executeQuery()[ FD ]
Line_18 $$ rs = ps.executeQuery()-->Line_18 $$ rs = ps.executeQuery()[ FD ]
Line_18 $$ rs = ps.executeQuery()-->Line_18 $$ rs = ps.executeQuery()[ CD ]
Line_12 $$ PreparedStatement ps = null-->Line_18 $$ rs = ps.executeQuery()[ FD ]
Line_16 $$ ps = con.prepareStatement("select file, size from files where name=?")-->Line_18 $$ rs = ps.executeQuery()[ FD ]
Line_13 $$ ResultSet rs = null-->Line_19 $$ if (rs.next()) [ FD ]
Line_18 $$ rs = ps.executeQuery()-->Line_19 $$ if (rs.next()) [ FD ]
Line_19 $$ if (rs.next()) -->Line_19 $$ if (rs.next()) [ CD ]
Line_13 $$ ResultSet rs = null-->Line_19 $$ if (rs.next()) [ FD ]
Line_18 $$ rs = ps.executeQuery()-->Line_19 $$ if (rs.next()) [ FD ]
Line_19 $$ if (rs.next()) -->Line_20 $$ httpServletResponse.setContentType(getServletContext().getMimeType(fileName))[ CD ]
Line_2 $$ protected void doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws ServletException, IOException -->Line_20 $$ httpServletResponse.setContentType(getServletContext().getMimeType(fileName))[ FD ]
Line_9 $$ String fileName = pathInfo.charAt(0) == '/' ? pathInfo.substring(1) : pathInfo-->Line_20 $$ httpServletResponse.setContentType(getServletContext().getMimeType(fileName))[ FD ]
Line_19 $$ if (rs.next()) -->Line_21 $$ httpServletResponse.setContentLength(rs.getInt("size"))[ CD ]
Line_2 $$ protected void doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws ServletException, IOException -->Line_21 $$ httpServletResponse.setContentLength(rs.getInt("size"))[ FD ]
Line_13 $$ ResultSet rs = null-->Line_21 $$ httpServletResponse.setContentLength(rs.getInt("size"))[ FD ]
Line_18 $$ rs = ps.executeQuery()-->Line_21 $$ httpServletResponse.setContentLength(rs.getInt("size"))[ FD ]
Line_19 $$ if (rs.next()) -->Line_22 $$ OutputStream os = httpServletResponse.getOutputStream()[ CD ]
Line_22 $$ OutputStream os = httpServletResponse.getOutputStream()-->Line_22 $$ OutputStream os = httpServletResponse.getOutputStream()[ CD ]
Line_2 $$ protected void doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws ServletException, IOException -->Line_22 $$ OutputStream os = httpServletResponse.getOutputStream()[ FD ]
Line_19 $$ if (rs.next()) -->Line_23 $$ org.apache.commons.io.IOUtils.copy(rs.getBinaryStream("file"), os)[ CD ]
Line_22 $$ OutputStream os = httpServletResponse.getOutputStream()-->Line_23 $$ org.apache.commons.io.IOUtils.copy(rs.getBinaryStream("file"), os)[ FD ]
Line_13 $$ ResultSet rs = null-->Line_23 $$ org.apache.commons.io.IOUtils.copy(rs.getBinaryStream("file"), os)[ FD ]
Line_18 $$ rs = ps.executeQuery()-->Line_23 $$ org.apache.commons.io.IOUtils.copy(rs.getBinaryStream("file"), os)[ FD ]
Line_19 $$ if (rs.next()) -->Line_24 $$ os.flush()[ CD ]
Line_22 $$ OutputStream os = httpServletResponse.getOutputStream()-->Line_24 $$ os.flush()[ FD ]
Line_19 $$ if (rs.next()) -->Line_26 $$ httpServletResponse.sendError(HttpServletResponse.SC_NOT_FOUND)[ CD ]
Line_2 $$ protected void doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws ServletException, IOException -->Line_26 $$ httpServletResponse.sendError(HttpServletResponse.SC_NOT_FOUND)[ FD ]
Line_19 $$ if (rs.next()) -->Line_27 $$ return[ CD ]
Line_13 $$ ResultSet rs = null-->Line_32 $$ if (rs != null)[ FD ]
Line_18 $$ rs = ps.executeQuery()-->Line_32 $$ if (rs != null)[ FD ]
Line_13 $$ ResultSet rs = null-->Line_33 $$ rs.close()[ FD ]
Line_18 $$ rs = ps.executeQuery()-->Line_33 $$ rs.close()[ FD ]
Line_12 $$ PreparedStatement ps = null-->Line_36 $$ if (ps != null)[ FD ]
Line_16 $$ ps = con.prepareStatement("select file, size from files where name=?")-->Line_36 $$ if (ps != null)[ FD ]
Line_12 $$ PreparedStatement ps = null-->Line_37 $$ ps.close()[ FD ]
Line_16 $$ ps = con.prepareStatement("select file, size from files where name=?")-->Line_37 $$ ps.close()[ FD ]
Line_11 $$ Connection con = null-->Line_40 $$ if (con != null)[ FD ]
Line_15 $$ con = getDataSource().getConnection()-->Line_40 $$ if (con != null)[ FD ]
Line_11 $$ Connection con = null-->Line_41 $$ con.close()[ FD ]
Line_15 $$ con = getDataSource().getConnection()-->Line_41 $$ con.close()[ FD ]
