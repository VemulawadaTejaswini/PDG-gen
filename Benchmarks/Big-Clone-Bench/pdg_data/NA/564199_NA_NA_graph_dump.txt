Line_0 $$ Entry-->Line_1 $$ public class dummy [ CD ]
Line_1 $$ public class dummy -->Line_2 $$ private boolean doStudentCreditUpdate(Double dblCAmnt, String stuID) throws Exception [ CD ]
Line_2 $$ private boolean doStudentCreditUpdate(Double dblCAmnt, String stuID) throws Exception -->Line_3 $$ Connection conn = null[ CD ]
Line_2 $$ private boolean doStudentCreditUpdate(Double dblCAmnt, String stuID) throws Exception -->Line_4 $$ Statement stmt = null[ CD ]
Line_2 $$ private boolean doStudentCreditUpdate(Double dblCAmnt, String stuID) throws Exception -->Line_5 $$ ResultSet rs = null[ CD ]
Line_2 $$ private boolean doStudentCreditUpdate(Double dblCAmnt, String stuID) throws Exception -->Line_6 $$ Boolean blOk = false[ CD ]
Line_2 $$ private boolean doStudentCreditUpdate(Double dblCAmnt, String stuID) throws Exception -->Line_7 $$ String strMessage = ""[ CD ]
Line_3 $$ Connection conn = null-->Line_9 $$ conn = dbMan.getPOSConnection()[ FD ]
Line_9 $$ conn = dbMan.getPOSConnection()-->Line_9 $$ conn = dbMan.getPOSConnection()[ FD ]
Line_9 $$ conn = dbMan.getPOSConnection()-->Line_9 $$ conn = dbMan.getPOSConnection()[ CD ]
Line_3 $$ Connection conn = null-->Line_10 $$ conn.setAutoCommit(false)[ FD ]
Line_9 $$ conn = dbMan.getPOSConnection()-->Line_10 $$ conn.setAutoCommit(false)[ FD ]
Line_4 $$ Statement stmt = null-->Line_11 $$ stmt = conn.createStatement()[ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_11 $$ stmt = conn.createStatement()[ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_11 $$ stmt = conn.createStatement()[ CD ]
Line_3 $$ Connection conn = null-->Line_11 $$ stmt = conn.createStatement()[ FD ]
Line_9 $$ conn = dbMan.getPOSConnection()-->Line_11 $$ stmt = conn.createStatement()[ FD ]
Line_12 $$ String host = getHostName()-->Line_12 $$ String host = getHostName()[ CD ]
Line_13 $$ String stuId = student.getStudentNumber()-->Line_13 $$ String stuId = student.getStudentNumber()[ CD ]
Line_14 $$ String building = settings.get(DBSettings.MAIN_BUILDING)-->Line_14 $$ String building = settings.get(DBSettings.MAIN_BUILDING)[ CD ]
Line_15 $$ String cashier = dbMan.getPOSUser()-->Line_15 $$ String cashier = dbMan.getPOSUser()[ CD ]
Line_16 $$ if (hasStudentCredit()) -->Line_16 $$ if (hasStudentCredit()) [ CD ]
Line_16 $$ if (hasStudentCredit()) -->Line_17 $$ stmt = conn.createStatement()[ CD ]
Line_4 $$ Statement stmt = null-->Line_17 $$ stmt = conn.createStatement()[ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_17 $$ stmt = conn.createStatement()[ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_17 $$ stmt = conn.createStatement()[ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_17 $$ stmt = conn.createStatement()[ CD ]
Line_3 $$ Connection conn = null-->Line_17 $$ stmt = conn.createStatement()[ FD ]
Line_9 $$ conn = dbMan.getPOSConnection()-->Line_17 $$ stmt = conn.createStatement()[ FD ]
Line_16 $$ if (hasStudentCredit()) -->Line_18 $$ if (stmt.executeUpdate("UPDATE " + strPOSPrefix + "studentcredit set credit_amount = credit_amount + " + round2Places(dblCAmnt) + " WHERE credit_active = '1' and credit_studentid = '" + stuId + "'") == 1) [ CD ]
Line_4 $$ Statement stmt = null-->Line_18 $$ if (stmt.executeUpdate("UPDATE " + strPOSPrefix + "studentcredit set credit_amount = credit_amount + " + round2Places(dblCAmnt) + " WHERE credit_active = '1' and credit_studentid = '" + stuId + "'") == 1) [ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_18 $$ if (stmt.executeUpdate("UPDATE " + strPOSPrefix + "studentcredit set credit_amount = credit_amount + " + round2Places(dblCAmnt) + " WHERE credit_active = '1' and credit_studentid = '" + stuId + "'") == 1) [ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_18 $$ if (stmt.executeUpdate("UPDATE " + strPOSPrefix + "studentcredit set credit_amount = credit_amount + " + round2Places(dblCAmnt) + " WHERE credit_active = '1' and credit_studentid = '" + stuId + "'") == 1) [ FD ]
Line_2 $$ private boolean doStudentCreditUpdate(Double dblCAmnt, String stuID) throws Exception -->Line_18 $$ if (stmt.executeUpdate("UPDATE " + strPOSPrefix + "studentcredit set credit_amount = credit_amount + " + round2Places(dblCAmnt) + " WHERE credit_active = '1' and credit_studentid = '" + stuId + "'") == 1) [ FD ]
Line_18 $$ if (stmt.executeUpdate("UPDATE " + strPOSPrefix + "studentcredit set credit_amount = credit_amount + " + round2Places(dblCAmnt) + " WHERE credit_active = '1' and credit_studentid = '" + stuId + "'") == 1) -->Line_19 $$ stmt.close()[ CD ]
Line_4 $$ Statement stmt = null-->Line_19 $$ stmt.close()[ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_19 $$ stmt.close()[ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_19 $$ stmt.close()[ FD ]
Line_18 $$ if (stmt.executeUpdate("UPDATE " + strPOSPrefix + "studentcredit set credit_amount = credit_amount + " + round2Places(dblCAmnt) + " WHERE credit_active = '1' and credit_studentid = '" + stuId + "'") == 1) -->Line_20 $$ stmt = conn.createStatement()[ CD ]
Line_4 $$ Statement stmt = null-->Line_20 $$ stmt = conn.createStatement()[ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_20 $$ stmt = conn.createStatement()[ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_20 $$ stmt = conn.createStatement()[ FD ]
Line_20 $$ stmt = conn.createStatement()-->Line_20 $$ stmt = conn.createStatement()[ FD ]
Line_20 $$ stmt = conn.createStatement()-->Line_20 $$ stmt = conn.createStatement()[ CD ]
Line_3 $$ Connection conn = null-->Line_20 $$ stmt = conn.createStatement()[ FD ]
Line_9 $$ conn = dbMan.getPOSConnection()-->Line_20 $$ stmt = conn.createStatement()[ FD ]
Line_18 $$ if (stmt.executeUpdate("UPDATE " + strPOSPrefix + "studentcredit set credit_amount = credit_amount + " + round2Places(dblCAmnt) + " WHERE credit_active = '1' and credit_studentid = '" + stuId + "'") == 1) -->Line_21 $$ if (stmt.executeUpdate("UPDATE " + strPOSPrefix + "studentcredit set credit_lastused = NOW() where credit_active = '1' and credit_studentid = '" + stuId + "'") == 1) [ CD ]
Line_4 $$ Statement stmt = null-->Line_21 $$ if (stmt.executeUpdate("UPDATE " + strPOSPrefix + "studentcredit set credit_lastused = NOW() where credit_active = '1' and credit_studentid = '" + stuId + "'") == 1) [ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_21 $$ if (stmt.executeUpdate("UPDATE " + strPOSPrefix + "studentcredit set credit_lastused = NOW() where credit_active = '1' and credit_studentid = '" + stuId + "'") == 1) [ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_21 $$ if (stmt.executeUpdate("UPDATE " + strPOSPrefix + "studentcredit set credit_lastused = NOW() where credit_active = '1' and credit_studentid = '" + stuId + "'") == 1) [ FD ]
Line_20 $$ stmt = conn.createStatement()-->Line_21 $$ if (stmt.executeUpdate("UPDATE " + strPOSPrefix + "studentcredit set credit_lastused = NOW() where credit_active = '1' and credit_studentid = '" + stuId + "'") == 1) [ FD ]
Line_21 $$ if (stmt.executeUpdate("UPDATE " + strPOSPrefix + "studentcredit set credit_lastused = NOW() where credit_active = '1' and credit_studentid = '" + stuId + "'") == 1) -->Line_22 $$ stmt.close()[ CD ]
Line_4 $$ Statement stmt = null-->Line_22 $$ stmt.close()[ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_22 $$ stmt.close()[ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_22 $$ stmt.close()[ FD ]
Line_20 $$ stmt = conn.createStatement()-->Line_22 $$ stmt.close()[ FD ]
Line_21 $$ if (stmt.executeUpdate("UPDATE " + strPOSPrefix + "studentcredit set credit_lastused = NOW() where credit_active = '1' and credit_studentid = '" + stuId + "'") == 1) -->Line_23 $$ stmt = conn.createStatement()[ CD ]
Line_4 $$ Statement stmt = null-->Line_23 $$ stmt = conn.createStatement()[ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_23 $$ stmt = conn.createStatement()[ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_23 $$ stmt = conn.createStatement()[ FD ]
Line_20 $$ stmt = conn.createStatement()-->Line_23 $$ stmt = conn.createStatement()[ FD ]
Line_23 $$ stmt = conn.createStatement()-->Line_23 $$ stmt = conn.createStatement()[ FD ]
Line_23 $$ stmt = conn.createStatement()-->Line_23 $$ stmt = conn.createStatement()[ CD ]
Line_3 $$ Connection conn = null-->Line_23 $$ stmt = conn.createStatement()[ FD ]
Line_9 $$ conn = dbMan.getPOSConnection()-->Line_23 $$ stmt = conn.createStatement()[ FD ]
Line_21 $$ if (stmt.executeUpdate("UPDATE " + strPOSPrefix + "studentcredit set credit_lastused = NOW() where credit_active = '1' and credit_studentid = '" + stuId + "'") == 1) -->Line_24 $$ if (stmt.executeUpdate("INSERT into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) [ CD ]
Line_4 $$ Statement stmt = null-->Line_24 $$ if (stmt.executeUpdate("INSERT into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) [ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_24 $$ if (stmt.executeUpdate("INSERT into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) [ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_24 $$ if (stmt.executeUpdate("INSERT into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) [ FD ]
Line_20 $$ stmt = conn.createStatement()-->Line_24 $$ if (stmt.executeUpdate("INSERT into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) [ FD ]
Line_23 $$ stmt = conn.createStatement()-->Line_24 $$ if (stmt.executeUpdate("INSERT into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) [ FD ]
Line_2 $$ private boolean doStudentCreditUpdate(Double dblCAmnt, String stuID) throws Exception -->Line_24 $$ if (stmt.executeUpdate("INSERT into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) [ FD ]
Line_24 $$ if (stmt.executeUpdate("INSERT into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) -->Line_25 $$ stmt.close()[ CD ]
Line_4 $$ Statement stmt = null-->Line_25 $$ stmt.close()[ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_25 $$ stmt.close()[ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_25 $$ stmt.close()[ FD ]
Line_20 $$ stmt = conn.createStatement()-->Line_25 $$ stmt.close()[ FD ]
Line_23 $$ stmt = conn.createStatement()-->Line_25 $$ stmt.close()[ FD ]
Line_24 $$ if (stmt.executeUpdate("INSERT into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) -->Line_26 $$ blOk = true[ CD ]
Line_6 $$ Boolean blOk = false-->Line_26 $$ blOk = true[ FD ]
Line_26 $$ blOk = true-->Line_26 $$ blOk = true[ FD ]
Line_24 $$ if (stmt.executeUpdate("INSERT into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) -->Line_28 $$ strMessage = "Unable to update student credit log."[ CD ]
Line_7 $$ String strMessage = ""-->Line_28 $$ strMessage = "Unable to update student credit log."[ FD ]
Line_28 $$ strMessage = "Unable to update student credit log."-->Line_28 $$ strMessage = "Unable to update student credit log."[ FD ]
Line_24 $$ if (stmt.executeUpdate("INSERT into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) -->Line_29 $$ blOk = false[ CD ]
Line_6 $$ Boolean blOk = false-->Line_29 $$ blOk = false[ FD ]
Line_26 $$ blOk = true-->Line_29 $$ blOk = false[ FD ]
Line_29 $$ blOk = false-->Line_29 $$ blOk = false[ FD ]
Line_21 $$ if (stmt.executeUpdate("UPDATE " + strPOSPrefix + "studentcredit set credit_lastused = NOW() where credit_active = '1' and credit_studentid = '" + stuId + "'") == 1) -->Line_32 $$ strMessage = "Unable to update student credit account."[ CD ]
Line_7 $$ String strMessage = ""-->Line_32 $$ strMessage = "Unable to update student credit account."[ FD ]
Line_28 $$ strMessage = "Unable to update student credit log."-->Line_32 $$ strMessage = "Unable to update student credit account."[ FD ]
Line_32 $$ strMessage = "Unable to update student credit account."-->Line_32 $$ strMessage = "Unable to update student credit account."[ FD ]
Line_21 $$ if (stmt.executeUpdate("UPDATE " + strPOSPrefix + "studentcredit set credit_lastused = NOW() where credit_active = '1' and credit_studentid = '" + stuId + "'") == 1) -->Line_33 $$ blOk = false[ CD ]
Line_6 $$ Boolean blOk = false-->Line_33 $$ blOk = false[ FD ]
Line_26 $$ blOk = true-->Line_33 $$ blOk = false[ FD ]
Line_29 $$ blOk = false-->Line_33 $$ blOk = false[ FD ]
Line_33 $$ blOk = false-->Line_33 $$ blOk = false[ FD ]
Line_18 $$ if (stmt.executeUpdate("UPDATE " + strPOSPrefix + "studentcredit set credit_amount = credit_amount + " + round2Places(dblCAmnt) + " WHERE credit_active = '1' and credit_studentid = '" + stuId + "'") == 1) -->Line_36 $$ strMessage = "Unable to update student credit account."[ CD ]
Line_7 $$ String strMessage = ""-->Line_36 $$ strMessage = "Unable to update student credit account."[ FD ]
Line_28 $$ strMessage = "Unable to update student credit log."-->Line_36 $$ strMessage = "Unable to update student credit account."[ FD ]
Line_32 $$ strMessage = "Unable to update student credit account."-->Line_36 $$ strMessage = "Unable to update student credit account."[ FD ]
Line_36 $$ strMessage = "Unable to update student credit account."-->Line_36 $$ strMessage = "Unable to update student credit account."[ FD ]
Line_18 $$ if (stmt.executeUpdate("UPDATE " + strPOSPrefix + "studentcredit set credit_amount = credit_amount + " + round2Places(dblCAmnt) + " WHERE credit_active = '1' and credit_studentid = '" + stuId + "'") == 1) -->Line_37 $$ blOk = false[ CD ]
Line_6 $$ Boolean blOk = false-->Line_37 $$ blOk = false[ FD ]
Line_26 $$ blOk = true-->Line_37 $$ blOk = false[ FD ]
Line_29 $$ blOk = false-->Line_37 $$ blOk = false[ FD ]
Line_33 $$ blOk = false-->Line_37 $$ blOk = false[ FD ]
Line_37 $$ blOk = false-->Line_37 $$ blOk = false[ FD ]
Line_16 $$ if (hasStudentCredit()) -->Line_40 $$ stmt = conn.createStatement()[ CD ]
Line_4 $$ Statement stmt = null-->Line_40 $$ stmt = conn.createStatement()[ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_40 $$ stmt = conn.createStatement()[ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_40 $$ stmt = conn.createStatement()[ FD ]
Line_20 $$ stmt = conn.createStatement()-->Line_40 $$ stmt = conn.createStatement()[ FD ]
Line_23 $$ stmt = conn.createStatement()-->Line_40 $$ stmt = conn.createStatement()[ FD ]
Line_40 $$ stmt = conn.createStatement()-->Line_40 $$ stmt = conn.createStatement()[ FD ]
Line_40 $$ stmt = conn.createStatement()-->Line_40 $$ stmt = conn.createStatement()[ CD ]
Line_3 $$ Connection conn = null-->Line_40 $$ stmt = conn.createStatement()[ FD ]
Line_9 $$ conn = dbMan.getPOSConnection()-->Line_40 $$ stmt = conn.createStatement()[ FD ]
Line_16 $$ if (hasStudentCredit()) -->Line_41 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit (credit_amount,credit_active,credit_studentid,credit_lastused) values('" + round2Places(dblCAmnt) + "','1','" + stuId + "', NOW())") == 1) [ CD ]
Line_4 $$ Statement stmt = null-->Line_41 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit (credit_amount,credit_active,credit_studentid,credit_lastused) values('" + round2Places(dblCAmnt) + "','1','" + stuId + "', NOW())") == 1) [ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_41 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit (credit_amount,credit_active,credit_studentid,credit_lastused) values('" + round2Places(dblCAmnt) + "','1','" + stuId + "', NOW())") == 1) [ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_41 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit (credit_amount,credit_active,credit_studentid,credit_lastused) values('" + round2Places(dblCAmnt) + "','1','" + stuId + "', NOW())") == 1) [ FD ]
Line_20 $$ stmt = conn.createStatement()-->Line_41 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit (credit_amount,credit_active,credit_studentid,credit_lastused) values('" + round2Places(dblCAmnt) + "','1','" + stuId + "', NOW())") == 1) [ FD ]
Line_23 $$ stmt = conn.createStatement()-->Line_41 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit (credit_amount,credit_active,credit_studentid,credit_lastused) values('" + round2Places(dblCAmnt) + "','1','" + stuId + "', NOW())") == 1) [ FD ]
Line_40 $$ stmt = conn.createStatement()-->Line_41 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit (credit_amount,credit_active,credit_studentid,credit_lastused) values('" + round2Places(dblCAmnt) + "','1','" + stuId + "', NOW())") == 1) [ FD ]
Line_2 $$ private boolean doStudentCreditUpdate(Double dblCAmnt, String stuID) throws Exception -->Line_41 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit (credit_amount,credit_active,credit_studentid,credit_lastused) values('" + round2Places(dblCAmnt) + "','1','" + stuId + "', NOW())") == 1) [ FD ]
Line_41 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit (credit_amount,credit_active,credit_studentid,credit_lastused) values('" + round2Places(dblCAmnt) + "','1','" + stuId + "', NOW())") == 1) -->Line_42 $$ stmt.close()[ CD ]
Line_4 $$ Statement stmt = null-->Line_42 $$ stmt.close()[ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_42 $$ stmt.close()[ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_42 $$ stmt.close()[ FD ]
Line_20 $$ stmt = conn.createStatement()-->Line_42 $$ stmt.close()[ FD ]
Line_23 $$ stmt = conn.createStatement()-->Line_42 $$ stmt.close()[ FD ]
Line_40 $$ stmt = conn.createStatement()-->Line_42 $$ stmt.close()[ FD ]
Line_41 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit (credit_amount,credit_active,credit_studentid,credit_lastused) values('" + round2Places(dblCAmnt) + "','1','" + stuId + "', NOW())") == 1) -->Line_43 $$ stmt = conn.createStatement()[ CD ]
Line_4 $$ Statement stmt = null-->Line_43 $$ stmt = conn.createStatement()[ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_43 $$ stmt = conn.createStatement()[ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_43 $$ stmt = conn.createStatement()[ FD ]
Line_20 $$ stmt = conn.createStatement()-->Line_43 $$ stmt = conn.createStatement()[ FD ]
Line_23 $$ stmt = conn.createStatement()-->Line_43 $$ stmt = conn.createStatement()[ FD ]
Line_40 $$ stmt = conn.createStatement()-->Line_43 $$ stmt = conn.createStatement()[ FD ]
Line_43 $$ stmt = conn.createStatement()-->Line_43 $$ stmt = conn.createStatement()[ FD ]
Line_43 $$ stmt = conn.createStatement()-->Line_43 $$ stmt = conn.createStatement()[ CD ]
Line_3 $$ Connection conn = null-->Line_43 $$ stmt = conn.createStatement()[ FD ]
Line_9 $$ conn = dbMan.getPOSConnection()-->Line_43 $$ stmt = conn.createStatement()[ FD ]
Line_41 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit (credit_amount,credit_active,credit_studentid,credit_lastused) values('" + round2Places(dblCAmnt) + "','1','" + stuId + "', NOW())") == 1) -->Line_44 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) [ CD ]
Line_4 $$ Statement stmt = null-->Line_44 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) [ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_44 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) [ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_44 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) [ FD ]
Line_20 $$ stmt = conn.createStatement()-->Line_44 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) [ FD ]
Line_23 $$ stmt = conn.createStatement()-->Line_44 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) [ FD ]
Line_40 $$ stmt = conn.createStatement()-->Line_44 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) [ FD ]
Line_43 $$ stmt = conn.createStatement()-->Line_44 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) [ FD ]
Line_2 $$ private boolean doStudentCreditUpdate(Double dblCAmnt, String stuID) throws Exception -->Line_44 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) [ FD ]
Line_44 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) -->Line_45 $$ stmt.close()[ CD ]
Line_4 $$ Statement stmt = null-->Line_45 $$ stmt.close()[ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_45 $$ stmt.close()[ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_45 $$ stmt.close()[ FD ]
Line_20 $$ stmt = conn.createStatement()-->Line_45 $$ stmt.close()[ FD ]
Line_23 $$ stmt = conn.createStatement()-->Line_45 $$ stmt.close()[ FD ]
Line_40 $$ stmt = conn.createStatement()-->Line_45 $$ stmt.close()[ FD ]
Line_43 $$ stmt = conn.createStatement()-->Line_45 $$ stmt.close()[ FD ]
Line_44 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) -->Line_46 $$ blOk = true[ CD ]
Line_6 $$ Boolean blOk = false-->Line_46 $$ blOk = true[ FD ]
Line_26 $$ blOk = true-->Line_46 $$ blOk = true[ FD ]
Line_29 $$ blOk = false-->Line_46 $$ blOk = true[ FD ]
Line_33 $$ blOk = false-->Line_46 $$ blOk = true[ FD ]
Line_37 $$ blOk = false-->Line_46 $$ blOk = true[ FD ]
Line_46 $$ blOk = true-->Line_46 $$ blOk = true[ FD ]
Line_44 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) -->Line_48 $$ strMessage = "Unable to update student credit log."[ CD ]
Line_7 $$ String strMessage = ""-->Line_48 $$ strMessage = "Unable to update student credit log."[ FD ]
Line_28 $$ strMessage = "Unable to update student credit log."-->Line_48 $$ strMessage = "Unable to update student credit log."[ FD ]
Line_32 $$ strMessage = "Unable to update student credit account."-->Line_48 $$ strMessage = "Unable to update student credit log."[ FD ]
Line_36 $$ strMessage = "Unable to update student credit account."-->Line_48 $$ strMessage = "Unable to update student credit log."[ FD ]
Line_48 $$ strMessage = "Unable to update student credit log."-->Line_48 $$ strMessage = "Unable to update student credit log."[ FD ]
Line_44 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit_log ( scl_studentid, scl_action, scl_datetime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', NOW() )") == 1) -->Line_49 $$ blOk = false[ CD ]
Line_6 $$ Boolean blOk = false-->Line_49 $$ blOk = false[ FD ]
Line_26 $$ blOk = true-->Line_49 $$ blOk = false[ FD ]
Line_29 $$ blOk = false-->Line_49 $$ blOk = false[ FD ]
Line_33 $$ blOk = false-->Line_49 $$ blOk = false[ FD ]
Line_37 $$ blOk = false-->Line_49 $$ blOk = false[ FD ]
Line_46 $$ blOk = true-->Line_49 $$ blOk = false[ FD ]
Line_49 $$ blOk = false-->Line_49 $$ blOk = false[ FD ]
Line_41 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit (credit_amount,credit_active,credit_studentid,credit_lastused) values('" + round2Places(dblCAmnt) + "','1','" + stuId + "', NOW())") == 1) -->Line_52 $$ strMessage = "Unable to create new student credit account."[ CD ]
Line_7 $$ String strMessage = ""-->Line_52 $$ strMessage = "Unable to create new student credit account."[ FD ]
Line_28 $$ strMessage = "Unable to update student credit log."-->Line_52 $$ strMessage = "Unable to create new student credit account."[ FD ]
Line_32 $$ strMessage = "Unable to update student credit account."-->Line_52 $$ strMessage = "Unable to create new student credit account."[ FD ]
Line_36 $$ strMessage = "Unable to update student credit account."-->Line_52 $$ strMessage = "Unable to create new student credit account."[ FD ]
Line_48 $$ strMessage = "Unable to update student credit log."-->Line_52 $$ strMessage = "Unable to create new student credit account."[ FD ]
Line_52 $$ strMessage = "Unable to create new student credit account."-->Line_52 $$ strMessage = "Unable to create new student credit account."[ FD ]
Line_41 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "studentcredit (credit_amount,credit_active,credit_studentid,credit_lastused) values('" + round2Places(dblCAmnt) + "','1','" + stuId + "', NOW())") == 1) -->Line_53 $$ blOk = false[ CD ]
Line_6 $$ Boolean blOk = false-->Line_53 $$ blOk = false[ FD ]
Line_26 $$ blOk = true-->Line_53 $$ blOk = false[ FD ]
Line_29 $$ blOk = false-->Line_53 $$ blOk = false[ FD ]
Line_33 $$ blOk = false-->Line_53 $$ blOk = false[ FD ]
Line_37 $$ blOk = false-->Line_53 $$ blOk = false[ FD ]
Line_46 $$ blOk = true-->Line_53 $$ blOk = false[ FD ]
Line_49 $$ blOk = false-->Line_53 $$ blOk = false[ FD ]
Line_53 $$ blOk = false-->Line_53 $$ blOk = false[ FD ]
Line_56 $$ if (blOk) -->Line_57 $$ stmt = conn.createStatement()[ CD ]
Line_4 $$ Statement stmt = null-->Line_57 $$ stmt = conn.createStatement()[ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_57 $$ stmt = conn.createStatement()[ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_57 $$ stmt = conn.createStatement()[ FD ]
Line_20 $$ stmt = conn.createStatement()-->Line_57 $$ stmt = conn.createStatement()[ FD ]
Line_23 $$ stmt = conn.createStatement()-->Line_57 $$ stmt = conn.createStatement()[ FD ]
Line_40 $$ stmt = conn.createStatement()-->Line_57 $$ stmt = conn.createStatement()[ FD ]
Line_43 $$ stmt = conn.createStatement()-->Line_57 $$ stmt = conn.createStatement()[ FD ]
Line_57 $$ stmt = conn.createStatement()-->Line_57 $$ stmt = conn.createStatement()[ FD ]
Line_57 $$ stmt = conn.createStatement()-->Line_57 $$ stmt = conn.createStatement()[ CD ]
Line_3 $$ Connection conn = null-->Line_57 $$ stmt = conn.createStatement()[ FD ]
Line_9 $$ conn = dbMan.getPOSConnection()-->Line_57 $$ stmt = conn.createStatement()[ FD ]
Line_56 $$ if (blOk) -->Line_58 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "creditTrans ( ctStudentNumber, ctCreditAction, ctBuilding, ctRegister, ctUser, ctDateTime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', '" + building + "', '" + host + "', '" + cashier + "', NOW() )") == 1) [ CD ]
Line_4 $$ Statement stmt = null-->Line_58 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "creditTrans ( ctStudentNumber, ctCreditAction, ctBuilding, ctRegister, ctUser, ctDateTime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', '" + building + "', '" + host + "', '" + cashier + "', NOW() )") == 1) [ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_58 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "creditTrans ( ctStudentNumber, ctCreditAction, ctBuilding, ctRegister, ctUser, ctDateTime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', '" + building + "', '" + host + "', '" + cashier + "', NOW() )") == 1) [ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_58 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "creditTrans ( ctStudentNumber, ctCreditAction, ctBuilding, ctRegister, ctUser, ctDateTime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', '" + building + "', '" + host + "', '" + cashier + "', NOW() )") == 1) [ FD ]
Line_20 $$ stmt = conn.createStatement()-->Line_58 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "creditTrans ( ctStudentNumber, ctCreditAction, ctBuilding, ctRegister, ctUser, ctDateTime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', '" + building + "', '" + host + "', '" + cashier + "', NOW() )") == 1) [ FD ]
Line_23 $$ stmt = conn.createStatement()-->Line_58 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "creditTrans ( ctStudentNumber, ctCreditAction, ctBuilding, ctRegister, ctUser, ctDateTime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', '" + building + "', '" + host + "', '" + cashier + "', NOW() )") == 1) [ FD ]
Line_40 $$ stmt = conn.createStatement()-->Line_58 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "creditTrans ( ctStudentNumber, ctCreditAction, ctBuilding, ctRegister, ctUser, ctDateTime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', '" + building + "', '" + host + "', '" + cashier + "', NOW() )") == 1) [ FD ]
Line_43 $$ stmt = conn.createStatement()-->Line_58 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "creditTrans ( ctStudentNumber, ctCreditAction, ctBuilding, ctRegister, ctUser, ctDateTime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', '" + building + "', '" + host + "', '" + cashier + "', NOW() )") == 1) [ FD ]
Line_57 $$ stmt = conn.createStatement()-->Line_58 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "creditTrans ( ctStudentNumber, ctCreditAction, ctBuilding, ctRegister, ctUser, ctDateTime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', '" + building + "', '" + host + "', '" + cashier + "', NOW() )") == 1) [ FD ]
Line_2 $$ private boolean doStudentCreditUpdate(Double dblCAmnt, String stuID) throws Exception -->Line_58 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "creditTrans ( ctStudentNumber, ctCreditAction, ctBuilding, ctRegister, ctUser, ctDateTime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', '" + building + "', '" + host + "', '" + cashier + "', NOW() )") == 1) [ FD ]
Line_58 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "creditTrans ( ctStudentNumber, ctCreditAction, ctBuilding, ctRegister, ctUser, ctDateTime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', '" + building + "', '" + host + "', '" + cashier + "', NOW() )") == 1) -->Line_59 $$ stmt.close()[ CD ]
Line_4 $$ Statement stmt = null-->Line_59 $$ stmt.close()[ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_59 $$ stmt.close()[ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_59 $$ stmt.close()[ FD ]
Line_20 $$ stmt = conn.createStatement()-->Line_59 $$ stmt.close()[ FD ]
Line_23 $$ stmt = conn.createStatement()-->Line_59 $$ stmt.close()[ FD ]
Line_40 $$ stmt = conn.createStatement()-->Line_59 $$ stmt.close()[ FD ]
Line_43 $$ stmt = conn.createStatement()-->Line_59 $$ stmt.close()[ FD ]
Line_57 $$ stmt = conn.createStatement()-->Line_59 $$ stmt.close()[ FD ]
Line_58 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "creditTrans ( ctStudentNumber, ctCreditAction, ctBuilding, ctRegister, ctUser, ctDateTime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', '" + building + "', '" + host + "', '" + cashier + "', NOW() )") == 1) -->Line_60 $$ blOk = true[ CD ]
Line_6 $$ Boolean blOk = false-->Line_60 $$ blOk = true[ FD ]
Line_26 $$ blOk = true-->Line_60 $$ blOk = true[ FD ]
Line_29 $$ blOk = false-->Line_60 $$ blOk = true[ FD ]
Line_33 $$ blOk = false-->Line_60 $$ blOk = true[ FD ]
Line_37 $$ blOk = false-->Line_60 $$ blOk = true[ FD ]
Line_46 $$ blOk = true-->Line_60 $$ blOk = true[ FD ]
Line_49 $$ blOk = false-->Line_60 $$ blOk = true[ FD ]
Line_53 $$ blOk = false-->Line_60 $$ blOk = true[ FD ]
Line_60 $$ blOk = true-->Line_60 $$ blOk = true[ FD ]
Line_58 $$ if (stmt.executeUpdate("insert into " + strPOSPrefix + "creditTrans ( ctStudentNumber, ctCreditAction, ctBuilding, ctRegister, ctUser, ctDateTime ) values( '" + stuId + "', '" + round2Places(dblCAmnt) + "', '" + building + "', '" + host + "', '" + cashier + "', NOW() )") == 1) -->Line_61 $$ blOk = false[ CD ]
Line_6 $$ Boolean blOk = false-->Line_61 $$ blOk = false[ FD ]
Line_26 $$ blOk = true-->Line_61 $$ blOk = false[ FD ]
Line_29 $$ blOk = false-->Line_61 $$ blOk = false[ FD ]
Line_33 $$ blOk = false-->Line_61 $$ blOk = false[ FD ]
Line_37 $$ blOk = false-->Line_61 $$ blOk = false[ FD ]
Line_46 $$ blOk = true-->Line_61 $$ blOk = false[ FD ]
Line_49 $$ blOk = false-->Line_61 $$ blOk = false[ FD ]
Line_53 $$ blOk = false-->Line_61 $$ blOk = false[ FD ]
Line_60 $$ blOk = true-->Line_61 $$ blOk = false[ FD ]
Line_61 $$ blOk = false-->Line_61 $$ blOk = false[ FD ]
Line_63 $$ if (blOk) -->Line_64 $$ conn.commit()[ CD ]
Line_3 $$ Connection conn = null-->Line_64 $$ conn.commit()[ FD ]
Line_9 $$ conn = dbMan.getPOSConnection()-->Line_64 $$ conn.commit()[ FD ]
Line_63 $$ if (blOk) -->Line_65 $$ return true[ CD ]
Line_63 $$ if (blOk) -->Line_67 $$ conn.rollback()[ CD ]
Line_3 $$ Connection conn = null-->Line_67 $$ conn.rollback()[ FD ]
Line_9 $$ conn = dbMan.getPOSConnection()-->Line_67 $$ conn.rollback()[ FD ]
Line_3 $$ Connection conn = null-->Line_72 $$ conn.rollback()[ FD ]
Line_9 $$ conn = dbMan.getPOSConnection()-->Line_72 $$ conn.rollback()[ FD ]
Line_5 $$ ResultSet rs = null-->Line_77 $$ if (rs != null) [ FD ]
Line_5 $$ ResultSet rs = null-->Line_79 $$ rs.close()[ FD ]
Line_5 $$ ResultSet rs = null-->Line_81 $$ rs = null[ FD ]
Line_81 $$ rs = null-->Line_81 $$ rs = null[ FD ]
Line_77 $$ if (rs != null) -->Line_83 $$ if (stmt != null) [ CD ]
Line_4 $$ Statement stmt = null-->Line_83 $$ if (stmt != null) [ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_83 $$ if (stmt != null) [ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_83 $$ if (stmt != null) [ FD ]
Line_20 $$ stmt = conn.createStatement()-->Line_83 $$ if (stmt != null) [ FD ]
Line_23 $$ stmt = conn.createStatement()-->Line_83 $$ if (stmt != null) [ FD ]
Line_40 $$ stmt = conn.createStatement()-->Line_83 $$ if (stmt != null) [ FD ]
Line_43 $$ stmt = conn.createStatement()-->Line_83 $$ if (stmt != null) [ FD ]
Line_57 $$ stmt = conn.createStatement()-->Line_83 $$ if (stmt != null) [ FD ]
Line_4 $$ Statement stmt = null-->Line_85 $$ stmt.close()[ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_85 $$ stmt.close()[ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_85 $$ stmt.close()[ FD ]
Line_20 $$ stmt = conn.createStatement()-->Line_85 $$ stmt.close()[ FD ]
Line_23 $$ stmt = conn.createStatement()-->Line_85 $$ stmt.close()[ FD ]
Line_40 $$ stmt = conn.createStatement()-->Line_85 $$ stmt.close()[ FD ]
Line_43 $$ stmt = conn.createStatement()-->Line_85 $$ stmt.close()[ FD ]
Line_57 $$ stmt = conn.createStatement()-->Line_85 $$ stmt.close()[ FD ]
Line_4 $$ Statement stmt = null-->Line_87 $$ stmt = null[ FD ]
Line_11 $$ stmt = conn.createStatement()-->Line_87 $$ stmt = null[ FD ]
Line_17 $$ stmt = conn.createStatement()-->Line_87 $$ stmt = null[ FD ]
Line_20 $$ stmt = conn.createStatement()-->Line_87 $$ stmt = null[ FD ]
Line_23 $$ stmt = conn.createStatement()-->Line_87 $$ stmt = null[ FD ]
Line_40 $$ stmt = conn.createStatement()-->Line_87 $$ stmt = null[ FD ]
Line_43 $$ stmt = conn.createStatement()-->Line_87 $$ stmt = null[ FD ]
Line_57 $$ stmt = conn.createStatement()-->Line_87 $$ stmt = null[ FD ]
Line_87 $$ stmt = null-->Line_87 $$ stmt = null[ FD ]
