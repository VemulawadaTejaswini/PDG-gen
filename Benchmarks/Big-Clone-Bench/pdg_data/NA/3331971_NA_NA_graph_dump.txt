Line_0 $$ Entry-->Line_1 $$ public class dummy [ CD ]
Line_1 $$ public class dummy -->Line_2 $$ protected void onSubmit() [ CD ]
Line_4 $$ Connection conn = ((JdbcRequestCycle) getRequestCycle()).getConnection()-->Line_4 $$ Connection conn = ((JdbcRequestCycle) getRequestCycle()).getConnection()[ CD ]
Line_6 $$ PreparedStatement pstmt = conn.prepareStatement(sql)-->Line_6 $$ PreparedStatement pstmt = conn.prepareStatement(sql)[ CD ]
Line_4 $$ Connection conn = ((JdbcRequestCycle) getRequestCycle()).getConnection()-->Line_6 $$ PreparedStatement pstmt = conn.prepareStatement(sql)[ FD ]
Line_5 $$ String sql = "insert into entry (author, accessibility) values(?,?)"-->Line_6 $$ PreparedStatement pstmt = conn.prepareStatement(sql)[ FD ]
Line_6 $$ PreparedStatement pstmt = conn.prepareStatement(sql)-->Line_7 $$ pstmt.setInt(1, userId)[ FD ]
Line_6 $$ PreparedStatement pstmt = conn.prepareStatement(sql)-->Line_8 $$ pstmt.setInt(2, accessibility.getId())[ FD ]
Line_6 $$ PreparedStatement pstmt = conn.prepareStatement(sql)-->Line_9 $$ pstmt.executeUpdate()[ FD ]
Line_10 $$ ResultSet insertedEntryIdRs = pstmt.getGeneratedKeys()-->Line_10 $$ ResultSet insertedEntryIdRs = pstmt.getGeneratedKeys()[ CD ]
Line_6 $$ PreparedStatement pstmt = conn.prepareStatement(sql)-->Line_10 $$ ResultSet insertedEntryIdRs = pstmt.getGeneratedKeys()[ FD ]
Line_10 $$ ResultSet insertedEntryIdRs = pstmt.getGeneratedKeys()-->Line_11 $$ insertedEntryIdRs.next()[ FD ]
Line_12 $$ int insertedEntryId = insertedEntryIdRs.getInt(1)-->Line_12 $$ int insertedEntryId = insertedEntryIdRs.getInt(1)[ CD ]
Line_10 $$ ResultSet insertedEntryIdRs = pstmt.getGeneratedKeys()-->Line_12 $$ int insertedEntryId = insertedEntryIdRs.getInt(1)[ FD ]
Line_5 $$ String sql = "insert into entry (author, accessibility) values(?,?)"-->Line_13 $$ sql = "insert into revisions (title, entry, content, tags," + " revision_remark) values(?,?,?,?,?)"[ FD ]
Line_13 $$ sql = "insert into revisions (title, entry, content, tags," + " revision_remark) values(?,?,?,?,?)"-->Line_13 $$ sql = "insert into revisions (title, entry, content, tags," + " revision_remark) values(?,?,?,?,?)"[ FD ]
Line_14 $$ PreparedStatement pstmt2 = conn.prepareStatement(sql)-->Line_14 $$ PreparedStatement pstmt2 = conn.prepareStatement(sql)[ CD ]
Line_4 $$ Connection conn = ((JdbcRequestCycle) getRequestCycle()).getConnection()-->Line_14 $$ PreparedStatement pstmt2 = conn.prepareStatement(sql)[ FD ]
Line_5 $$ String sql = "insert into entry (author, accessibility) values(?,?)"-->Line_14 $$ PreparedStatement pstmt2 = conn.prepareStatement(sql)[ FD ]
Line_13 $$ sql = "insert into revisions (title, entry, content, tags," + " revision_remark) values(?,?,?,?,?)"-->Line_14 $$ PreparedStatement pstmt2 = conn.prepareStatement(sql)[ FD ]
Line_14 $$ PreparedStatement pstmt2 = conn.prepareStatement(sql)-->Line_15 $$ pstmt2.setString(1, getTitle())[ FD ]
Line_14 $$ PreparedStatement pstmt2 = conn.prepareStatement(sql)-->Line_16 $$ pstmt2.setInt(2, insertedEntryId)[ FD ]
Line_12 $$ int insertedEntryId = insertedEntryIdRs.getInt(1)-->Line_16 $$ pstmt2.setInt(2, insertedEntryId)[ FD ]
Line_14 $$ PreparedStatement pstmt2 = conn.prepareStatement(sql)-->Line_17 $$ pstmt2.setString(3, getContent())[ FD ]
Line_14 $$ PreparedStatement pstmt2 = conn.prepareStatement(sql)-->Line_18 $$ pstmt2.setString(4, getTags())[ FD ]
Line_14 $$ PreparedStatement pstmt2 = conn.prepareStatement(sql)-->Line_19 $$ pstmt2.setString(5, "newly added")[ FD ]
Line_20 $$ int insertCount = pstmt2.executeUpdate()-->Line_20 $$ int insertCount = pstmt2.executeUpdate()[ CD ]
Line_14 $$ PreparedStatement pstmt2 = conn.prepareStatement(sql)-->Line_20 $$ int insertCount = pstmt2.executeUpdate()[ FD ]
Line_20 $$ int insertCount = pstmt2.executeUpdate()-->Line_21 $$ if (insertCount > 0) [ FD ]
Line_21 $$ if (insertCount > 0) -->Line_22 $$ info("Successfully added one new record.")[ CD ]
Line_21 $$ if (insertCount > 0) -->Line_24 $$ conn.rollback()[ CD ]
Line_4 $$ Connection conn = ((JdbcRequestCycle) getRequestCycle()).getConnection()-->Line_24 $$ conn.rollback()[ FD ]
Line_21 $$ if (insertCount > 0) -->Line_25 $$ info("Addition of one new record failed.")[ CD ]
