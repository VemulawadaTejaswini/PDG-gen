Line_0 $$ Entry-->Line_1 $$ public class dummy [ CD ]
Line_1 $$ public class dummy -->Line_2 $$ public void updateUserInfo(AuthSession authSession, AuthUserExtendedInfo infoAuth) [ CD ]
Line_2 $$ public void updateUserInfo(AuthSession authSession, AuthUserExtendedInfo infoAuth) -->Line_3 $$ log.info("Start update auth")[ CD ]
Line_2 $$ public void updateUserInfo(AuthSession authSession, AuthUserExtendedInfo infoAuth) -->Line_4 $$ PreparedStatement ps = null[ CD ]
Line_2 $$ public void updateUserInfo(AuthSession authSession, AuthUserExtendedInfo infoAuth) -->Line_5 $$ DatabaseAdapter db = null[ CD ]
Line_5 $$ DatabaseAdapter db = null-->Line_7 $$ db = DatabaseAdapter.getInstance()[ FD ]
Line_7 $$ db = DatabaseAdapter.getInstance()-->Line_7 $$ db = DatabaseAdapter.getInstance()[ FD ]
Line_7 $$ db = DatabaseAdapter.getInstance()-->Line_7 $$ db = DatabaseAdapter.getInstance()[ CD ]
Line_4 $$ PreparedStatement ps = null-->Line_9 $$ ps = db.prepareStatement(sql)[ FD ]
Line_9 $$ ps = db.prepareStatement(sql)-->Line_9 $$ ps = db.prepareStatement(sql)[ FD ]
Line_9 $$ ps = db.prepareStatement(sql)-->Line_9 $$ ps = db.prepareStatement(sql)[ CD ]
Line_5 $$ DatabaseAdapter db = null-->Line_9 $$ ps = db.prepareStatement(sql)[ FD ]
Line_7 $$ db = DatabaseAdapter.getInstance()-->Line_9 $$ ps = db.prepareStatement(sql)[ FD ]
Line_8 $$ String sql = "update WM_AUTH_USER " + "set " + "ID_FIRM=?, IS_USE_CURRENT_FIRM=?, " + "ID_HOLDING=?, IS_HOLDING=? " + "WHERE  ID_AUTH_USER=? "-->Line_9 $$ ps = db.prepareStatement(sql)[ FD ]
Line_2 $$ public void updateUserInfo(AuthSession authSession, AuthUserExtendedInfo infoAuth) -->Line_10 $$ if (infoAuth.getAuthInfo().getCompanyId() == null) [ FD ]
Line_10 $$ if (infoAuth.getAuthInfo().getCompanyId() == null) -->Line_11 $$ ps.setNull(1, Types.INTEGER)[ CD ]
Line_4 $$ PreparedStatement ps = null-->Line_11 $$ ps.setNull(1, Types.INTEGER)[ FD ]
Line_9 $$ ps = db.prepareStatement(sql)-->Line_11 $$ ps.setNull(1, Types.INTEGER)[ FD ]
Line_10 $$ if (infoAuth.getAuthInfo().getCompanyId() == null) -->Line_12 $$ ps.setInt(2, 0)[ CD ]
Line_4 $$ PreparedStatement ps = null-->Line_12 $$ ps.setInt(2, 0)[ FD ]
Line_9 $$ ps = db.prepareStatement(sql)-->Line_12 $$ ps.setInt(2, 0)[ FD ]
Line_10 $$ if (infoAuth.getAuthInfo().getCompanyId() == null) -->Line_14 $$ ps.setLong(1, infoAuth.getAuthInfo().getCompanyId())[ CD ]
Line_4 $$ PreparedStatement ps = null-->Line_14 $$ ps.setLong(1, infoAuth.getAuthInfo().getCompanyId())[ FD ]
Line_9 $$ ps = db.prepareStatement(sql)-->Line_14 $$ ps.setLong(1, infoAuth.getAuthInfo().getCompanyId())[ FD ]
Line_2 $$ public void updateUserInfo(AuthSession authSession, AuthUserExtendedInfo infoAuth) -->Line_14 $$ ps.setLong(1, infoAuth.getAuthInfo().getCompanyId())[ FD ]
Line_10 $$ if (infoAuth.getAuthInfo().getCompanyId() == null) -->Line_15 $$ ps.setInt(2, infoAuth.getAuthInfo().isCompany() ? 1 : 0)[ CD ]
Line_4 $$ PreparedStatement ps = null-->Line_15 $$ ps.setInt(2, infoAuth.getAuthInfo().isCompany() ? 1 : 0)[ FD ]
Line_9 $$ ps = db.prepareStatement(sql)-->Line_15 $$ ps.setInt(2, infoAuth.getAuthInfo().isCompany() ? 1 : 0)[ FD ]
Line_2 $$ public void updateUserInfo(AuthSession authSession, AuthUserExtendedInfo infoAuth) -->Line_15 $$ ps.setInt(2, infoAuth.getAuthInfo().isCompany() ? 1 : 0)[ FD ]
Line_2 $$ public void updateUserInfo(AuthSession authSession, AuthUserExtendedInfo infoAuth) -->Line_17 $$ if (infoAuth.getAuthInfo().getHoldingId() == null) [ FD ]
Line_17 $$ if (infoAuth.getAuthInfo().getHoldingId() == null) -->Line_18 $$ ps.setNull(3, Types.INTEGER)[ CD ]
Line_4 $$ PreparedStatement ps = null-->Line_18 $$ ps.setNull(3, Types.INTEGER)[ FD ]
Line_9 $$ ps = db.prepareStatement(sql)-->Line_18 $$ ps.setNull(3, Types.INTEGER)[ FD ]
Line_17 $$ if (infoAuth.getAuthInfo().getHoldingId() == null) -->Line_19 $$ ps.setInt(4, 0)[ CD ]
Line_4 $$ PreparedStatement ps = null-->Line_19 $$ ps.setInt(4, 0)[ FD ]
Line_9 $$ ps = db.prepareStatement(sql)-->Line_19 $$ ps.setInt(4, 0)[ FD ]
Line_17 $$ if (infoAuth.getAuthInfo().getHoldingId() == null) -->Line_21 $$ ps.setLong(3, infoAuth.getAuthInfo().getHoldingId())[ CD ]
Line_4 $$ PreparedStatement ps = null-->Line_21 $$ ps.setLong(3, infoAuth.getAuthInfo().getHoldingId())[ FD ]
Line_9 $$ ps = db.prepareStatement(sql)-->Line_21 $$ ps.setLong(3, infoAuth.getAuthInfo().getHoldingId())[ FD ]
Line_2 $$ public void updateUserInfo(AuthSession authSession, AuthUserExtendedInfo infoAuth) -->Line_21 $$ ps.setLong(3, infoAuth.getAuthInfo().getHoldingId())[ FD ]
Line_17 $$ if (infoAuth.getAuthInfo().getHoldingId() == null) -->Line_22 $$ ps.setInt(4, infoAuth.getAuthInfo().isHolding() ? 1 : 0)[ CD ]
Line_4 $$ PreparedStatement ps = null-->Line_22 $$ ps.setInt(4, infoAuth.getAuthInfo().isHolding() ? 1 : 0)[ FD ]
Line_9 $$ ps = db.prepareStatement(sql)-->Line_22 $$ ps.setInt(4, infoAuth.getAuthInfo().isHolding() ? 1 : 0)[ FD ]
Line_2 $$ public void updateUserInfo(AuthSession authSession, AuthUserExtendedInfo infoAuth) -->Line_22 $$ ps.setInt(4, infoAuth.getAuthInfo().isHolding() ? 1 : 0)[ FD ]
Line_4 $$ PreparedStatement ps = null-->Line_24 $$ ps.setLong(5, infoAuth.getAuthInfo().getAuthUserId())[ FD ]
Line_9 $$ ps = db.prepareStatement(sql)-->Line_24 $$ ps.setLong(5, infoAuth.getAuthInfo().getAuthUserId())[ FD ]
Line_2 $$ public void updateUserInfo(AuthSession authSession, AuthUserExtendedInfo infoAuth) -->Line_24 $$ ps.setLong(5, infoAuth.getAuthInfo().getAuthUserId())[ FD ]
Line_4 $$ PreparedStatement ps = null-->Line_25 $$ ps.executeUpdate()[ FD ]
Line_9 $$ ps = db.prepareStatement(sql)-->Line_25 $$ ps.executeUpdate()[ FD ]
Line_5 $$ DatabaseAdapter db = null-->Line_26 $$ processDeletedRoles(db, infoAuth)[ FD ]
Line_7 $$ db = DatabaseAdapter.getInstance()-->Line_26 $$ processDeletedRoles(db, infoAuth)[ FD ]
Line_2 $$ public void updateUserInfo(AuthSession authSession, AuthUserExtendedInfo infoAuth) -->Line_26 $$ processDeletedRoles(db, infoAuth)[ FD ]
Line_5 $$ DatabaseAdapter db = null-->Line_27 $$ processNewRoles(db, infoAuth.getRoles(), infoAuth.getAuthInfo().getAuthUserId())[ FD ]
Line_7 $$ db = DatabaseAdapter.getInstance()-->Line_27 $$ processNewRoles(db, infoAuth.getRoles(), infoAuth.getAuthInfo().getAuthUserId())[ FD ]
Line_2 $$ public void updateUserInfo(AuthSession authSession, AuthUserExtendedInfo infoAuth) -->Line_27 $$ processNewRoles(db, infoAuth.getRoles(), infoAuth.getAuthInfo().getAuthUserId())[ FD ]
Line_2 $$ public void updateUserInfo(AuthSession authSession, AuthUserExtendedInfo infoAuth) -->Line_27 $$ processNewRoles(db, infoAuth.getRoles(), infoAuth.getAuthInfo().getAuthUserId())[ FD ]
Line_5 $$ DatabaseAdapter db = null-->Line_28 $$ db.commit()[ FD ]
Line_7 $$ db = DatabaseAdapter.getInstance()-->Line_28 $$ db.commit()[ FD ]
Line_5 $$ DatabaseAdapter db = null-->Line_31 $$ if (db != null)[ FD ]
Line_7 $$ db = DatabaseAdapter.getInstance()-->Line_31 $$ if (db != null)[ FD ]
Line_31 $$ if (db != null)-->Line_31 $$ db.rollback()[ CD ]
Line_5 $$ DatabaseAdapter db = null-->Line_31 $$ db.rollback()[ FD ]
Line_7 $$ db = DatabaseAdapter.getInstance()-->Line_31 $$ db.rollback()[ FD ]
Line_34 $$ final String es = "Error add user auth"-->Line_35 $$ log.error(es, e)[ FD ]
Line_5 $$ DatabaseAdapter db = null-->Line_38 $$ DatabaseManager.close(db, ps)[ FD ]
Line_7 $$ db = DatabaseAdapter.getInstance()-->Line_38 $$ DatabaseManager.close(db, ps)[ FD ]
Line_4 $$ PreparedStatement ps = null-->Line_38 $$ DatabaseManager.close(db, ps)[ FD ]
Line_9 $$ ps = db.prepareStatement(sql)-->Line_38 $$ DatabaseManager.close(db, ps)[ FD ]
Line_4 $$ PreparedStatement ps = null-->Line_39 $$ ps = null[ FD ]
Line_9 $$ ps = db.prepareStatement(sql)-->Line_39 $$ ps = null[ FD ]
Line_39 $$ ps = null-->Line_39 $$ ps = null[ FD ]
Line_5 $$ DatabaseAdapter db = null-->Line_40 $$ db = null[ FD ]
Line_7 $$ db = DatabaseAdapter.getInstance()-->Line_40 $$ db = null[ FD ]
Line_40 $$ db = null-->Line_40 $$ db = null[ FD ]
