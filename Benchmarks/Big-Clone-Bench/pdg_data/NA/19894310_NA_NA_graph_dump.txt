Line_0 $$ Entry-->Line_1 $$ public class dummy [ CD ]
Line_1 $$ public class dummy -->Line_2 $$ public static Map putFile(DispatchContext dctx, Map context) [ CD ]
Line_2 $$ public static Map putFile(DispatchContext dctx, Map context) -->Line_3 $$ Debug.logInfo("[putFile] starting...", module)[ CD ]
Line_2 $$ public static Map putFile(DispatchContext dctx, Map context) -->Line_4 $$ InputStream localFile = null[ CD ]
Line_4 $$ InputStream localFile = null-->Line_6 $$ localFile = new FileInputStream((String) context.get("localFilename"))[ FD ]
Line_6 $$ localFile = new FileInputStream((String) context.get("localFilename"))-->Line_6 $$ localFile = new FileInputStream((String) context.get("localFilename"))[ FD ]
Line_2 $$ public static Map putFile(DispatchContext dctx, Map context) -->Line_6 $$ localFile = new FileInputStream((String) context.get("localFilename"))[ FD ]
Line_9 $$ return ServiceUtil.returnError("ERROR: Could not open local file")-->Line_9 $$ return ServiceUtil.returnError("ERROR: Could not open local file")[ CD ]
Line_2 $$ public static Map putFile(DispatchContext dctx, Map context) -->Line_11 $$ List errorList = new ArrayList()[ CD ]
Line_2 $$ public static Map putFile(DispatchContext dctx, Map context) -->Line_12 $$ FTPClient ftp = new FTPClient()[ CD ]
Line_2 $$ public static Map putFile(DispatchContext dctx, Map context) -->Line_14 $$ Debug.logInfo("[putFile] connecting to: " + (String) context.get("hostname"), module)[ FD ]
Line_12 $$ FTPClient ftp = new FTPClient()-->Line_15 $$ ftp.connect((String) context.get("hostname"))[ FD ]
Line_2 $$ public static Map putFile(DispatchContext dctx, Map context) -->Line_15 $$ ftp.connect((String) context.get("hostname"))[ FD ]
Line_16 $$ if (!FTPReply.isPositiveCompletion(ftp.getReplyCode())) -->Line_16 $$ if (!FTPReply.isPositiveCompletion(ftp.getReplyCode())) [ CD ]
Line_16 $$ if (!FTPReply.isPositiveCompletion(ftp.getReplyCode())) -->Line_16 $$ if (!FTPReply.isPositiveCompletion(ftp.getReplyCode())) [ CD ]
Line_12 $$ FTPClient ftp = new FTPClient()-->Line_16 $$ if (!FTPReply.isPositiveCompletion(ftp.getReplyCode())) [ FD ]
Line_16 $$ if (!FTPReply.isPositiveCompletion(ftp.getReplyCode())) -->Line_17 $$ Debug.logInfo("[putFile] Server refused connection", module)[ CD ]
Line_16 $$ if (!FTPReply.isPositiveCompletion(ftp.getReplyCode())) -->Line_18 $$ errorList.add("connection refused")[ CD ]
Line_11 $$ List errorList = new ArrayList()-->Line_18 $$ errorList.add("connection refused")[ FD ]
Line_16 $$ if (!FTPReply.isPositiveCompletion(ftp.getReplyCode())) -->Line_20 $$ String username = (String) context.get("username")[ CD ]
Line_2 $$ public static Map putFile(DispatchContext dctx, Map context) -->Line_20 $$ String username = (String) context.get("username")[ FD ]
Line_16 $$ if (!FTPReply.isPositiveCompletion(ftp.getReplyCode())) -->Line_21 $$ String password = (String) context.get("password")[ CD ]
Line_2 $$ public static Map putFile(DispatchContext dctx, Map context) -->Line_21 $$ String password = (String) context.get("password")[ FD ]
Line_16 $$ if (!FTPReply.isPositiveCompletion(ftp.getReplyCode())) -->Line_22 $$ Debug.logInfo("[putFile] logging in: username=" + username + ", password=" + password, module)[ CD ]
Line_16 $$ if (!FTPReply.isPositiveCompletion(ftp.getReplyCode())) -->Line_23 $$ if (!ftp.login(username, password)) [ CD ]
Line_23 $$ if (!ftp.login(username, password)) -->Line_23 $$ if (!ftp.login(username, password)) [ CD ]
Line_23 $$ if (!ftp.login(username, password)) -->Line_23 $$ if (!ftp.login(username, password)) [ CD ]
Line_12 $$ FTPClient ftp = new FTPClient()-->Line_23 $$ if (!ftp.login(username, password)) [ FD ]
Line_20 $$ String username = (String) context.get("username")-->Line_23 $$ if (!ftp.login(username, password)) [ FD ]
Line_21 $$ String password = (String) context.get("password")-->Line_23 $$ if (!ftp.login(username, password)) [ FD ]
Line_23 $$ if (!ftp.login(username, password)) -->Line_24 $$ Debug.logInfo("[putFile] login failed", module)[ CD ]
Line_23 $$ if (!ftp.login(username, password)) -->Line_25 $$ errorList.add("Login failed (" + username + ", " + password + ")")[ CD ]
Line_11 $$ List errorList = new ArrayList()-->Line_25 $$ errorList.add("Login failed (" + username + ", " + password + ")")[ FD ]
Line_23 $$ if (!ftp.login(username, password)) -->Line_27 $$ Boolean binaryTransfer = (Boolean) context.get("binaryTransfer")[ CD ]
Line_2 $$ public static Map putFile(DispatchContext dctx, Map context) -->Line_27 $$ Boolean binaryTransfer = (Boolean) context.get("binaryTransfer")[ FD ]
Line_23 $$ if (!ftp.login(username, password)) -->Line_28 $$ boolean binary = (binaryTransfer == null) ? false : binaryTransfer.booleanValue()[ CD ]
Line_27 $$ Boolean binaryTransfer = (Boolean) context.get("binaryTransfer")-->Line_28 $$ boolean binary = (binaryTransfer == null) ? false : binaryTransfer.booleanValue()[ FD ]
Line_23 $$ if (!ftp.login(username, password)) -->Line_29 $$ if (binary) [ CD ]
Line_29 $$ if (binary) -->Line_30 $$ ftp.setFileType(FTP.BINARY_FILE_TYPE)[ CD ]
Line_12 $$ FTPClient ftp = new FTPClient()-->Line_30 $$ ftp.setFileType(FTP.BINARY_FILE_TYPE)[ FD ]
Line_23 $$ if (!ftp.login(username, password)) -->Line_32 $$ Boolean passiveMode = (Boolean) context.get("passiveMode")[ CD ]
Line_2 $$ public static Map putFile(DispatchContext dctx, Map context) -->Line_32 $$ Boolean passiveMode = (Boolean) context.get("passiveMode")[ FD ]
Line_23 $$ if (!ftp.login(username, password)) -->Line_33 $$ boolean passive = (passiveMode == null) ? true : passiveMode.booleanValue()[ CD ]
Line_32 $$ Boolean passiveMode = (Boolean) context.get("passiveMode")-->Line_33 $$ boolean passive = (passiveMode == null) ? true : passiveMode.booleanValue()[ FD ]
Line_23 $$ if (!ftp.login(username, password)) -->Line_34 $$ if (passive) [ CD ]
Line_34 $$ if (passive) -->Line_35 $$ ftp.enterLocalPassiveMode()[ CD ]
Line_12 $$ FTPClient ftp = new FTPClient()-->Line_35 $$ ftp.enterLocalPassiveMode()[ FD ]
Line_23 $$ if (!ftp.login(username, password)) -->Line_37 $$ Debug.logInfo("[putFile] storing local file remotely as: " + context.get("remoteFilename"), module)[ CD ]
Line_2 $$ public static Map putFile(DispatchContext dctx, Map context) -->Line_37 $$ Debug.logInfo("[putFile] storing local file remotely as: " + context.get("remoteFilename"), module)[ FD ]
Line_23 $$ if (!ftp.login(username, password)) -->Line_38 $$ if (!ftp.storeFile((String) context.get("remoteFilename"), localFile)) [ CD ]
Line_38 $$ if (!ftp.storeFile((String) context.get("remoteFilename"), localFile)) -->Line_38 $$ if (!ftp.storeFile((String) context.get("remoteFilename"), localFile)) [ CD ]
Line_38 $$ if (!ftp.storeFile((String) context.get("remoteFilename"), localFile)) -->Line_38 $$ if (!ftp.storeFile((String) context.get("remoteFilename"), localFile)) [ CD ]
Line_12 $$ FTPClient ftp = new FTPClient()-->Line_38 $$ if (!ftp.storeFile((String) context.get("remoteFilename"), localFile)) [ FD ]
Line_4 $$ InputStream localFile = null-->Line_38 $$ if (!ftp.storeFile((String) context.get("remoteFilename"), localFile)) [ FD ]
Line_6 $$ localFile = new FileInputStream((String) context.get("localFilename"))-->Line_38 $$ if (!ftp.storeFile((String) context.get("remoteFilename"), localFile)) [ FD ]
Line_2 $$ public static Map putFile(DispatchContext dctx, Map context) -->Line_38 $$ if (!ftp.storeFile((String) context.get("remoteFilename"), localFile)) [ FD ]
Line_38 $$ if (!ftp.storeFile((String) context.get("remoteFilename"), localFile)) -->Line_39 $$ Debug.logInfo("[putFile] store was unsuccessful", module)[ CD ]
Line_38 $$ if (!ftp.storeFile((String) context.get("remoteFilename"), localFile)) -->Line_40 $$ errorList.add("File not sent succesfully: " + ftp.getReplyString())[ CD ]
Line_11 $$ List errorList = new ArrayList()-->Line_40 $$ errorList.add("File not sent succesfully: " + ftp.getReplyString())[ FD ]
Line_12 $$ FTPClient ftp = new FTPClient()-->Line_40 $$ errorList.add("File not sent succesfully: " + ftp.getReplyString())[ FD ]
Line_38 $$ if (!ftp.storeFile((String) context.get("remoteFilename"), localFile)) -->Line_42 $$ Debug.logInfo("[putFile] store was successful", module)[ CD ]
Line_38 $$ if (!ftp.storeFile((String) context.get("remoteFilename"), localFile)) -->Line_43 $$ List siteCommands = (List) context.get("siteCommands")[ CD ]
Line_2 $$ public static Map putFile(DispatchContext dctx, Map context) -->Line_43 $$ List siteCommands = (List) context.get("siteCommands")[ FD ]
Line_38 $$ if (!ftp.storeFile((String) context.get("remoteFilename"), localFile)) -->Line_44 $$ if (siteCommands != null) [ CD ]
Line_43 $$ List siteCommands = (List) context.get("siteCommands")-->Line_44 $$ if (siteCommands != null) [ FD ]
Line_44 $$ if (siteCommands != null) -->Line_45 $$ Iterator ci = siteCommands.iterator()[ CD ]
Line_45 $$ Iterator ci = siteCommands.iterator()-->Line_45 $$ Iterator ci = siteCommands.iterator()[ CD ]
Line_43 $$ List siteCommands = (List) context.get("siteCommands")-->Line_45 $$ Iterator ci = siteCommands.iterator()[ FD ]
Line_44 $$ if (siteCommands != null) -->Line_46 $$ while (ci.hasNext()) [ CD ]
Line_44 $$ if (siteCommands != null) -->Line_44 $$ if (siteCommands != null) [ CD ]
Line_46 $$ while (ci.hasNext()) -->Line_46 $$ while (ci.hasNext()) [ CD ]
Line_45 $$ Iterator ci = siteCommands.iterator()-->Line_46 $$ while (ci.hasNext()) [ FD ]
Line_46 $$ while (ci.hasNext()) -->Line_47 $$ String command = (String) ci.next()[ CD ]
Line_45 $$ Iterator ci = siteCommands.iterator()-->Line_47 $$ String command = (String) ci.next()[ FD ]
Line_46 $$ while (ci.hasNext()) -->Line_48 $$ Debug.logInfo("[putFile] sending SITE command: " + command, module)[ CD ]
Line_46 $$ while (ci.hasNext()) -->Line_49 $$ if (!ftp.sendSiteCommand(command)) [ CD ]
Line_49 $$ if (!ftp.sendSiteCommand(command)) -->Line_49 $$ if (!ftp.sendSiteCommand(command)) [ CD ]
Line_49 $$ if (!ftp.sendSiteCommand(command)) -->Line_49 $$ if (!ftp.sendSiteCommand(command)) [ CD ]
Line_12 $$ FTPClient ftp = new FTPClient()-->Line_49 $$ if (!ftp.sendSiteCommand(command)) [ FD ]
Line_47 $$ String command = (String) ci.next()-->Line_49 $$ if (!ftp.sendSiteCommand(command)) [ FD ]
Line_49 $$ if (!ftp.sendSiteCommand(command)) -->Line_50 $$ errorList.add("SITE command (" + command + ") failed: " + ftp.getReplyString())[ CD ]
Line_11 $$ List errorList = new ArrayList()-->Line_50 $$ errorList.add("SITE command (" + command + ") failed: " + ftp.getReplyString())[ FD ]
Line_12 $$ FTPClient ftp = new FTPClient()-->Line_50 $$ errorList.add("SITE command (" + command + ") failed: " + ftp.getReplyString())[ FD ]
Line_16 $$ if (!FTPReply.isPositiveCompletion(ftp.getReplyCode())) -->Line_56 $$ ftp.logout()[ CD ]
Line_12 $$ FTPClient ftp = new FTPClient()-->Line_56 $$ ftp.logout()[ FD ]
Line_11 $$ List errorList = new ArrayList()-->Line_60 $$ errorList.add("Problem with FTP transfer: " + ioe.getMessage())[ FD ]
Line_12 $$ FTPClient ftp = new FTPClient()-->Line_62 $$ if (ftp.isConnected()) [ FD ]
Line_62 $$ if (ftp.isConnected()) -->Line_62 $$ if (ftp.isConnected()) [ CD ]
Line_12 $$ FTPClient ftp = new FTPClient()-->Line_62 $$ if (ftp.isConnected()) [ FD ]
Line_12 $$ FTPClient ftp = new FTPClient()-->Line_64 $$ ftp.disconnect()[ FD ]
Line_4 $$ InputStream localFile = null-->Line_71 $$ localFile.close()[ FD ]
Line_6 $$ localFile = new FileInputStream((String) context.get("localFilename"))-->Line_71 $$ localFile.close()[ FD ]
Line_2 $$ public static Map putFile(DispatchContext dctx, Map context) -->Line_75 $$ if (errorList.size() > 0) [ CD ]
Line_11 $$ List errorList = new ArrayList()-->Line_75 $$ if (errorList.size() > 0) [ FD ]
Line_75 $$ if (errorList.size() > 0) -->Line_76 $$ Debug.logError("[putFile] The following error(s) (" + errorList.size() + ") occurred: " + errorList, module)[ CD ]
Line_11 $$ List errorList = new ArrayList()-->Line_76 $$ Debug.logError("[putFile] The following error(s) (" + errorList.size() + ") occurred: " + errorList, module)[ FD ]
Line_75 $$ if (errorList.size() > 0) -->Line_77 $$ return ServiceUtil.returnError(errorList)[ CD ]
Line_77 $$ return ServiceUtil.returnError(errorList)-->Line_77 $$ return ServiceUtil.returnError(errorList)[ CD ]
Line_11 $$ List errorList = new ArrayList()-->Line_77 $$ return ServiceUtil.returnError(errorList)[ FD ]
Line_2 $$ public static Map putFile(DispatchContext dctx, Map context) -->Line_79 $$ Debug.logInfo("[putFile] finished successfully", module)[ CD ]
Line_2 $$ public static Map putFile(DispatchContext dctx, Map context) -->Line_80 $$ return ServiceUtil.returnSuccess()[ CD ]
Line_80 $$ return ServiceUtil.returnSuccess()-->Line_80 $$ return ServiceUtil.returnSuccess()[ CD ]
Line_47 $$ String command = (String) ci.next()-->Line_49 $$ if (!ftp.sendSiteCommand(command)) [ FD ]
