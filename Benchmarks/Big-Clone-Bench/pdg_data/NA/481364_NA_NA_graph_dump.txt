Line_0 $$ Entry-->Line_1 $$ public class dummy [ CD ]
Line_1 $$ public class dummy -->Line_2 $$ private void downloadFiles() [ CD ]
Line_2 $$ private void downloadFiles() -->Line_3 $$ SwingWorker<Double, RaphPhotoGalleryPhoto> downloadFilesWorker = new SwingWorker<Double, RaphPhotoGalleryPhoto>() [ CD ]
Line_12 $$ for (RaphPhotoGalleryPhoto photo : photoList) -->Line_13 $$ URL url = new URL(getCodeBase().toString() + photo.getUrl())[ FD ]
Line_13 $$ URL url = new URL(getCodeBase().toString() + photo.getUrl())-->Line_14 $$ HttpURLConnection connection = (HttpURLConnection) url.openConnection()[ FD ]
Line_14 $$ HttpURLConnection connection = (HttpURLConnection) url.openConnection()-->Line_15 $$ DataInputStream dis = new DataInputStream(connection.getInputStream())[ FD ]
Line_12 $$ for (RaphPhotoGalleryPhoto photo : photoList) -->Line_16 $$ FileOutputStream fos = new FileOutputStream(destinationDirectory.toString() + "/" + photo.getFileName())[ FD ]
Line_12 $$ for (RaphPhotoGalleryPhoto photo : photoList) -->Line_19 $$ photo.setProcessedSize(0)[ FD ]
Line_11 $$ int totalNumberRead = 0-->Line_20 $$ totalNumberRead++[ FD ]
Line_21 $$ while ((sizeRead = dis.read(b)) > -1) -->Line_21 $$ while ((sizeRead = dis.read(b)) > -1) [ FD ]
Line_18 $$ int sizeRead-->Line_21 $$ while ((sizeRead = dis.read(b)) > -1) [ FD ]
Line_21 $$ while ((sizeRead = dis.read(b)) > -1) -->Line_21 $$ while ((sizeRead = dis.read(b)) > -1) [ CD ]
Line_15 $$ DataInputStream dis = new DataInputStream(connection.getInputStream())-->Line_21 $$ while ((sizeRead = dis.read(b)) > -1) [ FD ]
Line_17 $$ byte[] b = new byte[65536]-->Line_21 $$ while ((sizeRead = dis.read(b)) > -1) [ FD ]
Line_21 $$ while ((sizeRead = dis.read(b)) > -1) -->Line_22 $$ fos.write(b, 0, sizeRead)[ CD ]
Line_16 $$ FileOutputStream fos = new FileOutputStream(destinationDirectory.toString() + "/" + photo.getFileName())-->Line_22 $$ fos.write(b, 0, sizeRead)[ FD ]
Line_17 $$ byte[] b = new byte[65536]-->Line_22 $$ fos.write(b, 0, sizeRead)[ FD ]
Line_21 $$ while ((sizeRead = dis.read(b)) > -1) -->Line_22 $$ fos.write(b, 0, sizeRead)[ FD ]
Line_18 $$ int sizeRead-->Line_22 $$ fos.write(b, 0, sizeRead)[ FD ]
Line_21 $$ while ((sizeRead = dis.read(b)) > -1) -->Line_23 $$ totalSizeRead += sizeRead[ CD ]
Line_23 $$ totalSizeRead += sizeRead-->Line_23 $$ totalSizeRead += sizeRead[ FD ]
Line_10 $$ int totalSizeRead = 0-->Line_23 $$ totalSizeRead += sizeRead[ FD ]
Line_21 $$ while ((sizeRead = dis.read(b)) > -1) -->Line_23 $$ totalSizeRead += sizeRead[ FD ]
Line_18 $$ int sizeRead-->Line_23 $$ totalSizeRead += sizeRead[ FD ]
Line_21 $$ while ((sizeRead = dis.read(b)) > -1) -->Line_24 $$ photo.addToProcessedSize(sizeRead)[ CD ]
Line_12 $$ for (RaphPhotoGalleryPhoto photo : photoList) -->Line_24 $$ photo.addToProcessedSize(sizeRead)[ FD ]
Line_21 $$ while ((sizeRead = dis.read(b)) > -1) -->Line_24 $$ photo.addToProcessedSize(sizeRead)[ FD ]
Line_18 $$ int sizeRead-->Line_24 $$ photo.addToProcessedSize(sizeRead)[ FD ]
Line_21 $$ while ((sizeRead = dis.read(b)) > -1) -->Line_25 $$ photo.setTotalProcessedSize(totalSizeRead)[ CD ]
Line_12 $$ for (RaphPhotoGalleryPhoto photo : photoList) -->Line_25 $$ photo.setTotalProcessedSize(totalSizeRead)[ FD ]
Line_23 $$ totalSizeRead += sizeRead-->Line_25 $$ photo.setTotalProcessedSize(totalSizeRead)[ FD ]
Line_10 $$ int totalSizeRead = 0-->Line_25 $$ photo.setTotalProcessedSize(totalSizeRead)[ FD ]
Line_21 $$ while ((sizeRead = dis.read(b)) > -1) -->Line_26 $$ photo.setTotalProcessedNumber(totalNumberRead)[ CD ]
Line_12 $$ for (RaphPhotoGalleryPhoto photo : photoList) -->Line_26 $$ photo.setTotalProcessedNumber(totalNumberRead)[ FD ]
Line_11 $$ int totalNumberRead = 0-->Line_26 $$ photo.setTotalProcessedNumber(totalNumberRead)[ FD ]
Line_21 $$ while ((sizeRead = dis.read(b)) > -1) -->Line_27 $$ publish(photo)[ CD ]
Line_12 $$ for (RaphPhotoGalleryPhoto photo : photoList) -->Line_27 $$ publish(photo)[ FD ]
Line_16 $$ FileOutputStream fos = new FileOutputStream(destinationDirectory.toString() + "/" + photo.getFileName())-->Line_32 $$ fos.close()[ FD ]
Line_3 $$ SwingWorker<Double, RaphPhotoGalleryPhoto> downloadFilesWorker = new SwingWorker<Double, RaphPhotoGalleryPhoto>() -->Line_39 $$ long totalDiffTime = (new Date()).getTime() - startDownloadDate.getTime()[ CD ]
Line_3 $$ SwingWorker<Double, RaphPhotoGalleryPhoto> downloadFilesWorker = new SwingWorker<Double, RaphPhotoGalleryPhoto>() -->Line_40 $$ double totalSpeed = photoListTotalSize / (totalDiffTime / 1000)[ CD ]
Line_3 $$ SwingWorker<Double, RaphPhotoGalleryPhoto> downloadFilesWorker = new SwingWorker<Double, RaphPhotoGalleryPhoto>() -->Line_41 $$ return new Double(totalSpeed)[ CD ]
Line_3 $$ SwingWorker<Double, RaphPhotoGalleryPhoto> downloadFilesWorker = new SwingWorker<Double, RaphPhotoGalleryPhoto>() -->Line_44 $$ RaphPhotoGalleryPhoto photo = list.get(list.size() - 1)[ CD ]
Line_44 $$ RaphPhotoGalleryPhoto photo = list.get(list.size() - 1)-->Line_44 $$ RaphPhotoGalleryPhoto photo = list.get(list.size() - 1)[ CD ]
Line_3 $$ SwingWorker<Double, RaphPhotoGalleryPhoto> downloadFilesWorker = new SwingWorker<Double, RaphPhotoGalleryPhoto>() -->Line_44 $$ RaphPhotoGalleryPhoto photo = list.get(list.size() - 1)[ FD ]
Line_3 $$ SwingWorker<Double, RaphPhotoGalleryPhoto> downloadFilesWorker = new SwingWorker<Double, RaphPhotoGalleryPhoto>() -->Line_44 $$ RaphPhotoGalleryPhoto photo = list.get(list.size() - 1)[ FD ]
Line_3 $$ SwingWorker<Double, RaphPhotoGalleryPhoto> downloadFilesWorker = new SwingWorker<Double, RaphPhotoGalleryPhoto>() -->Line_45 $$ progressBarTotal.setMaximum(photoListTotalSize)[ CD ]
Line_3 $$ SwingWorker<Double, RaphPhotoGalleryPhoto> downloadFilesWorker = new SwingWorker<Double, RaphPhotoGalleryPhoto>() -->Line_46 $$ progressBarTotal.setValue(photo.getTotalProcessedSize())[ CD ]
Line_44 $$ RaphPhotoGalleryPhoto photo = list.get(list.size() - 1)-->Line_46 $$ progressBarTotal.setValue(photo.getTotalProcessedSize())[ FD ]
Line_12 $$ for (RaphPhotoGalleryPhoto photo : photoList) -->Line_46 $$ progressBarTotal.setValue(photo.getTotalProcessedSize())[ FD ]
Line_3 $$ SwingWorker<Double, RaphPhotoGalleryPhoto> downloadFilesWorker = new SwingWorker<Double, RaphPhotoGalleryPhoto>() -->Line_47 $$ setProgressBarTotalLabels(photo.getTotalProcessedNumber(), photoList.size(), photoListTotalSize - photo.getTotalProcessedSize())[ CD ]
Line_44 $$ RaphPhotoGalleryPhoto photo = list.get(list.size() - 1)-->Line_47 $$ setProgressBarTotalLabels(photo.getTotalProcessedNumber(), photoList.size(), photoListTotalSize - photo.getTotalProcessedSize())[ FD ]
Line_12 $$ for (RaphPhotoGalleryPhoto photo : photoList) -->Line_47 $$ setProgressBarTotalLabels(photo.getTotalProcessedNumber(), photoList.size(), photoListTotalSize - photo.getTotalProcessedSize())[ FD ]
Line_44 $$ RaphPhotoGalleryPhoto photo = list.get(list.size() - 1)-->Line_47 $$ setProgressBarTotalLabels(photo.getTotalProcessedNumber(), photoList.size(), photoListTotalSize - photo.getTotalProcessedSize())[ FD ]
Line_12 $$ for (RaphPhotoGalleryPhoto photo : photoList) -->Line_47 $$ setProgressBarTotalLabels(photo.getTotalProcessedNumber(), photoList.size(), photoListTotalSize - photo.getTotalProcessedSize())[ FD ]
Line_3 $$ SwingWorker<Double, RaphPhotoGalleryPhoto> downloadFilesWorker = new SwingWorker<Double, RaphPhotoGalleryPhoto>() -->Line_48 $$ progressBarCurrent.setMaximum(photo.getFileSize())[ CD ]
Line_44 $$ RaphPhotoGalleryPhoto photo = list.get(list.size() - 1)-->Line_48 $$ progressBarCurrent.setMaximum(photo.getFileSize())[ FD ]
Line_12 $$ for (RaphPhotoGalleryPhoto photo : photoList) -->Line_48 $$ progressBarCurrent.setMaximum(photo.getFileSize())[ FD ]
Line_3 $$ SwingWorker<Double, RaphPhotoGalleryPhoto> downloadFilesWorker = new SwingWorker<Double, RaphPhotoGalleryPhoto>() -->Line_49 $$ progressBarCurrent.setValue(photo.getProcessedSize())[ CD ]
Line_44 $$ RaphPhotoGalleryPhoto photo = list.get(list.size() - 1)-->Line_49 $$ progressBarCurrent.setValue(photo.getProcessedSize())[ FD ]
Line_12 $$ for (RaphPhotoGalleryPhoto photo : photoList) -->Line_49 $$ progressBarCurrent.setValue(photo.getProcessedSize())[ FD ]
Line_3 $$ SwingWorker<Double, RaphPhotoGalleryPhoto> downloadFilesWorker = new SwingWorker<Double, RaphPhotoGalleryPhoto>() -->Line_50 $$ progressBarCurrentLabel.setText(photo.getFileName())[ CD ]
Line_44 $$ RaphPhotoGalleryPhoto photo = list.get(list.size() - 1)-->Line_50 $$ progressBarCurrentLabel.setText(photo.getFileName())[ FD ]
Line_12 $$ for (RaphPhotoGalleryPhoto photo : photoList) -->Line_50 $$ progressBarCurrentLabel.setText(photo.getFileName())[ FD ]
Line_3 $$ SwingWorker<Double, RaphPhotoGalleryPhoto> downloadFilesWorker = new SwingWorker<Double, RaphPhotoGalleryPhoto>() -->Line_51 $$ long diffTime = 0[ CD ]
Line_3 $$ SwingWorker<Double, RaphPhotoGalleryPhoto> downloadFilesWorker = new SwingWorker<Double, RaphPhotoGalleryPhoto>() -->Line_52 $$ if (lastDate == null)[ CD ]
Line_3 $$ SwingWorker<Double, RaphPhotoGalleryPhoto> downloadFilesWorker = new SwingWorker<Double, RaphPhotoGalleryPhoto>() -->Line_53 $$ diffTime = (new Date()).getTime() - lastDate.getTime()[ CD ]
Line_51 $$ long diffTime = 0-->Line_53 $$ diffTime = (new Date()).getTime() - lastDate.getTime()[ FD ]
Line_53 $$ diffTime = (new Date()).getTime() - lastDate.getTime()-->Line_53 $$ diffTime = (new Date()).getTime() - lastDate.getTime()[ FD ]
Line_3 $$ SwingWorker<Double, RaphPhotoGalleryPhoto> downloadFilesWorker = new SwingWorker<Double, RaphPhotoGalleryPhoto>() -->Line_54 $$ if (diffTime > 1000) [ CD ]
Line_51 $$ long diffTime = 0-->Line_54 $$ if (diffTime > 1000) [ FD ]
Line_53 $$ diffTime = (new Date()).getTime() - lastDate.getTime()-->Line_54 $$ if (diffTime > 1000) [ FD ]
Line_54 $$ if (diffTime > 1000) -->Line_55 $$ double currentSpeed = (photo.getTotalProcessedSize() - lastTotalSize) / (diffTime / 1000.0)[ CD ]
Line_44 $$ RaphPhotoGalleryPhoto photo = list.get(list.size() - 1)-->Line_55 $$ double currentSpeed = (photo.getTotalProcessedSize() - lastTotalSize) / (diffTime / 1000.0)[ FD ]
Line_12 $$ for (RaphPhotoGalleryPhoto photo : photoList) -->Line_55 $$ double currentSpeed = (photo.getTotalProcessedSize() - lastTotalSize) / (diffTime / 1000.0)[ FD ]
Line_54 $$ if (diffTime > 1000) -->Line_56 $$ if (currentSpeed > 0)[ CD ]
Line_55 $$ double currentSpeed = (photo.getTotalProcessedSize() - lastTotalSize) / (diffTime / 1000.0)-->Line_56 $$ if (currentSpeed > 0)[ FD ]
Line_56 $$ if (currentSpeed > 0)-->Line_56 $$ lastSpeed.add(new Double(currentSpeed))[ CD ]
Line_54 $$ if (diffTime > 1000) -->Line_57 $$ if (lastSpeed.size() == 10)[ CD ]
Line_57 $$ if (lastSpeed.size() == 10)-->Line_57 $$ lastSpeed.removeFirst()[ CD ]
Line_54 $$ if (diffTime > 1000) -->Line_58 $$ double speed = 0[ CD ]
Line_58 $$ double speed = 0-->Line_60 $$ speed += d.doubleValue()[ FD ]
Line_60 $$ speed += d.doubleValue()-->Line_60 $$ speed += d.doubleValue()[ FD ]
Line_60 $$ speed += d.doubleValue()-->Line_60 $$ speed += d.doubleValue()[ CD ]
Line_59 $$ for (Double d : lastSpeed) -->Line_60 $$ speed += d.doubleValue()[ FD ]
Line_54 $$ if (diffTime > 1000) -->Line_62 $$ speed = Math.round(speed / lastSpeed.size())[ CD ]
Line_58 $$ double speed = 0-->Line_62 $$ speed = Math.round(speed / lastSpeed.size())[ FD ]
Line_60 $$ speed += d.doubleValue()-->Line_62 $$ speed = Math.round(speed / lastSpeed.size())[ FD ]
Line_62 $$ speed = Math.round(speed / lastSpeed.size())-->Line_62 $$ speed = Math.round(speed / lastSpeed.size())[ FD ]
Line_62 $$ speed = Math.round(speed / lastSpeed.size())-->Line_62 $$ speed = Math.round(speed / lastSpeed.size())[ CD ]
Line_54 $$ if (diffTime > 1000) -->Line_63 $$ if (refreshSpeed == 0) [ CD ]
Line_63 $$ if (refreshSpeed == 0) -->Line_64 $$ long totalDiffTime = (new Date()).getTime() - startDownloadDate.getTime()[ CD ]
Line_63 $$ if (refreshSpeed == 0) -->Line_65 $$ double totalSpeed = (photo.getTotalProcessedSize()) / (totalDiffTime / 1000.0)[ CD ]
Line_44 $$ RaphPhotoGalleryPhoto photo = list.get(list.size() - 1)-->Line_65 $$ double totalSpeed = (photo.getTotalProcessedSize()) / (totalDiffTime / 1000.0)[ FD ]
Line_12 $$ for (RaphPhotoGalleryPhoto photo : photoList) -->Line_65 $$ double totalSpeed = (photo.getTotalProcessedSize()) / (totalDiffTime / 1000.0)[ FD ]
Line_44 $$ RaphPhotoGalleryPhoto photo = list.get(list.size() - 1)-->Line_66 $$ remainingTime = (photoListTotalSize - photo.getTotalProcessedSize()) / totalSpeed[ FD ]
Line_12 $$ for (RaphPhotoGalleryPhoto photo : photoList) -->Line_66 $$ remainingTime = (photoListTotalSize - photo.getTotalProcessedSize()) / totalSpeed[ FD ]
Line_63 $$ if (refreshSpeed == 0) -->Line_67 $$ if (remainingTime < 8)[ CD ]
Line_54 $$ if (diffTime > 1000) -->Line_72 $$ speedLabel.setText(String.format("%.0f", speed / 1024) + " " + getParameter("i18n_speedUnit") + " :  " + String.format("%.0f", remainingTime) + " s")[ CD ]
Line_54 $$ if (diffTime > 1000) -->Line_74 $$ lastTotalSize = photo.getTotalProcessedSize()[ CD ]
Line_44 $$ RaphPhotoGalleryPhoto photo = list.get(list.size() - 1)-->Line_74 $$ lastTotalSize = photo.getTotalProcessedSize()[ FD ]
Line_12 $$ for (RaphPhotoGalleryPhoto photo : photoList) -->Line_74 $$ lastTotalSize = photo.getTotalProcessedSize()[ FD ]
Line_2 $$ private void downloadFiles() -->Line_86 $$ downloadFilesWorker.execute()[ CD ]
Line_3 $$ SwingWorker<Double, RaphPhotoGalleryPhoto> downloadFilesWorker = new SwingWorker<Double, RaphPhotoGalleryPhoto>() -->Line_86 $$ downloadFilesWorker.execute()[ FD ]
Line_21 $$ while ((sizeRead = dis.read(b)) > -1) -->Line_22 $$ fos.write(b, 0, sizeRead)[ FD ]
Line_21 $$ while ((sizeRead = dis.read(b)) > -1) -->Line_23 $$ totalSizeRead += sizeRead[ FD ]
Line_21 $$ while ((sizeRead = dis.read(b)) > -1) -->Line_24 $$ photo.addToProcessedSize(sizeRead)[ FD ]
Line_23 $$ totalSizeRead += sizeRead-->Line_25 $$ photo.setTotalProcessedSize(totalSizeRead)[ FD ]
