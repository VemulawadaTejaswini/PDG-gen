Line_0 $$ Entry-->Line_1 $$ public class dummy [ CD ]
Line_1 $$ public class dummy -->Line_2 $$ public void updateSuccessStatus(ArrayList<THLEventStatus> succeededEvents, ArrayList<THLEventStatus> skippedEvents) throws THLException [ CD ]
Line_2 $$ public void updateSuccessStatus(ArrayList<THLEventStatus> succeededEvents, ArrayList<THLEventStatus> skippedEvents) throws THLException -->Line_3 $$ Statement stmt = null[ CD ]
Line_2 $$ public void updateSuccessStatus(ArrayList<THLEventStatus> succeededEvents, ArrayList<THLEventStatus> skippedEvents) throws THLException -->Line_4 $$ PreparedStatement pstmt = null[ CD ]
Line_2 $$ public void updateSuccessStatus(ArrayList<THLEventStatus> succeededEvents, ArrayList<THLEventStatus> skippedEvents) throws THLException -->Line_7 $$ if (succeededEvents != null && succeededEvents.size() > 0) [ FD ]
Line_7 $$ if (succeededEvents != null && succeededEvents.size() > 0) -->Line_8 $$ stmt = conn.createStatement()[ CD ]
Line_3 $$ Statement stmt = null-->Line_8 $$ stmt = conn.createStatement()[ FD ]
Line_8 $$ stmt = conn.createStatement()-->Line_8 $$ stmt = conn.createStatement()[ FD ]
Line_8 $$ stmt = conn.createStatement()-->Line_8 $$ stmt = conn.createStatement()[ CD ]
Line_7 $$ if (succeededEvents != null && succeededEvents.size() > 0) -->Line_9 $$ String seqnoList = buildCommaSeparatedList(succeededEvents)[ CD ]
Line_9 $$ String seqnoList = buildCommaSeparatedList(succeededEvents)-->Line_9 $$ String seqnoList = buildCommaSeparatedList(succeededEvents)[ CD ]
Line_2 $$ public void updateSuccessStatus(ArrayList<THLEventStatus> succeededEvents, ArrayList<THLEventStatus> skippedEvents) throws THLException -->Line_9 $$ String seqnoList = buildCommaSeparatedList(succeededEvents)[ FD ]
Line_7 $$ if (succeededEvents != null && succeededEvents.size() > 0) -->Line_10 $$ stmt.executeUpdate("UPDATE " + history + " SET status = " + THLEvent.COMPLETED + ", processed_tstamp = " + conn.getNowFunction() + " WHERE seqno in " + seqnoList)[ CD ]
Line_3 $$ Statement stmt = null-->Line_10 $$ stmt.executeUpdate("UPDATE " + history + " SET status = " + THLEvent.COMPLETED + ", processed_tstamp = " + conn.getNowFunction() + " WHERE seqno in " + seqnoList)[ FD ]
Line_8 $$ stmt = conn.createStatement()-->Line_10 $$ stmt.executeUpdate("UPDATE " + history + " SET status = " + THLEvent.COMPLETED + ", processed_tstamp = " + conn.getNowFunction() + " WHERE seqno in " + seqnoList)[ FD ]
Line_2 $$ public void updateSuccessStatus(ArrayList<THLEventStatus> succeededEvents, ArrayList<THLEventStatus> skippedEvents) throws THLException -->Line_12 $$ if (skippedEvents != null && skippedEvents.size() > 0) [ FD ]
Line_12 $$ if (skippedEvents != null && skippedEvents.size() > 0) -->Line_13 $$ pstmt = conn.prepareStatement("UPDATE " + history + " SET status = ?, comments = ?," + " processed_tstamp = ? WHERE seqno = ?")[ CD ]
Line_4 $$ PreparedStatement pstmt = null-->Line_13 $$ pstmt = conn.prepareStatement("UPDATE " + history + " SET status = ?, comments = ?," + " processed_tstamp = ? WHERE seqno = ?")[ FD ]
Line_13 $$ pstmt = conn.prepareStatement("UPDATE " + history + " SET status = ?, comments = ?," + " processed_tstamp = ? WHERE seqno = ?")-->Line_13 $$ pstmt = conn.prepareStatement("UPDATE " + history + " SET status = ?, comments = ?," + " processed_tstamp = ? WHERE seqno = ?")[ FD ]
Line_13 $$ pstmt = conn.prepareStatement("UPDATE " + history + " SET status = ?, comments = ?," + " processed_tstamp = ? WHERE seqno = ?")-->Line_13 $$ pstmt = conn.prepareStatement("UPDATE " + history + " SET status = ?, comments = ?," + " processed_tstamp = ? WHERE seqno = ?")[ CD ]
Line_12 $$ if (skippedEvents != null && skippedEvents.size() > 0) -->Line_14 $$ Timestamp now = new Timestamp(System.currentTimeMillis())[ CD ]
Line_4 $$ PreparedStatement pstmt = null-->Line_16 $$ pstmt.setShort(1, THLEvent.SKIPPED)[ FD ]
Line_13 $$ pstmt = conn.prepareStatement("UPDATE " + history + " SET status = ?, comments = ?," + " processed_tstamp = ? WHERE seqno = ?")-->Line_16 $$ pstmt.setShort(1, THLEvent.SKIPPED)[ FD ]
Line_4 $$ PreparedStatement pstmt = null-->Line_17 $$ pstmt.setString(2, truncate(event.getException() != null ? event.getException().getMessage() : "Unknown event failure", commentLength))[ FD ]
Line_13 $$ pstmt = conn.prepareStatement("UPDATE " + history + " SET status = ?, comments = ?," + " processed_tstamp = ? WHERE seqno = ?")-->Line_17 $$ pstmt.setString(2, truncate(event.getException() != null ? event.getException().getMessage() : "Unknown event failure", commentLength))[ FD ]
Line_15 $$ for (THLEventStatus event : skippedEvents) -->Line_17 $$ pstmt.setString(2, truncate(event.getException() != null ? event.getException().getMessage() : "Unknown event failure", commentLength))[ FD ]
Line_15 $$ for (THLEventStatus event : skippedEvents) -->Line_17 $$ pstmt.setString(2, truncate(event.getException() != null ? event.getException().getMessage() : "Unknown event failure", commentLength))[ FD ]
Line_4 $$ PreparedStatement pstmt = null-->Line_18 $$ pstmt.setTimestamp(3, now)[ FD ]
Line_13 $$ pstmt = conn.prepareStatement("UPDATE " + history + " SET status = ?, comments = ?," + " processed_tstamp = ? WHERE seqno = ?")-->Line_18 $$ pstmt.setTimestamp(3, now)[ FD ]
Line_14 $$ Timestamp now = new Timestamp(System.currentTimeMillis())-->Line_18 $$ pstmt.setTimestamp(3, now)[ FD ]
Line_4 $$ PreparedStatement pstmt = null-->Line_19 $$ pstmt.setLong(4, event.getSeqno())[ FD ]
Line_13 $$ pstmt = conn.prepareStatement("UPDATE " + history + " SET status = ?, comments = ?," + " processed_tstamp = ? WHERE seqno = ?")-->Line_19 $$ pstmt.setLong(4, event.getSeqno())[ FD ]
Line_15 $$ for (THLEventStatus event : skippedEvents) -->Line_19 $$ pstmt.setLong(4, event.getSeqno())[ FD ]
Line_4 $$ PreparedStatement pstmt = null-->Line_20 $$ pstmt.addBatch()[ FD ]
Line_13 $$ pstmt = conn.prepareStatement("UPDATE " + history + " SET status = ?, comments = ?," + " processed_tstamp = ? WHERE seqno = ?")-->Line_20 $$ pstmt.addBatch()[ FD ]
Line_12 $$ if (skippedEvents != null && skippedEvents.size() > 0) -->Line_22 $$ pstmt.executeBatch()[ CD ]
Line_4 $$ PreparedStatement pstmt = null-->Line_22 $$ pstmt.executeBatch()[ FD ]
Line_13 $$ pstmt = conn.prepareStatement("UPDATE " + history + " SET status = ?, comments = ?," + " processed_tstamp = ? WHERE seqno = ?")-->Line_22 $$ pstmt.executeBatch()[ FD ]
Line_12 $$ if (skippedEvents != null && skippedEvents.size() > 0) -->Line_23 $$ pstmt.close()[ CD ]
Line_4 $$ PreparedStatement pstmt = null-->Line_23 $$ pstmt.close()[ FD ]
Line_13 $$ pstmt = conn.prepareStatement("UPDATE " + history + " SET status = ?, comments = ?," + " processed_tstamp = ? WHERE seqno = ?")-->Line_23 $$ pstmt.close()[ FD ]
Line_27 $$ THLException exception = new THLException("Failed to update events status")-->Line_28 $$ exception.initCause(e)[ FD ]
Line_27 $$ THLException exception = new THLException("Failed to update events status")-->Line_33 $$ e1.initCause(exception)[ FD ]
Line_32 $$ THLException exception2 = new THLException("Failed to rollback after failure while updating events status")-->Line_34 $$ exception2.initCause(e1)[ FD ]
Line_27 $$ THLException exception = new THLException("Failed to update events status")-->Line_35 $$ exception = exception2[ FD ]
Line_35 $$ exception = exception2-->Line_35 $$ exception = exception2[ FD ]
Line_32 $$ THLException exception2 = new THLException("Failed to rollback after failure while updating events status")-->Line_35 $$ exception = exception2[ FD ]
Line_3 $$ Statement stmt = null-->Line_39 $$ if (stmt != null) [ FD ]
Line_8 $$ stmt = conn.createStatement()-->Line_39 $$ if (stmt != null) [ FD ]
Line_3 $$ Statement stmt = null-->Line_41 $$ stmt.close()[ FD ]
Line_8 $$ stmt = conn.createStatement()-->Line_41 $$ stmt.close()[ FD ]
Line_4 $$ PreparedStatement pstmt = null-->Line_45 $$ if (pstmt != null) [ FD ]
Line_13 $$ pstmt = conn.prepareStatement("UPDATE " + history + " SET status = ?, comments = ?," + " processed_tstamp = ? WHERE seqno = ?")-->Line_45 $$ if (pstmt != null) [ FD ]
Line_4 $$ PreparedStatement pstmt = null-->Line_47 $$ pstmt.close()[ FD ]
Line_13 $$ pstmt = conn.prepareStatement("UPDATE " + history + " SET status = ?, comments = ?," + " processed_tstamp = ? WHERE seqno = ?")-->Line_47 $$ pstmt.close()[ FD ]
