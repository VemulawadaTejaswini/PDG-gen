Line_0 $$ Entry-->Line_1 $$ public class dummy [ CD ]
Line_1 $$ public class dummy -->Line_2 $$ private static String fetchImageViaHttp(URL imgUrl) throws IOException [ CD ]
Line_2 $$ private static String fetchImageViaHttp(URL imgUrl) throws IOException -->Line_3 $$ String sURL = imgUrl.toString()[ CD ]
Line_3 $$ String sURL = imgUrl.toString()-->Line_3 $$ String sURL = imgUrl.toString()[ CD ]
Line_2 $$ private static String fetchImageViaHttp(URL imgUrl) throws IOException -->Line_3 $$ String sURL = imgUrl.toString()[ FD ]
Line_2 $$ private static String fetchImageViaHttp(URL imgUrl) throws IOException -->Line_4 $$ String imgFile = imgUrl.getPath()[ CD ]
Line_4 $$ String imgFile = imgUrl.getPath()-->Line_4 $$ String imgFile = imgUrl.getPath()[ CD ]
Line_2 $$ private static String fetchImageViaHttp(URL imgUrl) throws IOException -->Line_4 $$ String imgFile = imgUrl.getPath()[ FD ]
Line_2 $$ private static String fetchImageViaHttp(URL imgUrl) throws IOException -->Line_5 $$ HttpURLConnection cnx = (HttpURLConnection) imgUrl.openConnection()[ CD ]
Line_2 $$ private static String fetchImageViaHttp(URL imgUrl) throws IOException -->Line_5 $$ HttpURLConnection cnx = (HttpURLConnection) imgUrl.openConnection()[ FD ]
Line_2 $$ private static String fetchImageViaHttp(URL imgUrl) throws IOException -->Line_6 $$ String uri = null[ CD ]
Line_5 $$ HttpURLConnection cnx = (HttpURLConnection) imgUrl.openConnection()-->Line_8 $$ cnx.setAllowUserInteraction(false)[ FD ]
Line_5 $$ HttpURLConnection cnx = (HttpURLConnection) imgUrl.openConnection()-->Line_9 $$ cnx.setDoOutput(true)[ FD ]
Line_5 $$ HttpURLConnection cnx = (HttpURLConnection) imgUrl.openConnection()-->Line_10 $$ cnx.addRequestProperty("Cache-Control", "no-cache")[ FD ]
Line_11 $$ RequestContext ctx = RequestContext.get()-->Line_11 $$ RequestContext ctx = RequestContext.get()[ CD ]
Line_11 $$ RequestContext ctx = RequestContext.get()-->Line_12 $$ if (ctx != null)[ FD ]
Line_12 $$ if (ctx != null)-->Line_12 $$ cnx.addRequestProperty("User-Agent", ctx.header("user-agent"))[ CD ]
Line_5 $$ HttpURLConnection cnx = (HttpURLConnection) imgUrl.openConnection()-->Line_12 $$ cnx.addRequestProperty("User-Agent", ctx.header("user-agent"))[ FD ]
Line_11 $$ RequestContext ctx = RequestContext.get()-->Line_12 $$ cnx.addRequestProperty("User-Agent", ctx.header("user-agent"))[ FD ]
Line_12 $$ if (ctx != null)-->Line_12 $$ cnx.addRequestProperty("User-Agent", user_agent)[ CD ]
Line_5 $$ HttpURLConnection cnx = (HttpURLConnection) imgUrl.openConnection()-->Line_12 $$ cnx.addRequestProperty("User-Agent", user_agent)[ FD ]
Line_5 $$ HttpURLConnection cnx = (HttpURLConnection) imgUrl.openConnection()-->Line_13 $$ cnx.addRequestProperty("Referer", sURL.substring(0, sURL.indexOf('/', sURL.indexOf('.')) + 1))[ FD ]
Line_3 $$ String sURL = imgUrl.toString()-->Line_13 $$ cnx.addRequestProperty("Referer", sURL.substring(0, sURL.indexOf('/', sURL.indexOf('.')) + 1))[ FD ]
Line_3 $$ String sURL = imgUrl.toString()-->Line_13 $$ cnx.addRequestProperty("Referer", sURL.substring(0, sURL.indexOf('/', sURL.indexOf('.')) + 1))[ FD ]
Line_3 $$ String sURL = imgUrl.toString()-->Line_13 $$ cnx.addRequestProperty("Referer", sURL.substring(0, sURL.indexOf('/', sURL.indexOf('.')) + 1))[ FD ]
Line_5 $$ HttpURLConnection cnx = (HttpURLConnection) imgUrl.openConnection()-->Line_14 $$ cnx.connect()[ FD ]
Line_5 $$ HttpURLConnection cnx = (HttpURLConnection) imgUrl.openConnection()-->Line_15 $$ if (cnx.getResponseCode() != HttpURLConnection.HTTP_OK)[ FD ]
Line_15 $$ if (cnx.getResponseCode() != HttpURLConnection.HTTP_OK)-->Line_15 $$ return null[ CD ]
Line_16 $$ InputStream imgData = cnx.getInputStream()-->Line_16 $$ InputStream imgData = cnx.getInputStream()[ CD ]
Line_5 $$ HttpURLConnection cnx = (HttpURLConnection) imgUrl.openConnection()-->Line_16 $$ InputStream imgData = cnx.getInputStream()[ FD ]
Line_17 $$ String ext = FilenameUtils.getExtension(imgFile).toLowerCase()-->Line_17 $$ String ext = FilenameUtils.getExtension(imgFile).toLowerCase()[ CD ]
Line_4 $$ String imgFile = imgUrl.getPath()-->Line_17 $$ String ext = FilenameUtils.getExtension(imgFile).toLowerCase()[ FD ]
Line_18 $$ if (!Multimedia.isImageFile("aa." + ext))-->Line_18 $$ if (!Multimedia.isImageFile("aa." + ext))[ CD ]
Line_18 $$ if (!Multimedia.isImageFile("aa." + ext))-->Line_18 $$ if (!Multimedia.isImageFile("aa." + ext))[ CD ]
Line_18 $$ if (!Multimedia.isImageFile("aa." + ext))-->Line_18 $$ ext = "jpg"[ CD ]
Line_17 $$ String ext = FilenameUtils.getExtension(imgFile).toLowerCase()-->Line_18 $$ ext = "jpg"[ FD ]
Line_18 $$ ext = "jpg"-->Line_18 $$ ext = "jpg"[ FD ]
Line_6 $$ String uri = null-->Line_19 $$ uri = FMT_FN.format(new Date()) + RandomStringUtils.randomAlphanumeric(4) + '.' + ext[ FD ]
Line_19 $$ uri = FMT_FN.format(new Date()) + RandomStringUtils.randomAlphanumeric(4) + '.' + ext-->Line_19 $$ uri = FMT_FN.format(new Date()) + RandomStringUtils.randomAlphanumeric(4) + '.' + ext[ FD ]
Line_17 $$ String ext = FilenameUtils.getExtension(imgFile).toLowerCase()-->Line_19 $$ uri = FMT_FN.format(new Date()) + RandomStringUtils.randomAlphanumeric(4) + '.' + ext[ FD ]
Line_18 $$ ext = "jpg"-->Line_19 $$ uri = FMT_FN.format(new Date()) + RandomStringUtils.randomAlphanumeric(4) + '.' + ext[ FD ]
Line_21 $$ if (!fileDest.getParentFile().exists())-->Line_21 $$ if (!fileDest.getParentFile().exists())[ CD ]
Line_21 $$ if (!fileDest.getParentFile().exists())-->Line_21 $$ if (!fileDest.getParentFile().exists())[ CD ]
Line_20 $$ File fileDest = new File(img_path + uri)-->Line_21 $$ if (!fileDest.getParentFile().exists())[ FD ]
Line_21 $$ if (!fileDest.getParentFile().exists())-->Line_21 $$ fileDest.getParentFile().mkdirs()[ CD ]
Line_20 $$ File fileDest = new File(img_path + uri)-->Line_21 $$ fileDest.getParentFile().mkdirs()[ FD ]
Line_16 $$ InputStream imgData = cnx.getInputStream()-->Line_24 $$ IOUtils.copy(imgData, fos)[ FD ]
Line_22 $$ FileOutputStream fos = new FileOutputStream(fileDest)-->Line_24 $$ IOUtils.copy(imgData, fos)[ FD ]
Line_16 $$ InputStream imgData = cnx.getInputStream()-->Line_26 $$ IOUtils.closeQuietly(imgData)[ FD ]
Line_22 $$ FileOutputStream fos = new FileOutputStream(fileDest)-->Line_27 $$ IOUtils.closeQuietly(fos)[ FD ]
Line_5 $$ HttpURLConnection cnx = (HttpURLConnection) imgUrl.openConnection()-->Line_30 $$ cnx.disconnect()[ FD ]
Line_2 $$ private static String fetchImageViaHttp(URL imgUrl) throws IOException -->Line_32 $$ return RequestContext.get().contextPath() + "/uploads/img/" + uri[ CD ]
