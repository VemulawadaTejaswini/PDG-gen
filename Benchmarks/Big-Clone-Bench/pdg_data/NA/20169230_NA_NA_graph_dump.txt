Line_0 $$ Entry-->Line_1 $$ public class dummy [ CD ]
Line_1 $$ public class dummy -->Line_2 $$ public String addUserIdentity(OpenIDItem identity, long userId) throws DatabaseException [ CD ]
Line_2 $$ public String addUserIdentity(OpenIDItem identity, long userId) throws DatabaseException -->Line_3 $$ if (identity == null)[ CD ]
Line_2 $$ public String addUserIdentity(OpenIDItem identity, long userId) throws DatabaseException -->Line_3 $$ if (identity == null)[ FD ]
Line_2 $$ public String addUserIdentity(OpenIDItem identity, long userId) throws DatabaseException -->Line_4 $$ if (identity.getIdentity() == null || "".equals(identity.getIdentity()))[ CD ]
Line_2 $$ public String addUserIdentity(OpenIDItem identity, long userId) throws DatabaseException -->Line_4 $$ if (identity.getIdentity() == null || "".equals(identity.getIdentity()))[ FD ]
Line_2 $$ public String addUserIdentity(OpenIDItem identity, long userId) throws DatabaseException -->Line_4 $$ if (identity.getIdentity() == null || "".equals(identity.getIdentity()))[ FD ]
Line_2 $$ public String addUserIdentity(OpenIDItem identity, long userId) throws DatabaseException -->Line_10 $$ String retID = "exist"[ CD ]
Line_2 $$ public String addUserIdentity(OpenIDItem identity, long userId) throws DatabaseException -->Line_11 $$ PreparedStatement insSt = null, seqSt = null[ CD ]
Line_11 $$ PreparedStatement insSt = null, seqSt = null-->Line_14 $$ insSt = getConnection().prepareStatement(INSERT_IDENTITY_STATEMENT)[ FD ]
Line_14 $$ insSt = getConnection().prepareStatement(INSERT_IDENTITY_STATEMENT)-->Line_14 $$ insSt = getConnection().prepareStatement(INSERT_IDENTITY_STATEMENT)[ FD ]
Line_14 $$ insSt = getConnection().prepareStatement(INSERT_IDENTITY_STATEMENT)-->Line_14 $$ insSt = getConnection().prepareStatement(INSERT_IDENTITY_STATEMENT)[ CD ]
Line_11 $$ PreparedStatement insSt = null, seqSt = null-->Line_15 $$ insSt.setLong(1, userId)[ FD ]
Line_14 $$ insSt = getConnection().prepareStatement(INSERT_IDENTITY_STATEMENT)-->Line_15 $$ insSt.setLong(1, userId)[ FD ]
Line_2 $$ public String addUserIdentity(OpenIDItem identity, long userId) throws DatabaseException -->Line_15 $$ insSt.setLong(1, userId)[ FD ]
Line_11 $$ PreparedStatement insSt = null, seqSt = null-->Line_16 $$ insSt.setString(2, identity.getIdentity())[ FD ]
Line_14 $$ insSt = getConnection().prepareStatement(INSERT_IDENTITY_STATEMENT)-->Line_16 $$ insSt.setString(2, identity.getIdentity())[ FD ]
Line_2 $$ public String addUserIdentity(OpenIDItem identity, long userId) throws DatabaseException -->Line_16 $$ insSt.setString(2, identity.getIdentity())[ FD ]
Line_13 $$ int modified = 0-->Line_17 $$ modified = insSt.executeUpdate()[ FD ]
Line_17 $$ modified = insSt.executeUpdate()-->Line_17 $$ modified = insSt.executeUpdate()[ FD ]
Line_17 $$ modified = insSt.executeUpdate()-->Line_17 $$ modified = insSt.executeUpdate()[ CD ]
Line_11 $$ PreparedStatement insSt = null, seqSt = null-->Line_17 $$ modified = insSt.executeUpdate()[ FD ]
Line_14 $$ insSt = getConnection().prepareStatement(INSERT_IDENTITY_STATEMENT)-->Line_17 $$ modified = insSt.executeUpdate()[ FD ]
Line_11 $$ PreparedStatement insSt = null, seqSt = null-->Line_18 $$ seqSt = getConnection().prepareStatement(USER_IDENTITY_VALUE)[ FD ]
Line_18 $$ seqSt = getConnection().prepareStatement(USER_IDENTITY_VALUE)-->Line_18 $$ seqSt = getConnection().prepareStatement(USER_IDENTITY_VALUE)[ FD ]
Line_18 $$ seqSt = getConnection().prepareStatement(USER_IDENTITY_VALUE)-->Line_18 $$ seqSt = getConnection().prepareStatement(USER_IDENTITY_VALUE)[ CD ]
Line_19 $$ ResultSet rs = seqSt.executeQuery()-->Line_19 $$ ResultSet rs = seqSt.executeQuery()[ CD ]
Line_11 $$ PreparedStatement insSt = null, seqSt = null-->Line_19 $$ ResultSet rs = seqSt.executeQuery()[ FD ]
Line_18 $$ seqSt = getConnection().prepareStatement(USER_IDENTITY_VALUE)-->Line_19 $$ ResultSet rs = seqSt.executeQuery()[ FD ]
Line_20 $$ while (rs.next()) -->Line_20 $$ while (rs.next()) [ CD ]
Line_19 $$ ResultSet rs = seqSt.executeQuery()-->Line_20 $$ while (rs.next()) [ FD ]
Line_20 $$ while (rs.next()) -->Line_21 $$ retID = rs.getString(1)[ CD ]
Line_21 $$ retID = rs.getString(1)-->Line_21 $$ retID = rs.getString(1)[ FD ]
Line_10 $$ String retID = "exist"-->Line_21 $$ retID = rs.getString(1)[ FD ]
Line_21 $$ retID = rs.getString(1)-->Line_21 $$ retID = rs.getString(1)[ CD ]
Line_19 $$ ResultSet rs = seqSt.executeQuery()-->Line_21 $$ retID = rs.getString(1)[ FD ]
Line_13 $$ int modified = 0-->Line_23 $$ if (modified == 1) [ FD ]
Line_17 $$ modified = insSt.executeUpdate()-->Line_23 $$ if (modified == 1) [ FD ]
Line_23 $$ if (modified == 1) -->Line_24 $$ getConnection().commit()[ CD ]
Line_23 $$ if (modified == 1) -->Line_25 $$ LOGGER.debug("DB has been updated. Queries: \"" + seqSt + "\" and \"" + insSt + "\"")[ CD ]
Line_23 $$ if (modified == 1) -->Line_27 $$ getConnection().rollback()[ CD ]
Line_23 $$ if (modified == 1) -->Line_28 $$ LOGGER.debug("DB has not been updated -> rollback! Queries: \"" + seqSt + "\" and \"" + insSt + "\"")[ CD ]
Line_23 $$ if (modified == 1) -->Line_29 $$ retID = "error"[ CD ]
Line_21 $$ retID = rs.getString(1)-->Line_29 $$ retID = "error"[ FD ]
Line_10 $$ String retID = "exist"-->Line_29 $$ retID = "error"[ FD ]
Line_29 $$ retID = "error"-->Line_29 $$ retID = "error"[ FD ]
Line_21 $$ retID = rs.getString(1)-->Line_33 $$ retID = "error"[ FD ]
Line_10 $$ String retID = "exist"-->Line_33 $$ retID = "error"[ FD ]
Line_29 $$ retID = "error"-->Line_33 $$ retID = "error"[ FD ]
Line_33 $$ retID = "error"-->Line_33 $$ retID = "error"[ FD ]
Line_2 $$ public String addUserIdentity(OpenIDItem identity, long userId) throws DatabaseException -->Line_37 $$ return retID[ CD ]
