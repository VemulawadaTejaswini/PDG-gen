Line_0 $$ Entry-->Line_1 $$ public class dummy [ CD ]
Line_1 $$ public class dummy -->Line_2 $$ public void execute(JobExecutionContext context) throws JobExecutionException [ CD ]
Line_2 $$ public void execute(JobExecutionContext context) throws JobExecutionException -->Line_3 $$ log.info("FileMonitorJob - executing its JOB at " + new Date() + " by " + context.getTrigger().getName())[ CD ]
Line_2 $$ public void execute(JobExecutionContext context) throws JobExecutionException -->Line_3 $$ log.info("FileMonitorJob - executing its JOB at " + new Date() + " by " + context.getTrigger().getName())[ FD ]
Line_2 $$ public void execute(JobExecutionContext context) throws JobExecutionException -->Line_4 $$ FTPClient client = new FTPClient()[ CD ]
Line_2 $$ public void execute(JobExecutionContext context) throws JobExecutionException -->Line_5 $$ OutputStream outStream = null[ CD ]
Line_2 $$ public void execute(JobExecutionContext context) throws JobExecutionException -->Line_6 $$ Calendar filterCal = Calendar.getInstance()[ CD ]
Line_6 $$ Calendar filterCal = Calendar.getInstance()-->Line_6 $$ Calendar filterCal = Calendar.getInstance()[ CD ]
Line_2 $$ public void execute(JobExecutionContext context) throws JobExecutionException -->Line_7 $$ filterCal.set(Calendar.DAY_OF_MONTH, filterCal.get(Calendar.DAY_OF_MONTH) - 1)[ CD ]
Line_6 $$ Calendar filterCal = Calendar.getInstance()-->Line_7 $$ filterCal.set(Calendar.DAY_OF_MONTH, filterCal.get(Calendar.DAY_OF_MONTH) - 1)[ FD ]
Line_6 $$ Calendar filterCal = Calendar.getInstance()-->Line_7 $$ filterCal.set(Calendar.DAY_OF_MONTH, filterCal.get(Calendar.DAY_OF_MONTH) - 1)[ FD ]
Line_2 $$ public void execute(JobExecutionContext context) throws JobExecutionException -->Line_8 $$ Date aDayAgo = filterCal.getTime()[ CD ]
Line_8 $$ Date aDayAgo = filterCal.getTime()-->Line_8 $$ Date aDayAgo = filterCal.getTime()[ CD ]
Line_6 $$ Calendar filterCal = Calendar.getInstance()-->Line_8 $$ Date aDayAgo = filterCal.getTime()[ FD ]
Line_10 $$ Session session = CustomSystemSession.create(r)-->Line_10 $$ Session session = CustomSystemSession.create(r)[ CD ]
Line_4 $$ FTPClient client = new FTPClient()-->Line_11 $$ client.connect(ftpHostname)[ FD ]
Line_4 $$ FTPClient client = new FTPClient()-->Line_12 $$ client.login(ftpUsername, ftpPassword)[ FD ]
Line_13 $$ FTPFile[] users = client.listFiles()-->Line_13 $$ FTPFile[] users = client.listFiles()[ CD ]
Line_4 $$ FTPClient client = new FTPClient()-->Line_13 $$ FTPFile[] users = client.listFiles()[ FD ]
Line_13 $$ FTPFile[] users = client.listFiles()-->Line_14 $$ if (users != null) [ FD ]
Line_16 $$ String userName = user.getName()-->Line_16 $$ String userName = user.getName()[ CD ]
Line_15 $$ for (FTPFile user : users) -->Line_16 $$ String userName = user.getName()[ FD ]
Line_4 $$ FTPClient client = new FTPClient()-->Line_17 $$ client.changeWorkingDirectory("/" + userName + "/")[ FD ]
Line_19 $$ NodeIterator results = query.execute().getNodes()-->Line_19 $$ NodeIterator results = query.execute().getNodes()[ CD ]
Line_19 $$ NodeIterator results = query.execute().getNodes()-->Line_20 $$ if (results.hasNext()) [ FD ]
Line_20 $$ if (results.hasNext()) -->Line_20 $$ if (results.hasNext()) [ CD ]
Line_19 $$ NodeIterator results = query.execute().getNodes()-->Line_20 $$ if (results.hasNext()) [ FD ]
Line_20 $$ if (results.hasNext()) -->Line_21 $$ userNode = results.nextNode()[ CD ]
Line_18 $$ Node userNode = null-->Line_21 $$ userNode = results.nextNode()[ FD ]
Line_21 $$ userNode = results.nextNode()-->Line_21 $$ userNode = results.nextNode()[ FD ]
Line_21 $$ userNode = results.nextNode()-->Line_21 $$ userNode = results.nextNode()[ CD ]
Line_19 $$ NodeIterator results = query.execute().getNodes()-->Line_21 $$ userNode = results.nextNode()[ FD ]
Line_20 $$ if (results.hasNext()) -->Line_22 $$ if (session.getRootNode().hasNode("users/" + userName)) [ CD ]
Line_22 $$ if (session.getRootNode().hasNode("users/" + userName)) -->Line_22 $$ if (session.getRootNode().hasNode("users/" + userName)) [ CD ]
Line_10 $$ Session session = CustomSystemSession.create(r)-->Line_22 $$ if (session.getRootNode().hasNode("users/" + userName)) [ FD ]
Line_22 $$ if (session.getRootNode().hasNode("users/" + userName)) -->Line_23 $$ userNode = session.getRootNode().getNode("users/" + userName)[ CD ]
Line_18 $$ Node userNode = null-->Line_23 $$ userNode = session.getRootNode().getNode("users/" + userName)[ FD ]
Line_21 $$ userNode = results.nextNode()-->Line_23 $$ userNode = session.getRootNode().getNode("users/" + userName)[ FD ]
Line_23 $$ userNode = session.getRootNode().getNode("users/" + userName)-->Line_23 $$ userNode = session.getRootNode().getNode("users/" + userName)[ FD ]
Line_23 $$ userNode = session.getRootNode().getNode("users/" + userName)-->Line_23 $$ userNode = session.getRootNode().getNode("users/" + userName)[ CD ]
Line_10 $$ Session session = CustomSystemSession.create(r)-->Line_23 $$ userNode = session.getRootNode().getNode("users/" + userName)[ FD ]
Line_25 $$ FTPFile[] experiments = client.listFiles()-->Line_25 $$ FTPFile[] experiments = client.listFiles()[ CD ]
Line_4 $$ FTPClient client = new FTPClient()-->Line_25 $$ FTPFile[] experiments = client.listFiles()[ FD ]
Line_28 $$ String experimentName = experiment.getName()-->Line_28 $$ String experimentName = experiment.getName()[ CD ]
Line_27 $$ for (FTPFile experiment : experiments) -->Line_28 $$ String experimentName = experiment.getName()[ FD ]
Line_4 $$ FTPClient client = new FTPClient()-->Line_29 $$ client.changeWorkingDirectory("/" + userName + "/" + experimentName + "/")[ FD ]
Line_30 $$ FTPFile[] datasets = client.listFiles()-->Line_30 $$ FTPFile[] datasets = client.listFiles()[ CD ]
Line_4 $$ FTPClient client = new FTPClient()-->Line_30 $$ FTPFile[] datasets = client.listFiles()[ FD ]
Line_30 $$ FTPFile[] datasets = client.listFiles()-->Line_31 $$ if (datasets != null) [ FD ]
Line_33 $$ String datasetName = dataset.getName()-->Line_33 $$ String datasetName = dataset.getName()[ CD ]
Line_32 $$ for (FTPFile dataset : datasets) -->Line_33 $$ String datasetName = dataset.getName()[ FD ]
Line_4 $$ FTPClient client = new FTPClient()-->Line_34 $$ client.changeWorkingDirectory("/" + userName + "/" + experimentName + "/" + datasetName + "/")[ FD ]
Line_35 $$ Date collectionDate = dataset.getTimestamp().getTime()-->Line_35 $$ Date collectionDate = dataset.getTimestamp().getTime()[ CD ]
Line_32 $$ for (FTPFile dataset : datasets) -->Line_35 $$ Date collectionDate = dataset.getTimestamp().getTime()[ FD ]
Line_35 $$ Date collectionDate = dataset.getTimestamp().getTime()-->Line_36 $$ if (collectionDate.after(aDayAgo)) [ FD ]
Line_8 $$ Date aDayAgo = filterCal.getTime()-->Line_36 $$ if (collectionDate.after(aDayAgo)) [ FD ]
Line_36 $$ if (collectionDate.after(aDayAgo)) -->Line_36 $$ if (collectionDate.after(aDayAgo)) [ CD ]
Line_35 $$ Date collectionDate = dataset.getTimestamp().getTime()-->Line_36 $$ if (collectionDate.after(aDayAgo)) [ FD ]
Line_8 $$ Date aDayAgo = filterCal.getTime()-->Line_36 $$ if (collectionDate.after(aDayAgo)) [ FD ]
Line_36 $$ if (collectionDate.after(aDayAgo)) -->Line_37 $$ FTPFile[] images = client.listFiles()[ CD ]
Line_37 $$ FTPFile[] images = client.listFiles()-->Line_37 $$ FTPFile[] images = client.listFiles()[ CD ]
Line_4 $$ FTPClient client = new FTPClient()-->Line_37 $$ FTPFile[] images = client.listFiles()[ FD ]
Line_36 $$ if (collectionDate.after(aDayAgo)) -->Line_38 $$ if (images != null) [ CD ]
Line_37 $$ FTPFile[] images = client.listFiles()-->Line_38 $$ if (images != null) [ FD ]
Line_16 $$ String userName = user.getName()-->Line_40 $$ processImage(userName, experimentName, datasetName, collectionDate, image, client, userNode, session)[ FD ]
Line_28 $$ String experimentName = experiment.getName()-->Line_40 $$ processImage(userName, experimentName, datasetName, collectionDate, image, client, userNode, session)[ FD ]
Line_33 $$ String datasetName = dataset.getName()-->Line_40 $$ processImage(userName, experimentName, datasetName, collectionDate, image, client, userNode, session)[ FD ]
Line_35 $$ Date collectionDate = dataset.getTimestamp().getTime()-->Line_40 $$ processImage(userName, experimentName, datasetName, collectionDate, image, client, userNode, session)[ FD ]
Line_39 $$ for (FTPFile image : images) -->Line_40 $$ processImage(userName, experimentName, datasetName, collectionDate, image, client, userNode, session)[ FD ]
Line_4 $$ FTPClient client = new FTPClient()-->Line_40 $$ processImage(userName, experimentName, datasetName, collectionDate, image, client, userNode, session)[ FD ]
Line_18 $$ Node userNode = null-->Line_40 $$ processImage(userName, experimentName, datasetName, collectionDate, image, client, userNode, session)[ FD ]
Line_21 $$ userNode = results.nextNode()-->Line_40 $$ processImage(userName, experimentName, datasetName, collectionDate, image, client, userNode, session)[ FD ]
Line_23 $$ userNode = session.getRootNode().getNode("users/" + userName)-->Line_40 $$ processImage(userName, experimentName, datasetName, collectionDate, image, client, userNode, session)[ FD ]
Line_10 $$ Session session = CustomSystemSession.create(r)-->Line_40 $$ processImage(userName, experimentName, datasetName, collectionDate, image, client, userNode, session)[ FD ]
Line_10 $$ Session session = CustomSystemSession.create(r)-->Line_50 $$ session.logout()[ FD ]
Line_4 $$ FTPClient client = new FTPClient()-->Line_51 $$ client.logout()[ FD ]
Line_5 $$ OutputStream outStream = null-->Line_61 $$ IOUtils.closeQuietly(outStream)[ FD ]
Line_4 $$ FTPClient client = new FTPClient()-->Line_63 $$ client.disconnect()[ FD ]
