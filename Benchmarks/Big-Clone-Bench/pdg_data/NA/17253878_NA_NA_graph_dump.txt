Line_0 $$ Entry-->Line_1 $$ public class dummy [ CD ]
Line_1 $$ public class dummy -->Line_2 $$ public void onUpload$btnFileUpload(UploadEvent ue) [ CD ]
Line_2 $$ public void onUpload$btnFileUpload(UploadEvent ue) -->Line_3 $$ BufferedInputStream in = null[ CD ]
Line_2 $$ public void onUpload$btnFileUpload(UploadEvent ue) -->Line_4 $$ BufferedOutputStream out = null[ CD ]
Line_2 $$ public void onUpload$btnFileUpload(UploadEvent ue) -->Line_5 $$ if (ue == null) [ CD ]
Line_2 $$ public void onUpload$btnFileUpload(UploadEvent ue) -->Line_5 $$ if (ue == null) [ FD ]
Line_5 $$ if (ue == null) -->Line_6 $$ System.out.println("unable to upload file")[ CD ]
Line_5 $$ if (ue == null) -->Line_7 $$ return[ CD ]
Line_5 $$ if (ue == null) -->Line_9 $$ System.out.println("fileUploaded()")[ CD ]
Line_12 $$ Media m = ue.getMedia()-->Line_12 $$ Media m = ue.getMedia()[ CD ]
Line_2 $$ public void onUpload$btnFileUpload(UploadEvent ue) -->Line_12 $$ Media m = ue.getMedia()[ FD ]
Line_12 $$ Media m = ue.getMedia()-->Line_13 $$ System.out.println("m.getContentType(): " + m.getContentType())[ FD ]
Line_12 $$ Media m = ue.getMedia()-->Line_14 $$ System.out.println("m.getFormat(): " + m.getFormat())[ FD ]
Line_16 $$ InputStream is = m.getStreamData()-->Line_16 $$ InputStream is = m.getStreamData()[ CD ]
Line_12 $$ Media m = ue.getMedia()-->Line_16 $$ InputStream is = m.getStreamData()[ FD ]
Line_3 $$ BufferedInputStream in = null-->Line_17 $$ in = new BufferedInputStream(is)[ FD ]
Line_17 $$ in = new BufferedInputStream(is)-->Line_17 $$ in = new BufferedInputStream(is)[ FD ]
Line_19 $$ if (!baseDir.exists()) -->Line_19 $$ if (!baseDir.exists()) [ CD ]
Line_19 $$ if (!baseDir.exists()) -->Line_19 $$ if (!baseDir.exists()) [ CD ]
Line_18 $$ File baseDir = new File(UPLOAD_PATH)-->Line_19 $$ if (!baseDir.exists()) [ FD ]
Line_19 $$ if (!baseDir.exists()) -->Line_20 $$ baseDir.mkdirs()[ CD ]
Line_18 $$ File baseDir = new File(UPLOAD_PATH)-->Line_20 $$ baseDir.mkdirs()[ FD ]
Line_12 $$ Media m = ue.getMedia()-->Line_22 $$ final File file = new File(UPLOAD_PATH + m.getName())[ FD ]
Line_4 $$ BufferedOutputStream out = null-->Line_24 $$ out = new BufferedOutputStream(fout)[ FD ]
Line_24 $$ out = new BufferedOutputStream(fout)-->Line_24 $$ out = new BufferedOutputStream(fout)[ FD ]
Line_3 $$ BufferedInputStream in = null-->Line_25 $$ IOUtils.copy(in, out)[ FD ]
Line_17 $$ in = new BufferedInputStream(is)-->Line_25 $$ IOUtils.copy(in, out)[ FD ]
Line_4 $$ BufferedOutputStream out = null-->Line_25 $$ IOUtils.copy(in, out)[ FD ]
Line_24 $$ out = new BufferedOutputStream(fout)-->Line_25 $$ IOUtils.copy(in, out)[ FD ]
Line_12 $$ Media m = ue.getMedia()-->Line_26 $$ if (m.getFormat().equals("zip") || m.getFormat().equals("x-gzip")) [ FD ]
Line_12 $$ Media m = ue.getMedia()-->Line_26 $$ if (m.getFormat().equals("zip") || m.getFormat().equals("x-gzip")) [ FD ]
Line_26 $$ if (m.getFormat().equals("zip") || m.getFormat().equals("x-gzip")) -->Line_27 $$ final String filename = m.getName()[ CD ]
Line_27 $$ final String filename = m.getName()-->Line_27 $$ final String filename = m.getName()[ CD ]
Line_12 $$ Media m = ue.getMedia()-->Line_27 $$ final String filename = m.getName()[ FD ]
Line_26 $$ if (m.getFormat().equals("zip") || m.getFormat().equals("x-gzip")) -->Line_28 $$ Messagebox.show("Archive file detected. Would you like to unzip this file?", "ALA Spatial Portal", Messagebox.YES + Messagebox.NO, Messagebox.QUESTION, new EventListener() [ CD ]
Line_31 $$ int response = ((Integer) event.getData()).intValue()-->Line_31 $$ int response = ((Integer) event.getData()).intValue()[ CD ]
Line_28 $$ Messagebox.show("Archive file detected. Would you like to unzip this file?", "ALA Spatial Portal", Messagebox.YES + Messagebox.NO, Messagebox.QUESTION, new EventListener() -->Line_31 $$ int response = ((Integer) event.getData()).intValue()[ FD ]
Line_31 $$ int response = ((Integer) event.getData()).intValue()-->Line_32 $$ if (response == Messagebox.YES) [ FD ]
Line_32 $$ if (response == Messagebox.YES) -->Line_33 $$ System.out.println("unzipping file to: " + UPLOAD_PATH)[ CD ]
Line_32 $$ if (response == Messagebox.YES) -->Line_34 $$ boolean success = Zipper.unzipFile(filename, new FileInputStream(file), UPLOAD_PATH, false)[ CD ]
Line_34 $$ boolean success = Zipper.unzipFile(filename, new FileInputStream(file), UPLOAD_PATH, false)-->Line_34 $$ boolean success = Zipper.unzipFile(filename, new FileInputStream(file), UPLOAD_PATH, false)[ CD ]
Line_27 $$ final String filename = m.getName()-->Line_34 $$ boolean success = Zipper.unzipFile(filename, new FileInputStream(file), UPLOAD_PATH, false)[ FD ]
Line_32 $$ if (response == Messagebox.YES) -->Line_35 $$ if (success) [ CD ]
Line_35 $$ if (success) -->Line_36 $$ Messagebox.show("File unzipped: '" + filename + "'")[ CD ]
Line_35 $$ if (success) -->Line_38 $$ Messagebox.show("Unable to unzip '" + filename + "' ")[ CD ]
Line_32 $$ if (response == Messagebox.YES) -->Line_41 $$ System.out.println("leaving archive file alone")[ CD ]
Line_26 $$ if (m.getFormat().equals("zip") || m.getFormat().equals("x-gzip")) -->Line_49 $$ Messagebox.show("File '" + m.getName() + "' successfully uploaded")[ CD ]
Line_12 $$ Media m = ue.getMedia()-->Line_49 $$ Messagebox.show("File '" + m.getName() + "' successfully uploaded")[ FD ]
Line_4 $$ BufferedOutputStream out = null-->Line_59 $$ if (out != null) [ FD ]
Line_24 $$ out = new BufferedOutputStream(fout)-->Line_59 $$ if (out != null) [ FD ]
Line_59 $$ if (out != null) -->Line_60 $$ out.close()[ CD ]
Line_4 $$ BufferedOutputStream out = null-->Line_60 $$ out.close()[ FD ]
Line_24 $$ out = new BufferedOutputStream(fout)-->Line_60 $$ out.close()[ FD ]
Line_3 $$ BufferedInputStream in = null-->Line_62 $$ if (in != null) [ FD ]
Line_17 $$ in = new BufferedInputStream(is)-->Line_62 $$ if (in != null) [ FD ]
Line_62 $$ if (in != null) -->Line_63 $$ in.close()[ CD ]
Line_3 $$ BufferedInputStream in = null-->Line_63 $$ in.close()[ FD ]
Line_17 $$ in = new BufferedInputStream(is)-->Line_63 $$ in.close()[ FD ]
