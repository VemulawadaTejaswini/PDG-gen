Line_0 $$ Entry-->Line_1 $$ public class dummy [ CD ]
Line_1 $$ public class dummy -->Line_2 $$ private int renumberOrderBy(long tableID) throws SnapInException [ CD ]
Line_2 $$ private int renumberOrderBy(long tableID) throws SnapInException -->Line_3 $$ int count = 0[ CD ]
Line_2 $$ private int renumberOrderBy(long tableID) throws SnapInException -->Line_4 $$ Connection con = null[ CD ]
Line_2 $$ private int renumberOrderBy(long tableID) throws SnapInException -->Line_5 $$ Statement stmt = null[ CD ]
Line_2 $$ private int renumberOrderBy(long tableID) throws SnapInException -->Line_6 $$ ResultSet rs = null[ CD ]
Line_4 $$ Connection con = null-->Line_8 $$ con = getDataSource().getConnection()[ FD ]
Line_8 $$ con = getDataSource().getConnection()-->Line_8 $$ con = getDataSource().getConnection()[ FD ]
Line_8 $$ con = getDataSource().getConnection()-->Line_8 $$ con = getDataSource().getConnection()[ CD ]
Line_4 $$ Connection con = null-->Line_9 $$ con.setAutoCommit(false)[ FD ]
Line_8 $$ con = getDataSource().getConnection()-->Line_9 $$ con.setAutoCommit(false)[ FD ]
Line_5 $$ Statement stmt = null-->Line_10 $$ stmt = con.createStatement()[ FD ]
Line_10 $$ stmt = con.createStatement()-->Line_10 $$ stmt = con.createStatement()[ FD ]
Line_10 $$ stmt = con.createStatement()-->Line_10 $$ stmt = con.createStatement()[ CD ]
Line_4 $$ Connection con = null-->Line_10 $$ stmt = con.createStatement()[ FD ]
Line_8 $$ con = getDataSource().getConnection()-->Line_10 $$ stmt = con.createStatement()[ FD ]
Line_2 $$ private int renumberOrderBy(long tableID) throws SnapInException -->Line_12 $$ query.append("SELECT ").append(DatabaseConstants.TableFieldName_JV_FIELDBEHAVIOR_ID).append(" FROM ").append(DatabaseConstants.TableName_JV_FIELDBEHAVIOR).append(" WHERE ").append(DatabaseConstants.TableFieldName_JV_FIELDBEHAVIOR_TABLEID).append(" = ").append(tableID).append(" ORDER BY ").append(DatabaseConstants.TableFieldName_JV_FIELDBEHAVIOR_ORDERBY)[ FD ]
Line_11 $$ StringBuffer query = new StringBuffer()-->Line_12 $$ query.append("SELECT ").append(DatabaseConstants.TableFieldName_JV_FIELDBEHAVIOR_ID).append(" FROM ").append(DatabaseConstants.TableName_JV_FIELDBEHAVIOR).append(" WHERE ").append(DatabaseConstants.TableFieldName_JV_FIELDBEHAVIOR_TABLEID).append(" = ").append(tableID).append(" ORDER BY ").append(DatabaseConstants.TableFieldName_JV_FIELDBEHAVIOR_ORDERBY)[ FD ]
Line_6 $$ ResultSet rs = null-->Line_14 $$ rs = stmt.executeQuery(query.toString())[ FD ]
Line_14 $$ rs = stmt.executeQuery(query.toString())-->Line_14 $$ rs = stmt.executeQuery(query.toString())[ FD ]
Line_14 $$ rs = stmt.executeQuery(query.toString())-->Line_14 $$ rs = stmt.executeQuery(query.toString())[ CD ]
Line_5 $$ Statement stmt = null-->Line_14 $$ rs = stmt.executeQuery(query.toString())[ FD ]
Line_10 $$ stmt = con.createStatement()-->Line_14 $$ rs = stmt.executeQuery(query.toString())[ FD ]
Line_11 $$ StringBuffer query = new StringBuffer()-->Line_14 $$ rs = stmt.executeQuery(query.toString())[ FD ]
Line_15 $$ while (rs.next()) -->Line_15 $$ while (rs.next()) [ CD ]
Line_6 $$ ResultSet rs = null-->Line_15 $$ while (rs.next()) [ FD ]
Line_14 $$ rs = stmt.executeQuery(query.toString())-->Line_15 $$ while (rs.next()) [ FD ]
Line_15 $$ while (rs.next()) -->Line_16 $$ count++[ CD ]
Line_3 $$ int count = 0-->Line_16 $$ count++[ FD ]
Line_15 $$ while (rs.next()) -->Line_17 $$ rowIDVector.add(rs.getLong(DatabaseConstants.TableFieldName_JV_FIELDBEHAVIOR_ID) + "")[ CD ]
Line_13 $$ Vector rowIDVector = new Vector()-->Line_17 $$ rowIDVector.add(rs.getLong(DatabaseConstants.TableFieldName_JV_FIELDBEHAVIOR_ID) + "")[ FD ]
Line_6 $$ ResultSet rs = null-->Line_17 $$ rowIDVector.add(rs.getLong(DatabaseConstants.TableFieldName_JV_FIELDBEHAVIOR_ID) + "")[ FD ]
Line_14 $$ rs = stmt.executeQuery(query.toString())-->Line_17 $$ rowIDVector.add(rs.getLong(DatabaseConstants.TableFieldName_JV_FIELDBEHAVIOR_ID) + "")[ FD ]
Line_19 $$ StringBuffer updateString = new StringBuffer()-->Line_20 $$ updateString.append("UPDATE ").append(DatabaseConstants.TableName_JV_FIELDBEHAVIOR).append(" SET ").append(DatabaseConstants.TableFieldName_JV_FIELDBEHAVIOR_ORDERBY).append(" = ? WHERE ").append(DatabaseConstants.TableFieldName_JV_FIELDBEHAVIOR_ID).append(" = ?")[ FD ]
Line_21 $$ PreparedStatement pstmt = con.prepareStatement(updateString.toString())-->Line_21 $$ PreparedStatement pstmt = con.prepareStatement(updateString.toString())[ CD ]
Line_4 $$ Connection con = null-->Line_21 $$ PreparedStatement pstmt = con.prepareStatement(updateString.toString())[ FD ]
Line_8 $$ con = getDataSource().getConnection()-->Line_21 $$ PreparedStatement pstmt = con.prepareStatement(updateString.toString())[ FD ]
Line_19 $$ StringBuffer updateString = new StringBuffer()-->Line_21 $$ PreparedStatement pstmt = con.prepareStatement(updateString.toString())[ FD ]
Line_23 $$ Enumeration en = rowIDVector.elements()-->Line_23 $$ Enumeration en = rowIDVector.elements()[ CD ]
Line_13 $$ Vector rowIDVector = new Vector()-->Line_23 $$ Enumeration en = rowIDVector.elements()[ FD ]
Line_24 $$ while (en.hasMoreElements()) -->Line_24 $$ while (en.hasMoreElements()) [ CD ]
Line_23 $$ Enumeration en = rowIDVector.elements()-->Line_24 $$ while (en.hasMoreElements()) [ FD ]
Line_24 $$ while (en.hasMoreElements()) -->Line_25 $$ pstmt.setInt(1, orderByValue)[ CD ]
Line_21 $$ PreparedStatement pstmt = con.prepareStatement(updateString.toString())-->Line_25 $$ pstmt.setInt(1, orderByValue)[ FD ]
Line_22 $$ int orderByValue = ORDERBY_BY_DELTA_VALUE-->Line_25 $$ pstmt.setInt(1, orderByValue)[ FD ]
Line_24 $$ while (en.hasMoreElements()) -->Line_26 $$ pstmt.setString(2, en.nextElement().toString())[ CD ]
Line_21 $$ PreparedStatement pstmt = con.prepareStatement(updateString.toString())-->Line_26 $$ pstmt.setString(2, en.nextElement().toString())[ FD ]
Line_23 $$ Enumeration en = rowIDVector.elements()-->Line_26 $$ pstmt.setString(2, en.nextElement().toString())[ FD ]
Line_24 $$ while (en.hasMoreElements()) -->Line_27 $$ orderByValue += ORDERBY_BY_DELTA_VALUE[ CD ]
Line_27 $$ orderByValue += ORDERBY_BY_DELTA_VALUE-->Line_27 $$ orderByValue += ORDERBY_BY_DELTA_VALUE[ FD ]
Line_22 $$ int orderByValue = ORDERBY_BY_DELTA_VALUE-->Line_27 $$ orderByValue += ORDERBY_BY_DELTA_VALUE[ FD ]
Line_24 $$ while (en.hasMoreElements()) -->Line_28 $$ pstmt.executeUpdate()[ CD ]
Line_21 $$ PreparedStatement pstmt = con.prepareStatement(updateString.toString())-->Line_28 $$ pstmt.executeUpdate()[ FD ]
Line_4 $$ Connection con = null-->Line_30 $$ con.setAutoCommit(true)[ FD ]
Line_8 $$ con = getDataSource().getConnection()-->Line_30 $$ con.setAutoCommit(true)[ FD ]
Line_21 $$ PreparedStatement pstmt = con.prepareStatement(updateString.toString())-->Line_31 $$ if (pstmt != null) [ FD ]
Line_31 $$ if (pstmt != null) -->Line_32 $$ pstmt.close()[ CD ]
Line_21 $$ PreparedStatement pstmt = con.prepareStatement(updateString.toString())-->Line_32 $$ pstmt.close()[ FD ]
Line_4 $$ Connection con = null-->Line_35 $$ if (con == null) [ FD ]
Line_8 $$ con = getDataSource().getConnection()-->Line_35 $$ if (con == null) [ FD ]
Line_35 $$ if (con == null) -->Line_36 $$ logger.error("java.sql.SQLException", e)[ CD ]
Line_4 $$ Connection con = null-->Line_40 $$ con.rollback()[ FD ]
Line_8 $$ con = getDataSource().getConnection()-->Line_40 $$ con.rollback()[ FD ]
Line_4 $$ Connection con = null-->Line_41 $$ con.setAutoCommit(true)[ FD ]
Line_8 $$ con = getDataSource().getConnection()-->Line_41 $$ con.setAutoCommit(true)[ FD ]
Line_4 $$ Connection con = null-->Line_49 $$ getDataSourceHelper().releaseResources(con, stmt, rs)[ FD ]
Line_8 $$ con = getDataSource().getConnection()-->Line_49 $$ getDataSourceHelper().releaseResources(con, stmt, rs)[ FD ]
Line_5 $$ Statement stmt = null-->Line_49 $$ getDataSourceHelper().releaseResources(con, stmt, rs)[ FD ]
Line_10 $$ stmt = con.createStatement()-->Line_49 $$ getDataSourceHelper().releaseResources(con, stmt, rs)[ FD ]
Line_6 $$ ResultSet rs = null-->Line_49 $$ getDataSourceHelper().releaseResources(con, stmt, rs)[ FD ]
Line_14 $$ rs = stmt.executeQuery(query.toString())-->Line_49 $$ getDataSourceHelper().releaseResources(con, stmt, rs)[ FD ]
Line_2 $$ private int renumberOrderBy(long tableID) throws SnapInException -->Line_51 $$ return count[ CD ]
Line_27 $$ orderByValue += ORDERBY_BY_DELTA_VALUE-->Line_25 $$ pstmt.setInt(1, orderByValue)[ FD ]
