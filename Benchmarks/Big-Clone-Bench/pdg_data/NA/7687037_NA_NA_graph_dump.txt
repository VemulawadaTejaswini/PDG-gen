Line_0 $$ Entry-->Line_1 $$ public class dummy [ CD ]
Line_1 $$ public class dummy -->Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) [ CD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_3 $$ AttachmentList files = mo.getAttachmentsOfType(Attachment.FILE)[ CD ]
Line_3 $$ AttachmentList files = mo.getAttachmentsOfType(Attachment.FILE)-->Line_3 $$ AttachmentList files = mo.getAttachmentsOfType(Attachment.FILE)[ CD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_3 $$ AttachmentList files = mo.getAttachmentsOfType(Attachment.FILE)[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_4 $$ AttachmentList boards = mo.getAttachmentsOfType(Attachment.BOARD)[ CD ]
Line_4 $$ AttachmentList boards = mo.getAttachmentsOfType(Attachment.BOARD)-->Line_4 $$ AttachmentList boards = mo.getAttachmentsOfType(Attachment.BOARD)[ CD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_4 $$ AttachmentList boards = mo.getAttachmentsOfType(Attachment.BOARD)[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection()[ CD ]
Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection()-->Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection()[ CD ]
Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection()-->Line_7 $$ conn.setAutoCommit(false)[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")[ CD ]
Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection()-->Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")[ FD ]
Line_10 $$ Statement stmt = AppLayerDatabase.getInstance().createStatement()-->Line_10 $$ Statement stmt = AppLayerDatabase.getInstance().createStatement()[ CD ]
Line_11 $$ ResultSet rs = stmt.executeQuery("select UNIQUEKEY('" + getMessageTableName() + "')")-->Line_11 $$ ResultSet rs = stmt.executeQuery("select UNIQUEKEY('" + getMessageTableName() + "')")[ CD ]
Line_10 $$ Statement stmt = AppLayerDatabase.getInstance().createStatement()-->Line_11 $$ ResultSet rs = stmt.executeQuery("select UNIQUEKEY('" + getMessageTableName() + "')")[ FD ]
Line_11 $$ ResultSet rs = stmt.executeQuery("select UNIQUEKEY('" + getMessageTableName() + "')")-->Line_12 $$ if (rs.next()) [ FD ]
Line_12 $$ if (rs.next()) -->Line_12 $$ if (rs.next()) [ CD ]
Line_11 $$ ResultSet rs = stmt.executeQuery("select UNIQUEKEY('" + getMessageTableName() + "')")-->Line_12 $$ if (rs.next()) [ FD ]
Line_12 $$ if (rs.next()) -->Line_13 $$ identity = new Long(rs.getLong(1))[ CD ]
Line_9 $$ Long identity = null-->Line_13 $$ identity = new Long(rs.getLong(1))[ FD ]
Line_13 $$ identity = new Long(rs.getLong(1))-->Line_13 $$ identity = new Long(rs.getLong(1))[ FD ]
Line_11 $$ ResultSet rs = stmt.executeQuery("select UNIQUEKEY('" + getMessageTableName() + "')")-->Line_13 $$ identity = new Long(rs.getLong(1))[ FD ]
Line_12 $$ if (rs.next()) -->Line_15 $$ logger.log(Level.SEVERE, "Could not retrieve a new unique key!")[ CD ]
Line_11 $$ ResultSet rs = stmt.executeQuery("select UNIQUEKEY('" + getMessageTableName() + "')")-->Line_17 $$ rs.close()[ FD ]
Line_10 $$ Statement stmt = AppLayerDatabase.getInstance().createStatement()-->Line_18 $$ stmt.close()[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_20 $$ ps.setLong(i++, identity.longValue())[ FD ]
Line_19 $$ int i = 1-->Line_20 $$ ps.setLong(i++, identity.longValue())[ FD ]
Line_9 $$ Long identity = null-->Line_20 $$ ps.setLong(i++, identity.longValue())[ FD ]
Line_13 $$ identity = new Long(rs.getLong(1))-->Line_20 $$ ps.setLong(i++, identity.longValue())[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_21 $$ ps.setString(i++, mo.getMessageId())[ FD ]
Line_19 $$ int i = 1-->Line_21 $$ ps.setString(i++, mo.getMessageId())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_21 $$ ps.setString(i++, mo.getMessageId())[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_22 $$ ps.setString(i++, mo.getInReplyTo())[ FD ]
Line_19 $$ int i = 1-->Line_22 $$ ps.setString(i++, mo.getInReplyTo())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_22 $$ ps.setString(i++, mo.getInReplyTo())[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_23 $$ ps.setBoolean(i++, mo.isValid())[ FD ]
Line_19 $$ int i = 1-->Line_23 $$ ps.setBoolean(i++, mo.isValid())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_23 $$ ps.setBoolean(i++, mo.isValid())[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_24 $$ ps.setString(i++, mo.getInvalidReason())[ FD ]
Line_19 $$ int i = 1-->Line_24 $$ ps.setString(i++, mo.getInvalidReason())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_24 $$ ps.setString(i++, mo.getInvalidReason())[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_25 $$ ps.setLong(i++, mo.getDateAndTime().getMillis())[ FD ]
Line_19 $$ int i = 1-->Line_25 $$ ps.setLong(i++, mo.getDateAndTime().getMillis())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_25 $$ ps.setLong(i++, mo.getDateAndTime().getMillis())[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_26 $$ ps.setInt(i++, mo.getIndex())[ FD ]
Line_19 $$ int i = 1-->Line_26 $$ ps.setInt(i++, mo.getIndex())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_26 $$ ps.setInt(i++, mo.getIndex())[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_27 $$ ps.setInt(i++, mo.getBoard().getPrimaryKey().intValue())[ FD ]
Line_19 $$ int i = 1-->Line_27 $$ ps.setInt(i++, mo.getBoard().getPrimaryKey().intValue())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_27 $$ ps.setInt(i++, mo.getBoard().getPrimaryKey().intValue())[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_28 $$ ps.setString(i++, mo.getFromName())[ FD ]
Line_19 $$ int i = 1-->Line_28 $$ ps.setString(i++, mo.getFromName())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_28 $$ ps.setString(i++, mo.getFromName())[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_29 $$ ps.setString(i++, mo.getSubject())[ FD ]
Line_19 $$ int i = 1-->Line_29 $$ ps.setString(i++, mo.getSubject())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_29 $$ ps.setString(i++, mo.getSubject())[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_30 $$ ps.setString(i++, ((mo.getRecipientName() != null && mo.getRecipientName().length() == 0) ? null : mo.getRecipientName()))[ FD ]
Line_19 $$ int i = 1-->Line_30 $$ ps.setString(i++, ((mo.getRecipientName() != null && mo.getRecipientName().length() == 0) ? null : mo.getRecipientName()))[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_30 $$ ps.setString(i++, ((mo.getRecipientName() != null && mo.getRecipientName().length() == 0) ? null : mo.getRecipientName()))[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_30 $$ ps.setString(i++, ((mo.getRecipientName() != null && mo.getRecipientName().length() == 0) ? null : mo.getRecipientName()))[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_30 $$ ps.setString(i++, ((mo.getRecipientName() != null && mo.getRecipientName().length() == 0) ? null : mo.getRecipientName()))[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_31 $$ if (mo.getSignatureV2() == null || mo.getSignatureV2().length() == 0) [ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_31 $$ if (mo.getSignatureV2() == null || mo.getSignatureV2().length() == 0) [ FD ]
Line_31 $$ if (mo.getSignatureV2() == null || mo.getSignatureV2().length() == 0) -->Line_32 $$ ps.setString(i++, mo.getSignatureV1())[ CD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_32 $$ ps.setString(i++, mo.getSignatureV1())[ FD ]
Line_19 $$ int i = 1-->Line_32 $$ ps.setString(i++, mo.getSignatureV1())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_32 $$ ps.setString(i++, mo.getSignatureV1())[ FD ]
Line_31 $$ if (mo.getSignatureV2() == null || mo.getSignatureV2().length() == 0) -->Line_34 $$ ps.setString(i++, mo.getSignatureV2())[ CD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_34 $$ ps.setString(i++, mo.getSignatureV2())[ FD ]
Line_19 $$ int i = 1-->Line_34 $$ ps.setString(i++, mo.getSignatureV2())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_34 $$ ps.setString(i++, mo.getSignatureV2())[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_36 $$ ps.setInt(i++, mo.getSignatureStatus())[ FD ]
Line_19 $$ int i = 1-->Line_36 $$ ps.setInt(i++, mo.getSignatureStatus())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_36 $$ ps.setInt(i++, mo.getSignatureStatus())[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_37 $$ ps.setString(i++, mo.getPublicKey())[ FD ]
Line_19 $$ int i = 1-->Line_37 $$ ps.setString(i++, mo.getPublicKey())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_37 $$ ps.setString(i++, mo.getPublicKey())[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_38 $$ ps.setBoolean(i++, mo.isDeleted())[ FD ]
Line_19 $$ int i = 1-->Line_38 $$ ps.setBoolean(i++, mo.isDeleted())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_38 $$ ps.setBoolean(i++, mo.isDeleted())[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_39 $$ ps.setBoolean(i++, mo.isNew())[ FD ]
Line_19 $$ int i = 1-->Line_39 $$ ps.setBoolean(i++, mo.isNew())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_39 $$ ps.setBoolean(i++, mo.isNew())[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_40 $$ ps.setBoolean(i++, mo.isReplied())[ FD ]
Line_19 $$ int i = 1-->Line_40 $$ ps.setBoolean(i++, mo.isReplied())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_40 $$ ps.setBoolean(i++, mo.isReplied())[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_41 $$ ps.setBoolean(i++, mo.isJunk())[ FD ]
Line_19 $$ int i = 1-->Line_41 $$ ps.setBoolean(i++, mo.isJunk())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_41 $$ ps.setBoolean(i++, mo.isJunk())[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_42 $$ ps.setBoolean(i++, mo.isFlagged())[ FD ]
Line_19 $$ int i = 1-->Line_42 $$ ps.setBoolean(i++, mo.isFlagged())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_42 $$ ps.setBoolean(i++, mo.isFlagged())[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_43 $$ ps.setBoolean(i++, mo.isStarred())[ FD ]
Line_19 $$ int i = 1-->Line_43 $$ ps.setBoolean(i++, mo.isStarred())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_43 $$ ps.setBoolean(i++, mo.isStarred())[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_44 $$ ps.setBoolean(i++, (files.size() > 0))[ FD ]
Line_19 $$ int i = 1-->Line_44 $$ ps.setBoolean(i++, (files.size() > 0))[ FD ]
Line_3 $$ AttachmentList files = mo.getAttachmentsOfType(Attachment.FILE)-->Line_44 $$ ps.setBoolean(i++, (files.size() > 0))[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_45 $$ ps.setBoolean(i++, (boards.size() > 0))[ FD ]
Line_19 $$ int i = 1-->Line_45 $$ ps.setBoolean(i++, (boards.size() > 0))[ FD ]
Line_4 $$ AttachmentList boards = mo.getAttachmentsOfType(Attachment.BOARD)-->Line_45 $$ ps.setBoolean(i++, (boards.size() > 0))[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_46 $$ ps.setInt(i++, mo.getIdLinePos())[ FD ]
Line_19 $$ int i = 1-->Line_46 $$ ps.setInt(i++, mo.getIdLinePos())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_46 $$ ps.setInt(i++, mo.getIdLinePos())[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_47 $$ ps.setInt(i++, mo.getIdLineLen())[ FD ]
Line_19 $$ int i = 1-->Line_47 $$ ps.setInt(i++, mo.getIdLineLen())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_47 $$ ps.setInt(i++, mo.getIdLineLen())[ FD ]
Line_48 $$ int inserted-->Line_50 $$ inserted = ps.executeUpdate()[ FD ]
Line_50 $$ inserted = ps.executeUpdate()-->Line_50 $$ inserted = ps.executeUpdate()[ FD ]
Line_50 $$ inserted = ps.executeUpdate()-->Line_50 $$ inserted = ps.executeUpdate()[ CD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_50 $$ inserted = ps.executeUpdate()[ FD ]
Line_8 $$ PreparedStatement ps = conn.prepareStatement("INSERT INTO " + getMessageTableName() + " (" + "primkey,messageid,inreplyto,isvalid,invalidreason,msgdatetime,msgindex,board,fromname,subject,recipient,signature," + "signaturestatus,publickey,isdeleted,isnew,isreplied,isjunk,isflagged,isstarred,hasfileattachment,hasboardattachment,idlinepos,idlinelen" + ") VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)")-->Line_52 $$ ps.close()[ FD ]
Line_48 $$ int inserted-->Line_54 $$ if (inserted == 0) [ FD ]
Line_50 $$ inserted = ps.executeUpdate()-->Line_54 $$ if (inserted == 0) [ FD ]
Line_54 $$ if (inserted == 0) -->Line_55 $$ logger.log(Level.SEVERE, "message insert returned 0 !!!")[ CD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_58 $$ mo.setMsgIdentity(identity.longValue())[ FD ]
Line_9 $$ Long identity = null-->Line_58 $$ mo.setMsgIdentity(identity.longValue())[ FD ]
Line_13 $$ identity = new Long(rs.getLong(1))-->Line_58 $$ mo.setMsgIdentity(identity.longValue())[ FD ]
Line_59 $$ PreparedStatement pc = conn.prepareStatement("INSERT INTO " + getContentTableName() + " (msgref,msgcontent) VALUES (?,?)")-->Line_59 $$ PreparedStatement pc = conn.prepareStatement("INSERT INTO " + getContentTableName() + " (msgref,msgcontent) VALUES (?,?)")[ CD ]
Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection()-->Line_59 $$ PreparedStatement pc = conn.prepareStatement("INSERT INTO " + getContentTableName() + " (msgref,msgcontent) VALUES (?,?)")[ FD ]
Line_59 $$ PreparedStatement pc = conn.prepareStatement("INSERT INTO " + getContentTableName() + " (msgref,msgcontent) VALUES (?,?)")-->Line_60 $$ pc.setLong(1, mo.getMsgIdentity())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_60 $$ pc.setLong(1, mo.getMsgIdentity())[ FD ]
Line_59 $$ PreparedStatement pc = conn.prepareStatement("INSERT INTO " + getContentTableName() + " (msgref,msgcontent) VALUES (?,?)")-->Line_61 $$ pc.setString(2, mo.getContent())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_61 $$ pc.setString(2, mo.getContent())[ FD ]
Line_48 $$ int inserted-->Line_63 $$ inserted = pc.executeUpdate()[ FD ]
Line_50 $$ inserted = ps.executeUpdate()-->Line_63 $$ inserted = pc.executeUpdate()[ FD ]
Line_63 $$ inserted = pc.executeUpdate()-->Line_63 $$ inserted = pc.executeUpdate()[ FD ]
Line_63 $$ inserted = pc.executeUpdate()-->Line_63 $$ inserted = pc.executeUpdate()[ CD ]
Line_59 $$ PreparedStatement pc = conn.prepareStatement("INSERT INTO " + getContentTableName() + " (msgref,msgcontent) VALUES (?,?)")-->Line_63 $$ inserted = pc.executeUpdate()[ FD ]
Line_59 $$ PreparedStatement pc = conn.prepareStatement("INSERT INTO " + getContentTableName() + " (msgref,msgcontent) VALUES (?,?)")-->Line_65 $$ pc.close()[ FD ]
Line_48 $$ int inserted-->Line_67 $$ if (inserted == 0) [ FD ]
Line_50 $$ inserted = ps.executeUpdate()-->Line_67 $$ if (inserted == 0) [ FD ]
Line_63 $$ inserted = pc.executeUpdate()-->Line_67 $$ if (inserted == 0) [ FD ]
Line_67 $$ if (inserted == 0) -->Line_68 $$ logger.log(Level.SEVERE, "message content insert returned 0 !!!")[ CD ]
Line_3 $$ AttachmentList files = mo.getAttachmentsOfType(Attachment.FILE)-->Line_71 $$ if (files.size() > 0) [ FD ]
Line_71 $$ if (files.size() > 0) -->Line_72 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO " + getFileAttachmentsTableName() + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)")[ CD ]
Line_72 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO " + getFileAttachmentsTableName() + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)")-->Line_72 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO " + getFileAttachmentsTableName() + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)")[ CD ]
Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection()-->Line_72 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO " + getFileAttachmentsTableName() + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)")[ FD ]
Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) -->Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) [ CD ]
Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) -->Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) [ CD ]
Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) -->Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) [ CD ]
Line_3 $$ AttachmentList files = mo.getAttachmentsOfType(Attachment.FILE)-->Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) [ FD ]
Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) -->Line_75 $$ FileAttachment fa = (FileAttachment) it.next()[ CD ]
Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) -->Line_75 $$ FileAttachment fa = (FileAttachment) it.next()[ FD ]
Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) -->Line_76 $$ int ix = 1[ CD ]
Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) -->Line_77 $$ p.setLong(ix++, mo.getMsgIdentity())[ CD ]
Line_72 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO " + getFileAttachmentsTableName() + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)")-->Line_77 $$ p.setLong(ix++, mo.getMsgIdentity())[ FD ]
Line_76 $$ int ix = 1-->Line_77 $$ p.setLong(ix++, mo.getMsgIdentity())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_77 $$ p.setLong(ix++, mo.getMsgIdentity())[ FD ]
Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) -->Line_78 $$ p.setString(ix++, fa.getFilename())[ CD ]
Line_72 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO " + getFileAttachmentsTableName() + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)")-->Line_78 $$ p.setString(ix++, fa.getFilename())[ FD ]
Line_76 $$ int ix = 1-->Line_78 $$ p.setString(ix++, fa.getFilename())[ FD ]
Line_75 $$ FileAttachment fa = (FileAttachment) it.next()-->Line_78 $$ p.setString(ix++, fa.getFilename())[ FD ]
Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) -->Line_79 $$ p.setLong(ix++, fa.getFileSize())[ CD ]
Line_72 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO " + getFileAttachmentsTableName() + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)")-->Line_79 $$ p.setLong(ix++, fa.getFileSize())[ FD ]
Line_76 $$ int ix = 1-->Line_79 $$ p.setLong(ix++, fa.getFileSize())[ FD ]
Line_75 $$ FileAttachment fa = (FileAttachment) it.next()-->Line_79 $$ p.setLong(ix++, fa.getFileSize())[ FD ]
Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) -->Line_80 $$ p.setString(ix++, fa.getKey())[ CD ]
Line_72 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO " + getFileAttachmentsTableName() + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)")-->Line_80 $$ p.setString(ix++, fa.getKey())[ FD ]
Line_76 $$ int ix = 1-->Line_80 $$ p.setString(ix++, fa.getKey())[ FD ]
Line_75 $$ FileAttachment fa = (FileAttachment) it.next()-->Line_80 $$ p.setString(ix++, fa.getKey())[ FD ]
Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) -->Line_81 $$ int ins = p.executeUpdate()[ CD ]
Line_81 $$ int ins = p.executeUpdate()-->Line_81 $$ int ins = p.executeUpdate()[ CD ]
Line_72 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO " + getFileAttachmentsTableName() + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)")-->Line_81 $$ int ins = p.executeUpdate()[ FD ]
Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) -->Line_82 $$ if (ins == 0) [ CD ]
Line_81 $$ int ins = p.executeUpdate()-->Line_82 $$ if (ins == 0) [ FD ]
Line_82 $$ if (ins == 0) -->Line_83 $$ logger.log(Level.SEVERE, "fileattachment insert returned 0 !!!")[ CD ]
Line_72 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO " + getFileAttachmentsTableName() + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)")-->Line_88 $$ p.close()[ FD ]
Line_4 $$ AttachmentList boards = mo.getAttachmentsOfType(Attachment.BOARD)-->Line_91 $$ if (boards.size() > 0) [ FD ]
Line_91 $$ if (boards.size() > 0) -->Line_92 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO " + getBoardAttachmentsTableName() + " (msgref,boardname,boardpublickey,boardprivatekey,boarddescription)" + " VALUES (?,?,?,?,?)")[ CD ]
Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection()-->Line_92 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO " + getBoardAttachmentsTableName() + " (msgref,boardname,boardpublickey,boardprivatekey,boarddescription)" + " VALUES (?,?,?,?,?)")[ FD ]
Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) -->Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) [ CD ]
Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) -->Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) [ FD ]
Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) -->Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) [ CD ]
Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) -->Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) [ CD ]
Line_4 $$ AttachmentList boards = mo.getAttachmentsOfType(Attachment.BOARD)-->Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) [ FD ]
Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) -->Line_95 $$ BoardAttachment ba = (BoardAttachment) it.next()[ CD ]
Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) -->Line_95 $$ BoardAttachment ba = (BoardAttachment) it.next()[ FD ]
Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) -->Line_95 $$ BoardAttachment ba = (BoardAttachment) it.next()[ FD ]
Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) -->Line_96 $$ Board b = ba.getBoardObj()[ CD ]
Line_96 $$ Board b = ba.getBoardObj()-->Line_96 $$ Board b = ba.getBoardObj()[ CD ]
Line_95 $$ BoardAttachment ba = (BoardAttachment) it.next()-->Line_96 $$ Board b = ba.getBoardObj()[ FD ]
Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) -->Line_97 $$ int ix = 1[ CD ]
Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) -->Line_98 $$ p.setLong(ix++, mo.getMsgIdentity())[ CD ]
Line_72 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO " + getFileAttachmentsTableName() + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)")-->Line_98 $$ p.setLong(ix++, mo.getMsgIdentity())[ FD ]
Line_97 $$ int ix = 1-->Line_98 $$ p.setLong(ix++, mo.getMsgIdentity())[ FD ]
Line_76 $$ int ix = 1-->Line_98 $$ p.setLong(ix++, mo.getMsgIdentity())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_98 $$ p.setLong(ix++, mo.getMsgIdentity())[ FD ]
Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) -->Line_99 $$ p.setString(ix++, b.getNameLowerCase())[ CD ]
Line_72 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO " + getFileAttachmentsTableName() + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)")-->Line_99 $$ p.setString(ix++, b.getNameLowerCase())[ FD ]
Line_97 $$ int ix = 1-->Line_99 $$ p.setString(ix++, b.getNameLowerCase())[ FD ]
Line_76 $$ int ix = 1-->Line_99 $$ p.setString(ix++, b.getNameLowerCase())[ FD ]
Line_96 $$ Board b = ba.getBoardObj()-->Line_99 $$ p.setString(ix++, b.getNameLowerCase())[ FD ]
Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) -->Line_100 $$ p.setString(ix++, b.getPublicKey())[ CD ]
Line_72 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO " + getFileAttachmentsTableName() + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)")-->Line_100 $$ p.setString(ix++, b.getPublicKey())[ FD ]
Line_97 $$ int ix = 1-->Line_100 $$ p.setString(ix++, b.getPublicKey())[ FD ]
Line_76 $$ int ix = 1-->Line_100 $$ p.setString(ix++, b.getPublicKey())[ FD ]
Line_96 $$ Board b = ba.getBoardObj()-->Line_100 $$ p.setString(ix++, b.getPublicKey())[ FD ]
Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) -->Line_101 $$ p.setString(ix++, b.getPrivateKey())[ CD ]
Line_72 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO " + getFileAttachmentsTableName() + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)")-->Line_101 $$ p.setString(ix++, b.getPrivateKey())[ FD ]
Line_97 $$ int ix = 1-->Line_101 $$ p.setString(ix++, b.getPrivateKey())[ FD ]
Line_76 $$ int ix = 1-->Line_101 $$ p.setString(ix++, b.getPrivateKey())[ FD ]
Line_96 $$ Board b = ba.getBoardObj()-->Line_101 $$ p.setString(ix++, b.getPrivateKey())[ FD ]
Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) -->Line_102 $$ p.setString(ix++, b.getDescription())[ CD ]
Line_72 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO " + getFileAttachmentsTableName() + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)")-->Line_102 $$ p.setString(ix++, b.getDescription())[ FD ]
Line_97 $$ int ix = 1-->Line_102 $$ p.setString(ix++, b.getDescription())[ FD ]
Line_76 $$ int ix = 1-->Line_102 $$ p.setString(ix++, b.getDescription())[ FD ]
Line_96 $$ Board b = ba.getBoardObj()-->Line_102 $$ p.setString(ix++, b.getDescription())[ FD ]
Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) -->Line_103 $$ int ins = p.executeUpdate()[ CD ]
Line_103 $$ int ins = p.executeUpdate()-->Line_103 $$ int ins = p.executeUpdate()[ CD ]
Line_72 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO " + getFileAttachmentsTableName() + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)")-->Line_103 $$ int ins = p.executeUpdate()[ FD ]
Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) -->Line_104 $$ if (ins == 0) [ CD ]
Line_103 $$ int ins = p.executeUpdate()-->Line_104 $$ if (ins == 0) [ FD ]
Line_81 $$ int ins = p.executeUpdate()-->Line_104 $$ if (ins == 0) [ FD ]
Line_104 $$ if (ins == 0) -->Line_105 $$ logger.log(Level.SEVERE, "boardattachment insert returned 0 !!!")[ CD ]
Line_72 $$ PreparedStatement p = conn.prepareStatement("INSERT INTO " + getFileAttachmentsTableName() + " (msgref,filename,filesize,filekey)" + " VALUES (?,?,?,?)")-->Line_110 $$ p.close()[ FD ]
Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection()-->Line_113 $$ conn.commit()[ FD ]
Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection()-->Line_114 $$ conn.setAutoCommit(true)[ FD ]
Line_118 $$ if (t.getMessage().indexOf("constraint violation") > 0 && t.getMessage().indexOf("MSG_ID_UNIQUE_ONLY") > 0) -->Line_119 $$ isDuplicate = true[ CD ]
Line_117 $$ boolean isDuplicate-->Line_119 $$ isDuplicate = true[ FD ]
Line_119 $$ isDuplicate = true-->Line_119 $$ isDuplicate = true[ FD ]
Line_118 $$ if (t.getMessage().indexOf("constraint violation") > 0 && t.getMessage().indexOf("MSG_ID_UNIQUE_ONLY") > 0) -->Line_120 $$ logger.warning("Duplicate message id, not added to database table: msgid='" + mo.getMessageId() + "', board=" + mo.getBoard().getName() + ", date='" + mo.getDateAndTimeString() + "', index=" + mo.getIndex())[ CD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_120 $$ logger.warning("Duplicate message id, not added to database table: msgid='" + mo.getMessageId() + "', board=" + mo.getBoard().getName() + ", date='" + mo.getDateAndTimeString() + "', index=" + mo.getIndex())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_120 $$ logger.warning("Duplicate message id, not added to database table: msgid='" + mo.getMessageId() + "', board=" + mo.getBoard().getName() + ", date='" + mo.getDateAndTimeString() + "', index=" + mo.getIndex())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_120 $$ logger.warning("Duplicate message id, not added to database table: msgid='" + mo.getMessageId() + "', board=" + mo.getBoard().getName() + ", date='" + mo.getDateAndTimeString() + "', index=" + mo.getIndex())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_120 $$ logger.warning("Duplicate message id, not added to database table: msgid='" + mo.getMessageId() + "', board=" + mo.getBoard().getName() + ", date='" + mo.getDateAndTimeString() + "', index=" + mo.getIndex())[ FD ]
Line_118 $$ if (t.getMessage().indexOf("constraint violation") > 0 && t.getMessage().indexOf("MSG_ID_UNIQUE_ONLY") > 0) -->Line_121 $$ if (t.getMessage().indexOf("constraint violation") > 0 && t.getMessage().indexOf("MSG_UNIQUE_ONLY") > 0) [ CD ]
Line_121 $$ if (t.getMessage().indexOf("constraint violation") > 0 && t.getMessage().indexOf("MSG_UNIQUE_ONLY") > 0) -->Line_122 $$ isDuplicate = true[ CD ]
Line_117 $$ boolean isDuplicate-->Line_122 $$ isDuplicate = true[ FD ]
Line_119 $$ isDuplicate = true-->Line_122 $$ isDuplicate = true[ FD ]
Line_122 $$ isDuplicate = true-->Line_122 $$ isDuplicate = true[ FD ]
Line_121 $$ if (t.getMessage().indexOf("constraint violation") > 0 && t.getMessage().indexOf("MSG_UNIQUE_ONLY") > 0) -->Line_123 $$ logger.warning("Duplicate msgdatetime,index,board, not added to database table: msgid='" + mo.getMessageId() + "', board=" + mo.getBoard().getName() + ", date='" + mo.getDateAndTimeString() + "', index=" + mo.getIndex())[ CD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_123 $$ logger.warning("Duplicate msgdatetime,index,board, not added to database table: msgid='" + mo.getMessageId() + "', board=" + mo.getBoard().getName() + ", date='" + mo.getDateAndTimeString() + "', index=" + mo.getIndex())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_123 $$ logger.warning("Duplicate msgdatetime,index,board, not added to database table: msgid='" + mo.getMessageId() + "', board=" + mo.getBoard().getName() + ", date='" + mo.getDateAndTimeString() + "', index=" + mo.getIndex())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_123 $$ logger.warning("Duplicate msgdatetime,index,board, not added to database table: msgid='" + mo.getMessageId() + "', board=" + mo.getBoard().getName() + ", date='" + mo.getDateAndTimeString() + "', index=" + mo.getIndex())[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_123 $$ logger.warning("Duplicate msgdatetime,index,board, not added to database table: msgid='" + mo.getMessageId() + "', board=" + mo.getBoard().getName() + ", date='" + mo.getDateAndTimeString() + "', index=" + mo.getIndex())[ FD ]
Line_121 $$ if (t.getMessage().indexOf("constraint violation") > 0 && t.getMessage().indexOf("MSG_UNIQUE_ONLY") > 0) -->Line_125 $$ isDuplicate = false[ CD ]
Line_117 $$ boolean isDuplicate-->Line_125 $$ isDuplicate = false[ FD ]
Line_119 $$ isDuplicate = true-->Line_125 $$ isDuplicate = false[ FD ]
Line_122 $$ isDuplicate = true-->Line_125 $$ isDuplicate = false[ FD ]
Line_125 $$ isDuplicate = false-->Line_125 $$ isDuplicate = false[ FD ]
Line_121 $$ if (t.getMessage().indexOf("constraint violation") > 0 && t.getMessage().indexOf("MSG_UNIQUE_ONLY") > 0) -->Line_126 $$ logger.log(Level.SEVERE, "Exception during insert of message: msgid='" + mo.getMessageId() + "', board=" + mo.getBoard().getName() + ", date='" + mo.getDateAndTimeString() + "', index=" + mo.getIndex(), t)[ CD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_126 $$ logger.log(Level.SEVERE, "Exception during insert of message: msgid='" + mo.getMessageId() + "', board=" + mo.getBoard().getName() + ", date='" + mo.getDateAndTimeString() + "', index=" + mo.getIndex(), t)[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_126 $$ logger.log(Level.SEVERE, "Exception during insert of message: msgid='" + mo.getMessageId() + "', board=" + mo.getBoard().getName() + ", date='" + mo.getDateAndTimeString() + "', index=" + mo.getIndex(), t)[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_126 $$ logger.log(Level.SEVERE, "Exception during insert of message: msgid='" + mo.getMessageId() + "', board=" + mo.getBoard().getName() + ", date='" + mo.getDateAndTimeString() + "', index=" + mo.getIndex(), t)[ FD ]
Line_2 $$ public synchronized int insertMessage(FrostMessageObject mo) -->Line_126 $$ logger.log(Level.SEVERE, "Exception during insert of message: msgid='" + mo.getMessageId() + "', board=" + mo.getBoard().getName() + ", date='" + mo.getDateAndTimeString() + "', index=" + mo.getIndex(), t)[ FD ]
Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection()-->Line_128 $$ conn.rollback()[ FD ]
Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection()-->Line_134 $$ conn.setAutoCommit(true)[ FD ]
Line_137 $$ if (isDuplicate) -->Line_138 $$ return INSERT_DUPLICATE[ CD ]
Line_137 $$ if (isDuplicate) -->Line_140 $$ return INSERT_ERROR[ CD ]
Line_5 $$ Connection conn = AppLayerDatabase.getInstance().getPooledConnection()-->Line_143 $$ AppLayerDatabase.getInstance().givePooledConnection(conn)[ FD ]
Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) -->Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) [ FD ]
Line_74 $$ for (Iterator it = files.iterator(); it.hasNext(); ) -->Line_75 $$ FileAttachment fa = (FileAttachment) it.next()[ FD ]
Line_76 $$ int ix = 1-->Line_77 $$ p.setLong(ix++, mo.getMsgIdentity())[ FD ]
Line_76 $$ int ix = 1-->Line_78 $$ p.setString(ix++, fa.getFilename())[ FD ]
Line_75 $$ FileAttachment fa = (FileAttachment) it.next()-->Line_78 $$ p.setString(ix++, fa.getFilename())[ FD ]
Line_76 $$ int ix = 1-->Line_79 $$ p.setLong(ix++, fa.getFileSize())[ FD ]
Line_75 $$ FileAttachment fa = (FileAttachment) it.next()-->Line_79 $$ p.setLong(ix++, fa.getFileSize())[ FD ]
Line_76 $$ int ix = 1-->Line_80 $$ p.setString(ix++, fa.getKey())[ FD ]
Line_75 $$ FileAttachment fa = (FileAttachment) it.next()-->Line_80 $$ p.setString(ix++, fa.getKey())[ FD ]
Line_81 $$ int ins = p.executeUpdate()-->Line_82 $$ if (ins == 0) [ FD ]
Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) -->Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) [ FD ]
Line_94 $$ for (Iterator it = boards.iterator(); it.hasNext(); ) -->Line_95 $$ BoardAttachment ba = (BoardAttachment) it.next()[ FD ]
Line_95 $$ BoardAttachment ba = (BoardAttachment) it.next()-->Line_96 $$ Board b = ba.getBoardObj()[ FD ]
Line_97 $$ int ix = 1-->Line_98 $$ p.setLong(ix++, mo.getMsgIdentity())[ FD ]
Line_97 $$ int ix = 1-->Line_99 $$ p.setString(ix++, b.getNameLowerCase())[ FD ]
Line_96 $$ Board b = ba.getBoardObj()-->Line_99 $$ p.setString(ix++, b.getNameLowerCase())[ FD ]
Line_97 $$ int ix = 1-->Line_100 $$ p.setString(ix++, b.getPublicKey())[ FD ]
Line_96 $$ Board b = ba.getBoardObj()-->Line_100 $$ p.setString(ix++, b.getPublicKey())[ FD ]
Line_97 $$ int ix = 1-->Line_101 $$ p.setString(ix++, b.getPrivateKey())[ FD ]
Line_96 $$ Board b = ba.getBoardObj()-->Line_101 $$ p.setString(ix++, b.getPrivateKey())[ FD ]
Line_97 $$ int ix = 1-->Line_102 $$ p.setString(ix++, b.getDescription())[ FD ]
Line_96 $$ Board b = ba.getBoardObj()-->Line_102 $$ p.setString(ix++, b.getDescription())[ FD ]
Line_103 $$ int ins = p.executeUpdate()-->Line_104 $$ if (ins == 0) [ FD ]
