import java.util.Scanner;

class Main {
	static int s[];
	
	public static void main(String args[]) {
		Scanner scan = new Scanner(System.in);
		
		int n, q, com, x, y;
		
		n = scan.nextInt();
		q = scan.nextInt();
		
		s = new int[n];
		
		for(int i = 0; i < n; i++) {
			s[i] = -1;
		}
		
		for(int i = 0; i < q; i++) {
			com = scan.nextInt();
			x = scan.nextInt();
			y = scan.nextInt();

			x = Search(x);
			y = Search(y);
			
			if(com == 0 && x != y) { //unite x??¨y?????\?????????????????????????????????????????¨?????????
				if(y < x) {
					int tmp = x;
					x = y;
					y = tmp;
				}
				
				s[x] += s[y];
				s[y] = x;
				
			} else if(com == 1) {//same
				if(x == y) {
					System.out.println(1);
				} else {
					System.out.println(0);
				}
			}
		}
		
		scan.close();
	}
	
	public static int Search(int x){ 
		//???????????????????????°???????´??????????????????°????????¨???????????\?????????????????????????±???????
		if(s[x] < 0) {
			return x;
		} else {
			return s[x] = Search(s[x]);
		}
	}
}