import java.util.Scanner;

public class Main {
	int field[][];
	int h;
	final static int VOID = -1;
	void run(){
		Scanner s = new Scanner(System.in);
		while(true){
			h = s.nextInt();
			if(h == 0)break;
			field = new int[h][5];
			for(int i = 0;i < h;i++){
				for(int j = 0;j < 5;j++){
					field[i][j] = s.nextInt();
				}
			}
			System.out.println(calcPts());
		}
	}

	int calcPts(){
		int pts = 0;
		while(true){
			boolean chainFlag = false;
			for(int i = 0;i < h;i++){
				int sameNum = 0;//????????¨??°??????????????°?????¨???????????´??????
				int sameCnt = 0;//????????????????????¨?????°???????????????
				int j;
				for(j = 0;j < 5;j++){
					if(sameNum == field[i][j]){
						sameCnt++;
					}else{
/*
 * ??????????????°?????¨????????´???????????????????????????????????????????????????
 * ??????????????¢???????????\???????????°?????????????????£???????????´??????
 * ????????´??????break??§???????¨?????????????????????????????¨????????????????
 * ?????????????¨??????¨????¶???????????????????break?????????
 * ??????????????????????´?????????£?????´??????????????´???????????????????¶??¶??????????????????????
 */
						if(sameCnt >= 2)break;
						if(field[i][j] == VOID)continue;
						sameNum = field[i][j];
						sameCnt = 0;
					}
				}
				if(sameCnt >= 2){
					j--;
					pts += (sameCnt+1) * sameNum;//?????????????¨????
					chainFlag = true;
					for(int k = 0;k <= sameCnt;k++)
						field[i][j-k] = VOID;
				}
			}
			if(chainFlag){
				fieldUpdate();
			}else{
				break;
			}
		}
		return pts;
	}

	void fieldUpdate(){
		for(int i = h - 1;i > 0;i--)
			for(int j = 0;j < 5;j++)
				field[i][j] = getUpside(i,j,field[i][j]);
	}

	int getUpside(int x,int y,int set){
		if(field[x][y] != -1){
			int tmp = field[x][y];
			field[x][y] = set;
			return tmp;
		}else{
			if(x == 0){
				return -1;
			}else{
				return getUpside(x-1,y,set);
			}
		}
	}

	public static void main(String args[]){
		new Main().run();
	}
}