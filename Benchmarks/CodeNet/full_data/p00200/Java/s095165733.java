import java.util.*;class Main{public static void main(String[]z){Scanner s=new Scanner(System.in);for(int n,m,i,j,k;(n=s.nextInt())>0;){long[][][]a=new long[m=s.nextInt()][m][2];long l;for(i=0;i<m;++i)for(j=0;j<m;++j)for(k=0;k<2;++k)a[i][j][k]=Integer.MAX_VALUE;for(;n-->0;a[i][j][1]=a[j][i][1]=s.nextInt())a[i=s.nextInt()-1][j=s.nextInt()-1][0]=a[j][i][0]=s.nextInt();for(n=0;n<m;++n)for(i=0;i<m;++i)for(j=0;j<m;++j)for(k=0;k<2;++k)if(a[i][j][k]>(l=a[i][n][k]+a[n][j][k]))a[i][j][k]=a[j][i][k]=l;for(n=s.nextInt();n-->0;)System.out.println(a[s.nextInt()-1][s.nextInt()-1][s.nextInt()]);}}}