import java.util.*;

public class Main{
	private static final Scanner scan = new Scanner(System.in);
	static int N; //static?????´??°???public static???main?????????????????§????????????????????????

	public static void main(String[] args){

		N = scan.nextInt();
		String[] cards = new String[N];
		String[] copys = new String[N];
		String[] ins = new String[N];
		for(int i = 0; i < N; i++){
			cards[i] = scan.next();
			copys[i] = cards[i];
			ins[i] = cards[i];
		}

		//?????????????????????????????????????????????
		for(int i = 0; i < N; i++){
			for(int j = N-1; j >= i+1; j--){
				String sj = cards[j].substring(1);
				String sjj = cards[j-1].substring(1);
				int vj = Integer.parseInt(sj);
				int vjj = Integer.parseInt(sjj);
				if(vj < vjj){
					String work = cards[j];
					cards[j] = cards[j-1];
					cards[j-1] = work;
				}
			}
		}

		for(int i = 0; i < N; i++)
			System.out.printf(i != N-1? "%s " : "%s\n", cards[i]);
		System.out.printf("%s\n", isStable(ins, cards)? "Stable" : "Not Stable");

		//???????????????
		for(int i = 0; i < N; i++){
			int minj = i;
			for(int j = i; j < N; j++){
				String sj = copys[j].substring(1);
				String sjj = copys[minj].substring(1);
				int vj = Integer.parseInt(sj);
				int vjj = Integer.parseInt(sjj);
				if(vj < vjj)
					minj = j;
			}
			//?????????????????????minj??¨i???????????????
			if(minj != i){
				String work = copys[minj];
				copys[minj] = copys[i];
				copys[i] = work;
			}
		}

		for(int i = 0; i < N; i++)
			System.out.printf(i != N-1? "%s " : "%s\n", copys[i]);
		System.out.printf("%s\n", isStable(ins, copys)? "Stable" : "Not Stable");
	}

	//??????????????????????????\??????????????????????????????????????????????????????
	public static boolean isStable(String[] in, String[] out){
		//???????????°?????????????????????????????????????????????????????????
		List<String> list = new ArrayList<String>();
		for(int i = 0; i < N; i++){
			if(in[i].equals(out[i])) //??????????????????????????????????????????????¬????
				continue;
			Loop:for(int j = i+1; j < N; j++){
				char n = in[i].charAt(1);
				char n1 = out[j].charAt(1);
				char m = in[i].charAt(0);
				char m1 = out[j].charAt(0);
				System.out.println( n + " " + n1 + " " + m + " " + m1 + " " + j);
				if(n == n1){ //??°??????????????¨???
					for(String pos : list){
						if(pos.equals(out[j])) //??????????????????????????¨??????????????°
							continue Loop;
					}
					if(m != m1){ //?????????????????????
						return false;
					}else{
						list.add(out[j]); //????????§?????£????????????????´?
						break;
					}
				}
			}
		}
		return true;
	}
}