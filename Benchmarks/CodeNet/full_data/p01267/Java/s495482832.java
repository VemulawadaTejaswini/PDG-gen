package training;

import java.util.Scanner;

public class Main {

	static int[] listY;
	static int N;
	static int A;
	static int B;
	static int C;
	static int X;
	static int frameNum;
	static int RandomNum;

	public static void main(String[] args) {
		Scanner sc  = new Scanner(System.in);

		while(true){


			N = sc.nextInt(); // ??????????????°
			A = sc.nextInt(); // ??±??°???1
			B = sc.nextInt(); // ??±??°???1
			C = sc.nextInt(); // ??±??°???1
			X = sc.nextInt(); // ??????????????±??°

			if(N==0&&A==0&&B==0&&C==0&&X==0){
				break;
			}

			// Y???N??????????????????????????¶?????????
			listY = new int[N];
			for(int i=0;i<N;i++){
				listY[i]=sc.nextInt();
			}

			RandomNum = X;
			frameNum = 0;
			// ??±??°??¨listY????????????????????????????????°?????????????????????

			int i =0;
			for(frameNum =0;i<N;frameNum++){

				if(RandomNum == listY[i]){ // ???????????????Y??¨??±??°????????´????????´???
					i++; // ?¬????Y?????????
				}

				RandomNum = (A*RandomNum +B) % C; //?¬??????±??°?????????

				if(frameNum > 10000){
					System.out.println("-1");
				}

				if(i==N){
					System.out.println(frameNum);
				}
			}



		}

	}

}