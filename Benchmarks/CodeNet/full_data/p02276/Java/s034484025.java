import java.util.Scanner;

public class Main {

	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		sc.useDelimiter(System.getProperty("line.separator"));
		int n = sc.nextInt();
        String aStr = sc.next();
        int[] A = toIntAry(aStr, n);

        int q = partition(A,0,n-1);

        for (int i = 0; i < A.length; i++) {
        	if(i!=A.length-1){
        		if(A[i]==q){
    				System.out.print("["+A[i]+"] ");
    			}else{
    				System.out.print(A[i]+ " ");
    			}
        	}else{
        		System.out.println(A[i]);
        	}
		}

	}


	private static int partition(int[] a, int p, int r) {
		//??????????±??????????????????????????´???????????????????
		int x = a[r];
		//????????????????°????????????°???????????????????????????????????????????´?
		int i = p-1;

		//?????????2?????????????´????????????????????´?????????????????????§????????????
		for(int j=p; j<r; j++){
			//????????????????°?????????£??????????°?????????°?????????????§????
			if(a[j]<=x){
				i++;
				int tmp = a[i];
				a[i] = a[j];
				a[j] = tmp;
			}
		}
		//????????????????°?????????°?????????????????????????¬?????????¨?????????????????????
		int tmp = a[i+1];
		a[i+1] = a[r];
		a[r] = tmp;

		return x;

	}


	private static int[] toIntAry(String str, int n) {
        String[] tmp = str.split(" ");
        int[] A = new int[n];
        for (int i = 0; i < n; i++) {
			A[i] = Integer.parseInt(tmp[i]);
		}
        return A;
	}


}