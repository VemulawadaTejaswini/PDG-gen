import java.util.*;class Main{public static void main(String[]z){Scanner s=new Scanner(System.in);for(int r,i,x,y;(s.nextInt())>0;){s.next();int[][]a=new int[r=s.nextInt()][4];for(x=r;x-->0;)for(i=4;i-->0;)a[x][i]=s.nextInt();for(i=4;i-->1;){final int j=i;Arrays.sort(a,new Comparator<int[]>(){public int compare(int[]a,int[]b){return a[j]-b[j];}});}Map<Integer,BitSet>m=new HashMap<Integer,BitSet>();BitSet b;for(i=0;i<r;m.put(a[i][1],b),i+=2)((b=m.get(a[i][1]))!=null?b:(b=new BitSet())).set(a[i][3],a[i+1][3]);for(r=s.nextInt();r-->0;y=s.nextInt(),System.out.println((b=m.get(s.nextInt()))==null?0:b.get(x,y).cardinality()))x=s.nextInt();}}}