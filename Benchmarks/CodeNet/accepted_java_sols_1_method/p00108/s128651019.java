import java.util.*;class Main{public static void main(String[]z){Scanner s=new Scanner(System.in);for(int t,i,c;(t=s.nextInt())>0;){long[]a=new long[t],b=null;for(i=c=0;i<t;++i)a[i]=s.nextInt();for(;!Arrays.equals(a,b);++c){Map<Long,Long>m=new HashMap<Long,Long>();b=a.clone();for(i=0;i<t;m.put(a[i],m.get(a[i++])+1))if(!m.containsKey(a[i]))m.put(a[i],0L);for(i=0;i<t;++i)a[i]=m.get(a[i]);}String r=--c+"\n";for(long j:a)r+=j+" ";System.out.println(r.replaceAll(" $", ""));}}}