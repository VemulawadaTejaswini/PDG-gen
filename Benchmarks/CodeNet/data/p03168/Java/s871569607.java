import java.io.*;
import java.util.*;

class Main {

    // Generated by 1.1.7.1 https://github.com/kyuridenamida/atcoder-tools  (tips: You use the default template now. You can remove this line by using your custom template)
    public static void main(String[] args) throws Exception {
        final Scanner sc = new Scanner(System.in);
        long N;
        N = sc.nextLong();
        double[] p = new double[(int)(N)];
        for(int i = 0 ; i < N ; i++){
                p[i] = sc.nextDouble();
        }
        solve(N, p);
    }

    static void solve(long N, double[] p){
        double[][] dp = new double[(int)(N+1)][(int)(N+1)];
        dp[1][1] = p[0];
        dp[1][0] = 1 - p[0];

        for (int i = 2; i <= N; i++){
            for (int j = 0; j <= i; j++){
                if (j == 0){
                    dp[i][j] = dp[i-1][j] * (1 - p[i-1]);
                }else{
                    dp[i][j] = dp[i-1][j-1] * p[i-1] + dp[i-1][j] * (1 - p[i-1]);
                }
            }
        }

        double rst = 0;
        for (int i = (int)(N / 2 + 1); i <= N; i++){
            rst += dp[(int)N][i];
        }
        System.out.print(rst);

    }
}
