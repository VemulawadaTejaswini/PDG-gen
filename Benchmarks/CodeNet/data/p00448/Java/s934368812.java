import java.util.Scanner;

public class Main {
	int r,c,ans;
	boolean rev[] = new boolean[10];
	boolean osenbei[][] = new boolean[10][10000];
	/*
	 * ???r(1<=r<=10)
	 * ?¨?c(1<=c<=10000)
	 */
	void run(){
		Scanner scan = new Scanner(System.in);
		while(true){
			r = scan.nextInt();
			c = scan.nextInt();
			ans = 0;
			if(r == 0 && c == 0){
				break;
			}
			for(int i = 0;i < r;i++)
				for(int j = 0;j < c;j++){
					osenbei[i][j] = scan.nextInt() == 0 ? true:false;
				}
			for(int i = 0;i < r;i++){
				rev[i] = false;
			}
			reverse(0);
			// true????????§?????°????±???????
			/*
				1) ???????£????????????¨???????????????
				  1) ?¨????????????\???false?????£?????´??????c-(true????????°)??????????????§????????????(true????????°)???????????????
				2) ?????§??°?????????
			*/
			System.out.println(ans);
		}
	}
	void reverse(int index){
		if(index == r){
			count();
			return;
		}
		reverse(index+1);
		rev[index] = true;
		reverse(index+1);
		rev[index] = false;
	}
	void count(){
		boolean tmpOsenbei[][] = new boolean[r][c];
		for(int i = 0;i < r;i++)
			tmpOsenbei[i] = osenbei[i];
		for(int i = 0;i < r;i++){
			if(rev[i]){
				for(int j = 0;j < c;j++)
					tmpOsenbei[i][j] = !tmpOsenbei[i][j];
			}
		}
		int cnt = 0;
		for(int j = 0;j < c;j++){
			int tmp = 0;
			for(int i = 0;i < r;i++)
				if(tmpOsenbei[i][j])tmp++;
			cnt += Math.max(r - tmp,tmp);
		}
		ans = Math.max(cnt,ans);
	}
	public static void main(String args[]){
		new Main().run();
	}
}