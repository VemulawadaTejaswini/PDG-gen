import java.util.*;class Main{public static void main(String[]z){Scanner s=new Scanner(System.in);for(char[]x,y;(x=s.next().toCharArray())[0]!='0';){Deque<char[]>q=new ArrayDeque<char[]>();Deque<Long>c=new ArrayDeque<Long>();Set<String>e=new HashSet<String>();for(q.add(x),c.add(0L);q.size()>0;c.poll()){if(new HashSet<String>(Arrays.asList(new String(x=q.poll()).split(""))).size()<3)break;if(e.add(new String(x)))for(int i=0,t;i<x.length-1;++i)if(x[i]!=x[i+1]){(y=x.clone())[i]=y[i+1]=(t=x[i]+x[i+1])==201?'r':t==212?'g':'b';q.add(y.clone());c.add(c.peek()+1);}}System.out.println(c.size()<1?"NA":c.poll());}}}