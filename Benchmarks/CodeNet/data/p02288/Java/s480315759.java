import java.io.IOException;
import java.util.Scanner;
class Main{
	public static void main(String[] args)throws NumberFormatException, IOException{
//		System.out.println(" ");
		Scanner scan = new Scanner(System.in);
		int amount = scan.nextInt();
		int[] value = new int[amount+1];
		for (int i=1;i<amount+1;i++){
			value[i]=scan.nextInt();
		}
		int tem = 0;
		boolean even =false;
		
		if(amount % 2 == 0){
			even = true;
		}
		int i=0;
		
		
		
		
		
		
		
		
		
		//???????????????????????????
		i = amount;
		if(even == true){
			if(value[i] > value[i/2]){
				tem = value[i];
				value[i] = value[i/2];
				value[i/2] = tem;
			}
			i--;
		}
		while(i > 1){
			
			//?????§?????????????????´???
			if (value[i] > value[i/2] &&  value[i] > value[i-1]){
				tem = value[i];
				value[i] = value[i/2];
				value[i/2] = tem;
			}
			//?????§?????????????????´???
			else if(value[i-1] > value[i] && value[i-1] > value[i/2]){
				tem = value[i-1];
				value[i-1] = value[i/2];
				value[i/2] = tem;
			}
			i -= 2;
		}
		
		
		
		
		
		
		
		
		
		//???????????????????????????
		i = 1;
		while(i < amount/2){
			
			//?????§?????????????????´???
			if (value[i*2+1] > value[i] &&  value[i*2+1] > value[i*2]){
				tem = value[i*2+1];
				value[i*2+1] = value[i];
				value[i] = tem;
			}
			//?????§?????????????????´???
			else if(value[i*2] > value[i] && value[i*2] > value[i*2+1]){
				tem = value[i*2];
				value[i*2] = value[i];
				value[i] = tem;
			}
			i += 1;
		}
		if(even == true){
			//?????§?????????????????´???
			if(value[i*2] > value[i] ){
				tem = value[i*2];
				value[i*2] = value[i];
				value[i] = tem;
			}
		}
		else{
			//?????§?????????????????´???
			if (value[i*2+1] > value[i] &&  value[i*2+1] > value[i*2]){
				tem = value[i*2+1];
				value[i*2+1] = value[i];
				value[i] = tem;
			}
			//?????§?????????????????´???
			else if(value[i*2] > value[i] && value[i*2] > value[i*2+1]){
				tem = value[i*2];
				value[i*2] = value[i];
				value[i] = tem;
			}
		}
		
		

		

		
		
		
		for (i=1;i<=amount;i++){
			System.out.print(" "+value[i]);
		}
		System.out.println("");
		
		
		
		
	}
}