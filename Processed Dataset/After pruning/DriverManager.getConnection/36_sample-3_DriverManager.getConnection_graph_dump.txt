Line_2 $$ public void verifyPatchTableNotLocked(String database) --> Line_3 $$ Connection conn = DriverManager.getConnection("jdbc:hsqldb:mem:" + database, "sa", "") [CD]
Line_2 $$ public void verifyPatchTableNotLocked(String database) --> Line_4 $$ PreparedStatement stmt = conn.prepareStatement("SELECT patch_in_progress FROM patches WHERE system_name = ? AND ( patch_in_progress <> 'F' OR patch_level in ( SELECT MAX(patch_level) FROM patches WHERE system_name = ? ))") [CD]
Line_3 $$ Connection conn = DriverManager.getConnection("jdbc:hsqldb:mem:" + database, "sa", "") --> Line_4 $$ PreparedStatement stmt = conn.prepareStatement("SELECT patch_in_progress FROM patches WHERE system_name = ? AND ( patch_in_progress <> 'F' OR patch_level in ( SELECT MAX(patch_level) FROM patches WHERE system_name = ? ))") [FD]
Line_2 $$ public void verifyPatchTableNotLocked(String database) --> Line_5 $$ stmt.setString(2, database) [CD]
Line_4 $$ PreparedStatement stmt = conn.prepareStatement("SELECT patch_in_progress FROM patches WHERE system_name = ? AND ( patch_in_progress <> 'F' OR patch_level in ( SELECT MAX(patch_level) FROM patches WHERE system_name = ? ))") --> Line_5 $$ stmt.setString(2, database) [FD]
Line_2 $$ public void verifyPatchTableNotLocked(String database) --> Line_6 $$ ResultSet rs = stmt.executeQuery() [CD]
Line_4 $$ PreparedStatement stmt = conn.prepareStatement("SELECT patch_in_progress FROM patches WHERE system_name = ? AND ( patch_in_progress <> 'F' OR patch_level in ( SELECT MAX(patch_level) FROM patches WHERE system_name = ? ))") --> Line_6 $$ ResultSet rs = stmt.executeQuery() [FD]
Line_2 $$ public void verifyPatchTableNotLocked(String database) --> Line_7 $$ rs.next() [CD]
Line_6 $$ ResultSet rs = stmt.executeQuery() --> Line_7 $$ rs.next() [FD]
Line_2 $$ public void verifyPatchTableNotLocked(String database) --> Line_8 $$ assertEquals("F", rs.getString("patch_in_progress")) [CD]
Line_6 $$ ResultSet rs = stmt.executeQuery() --> Line_8 $$ assertEquals("F", rs.getString("patch_in_progress")) [FD]
Line_2 $$ public void verifyPatchTableNotLocked(String database) --> Line_9 $$ SqlUtil.close(conn, stmt, rs) [CD]
Line_3 $$ Connection conn = DriverManager.getConnection("jdbc:hsqldb:mem:" + database, "sa", "") --> Line_9 $$ SqlUtil.close(conn, stmt, rs) [FD]
Line_4 $$ PreparedStatement stmt = conn.prepareStatement("SELECT patch_in_progress FROM patches WHERE system_name = ? AND ( patch_in_progress <> 'F' OR patch_level in ( SELECT MAX(patch_level) FROM patches WHERE system_name = ? ))") --> Line_9 $$ SqlUtil.close(conn, stmt, rs) [FD]
Line_6 $$ ResultSet rs = stmt.executeQuery() --> Line_9 $$ SqlUtil.close(conn, stmt, rs) [FD]
