Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_3 $$ HttpServletRequest request = (HttpServletRequest) req [CD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_4 $$ HttpServletResponse response = (HttpServletResponse) res [CD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_5 $$ ImagesService imgService = ImagesServiceFactory.getImagesService() [CD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_6 $$ InputStream stream = request.getInputStream() [CD]
Line_3 $$ HttpServletRequest request = (HttpServletRequest) req --> Line_6 $$ InputStream stream = request.getInputStream() [FD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_7 $$ ArrayList<Byte> bytes = new ArrayList<Byte>() [CD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_8 $$ int b = 0 [CD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_9 $$ while ((b = stream.read()) != -1) [CD]
Line_8 $$ int b = 0 --> Line_9 $$ while ((b = stream.read()) != -1) [FD]
Line_6 $$ InputStream stream = request.getInputStream() --> Line_9 $$ while ((b = stream.read()) != -1) [FD]
Line_9 $$ while ((b = stream.read()) != -1) --> Line_10 $$ bytes.add((byte) b) [CD]
Line_7 $$ ArrayList<Byte> bytes = new ArrayList<Byte>() --> Line_10 $$ bytes.add((byte) b) [FD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_12 $$ byte img[] = new byte[bytes.size()] [CD]
Line_7 $$ ArrayList<Byte> bytes = new ArrayList<Byte>() --> Line_12 $$ byte img[] = new byte[bytes.size()] [FD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_13 $$ for (int i = 0; i < bytes.size(); i++) [CD]
Line_7 $$ ArrayList<Byte> bytes = new ArrayList<Byte>() --> Line_13 $$ for (int i = 0; i < bytes.size(); i++) [FD]
Line_13 $$ for (int i = 0; i < bytes.size(); i++) --> Line_14 $$ img[i] = bytes.get(i) [CD]
Line_13 $$ for (int i = 0; i < bytes.size(); i++) --> Line_14 $$ img[i] = bytes.get(i) [FD]
Line_7 $$ ArrayList<Byte> bytes = new ArrayList<Byte>() --> Line_14 $$ img[i] = bytes.get(i) [FD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_16 $$ BlobstoreService blobstoreService = BlobstoreServiceFactory.getBlobstoreService() [CD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_17 $$ String urlBlobstore = blobstoreService.createUploadUrl("/blobstore-servlet?action=upload") [CD]
Line_16 $$ BlobstoreService blobstoreService = BlobstoreServiceFactory.getBlobstoreService() --> Line_17 $$ String urlBlobstore = blobstoreService.createUploadUrl("/blobstore-servlet?action=upload") [FD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_18 $$ URL url = new URL("http://localhost:8888" + urlBlobstore) [CD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_19 $$ HttpURLConnection connection = (HttpURLConnection) url.openConnection() [CD]
Line_18 $$ URL url = new URL("http://localhost:8888" + urlBlobstore) --> Line_19 $$ HttpURLConnection connection = (HttpURLConnection) url.openConnection() [FD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_20 $$ connection.setDoInput(true) [CD]
Line_19 $$ HttpURLConnection connection = (HttpURLConnection) url.openConnection() --> Line_20 $$ connection.setDoInput(true) [FD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_21 $$ connection.setDoOutput(true) [CD]
Line_19 $$ HttpURLConnection connection = (HttpURLConnection) url.openConnection() --> Line_21 $$ connection.setDoOutput(true) [FD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_22 $$ connection.setRequestMethod("POST") [CD]
Line_19 $$ HttpURLConnection connection = (HttpURLConnection) url.openConnection() --> Line_22 $$ connection.setRequestMethod("POST") [FD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_23 $$ connection.setRequestProperty("Content-Type", "multipart/form-data;boundary=29772313") [CD]
Line_19 $$ HttpURLConnection connection = (HttpURLConnection) url.openConnection() --> Line_23 $$ connection.setRequestProperty("Content-Type", "multipart/form-data;boundary=29772313") [FD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_24 $$ OutputStream out = connection.getOutputStream() [CD]
Line_19 $$ HttpURLConnection connection = (HttpURLConnection) url.openConnection() --> Line_24 $$ OutputStream out = connection.getOutputStream() [FD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_25 $$ out.write(img) [CD]
Line_24 $$ OutputStream out = connection.getOutputStream() --> Line_25 $$ out.write(img) [FD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_26 $$ out.flush() [CD]
Line_24 $$ OutputStream out = connection.getOutputStream() --> Line_26 $$ out.flush() [FD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_27 $$ out.close() [CD]
Line_24 $$ OutputStream out = connection.getOutputStream() --> Line_27 $$ out.close() [FD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_28 $$ System.out.println(connection.getResponseCode()) [CD]
Line_19 $$ HttpURLConnection connection = (HttpURLConnection) url.openConnection() --> Line_28 $$ System.out.println(connection.getResponseCode()) [FD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_29 $$ System.out.println(connection.getResponseMessage()) [CD]
Line_19 $$ HttpURLConnection connection = (HttpURLConnection) url.openConnection() --> Line_29 $$ System.out.println(connection.getResponseMessage()) [FD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_30 $$ BufferedReader rd = new BufferedReader(new InputStreamReader(connection.getInputStream())) [CD]
Line_19 $$ HttpURLConnection connection = (HttpURLConnection) url.openConnection() --> Line_30 $$ BufferedReader rd = new BufferedReader(new InputStreamReader(connection.getInputStream())) [FD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_31 $$ String responseText = "" [CD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_32 $$ String line [CD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_33 $$ while ((line = rd.readLine()) != null) [CD]
Line_32 $$ String line --> Line_33 $$ while ((line = rd.readLine()) != null) [FD]
Line_30 $$ BufferedReader rd = new BufferedReader(new InputStreamReader(connection.getInputStream())) --> Line_33 $$ while ((line = rd.readLine()) != null) [FD]
Line_33 $$ while ((line = rd.readLine()) != null) --> Line_34 $$ responseText += line [CD]
Line_33 $$ while ((line = rd.readLine()) != null) --> Line_34 $$ responseText += line [FD]
Line_31 $$ String responseText = "" --> Line_34 $$ responseText += line [FD]
Line_32 $$ String line --> Line_34 $$ responseText += line [FD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_36 $$ out.close() [CD]
Line_24 $$ OutputStream out = connection.getOutputStream() --> Line_36 $$ out.close() [FD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_37 $$ rd.close() [CD]
Line_30 $$ BufferedReader rd = new BufferedReader(new InputStreamReader(connection.getInputStream())) --> Line_37 $$ rd.close() [FD]
Line_2 $$ public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException --> Line_38 $$ response.sendRedirect("/blobstore-servlet?action=getPhoto&" + responseText) [CD]
Line_4 $$ HttpServletResponse response = (HttpServletResponse) res --> Line_38 $$ response.sendRedirect("/blobstore-servlet?action=getPhoto&" + responseText) [FD]
