Line_2 $$ private void runUpdate(String sql, boolean transactional) --> Line_3 $$ log().info("Vacuumd executing statement: " + sql) [CD]
Line_2 $$ private void runUpdate(String sql, boolean transactional) --> Line_4 $$ Connection dbConn = null [CD]
Line_2 $$ private void runUpdate(String sql, boolean transactional) --> Line_5 $$ boolean commitRequired = false [CD]
Line_2 $$ private void runUpdate(String sql, boolean transactional) --> Line_6 $$ boolean autoCommitFlag = !transactional [CD]
Line_2 $$ private void runUpdate(String sql, boolean transactional) --> Line_6 $$ boolean autoCommitFlag = !transactional [FD]
Line_4 $$ Connection dbConn = null --> Line_8 $$ dbConn = getDataSourceFactory().getConnection() [FD]
Line_4 $$ Connection dbConn = null --> Line_9 $$ dbConn.setAutoCommit(autoCommitFlag) [FD]
Line_8 $$ dbConn = getDataSourceFactory().getConnection() --> Line_9 $$ dbConn.setAutoCommit(autoCommitFlag) [FD]
Line_6 $$ boolean autoCommitFlag = !transactional --> Line_9 $$ dbConn.setAutoCommit(autoCommitFlag) [FD]
Line_4 $$ Connection dbConn = null --> Line_10 $$ PreparedStatement stmt = dbConn.prepareStatement(sql) [FD]
Line_8 $$ dbConn = getDataSourceFactory().getConnection() --> Line_10 $$ PreparedStatement stmt = dbConn.prepareStatement(sql) [FD]
Line_2 $$ private void runUpdate(String sql, boolean transactional) --> Line_10 $$ PreparedStatement stmt = dbConn.prepareStatement(sql) [FD]
Line_10 $$ PreparedStatement stmt = dbConn.prepareStatement(sql) --> Line_11 $$ int count = stmt.executeUpdate() [FD]
Line_10 $$ PreparedStatement stmt = dbConn.prepareStatement(sql) --> Line_12 $$ stmt.close() [FD]
Line_13 $$ if (log().isDebugEnabled()) --> Line_14 $$ log().debug("Vacuumd: Ran update " + sql + ": this affected " + count + " rows") [CD]
Line_5 $$ boolean commitRequired = false --> Line_16 $$ commitRequired = transactional [FD]
Line_2 $$ private void runUpdate(String sql, boolean transactional) --> Line_16 $$ commitRequired = transactional [FD]
Line_4 $$ Connection dbConn = null --> Line_20 $$ if (dbConn != null) [FD]
Line_8 $$ dbConn = getDataSourceFactory().getConnection() --> Line_20 $$ if (dbConn != null) [FD]
Line_2 $$ private void runUpdate(String sql, boolean transactional) --> Line_22 $$ if (commitRequired) [FD]
Line_22 $$ if (commitRequired) --> Line_23 $$ dbConn.commit() [CD]
Line_4 $$ Connection dbConn = null --> Line_23 $$ dbConn.commit() [FD]
Line_8 $$ dbConn = getDataSourceFactory().getConnection() --> Line_23 $$ dbConn.commit() [FD]
Line_22 $$ if (commitRequired) --> Line_24 $$ if (transactional) [CD]
Line_24 $$ if (transactional) --> Line_25 $$ dbConn.rollback() [CD]
Line_4 $$ Connection dbConn = null --> Line_25 $$ dbConn.rollback() [FD]
Line_8 $$ dbConn = getDataSourceFactory().getConnection() --> Line_25 $$ dbConn.rollback() [FD]
Line_4 $$ Connection dbConn = null --> Line_29 $$ if (dbConn != null) [FD]
Line_8 $$ dbConn = getDataSourceFactory().getConnection() --> Line_29 $$ if (dbConn != null) [FD]
Line_4 $$ Connection dbConn = null --> Line_31 $$ dbConn.close() [FD]
Line_8 $$ dbConn = getDataSourceFactory().getConnection() --> Line_31 $$ dbConn.close() [FD]
