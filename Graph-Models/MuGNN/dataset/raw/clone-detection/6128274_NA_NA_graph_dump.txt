Line_2 $$ private void compress(File target, Set<File> files) throws CacheOperationException, ConfigurationException --> Line_3 $$ ZipOutputStream zipOutput = null [CD]
Line_3 $$ ZipOutputStream zipOutput = null --> Line_5 $$ zipOutput = new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(target))) [FD]
Line_6 $$ for (File file : files) --> Line_8 $$ File cachePathName = new File(cacheFolder, file.getPath()) [FD]
Line_8 $$ File cachePathName = new File(cacheFolder, file.getPath()) --> Line_10 $$ if (!cachePathName.exists()) [FD]
Line_8 $$ File cachePathName = new File(cacheFolder, file.getPath()) --> Line_11 $$ throw new CacheOperationException("Expected to add file '' [FD]
Line_2 $$ private void compress(File target, Set<File> files) throws CacheOperationException, ConfigurationException --> Line_11 $$ throw new CacheOperationException("Expected to add file '' [FD]
Line_7 $$ BufferedInputStream fileInput = null --> Line_13 $$ fileInput = new BufferedInputStream(new FileInputStream(cachePathName)) [FD]
Line_6 $$ for (File file : files) --> Line_14 $$ ZipEntry entry = new ZipEntry(file.getPath()) [FD]
Line_8 $$ File cachePathName = new File(cacheFolder, file.getPath()) --> Line_15 $$ entry.setSize(cachePathName.length()) [FD]
Line_8 $$ File cachePathName = new File(cacheFolder, file.getPath()) --> Line_16 $$ entry.setTime(cachePathName.lastModified()) [FD]
Line_3 $$ ZipOutputStream zipOutput = null --> Line_17 $$ zipOutput.putNextEntry(entry) [FD]
Line_5 $$ zipOutput = new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(target))) --> Line_17 $$ zipOutput.putNextEntry(entry) [FD]
Line_6 $$ for (File file : files) --> Line_18 $$ cacheLog.debug("Added new export zip entry '' [FD]
Line_19 $$ int count, total = 0 --> Line_22 $$ while ((count = fileInput.read(data, 0, buffer)) != -1) [FD]
Line_7 $$ BufferedInputStream fileInput = null --> Line_22 $$ while ((count = fileInput.read(data, 0, buffer)) != -1) [FD]
Line_13 $$ fileInput = new BufferedInputStream(new FileInputStream(cachePathName)) --> Line_22 $$ while ((count = fileInput.read(data, 0, buffer)) != -1) [FD]
Line_21 $$ byte[] data = new byte[buffer] --> Line_22 $$ while ((count = fileInput.read(data, 0, buffer)) != -1) [FD]
Line_20 $$ int buffer = 2048 --> Line_22 $$ while ((count = fileInput.read(data, 0, buffer)) != -1) [FD]
Line_22 $$ while ((count = fileInput.read(data, 0, buffer)) != -1) --> Line_23 $$ zipOutput.write(data, 0, count) [CD]
Line_22 $$ while ((count = fileInput.read(data, 0, buffer)) != -1) --> Line_23 $$ zipOutput.write(data, 0, count) [FD]
Line_3 $$ ZipOutputStream zipOutput = null --> Line_23 $$ zipOutput.write(data, 0, count) [FD]
Line_5 $$ zipOutput = new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(target))) --> Line_23 $$ zipOutput.write(data, 0, count) [FD]
Line_21 $$ byte[] data = new byte[buffer] --> Line_23 $$ zipOutput.write(data, 0, count) [FD]
Line_19 $$ int count, total = 0 --> Line_23 $$ zipOutput.write(data, 0, count) [FD]
Line_22 $$ while ((count = fileInput.read(data, 0, buffer)) != -1) --> Line_24 $$ total += count [CD]
Line_22 $$ while ((count = fileInput.read(data, 0, buffer)) != -1) --> Line_24 $$ total += count [FD]
Line_19 $$ int count, total = 0 --> Line_24 $$ total += count [FD]
Line_3 $$ ZipOutputStream zipOutput = null --> Line_26 $$ zipOutput.flush() [FD]
Line_5 $$ zipOutput = new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(target))) --> Line_26 $$ zipOutput.flush() [FD]
Line_24 $$ total += count --> Line_27 $$ if (total != cachePathName.length()) [FD]
Line_19 $$ int count, total = 0 --> Line_27 $$ if (total != cachePathName.length()) [FD]
Line_8 $$ File cachePathName = new File(cacheFolder, file.getPath()) --> Line_27 $$ if (total != cachePathName.length()) [FD]
Line_8 $$ File cachePathName = new File(cacheFolder, file.getPath()) --> Line_28 $$ throw new CacheOperationException("Only wrote [FD]
Line_27 $$ if (total != cachePathName.length()) --> Line_30 $$ cacheLog.debug("Wrote [CD]
Line_24 $$ total += count --> Line_30 $$ cacheLog.debug("Wrote [FD]
Line_19 $$ int count, total = 0 --> Line_30 $$ cacheLog.debug("Wrote [FD]
Line_8 $$ File cachePathName = new File(cacheFolder, file.getPath()) --> Line_30 $$ cacheLog.debug("Wrote [FD]
Line_6 $$ for (File file : files) --> Line_30 $$ cacheLog.debug("Wrote [FD]
Line_8 $$ File cachePathName = new File(cacheFolder, file.getPath()) --> Line_33 $$ throw new ConfigurationException("Security manager has denied r/w access when attempting to read file '' [FD]
Line_8 $$ File cachePathName = new File(cacheFolder, file.getPath()) --> Line_37 $$ throw new CacheOperationException("Attempted to include file '' [FD]
Line_3 $$ ZipOutputStream zipOutput = null --> Line_43 $$ if (zipOutput != null) [FD]
Line_5 $$ zipOutput = new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(target))) --> Line_43 $$ if (zipOutput != null) [FD]
Line_3 $$ ZipOutputStream zipOutput = null --> Line_45 $$ zipOutput.closeEntry() [FD]
Line_5 $$ zipOutput = new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(target))) --> Line_45 $$ zipOutput.closeEntry() [FD]
Line_6 $$ for (File file : files) --> Line_47 $$ cacheLog.warn("Unable to close zip entry for file '' [FD]
Line_2 $$ private void compress(File target, Set<File> files) throws CacheOperationException, ConfigurationException --> Line_47 $$ cacheLog.warn("Unable to close zip entry for file '' [FD]
Line_7 $$ BufferedInputStream fileInput = null --> Line_50 $$ if (fileInput != null) [FD]
Line_13 $$ fileInput = new BufferedInputStream(new FileInputStream(cachePathName)) --> Line_50 $$ if (fileInput != null) [FD]
Line_7 $$ BufferedInputStream fileInput = null --> Line_52 $$ fileInput.close() [FD]
Line_13 $$ fileInput = new BufferedInputStream(new FileInputStream(cachePathName)) --> Line_52 $$ fileInput.close() [FD]
Line_8 $$ File cachePathName = new File(cacheFolder, file.getPath()) --> Line_54 $$ cacheLog.warn("Failed to close input stream from file '' [FD]
Line_3 $$ ZipOutputStream zipOutput = null --> Line_63 $$ if (zipOutput != null) [FD]
Line_5 $$ zipOutput = new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(target))) --> Line_63 $$ if (zipOutput != null) [FD]
Line_63 $$ if (zipOutput != null) --> Line_64 $$ zipOutput.close() [CD]
Line_3 $$ ZipOutputStream zipOutput = null --> Line_64 $$ zipOutput.close() [FD]
Line_5 $$ zipOutput = new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(target))) --> Line_64 $$ zipOutput.close() [FD]
Line_2 $$ private void compress(File target, Set<File> files) throws CacheOperationException, ConfigurationException --> Line_67 $$ cacheLog.warn("Failed to close the stream to export archive '' [FD]
