Line_2 $$ public static File downloadFile(Proxy proxy, URL url, File path) throws IOException --> Line_3 $$ URLConnection conn = null [CD]
Line_2 $$ public static File downloadFile(Proxy proxy, URL url, File path) throws IOException --> Line_4 $$ if (null == proxy) [CD]
Line_2 $$ public static File downloadFile(Proxy proxy, URL url, File path) throws IOException --> Line_4 $$ if (null == proxy) [FD]
Line_4 $$ if (null == proxy) --> Line_5 $$ conn = url.openConnection() [CD]
Line_3 $$ URLConnection conn = null --> Line_5 $$ conn = url.openConnection() [FD]
Line_2 $$ public static File downloadFile(Proxy proxy, URL url, File path) throws IOException --> Line_5 $$ conn = url.openConnection() [FD]
Line_4 $$ if (null == proxy) --> Line_7 $$ conn = url.openConnection(proxy) [CD]
Line_3 $$ URLConnection conn = null --> Line_7 $$ conn = url.openConnection(proxy) [FD]
Line_5 $$ conn = url.openConnection() --> Line_7 $$ conn = url.openConnection(proxy) [FD]
Line_2 $$ public static File downloadFile(Proxy proxy, URL url, File path) throws IOException --> Line_7 $$ conn = url.openConnection(proxy) [FD]
Line_2 $$ public static File downloadFile(Proxy proxy, URL url, File path) throws IOException --> Line_9 $$ conn.connect() [CD]
Line_3 $$ URLConnection conn = null --> Line_9 $$ conn.connect() [FD]
Line_5 $$ conn = url.openConnection() --> Line_9 $$ conn.connect() [FD]
Line_7 $$ conn = url.openConnection(proxy) --> Line_9 $$ conn.connect() [FD]
Line_2 $$ public static File downloadFile(Proxy proxy, URL url, File path) throws IOException --> Line_10 $$ File destFile = null [CD]
Line_2 $$ public static File downloadFile(Proxy proxy, URL url, File path) throws IOException --> Line_11 $$ if (conn instanceof HttpURLConnection) [CD]
Line_3 $$ URLConnection conn = null --> Line_11 $$ if (conn instanceof HttpURLConnection) [FD]
Line_5 $$ conn = url.openConnection() --> Line_11 $$ if (conn instanceof HttpURLConnection) [FD]
Line_7 $$ conn = url.openConnection(proxy) --> Line_11 $$ if (conn instanceof HttpURLConnection) [FD]
Line_11 $$ if (conn instanceof HttpURLConnection) --> Line_12 $$ HttpURLConnection hc = (HttpURLConnection) conn [CD]
Line_11 $$ if (conn instanceof HttpURLConnection) --> Line_13 $$ String filename = null [CD]
Line_11 $$ if (conn instanceof HttpURLConnection) --> Line_14 $$ String hv = hc.getHeaderField("Content-Disposition") [CD]
Line_12 $$ HttpURLConnection hc = (HttpURLConnection) conn --> Line_14 $$ String hv = hc.getHeaderField("Content-Disposition") [FD]
Line_11 $$ if (conn instanceof HttpURLConnection) --> Line_15 $$ if (null == hv) [CD]
Line_14 $$ String hv = hc.getHeaderField("Content-Disposition") --> Line_15 $$ if (null == hv) [FD]
Line_15 $$ if (null == hv) --> Line_16 $$ String str = url.toString() [CD]
Line_2 $$ public static File downloadFile(Proxy proxy, URL url, File path) throws IOException --> Line_16 $$ String str = url.toString() [FD]
Line_15 $$ if (null == hv) --> Line_17 $$ int index = str.lastIndexOf("/") [CD]
Line_16 $$ String str = url.toString() --> Line_17 $$ int index = str.lastIndexOf("/") [FD]
Line_15 $$ if (null == hv) --> Line_18 $$ filename = str.substring(index + 1) [CD]
Line_13 $$ String filename = null --> Line_18 $$ filename = str.substring(index + 1) [FD]
Line_16 $$ String str = url.toString() --> Line_18 $$ filename = str.substring(index + 1) [FD]
Line_15 $$ if (null == hv) --> Line_20 $$ int index = hv.indexOf("filename=") [CD]
Line_14 $$ String hv = hc.getHeaderField("Content-Disposition") --> Line_20 $$ int index = hv.indexOf("filename=") [FD]
Line_15 $$ if (null == hv) --> Line_21 $$ filename = hv.substring(index).replace("\"", "").trim() [CD]
Line_13 $$ String filename = null --> Line_21 $$ filename = hv.substring(index).replace("\"", "").trim() [FD]
Line_18 $$ filename = str.substring(index + 1) --> Line_21 $$ filename = hv.substring(index).replace("\"", "").trim() [FD]
Line_14 $$ String hv = hc.getHeaderField("Content-Disposition") --> Line_21 $$ filename = hv.substring(index).replace("\"", "").trim() [FD]
Line_17 $$ int index = str.lastIndexOf("/") --> Line_21 $$ filename = hv.substring(index).replace("\"", "").trim() [FD]
Line_11 $$ if (conn instanceof HttpURLConnection) --> Line_23 $$ destFile = new File(path, filename) [CD]
Line_10 $$ File destFile = null --> Line_23 $$ destFile = new File(path, filename) [FD]
Line_11 $$ if (conn instanceof HttpURLConnection) --> Line_25 $$ destFile = new File(path, "downloadfile" + url.toString().hashCode()) [CD]
Line_10 $$ File destFile = null --> Line_25 $$ destFile = new File(path, "downloadfile" + url.toString().hashCode()) [FD]
Line_23 $$ destFile = new File(path, filename) --> Line_25 $$ destFile = new File(path, "downloadfile" + url.toString().hashCode()) [FD]
Line_2 $$ public static File downloadFile(Proxy proxy, URL url, File path) throws IOException --> Line_25 $$ destFile = new File(path, "downloadfile" + url.toString().hashCode()) [FD]
Line_2 $$ public static File downloadFile(Proxy proxy, URL url, File path) throws IOException --> Line_27 $$ if (destFile.exists()) [CD]
Line_10 $$ File destFile = null --> Line_27 $$ if (destFile.exists()) [FD]
Line_23 $$ destFile = new File(path, filename) --> Line_27 $$ if (destFile.exists()) [FD]
Line_25 $$ destFile = new File(path, "downloadfile" + url.toString().hashCode()) --> Line_27 $$ if (destFile.exists()) [FD]
Line_27 $$ if (destFile.exists()) --> Line_28 $$ return destFile [CD]
Line_2 $$ public static File downloadFile(Proxy proxy, URL url, File path) throws IOException --> Line_30 $$ FileOutputStream fos = new FileOutputStream(destFile) [CD]
Line_2 $$ public static File downloadFile(Proxy proxy, URL url, File path) throws IOException --> Line_31 $$ byte[] buffer = new byte[2048] [CD]
Line_33 $$ while (true) --> Line_34 $$ int len = conn.getInputStream().read(buffer) [CD]
Line_31 $$ byte[] buffer = new byte[2048] --> Line_34 $$ int len = conn.getInputStream().read(buffer) [FD]
Line_3 $$ URLConnection conn = null --> Line_34 $$ int len = conn.getInputStream().read(buffer) [FD]
Line_5 $$ conn = url.openConnection() --> Line_34 $$ int len = conn.getInputStream().read(buffer) [FD]
Line_7 $$ conn = url.openConnection(proxy) --> Line_34 $$ int len = conn.getInputStream().read(buffer) [FD]
Line_33 $$ while (true) --> Line_35 $$ if (len < 0) [CD]
Line_34 $$ int len = conn.getInputStream().read(buffer) --> Line_35 $$ if (len < 0) [FD]
Line_35 $$ if (len < 0) --> Line_38 $$ fos.write(buffer, 0, len) [CD]
Line_30 $$ FileOutputStream fos = new FileOutputStream(destFile) --> Line_38 $$ fos.write(buffer, 0, len) [FD]
Line_31 $$ byte[] buffer = new byte[2048] --> Line_38 $$ fos.write(buffer, 0, len) [FD]
Line_34 $$ int len = conn.getInputStream().read(buffer) --> Line_38 $$ fos.write(buffer, 0, len) [FD]
Line_30 $$ FileOutputStream fos = new FileOutputStream(destFile) --> Line_41 $$ fos.close() [FD]
Line_10 $$ File destFile = null --> Line_43 $$ destFile.delete() [FD]
Line_23 $$ destFile = new File(path, filename) --> Line_43 $$ destFile.delete() [FD]
Line_25 $$ destFile = new File(path, "downloadfile" + url.toString().hashCode()) --> Line_43 $$ destFile.delete() [FD]
Line_2 $$ public static File downloadFile(Proxy proxy, URL url, File path) throws IOException --> Line_46 $$ return destFile [CD]
