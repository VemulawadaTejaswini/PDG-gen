Line_2 $$ public static void saveAttachmentBody(Context context, Part part, Attachment localAttachment, long accountId) throws MessagingException, IOException --> Line_3 $$ if (part.getBody() != null) [CD]
Line_2 $$ public static void saveAttachmentBody(Context context, Part part, Attachment localAttachment, long accountId) throws MessagingException, IOException --> Line_3 $$ if (part.getBody() != null) [FD]
Line_3 $$ if (part.getBody() != null) --> Line_4 $$ long attachmentId = localAttachment.mId [CD]
Line_3 $$ if (part.getBody() != null) --> Line_5 $$ InputStream in = part.getBody().getInputStream() [CD]
Line_2 $$ public static void saveAttachmentBody(Context context, Part part, Attachment localAttachment, long accountId) throws MessagingException, IOException --> Line_5 $$ InputStream in = part.getBody().getInputStream() [FD]
Line_3 $$ if (part.getBody() != null) --> Line_6 $$ File saveIn = AttachmentProvider.getAttachmentDirectory(context, accountId) [CD]
Line_2 $$ public static void saveAttachmentBody(Context context, Part part, Attachment localAttachment, long accountId) throws MessagingException, IOException --> Line_6 $$ File saveIn = AttachmentProvider.getAttachmentDirectory(context, accountId) [FD]
Line_3 $$ if (part.getBody() != null) --> Line_7 $$ if (!saveIn.exists()) [CD]
Line_6 $$ File saveIn = AttachmentProvider.getAttachmentDirectory(context, accountId) --> Line_7 $$ if (!saveIn.exists()) [FD]
Line_7 $$ if (!saveIn.exists()) --> Line_8 $$ saveIn.mkdirs() [CD]
Line_6 $$ File saveIn = AttachmentProvider.getAttachmentDirectory(context, accountId) --> Line_8 $$ saveIn.mkdirs() [FD]
Line_3 $$ if (part.getBody() != null) --> Line_10 $$ File saveAs = AttachmentProvider.getAttachmentFilename(context, accountId, attachmentId) [CD]
Line_2 $$ public static void saveAttachmentBody(Context context, Part part, Attachment localAttachment, long accountId) throws MessagingException, IOException --> Line_10 $$ File saveAs = AttachmentProvider.getAttachmentFilename(context, accountId, attachmentId) [FD]
Line_4 $$ long attachmentId = localAttachment.mId --> Line_10 $$ File saveAs = AttachmentProvider.getAttachmentFilename(context, accountId, attachmentId) [FD]
Line_3 $$ if (part.getBody() != null) --> Line_11 $$ saveAs.createNewFile() [CD]
Line_10 $$ File saveAs = AttachmentProvider.getAttachmentFilename(context, accountId, attachmentId) --> Line_11 $$ saveAs.createNewFile() [FD]
Line_3 $$ if (part.getBody() != null) --> Line_12 $$ FileOutputStream out = new FileOutputStream(saveAs) [CD]
Line_3 $$ if (part.getBody() != null) --> Line_13 $$ long copySize = IOUtils.copy(in, out) [CD]
Line_5 $$ InputStream in = part.getBody().getInputStream() --> Line_13 $$ long copySize = IOUtils.copy(in, out) [FD]
Line_12 $$ FileOutputStream out = new FileOutputStream(saveAs) --> Line_13 $$ long copySize = IOUtils.copy(in, out) [FD]
Line_3 $$ if (part.getBody() != null) --> Line_14 $$ in.close() [CD]
Line_5 $$ InputStream in = part.getBody().getInputStream() --> Line_14 $$ in.close() [FD]
Line_3 $$ if (part.getBody() != null) --> Line_15 $$ out.close() [CD]
Line_12 $$ FileOutputStream out = new FileOutputStream(saveAs) --> Line_15 $$ out.close() [FD]
Line_3 $$ if (part.getBody() != null) --> Line_16 $$ String contentUriString = AttachmentProvider.getAttachmentUri(accountId, attachmentId).toString() [CD]
Line_2 $$ public static void saveAttachmentBody(Context context, Part part, Attachment localAttachment, long accountId) throws MessagingException, IOException --> Line_16 $$ String contentUriString = AttachmentProvider.getAttachmentUri(accountId, attachmentId).toString() [FD]
Line_4 $$ long attachmentId = localAttachment.mId --> Line_16 $$ String contentUriString = AttachmentProvider.getAttachmentUri(accountId, attachmentId).toString() [FD]
Line_3 $$ if (part.getBody() != null) --> Line_17 $$ localAttachment.mSize = copySize [CD]
Line_13 $$ long copySize = IOUtils.copy(in, out) --> Line_17 $$ localAttachment.mSize = copySize [FD]
Line_3 $$ if (part.getBody() != null) --> Line_18 $$ localAttachment.mContentUri = contentUriString [CD]
Line_16 $$ String contentUriString = AttachmentProvider.getAttachmentUri(accountId, attachmentId).toString() --> Line_18 $$ localAttachment.mContentUri = contentUriString [FD]
Line_3 $$ if (part.getBody() != null) --> Line_19 $$ ContentValues cv = new ContentValues() [CD]
Line_3 $$ if (part.getBody() != null) --> Line_20 $$ cv.put(AttachmentColumns.SIZE, copySize) [CD]
Line_19 $$ ContentValues cv = new ContentValues() --> Line_20 $$ cv.put(AttachmentColumns.SIZE, copySize) [FD]
Line_13 $$ long copySize = IOUtils.copy(in, out) --> Line_20 $$ cv.put(AttachmentColumns.SIZE, copySize) [FD]
Line_3 $$ if (part.getBody() != null) --> Line_21 $$ cv.put(AttachmentColumns.CONTENT_URI, contentUriString) [CD]
Line_19 $$ ContentValues cv = new ContentValues() --> Line_21 $$ cv.put(AttachmentColumns.CONTENT_URI, contentUriString) [FD]
Line_16 $$ String contentUriString = AttachmentProvider.getAttachmentUri(accountId, attachmentId).toString() --> Line_21 $$ cv.put(AttachmentColumns.CONTENT_URI, contentUriString) [FD]
Line_3 $$ if (part.getBody() != null) --> Line_22 $$ Uri uri = ContentUris.withAppendedId(Attachment.CONTENT_URI, attachmentId) [CD]
Line_4 $$ long attachmentId = localAttachment.mId --> Line_22 $$ Uri uri = ContentUris.withAppendedId(Attachment.CONTENT_URI, attachmentId) [FD]
Line_3 $$ if (part.getBody() != null) --> Line_23 $$ context.getContentResolver().update(uri, cv, null, null) [CD]
Line_22 $$ Uri uri = ContentUris.withAppendedId(Attachment.CONTENT_URI, attachmentId) --> Line_23 $$ context.getContentResolver().update(uri, cv, null, null) [FD]
Line_19 $$ ContentValues cv = new ContentValues() --> Line_23 $$ context.getContentResolver().update(uri, cv, null, null) [FD]
Line_2 $$ public static void saveAttachmentBody(Context context, Part part, Attachment localAttachment, long accountId) throws MessagingException, IOException --> Line_23 $$ context.getContentResolver().update(uri, cv, null, null) [FD]
