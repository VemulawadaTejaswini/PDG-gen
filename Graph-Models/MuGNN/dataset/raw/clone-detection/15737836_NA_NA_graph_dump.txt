Line_2 $$ public void delete(Site site) throws Exception --> Line_3 $$ DBOperation dbo = null [CD]
Line_2 $$ public void delete(Site site) throws Exception --> Line_4 $$ Connection connection = null [CD]
Line_2 $$ public void delete(Site site) throws Exception --> Line_5 $$ PreparedStatement preparedStatement = null [CD]
Line_2 $$ public void delete(Site site) throws Exception --> Line_6 $$ ResultSet resultSet = null [CD]
Line_3 $$ DBOperation dbo = null --> Line_9 $$ dbo = createDBOperation() [FD]
Line_4 $$ Connection connection = null --> Line_10 $$ connection = dbo.getConnection() [FD]
Line_3 $$ DBOperation dbo = null --> Line_10 $$ connection = dbo.getConnection() [FD]
Line_9 $$ dbo = createDBOperation() --> Line_10 $$ connection = dbo.getConnection() [FD]
Line_4 $$ Connection connection = null --> Line_11 $$ connection.setAutoCommit(false) [FD]
Line_10 $$ connection = dbo.getConnection() --> Line_11 $$ connection.setAutoCommit(false) [FD]
Line_4 $$ Connection connection = null --> Line_12 $$ String[] selfDefinePath = getSelfDefinePath(site.getPath(), "1", connection, preparedStatement, resultSet) [FD]
Line_10 $$ connection = dbo.getConnection() --> Line_12 $$ String[] selfDefinePath = getSelfDefinePath(site.getPath(), "1", connection, preparedStatement, resultSet) [FD]
Line_5 $$ PreparedStatement preparedStatement = null --> Line_12 $$ String[] selfDefinePath = getSelfDefinePath(site.getPath(), "1", connection, preparedStatement, resultSet) [FD]
Line_6 $$ ResultSet resultSet = null --> Line_12 $$ String[] selfDefinePath = getSelfDefinePath(site.getPath(), "1", connection, preparedStatement, resultSet) [FD]
Line_2 $$ public void delete(Site site) throws Exception --> Line_12 $$ String[] selfDefinePath = getSelfDefinePath(site.getPath(), "1", connection, preparedStatement, resultSet) [FD]
Line_12 $$ String[] selfDefinePath = getSelfDefinePath(site.getPath(), "1", connection, preparedStatement, resultSet) --> Line_13 $$ selfDefineDelete(selfDefinePath, connection, preparedStatement) [FD]
Line_4 $$ Connection connection = null --> Line_13 $$ selfDefineDelete(selfDefinePath, connection, preparedStatement) [FD]
Line_10 $$ connection = dbo.getConnection() --> Line_13 $$ selfDefineDelete(selfDefinePath, connection, preparedStatement) [FD]
Line_5 $$ PreparedStatement preparedStatement = null --> Line_13 $$ selfDefineDelete(selfDefinePath, connection, preparedStatement) [FD]
Line_5 $$ PreparedStatement preparedStatement = null --> Line_14 $$ preparedStatement = connection.prepareStatement(chkSql) [FD]
Line_4 $$ Connection connection = null --> Line_14 $$ preparedStatement = connection.prepareStatement(chkSql) [FD]
Line_10 $$ connection = dbo.getConnection() --> Line_14 $$ preparedStatement = connection.prepareStatement(chkSql) [FD]
Line_8 $$ String chkSql = "select id from t_ip_doc where channel_path=?" --> Line_14 $$ preparedStatement = connection.prepareStatement(chkSql) [FD]
Line_5 $$ PreparedStatement preparedStatement = null --> Line_15 $$ preparedStatement.setString(1, site.getPath()) [FD]
Line_14 $$ preparedStatement = connection.prepareStatement(chkSql) --> Line_15 $$ preparedStatement.setString(1, site.getPath()) [FD]
Line_2 $$ public void delete(Site site) throws Exception --> Line_15 $$ preparedStatement.setString(1, site.getPath()) [FD]
Line_6 $$ ResultSet resultSet = null --> Line_16 $$ resultSet = preparedStatement.executeQuery() [FD]
Line_5 $$ PreparedStatement preparedStatement = null --> Line_16 $$ resultSet = preparedStatement.executeQuery() [FD]
Line_14 $$ preparedStatement = connection.prepareStatement(chkSql) --> Line_16 $$ resultSet = preparedStatement.executeQuery() [FD]
Line_6 $$ ResultSet resultSet = null --> Line_17 $$ if (resultSet.next()) [FD]
Line_16 $$ resultSet = preparedStatement.executeQuery() --> Line_17 $$ if (resultSet.next()) [FD]
Line_2 $$ public void delete(Site site) throws Exception --> Line_18 $$ throw new Exception("ɾ��ʧ�ܣ�" + site.getName() + "���Ѿ����ĵ����ڣ�") [FD]
Line_17 $$ if (resultSet.next()) --> Line_20 $$ String sqlStr = "delete from t_ip_site where site_path=?" [CD]
Line_17 $$ if (resultSet.next()) --> Line_21 $$ dbo = createDBOperation() [CD]
Line_3 $$ DBOperation dbo = null --> Line_21 $$ dbo = createDBOperation() [FD]
Line_9 $$ dbo = createDBOperation() --> Line_21 $$ dbo = createDBOperation() [FD]
Line_17 $$ if (resultSet.next()) --> Line_22 $$ connection = dbo.getConnection() [CD]
Line_4 $$ Connection connection = null --> Line_22 $$ connection = dbo.getConnection() [FD]
Line_10 $$ connection = dbo.getConnection() --> Line_22 $$ connection = dbo.getConnection() [FD]
Line_3 $$ DBOperation dbo = null --> Line_22 $$ connection = dbo.getConnection() [FD]
Line_9 $$ dbo = createDBOperation() --> Line_22 $$ connection = dbo.getConnection() [FD]
Line_21 $$ dbo = createDBOperation() --> Line_22 $$ connection = dbo.getConnection() [FD]
Line_17 $$ if (resultSet.next()) --> Line_23 $$ preparedStatement = connection.prepareStatement(sqlStr) [CD]
Line_5 $$ PreparedStatement preparedStatement = null --> Line_23 $$ preparedStatement = connection.prepareStatement(sqlStr) [FD]
Line_14 $$ preparedStatement = connection.prepareStatement(chkSql) --> Line_23 $$ preparedStatement = connection.prepareStatement(sqlStr) [FD]
Line_4 $$ Connection connection = null --> Line_23 $$ preparedStatement = connection.prepareStatement(sqlStr) [FD]
Line_10 $$ connection = dbo.getConnection() --> Line_23 $$ preparedStatement = connection.prepareStatement(sqlStr) [FD]
Line_22 $$ connection = dbo.getConnection() --> Line_23 $$ preparedStatement = connection.prepareStatement(sqlStr) [FD]
Line_20 $$ String sqlStr = "delete from t_ip_site where site_path=?" --> Line_23 $$ preparedStatement = connection.prepareStatement(sqlStr) [FD]
Line_17 $$ if (resultSet.next()) --> Line_24 $$ preparedStatement.setString(1, site.getPath()) [CD]
Line_5 $$ PreparedStatement preparedStatement = null --> Line_24 $$ preparedStatement.setString(1, site.getPath()) [FD]
Line_14 $$ preparedStatement = connection.prepareStatement(chkSql) --> Line_24 $$ preparedStatement.setString(1, site.getPath()) [FD]
Line_23 $$ preparedStatement = connection.prepareStatement(sqlStr) --> Line_24 $$ preparedStatement.setString(1, site.getPath()) [FD]
Line_2 $$ public void delete(Site site) throws Exception --> Line_24 $$ preparedStatement.setString(1, site.getPath()) [FD]
Line_17 $$ if (resultSet.next()) --> Line_25 $$ preparedStatement.executeUpdate() [CD]
Line_5 $$ PreparedStatement preparedStatement = null --> Line_25 $$ preparedStatement.executeUpdate() [FD]
Line_14 $$ preparedStatement = connection.prepareStatement(chkSql) --> Line_25 $$ preparedStatement.executeUpdate() [FD]
Line_23 $$ preparedStatement = connection.prepareStatement(sqlStr) --> Line_25 $$ preparedStatement.executeUpdate() [FD]
Line_4 $$ Connection connection = null --> Line_27 $$ connection.commit() [FD]
Line_10 $$ connection = dbo.getConnection() --> Line_27 $$ connection.commit() [FD]
Line_22 $$ connection = dbo.getConnection() --> Line_27 $$ connection.commit() [FD]
Line_4 $$ Connection connection = null --> Line_29 $$ connection.rollback() [FD]
Line_10 $$ connection = dbo.getConnection() --> Line_29 $$ connection.rollback() [FD]
Line_22 $$ connection = dbo.getConnection() --> Line_29 $$ connection.rollback() [FD]
Line_6 $$ ResultSet resultSet = null --> Line_32 $$ close(resultSet, null, preparedStatement, connection, dbo) [FD]
Line_16 $$ resultSet = preparedStatement.executeQuery() --> Line_32 $$ close(resultSet, null, preparedStatement, connection, dbo) [FD]
Line_5 $$ PreparedStatement preparedStatement = null --> Line_32 $$ close(resultSet, null, preparedStatement, connection, dbo) [FD]
Line_14 $$ preparedStatement = connection.prepareStatement(chkSql) --> Line_32 $$ close(resultSet, null, preparedStatement, connection, dbo) [FD]
Line_23 $$ preparedStatement = connection.prepareStatement(sqlStr) --> Line_32 $$ close(resultSet, null, preparedStatement, connection, dbo) [FD]
Line_4 $$ Connection connection = null --> Line_32 $$ close(resultSet, null, preparedStatement, connection, dbo) [FD]
Line_10 $$ connection = dbo.getConnection() --> Line_32 $$ close(resultSet, null, preparedStatement, connection, dbo) [FD]
Line_22 $$ connection = dbo.getConnection() --> Line_32 $$ close(resultSet, null, preparedStatement, connection, dbo) [FD]
Line_3 $$ DBOperation dbo = null --> Line_32 $$ close(resultSet, null, preparedStatement, connection, dbo) [FD]
Line_9 $$ dbo = createDBOperation() --> Line_32 $$ close(resultSet, null, preparedStatement, connection, dbo) [FD]
Line_21 $$ dbo = createDBOperation() --> Line_32 $$ close(resultSet, null, preparedStatement, connection, dbo) [FD]
