Line_2 $$ public Long addRole(AuthSession authSession, RoleBean roleBean) --> Line_3 $$ PreparedStatement ps = null [CD]
Line_2 $$ public Long addRole(AuthSession authSession, RoleBean roleBean) --> Line_4 $$ DatabaseAdapter dbDyn = null [CD]
Line_4 $$ DatabaseAdapter dbDyn = null --> Line_6 $$ dbDyn = DatabaseAdapter.getInstance() [FD]
Line_7 $$ CustomSequenceType seq = new CustomSequenceType() --> Line_8 $$ seq.setSequenceName("seq_WM_AUTH_ACCESS_GROUP") [FD]
Line_7 $$ CustomSequenceType seq = new CustomSequenceType() --> Line_9 $$ seq.setTableName("WM_AUTH_ACCESS_GROUP") [FD]
Line_7 $$ CustomSequenceType seq = new CustomSequenceType() --> Line_10 $$ seq.setColumnName("ID_ACCESS_GROUP") [FD]
Line_4 $$ DatabaseAdapter dbDyn = null --> Line_11 $$ Long sequenceValue = dbDyn.getSequenceNextValue(seq) [FD]
Line_6 $$ dbDyn = DatabaseAdapter.getInstance() --> Line_11 $$ Long sequenceValue = dbDyn.getSequenceNextValue(seq) [FD]
Line_7 $$ CustomSequenceType seq = new CustomSequenceType() --> Line_11 $$ Long sequenceValue = dbDyn.getSequenceNextValue(seq) [FD]
Line_3 $$ PreparedStatement ps = null --> Line_12 $$ ps = dbDyn.prepareStatement("insert into WM_AUTH_ACCESS_GROUP " + "( ID_ACCESS_GROUP, NAME_ACCESS_GROUP ) values " + (dbDyn.getIsNeedUpdateBracket() ? "(" : "") + " ?, ? " + (dbDyn.getIsNeedUpdateBracket() ? ")" : "")) [FD]
Line_4 $$ DatabaseAdapter dbDyn = null --> Line_12 $$ ps = dbDyn.prepareStatement("insert into WM_AUTH_ACCESS_GROUP " + "( ID_ACCESS_GROUP, NAME_ACCESS_GROUP ) values " + (dbDyn.getIsNeedUpdateBracket() ? "(" : "") + " ?, ? " + (dbDyn.getIsNeedUpdateBracket() ? ")" : "")) [FD]
Line_6 $$ dbDyn = DatabaseAdapter.getInstance() --> Line_12 $$ ps = dbDyn.prepareStatement("insert into WM_AUTH_ACCESS_GROUP " + "( ID_ACCESS_GROUP, NAME_ACCESS_GROUP ) values " + (dbDyn.getIsNeedUpdateBracket() ? "(" : "") + " ?, ? " + (dbDyn.getIsNeedUpdateBracket() ? ")" : "")) [FD]
Line_3 $$ PreparedStatement ps = null --> Line_13 $$ RsetTools.setLong(ps, 1, sequenceValue) [FD]
Line_12 $$ ps = dbDyn.prepareStatement("insert into WM_AUTH_ACCESS_GROUP " + "( ID_ACCESS_GROUP, NAME_ACCESS_GROUP ) values " + (dbDyn.getIsNeedUpdateBracket() ? "(" : "") + " ?, ? " + (dbDyn.getIsNeedUpdateBracket() ? ")" : "")) --> Line_13 $$ RsetTools.setLong(ps, 1, sequenceValue) [FD]
Line_11 $$ Long sequenceValue = dbDyn.getSequenceNextValue(seq) --> Line_13 $$ RsetTools.setLong(ps, 1, sequenceValue) [FD]
Line_3 $$ PreparedStatement ps = null --> Line_14 $$ ps.setString(2, roleBean.getName()) [FD]
Line_12 $$ ps = dbDyn.prepareStatement("insert into WM_AUTH_ACCESS_GROUP " + "( ID_ACCESS_GROUP, NAME_ACCESS_GROUP ) values " + (dbDyn.getIsNeedUpdateBracket() ? "(" : "") + " ?, ? " + (dbDyn.getIsNeedUpdateBracket() ? ")" : "")) --> Line_14 $$ ps.setString(2, roleBean.getName()) [FD]
Line_2 $$ public Long addRole(AuthSession authSession, RoleBean roleBean) --> Line_14 $$ ps.setString(2, roleBean.getName()) [FD]
Line_3 $$ PreparedStatement ps = null --> Line_15 $$ int i1 = ps.executeUpdate() [FD]
Line_12 $$ ps = dbDyn.prepareStatement("insert into WM_AUTH_ACCESS_GROUP " + "( ID_ACCESS_GROUP, NAME_ACCESS_GROUP ) values " + (dbDyn.getIsNeedUpdateBracket() ? "(" : "") + " ?, ? " + (dbDyn.getIsNeedUpdateBracket() ? ")" : "")) --> Line_15 $$ int i1 = ps.executeUpdate() [FD]
Line_4 $$ DatabaseAdapter dbDyn = null --> Line_17 $$ dbDyn.commit() [FD]
Line_6 $$ dbDyn = DatabaseAdapter.getInstance() --> Line_17 $$ dbDyn.commit() [FD]
Line_4 $$ DatabaseAdapter dbDyn = null --> Line_21 $$ if (dbDyn != null) [FD]
Line_6 $$ dbDyn = DatabaseAdapter.getInstance() --> Line_21 $$ if (dbDyn != null) [FD]
Line_24 $$ String es = "Error add new role" --> Line_25 $$ log.error(es, e) [FD]
Line_4 $$ DatabaseAdapter dbDyn = null --> Line_28 $$ DatabaseManager.close(dbDyn, ps) [FD]
Line_6 $$ dbDyn = DatabaseAdapter.getInstance() --> Line_28 $$ DatabaseManager.close(dbDyn, ps) [FD]
Line_3 $$ PreparedStatement ps = null --> Line_28 $$ DatabaseManager.close(dbDyn, ps) [FD]
Line_12 $$ ps = dbDyn.prepareStatement("insert into WM_AUTH_ACCESS_GROUP " + "( ID_ACCESS_GROUP, NAME_ACCESS_GROUP ) values " + (dbDyn.getIsNeedUpdateBracket() ? "(" : "") + " ?, ? " + (dbDyn.getIsNeedUpdateBracket() ? ")" : "")) --> Line_28 $$ DatabaseManager.close(dbDyn, ps) [FD]
Line_4 $$ DatabaseAdapter dbDyn = null --> Line_29 $$ dbDyn = null [FD]
Line_6 $$ dbDyn = DatabaseAdapter.getInstance() --> Line_29 $$ dbDyn = null [FD]
Line_3 $$ PreparedStatement ps = null --> Line_30 $$ ps = null [FD]
Line_12 $$ ps = dbDyn.prepareStatement("insert into WM_AUTH_ACCESS_GROUP " + "( ID_ACCESS_GROUP, NAME_ACCESS_GROUP ) values " + (dbDyn.getIsNeedUpdateBracket() ? "(" : "") + " ?, ? " + (dbDyn.getIsNeedUpdateBracket() ? ")" : "")) --> Line_30 $$ ps = null [FD]
