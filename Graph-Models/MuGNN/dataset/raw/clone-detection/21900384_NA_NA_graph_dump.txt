Line_2 $$ protected ActionForward executeAction(ActionMapping mapping, ActionForm form, User user, HttpServletRequest request, HttpServletResponse response) throws Exception --> Line_3 $$ long resourceId = ServletRequestUtils.getLongParameter(request, "resourceId", 0L) [CD]
Line_2 $$ protected ActionForward executeAction(ActionMapping mapping, ActionForm form, User user, HttpServletRequest request, HttpServletResponse response) throws Exception --> Line_3 $$ long resourceId = ServletRequestUtils.getLongParameter(request, "resourceId", 0L) [FD]
Line_2 $$ protected ActionForward executeAction(ActionMapping mapping, ActionForm form, User user, HttpServletRequest request, HttpServletResponse response) throws Exception --> Line_4 $$ String attributeIdentifier = request.getParameter("identifier") [CD]
Line_2 $$ protected ActionForward executeAction(ActionMapping mapping, ActionForm form, User user, HttpServletRequest request, HttpServletResponse response) throws Exception --> Line_4 $$ String attributeIdentifier = request.getParameter("identifier") [FD]
Line_2 $$ protected ActionForward executeAction(ActionMapping mapping, ActionForm form, User user, HttpServletRequest request, HttpServletResponse response) throws Exception --> Line_5 $$ if (resourceId != 0L && StringUtils.hasText(attributeIdentifier)) [CD]
Line_4 $$ String attributeIdentifier = request.getParameter("identifier") --> Line_5 $$ if (resourceId != 0L && StringUtils.hasText(attributeIdentifier)) [FD]
Line_3 $$ long resourceId = ServletRequestUtils.getLongParameter(request, "resourceId", 0L) --> Line_7 $$ BinaryAttribute binaryAttribute = resourceManager.readAttribute(resourceId, attributeIdentifier, user) [FD]
Line_4 $$ String attributeIdentifier = request.getParameter("identifier") --> Line_7 $$ BinaryAttribute binaryAttribute = resourceManager.readAttribute(resourceId, attributeIdentifier, user) [FD]
Line_2 $$ protected ActionForward executeAction(ActionMapping mapping, ActionForm form, User user, HttpServletRequest request, HttpServletResponse response) throws Exception --> Line_7 $$ BinaryAttribute binaryAttribute = resourceManager.readAttribute(resourceId, attributeIdentifier, user) [FD]
Line_2 $$ protected ActionForward executeAction(ActionMapping mapping, ActionForm form, User user, HttpServletRequest request, HttpServletResponse response) throws Exception --> Line_8 $$ response.addHeader("Content-Disposition", "attachment; filename=\"" + binaryAttribute.getName() + '"') [FD]
Line_7 $$ BinaryAttribute binaryAttribute = resourceManager.readAttribute(resourceId, attributeIdentifier, user) --> Line_8 $$ response.addHeader("Content-Disposition", "attachment; filename=\"" + binaryAttribute.getName() + '"') [FD]
Line_7 $$ BinaryAttribute binaryAttribute = resourceManager.readAttribute(resourceId, attributeIdentifier, user) --> Line_9 $$ String contentType = binaryAttribute.getContentType() [FD]
Line_9 $$ String contentType = binaryAttribute.getContentType() --> Line_10 $$ if (contentType != null) [FD]
Line_10 $$ if (contentType != null) --> Line_11 $$ if ("application/x-zip-compressed".equalsIgnoreCase(contentType)) [CD]
Line_9 $$ String contentType = binaryAttribute.getContentType() --> Line_11 $$ if ("application/x-zip-compressed".equalsIgnoreCase(contentType)) [FD]
Line_11 $$ if ("application/x-zip-compressed".equalsIgnoreCase(contentType)) --> Line_12 $$ response.setContentType("application/octet-stream") [CD]
Line_2 $$ protected ActionForward executeAction(ActionMapping mapping, ActionForm form, User user, HttpServletRequest request, HttpServletResponse response) throws Exception --> Line_12 $$ response.setContentType("application/octet-stream") [FD]
Line_11 $$ if ("application/x-zip-compressed".equalsIgnoreCase(contentType)) --> Line_14 $$ response.setContentType(contentType) [CD]
Line_2 $$ protected ActionForward executeAction(ActionMapping mapping, ActionForm form, User user, HttpServletRequest request, HttpServletResponse response) throws Exception --> Line_14 $$ response.setContentType(contentType) [FD]
Line_9 $$ String contentType = binaryAttribute.getContentType() --> Line_14 $$ response.setContentType(contentType) [FD]
Line_10 $$ if (contentType != null) --> Line_17 $$ response.setContentType("application/octet-stream") [CD]
Line_2 $$ protected ActionForward executeAction(ActionMapping mapping, ActionForm form, User user, HttpServletRequest request, HttpServletResponse response) throws Exception --> Line_17 $$ response.setContentType("application/octet-stream") [FD]
Line_7 $$ BinaryAttribute binaryAttribute = resourceManager.readAttribute(resourceId, attributeIdentifier, user) --> Line_19 $$ IOUtils.copy(binaryAttribute.getInputStream(), response.getOutputStream()) [FD]
Line_2 $$ protected ActionForward executeAction(ActionMapping mapping, ActionForm form, User user, HttpServletRequest request, HttpServletResponse response) throws Exception --> Line_19 $$ IOUtils.copy(binaryAttribute.getInputStream(), response.getOutputStream()) [FD]
Line_2 $$ protected ActionForward executeAction(ActionMapping mapping, ActionForm form, User user, HttpServletRequest request, HttpServletResponse response) throws Exception --> Line_22 $$ addGlobalError(request, "errors.notFound") [FD]
Line_2 $$ protected ActionForward executeAction(ActionMapping mapping, ActionForm form, User user, HttpServletRequest request, HttpServletResponse response) throws Exception --> Line_24 $$ addGlobalError(request, e) [FD]
Line_2 $$ protected ActionForward executeAction(ActionMapping mapping, ActionForm form, User user, HttpServletRequest request, HttpServletResponse response) throws Exception --> Line_27 $$ return mapping.getInputForward() [CD]
Line_2 $$ protected ActionForward executeAction(ActionMapping mapping, ActionForm form, User user, HttpServletRequest request, HttpServletResponse response) throws Exception --> Line_27 $$ return mapping.getInputForward() [FD]
