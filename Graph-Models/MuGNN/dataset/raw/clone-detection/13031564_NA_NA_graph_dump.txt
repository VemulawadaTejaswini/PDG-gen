Line_2 $$ public void viewFile(int file_nx) --> Line_3 $$ FTPClient ftp = new FTPClient() [CD]
Line_2 $$ public void viewFile(int file_nx) --> Line_4 $$ boolean error = false [CD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_7 $$ ftp.connect("tgftp.nws.noaa.gov") [FD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_8 $$ ftp.login("anonymous", "") [FD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_10 $$ Log.d("WXDroid", ftp.getReplyString()) [FD]
Line_6 $$ int reply --> Line_11 $$ reply = ftp.getReplyCode() [FD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_11 $$ reply = ftp.getReplyCode() [FD]
Line_6 $$ int reply --> Line_12 $$ if (!FTPReply.isPositiveCompletion(reply)) [FD]
Line_11 $$ reply = ftp.getReplyCode() --> Line_12 $$ if (!FTPReply.isPositiveCompletion(reply)) [FD]
Line_12 $$ if (!FTPReply.isPositiveCompletion(reply)) --> Line_13 $$ ftp.disconnect() [CD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_13 $$ ftp.disconnect() [FD]
Line_12 $$ if (!FTPReply.isPositiveCompletion(reply)) --> Line_14 $$ System.err.println("FTP server refused connection.") [CD]
Line_12 $$ if (!FTPReply.isPositiveCompletion(reply)) --> Line_15 $$ System.exit(1) [CD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_17 $$ ftp.changeWorkingDirectory("fax") [FD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_18 $$ Log.d("WXDroid", "working directory: " + ftp.printWorkingDirectory()) [FD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_19 $$ ftp.setFileType(FTPClient.BINARY_FILE_TYPE) [FD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_20 $$ InputStream img_file = ftp.retrieveFileStream("PYAA10.gif") [FD]
Line_21 $$ Intent intent = new Intent() --> Line_22 $$ intent.setClass(WXdroid.this, showProgressFTP.class) [FD]
Line_21 $$ Intent intent = new Intent() --> Line_23 $$ startActivity(intent) [FD]
Line_24 $$ String storage_state = Environment.getExternalStorageState() --> Line_25 $$ if (storage_state.contains("mounted")) [FD]
Line_25 $$ if (storage_state.contains("mounted")) --> Line_26 $$ String filepath = Environment.getExternalStorageDirectory().getAbsolutePath() + "/NOAAWX/" [CD]
Line_25 $$ if (storage_state.contains("mounted")) --> Line_27 $$ File imageDirectory = new File(filepath) [CD]
Line_25 $$ if (storage_state.contains("mounted")) --> Line_28 $$ File local_file = new File(filepath + "PYAA10.gif") [CD]
Line_25 $$ if (storage_state.contains("mounted")) --> Line_29 $$ OutputStream out = new FileOutputStream(local_file) [CD]
Line_25 $$ if (storage_state.contains("mounted")) --> Line_30 $$ byte[] buffer = new byte[1024] [CD]
Line_25 $$ if (storage_state.contains("mounted")) --> Line_31 $$ int count [CD]
Line_25 $$ if (storage_state.contains("mounted")) --> Line_32 $$ while ((count = img_file.read(buffer)) != -1) [CD]
Line_31 $$ int count --> Line_32 $$ while ((count = img_file.read(buffer)) != -1) [FD]
Line_20 $$ InputStream img_file = ftp.retrieveFileStream("PYAA10.gif") --> Line_32 $$ while ((count = img_file.read(buffer)) != -1) [FD]
Line_30 $$ byte[] buffer = new byte[1024] --> Line_32 $$ while ((count = img_file.read(buffer)) != -1) [FD]
Line_32 $$ while ((count = img_file.read(buffer)) != -1) --> Line_33 $$ if (Thread.interrupted() == true) [CD]
Line_33 $$ if (Thread.interrupted() == true) --> Line_34 $$ String functionName = Thread.currentThread().getStackTrace()[2].getMethodName() + "()" [CD]
Line_32 $$ while ((count = img_file.read(buffer)) != -1) --> Line_37 $$ out.write(buffer, 0, count) [CD]
Line_32 $$ while ((count = img_file.read(buffer)) != -1) --> Line_37 $$ out.write(buffer, 0, count) [FD]
Line_29 $$ OutputStream out = new FileOutputStream(local_file) --> Line_37 $$ out.write(buffer, 0, count) [FD]
Line_30 $$ byte[] buffer = new byte[1024] --> Line_37 $$ out.write(buffer, 0, count) [FD]
Line_31 $$ int count --> Line_37 $$ out.write(buffer, 0, count) [FD]
Line_25 $$ if (storage_state.contains("mounted")) --> Line_39 $$ showImage() [CD]
Line_25 $$ if (storage_state.contains("mounted")) --> Line_40 $$ out.flush() [CD]
Line_29 $$ OutputStream out = new FileOutputStream(local_file) --> Line_40 $$ out.flush() [FD]
Line_25 $$ if (storage_state.contains("mounted")) --> Line_41 $$ out.close() [CD]
Line_29 $$ OutputStream out = new FileOutputStream(local_file) --> Line_41 $$ out.close() [FD]
Line_25 $$ if (storage_state.contains("mounted")) --> Line_42 $$ img_file.close() [CD]
Line_20 $$ InputStream img_file = ftp.retrieveFileStream("PYAA10.gif") --> Line_42 $$ img_file.close() [FD]
Line_25 $$ if (storage_state.contains("mounted")) --> Line_43 $$ Log.d("WXDroid", "file saved: " + filepath + " " + local_file) [CD]
Line_25 $$ if (storage_state.contains("mounted")) --> Line_45 $$ Log.d("WXDroid", "The SD card is not mounted") [CD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_47 $$ ftp.logout() [FD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_48 $$ ftp.disconnect() [FD]
Line_4 $$ boolean error = false --> Line_50 $$ error = true [FD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_55 $$ if (ftp.isConnected()) [FD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_57 $$ ftp.disconnect() [FD]
