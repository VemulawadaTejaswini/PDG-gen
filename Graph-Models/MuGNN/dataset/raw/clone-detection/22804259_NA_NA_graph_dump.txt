Line_2 $$ private void streamFileFromFileSystem(File file, HttpServletResponse response) throws ServletException, IOException --> Line_3 $$ ServletOutputStream out = null [CD]
Line_2 $$ private void streamFileFromFileSystem(File file, HttpServletResponse response) throws ServletException, IOException --> Line_4 $$ InputStream in = null [CD]
Line_2 $$ private void streamFileFromFileSystem(File file, HttpServletResponse response) throws ServletException, IOException --> Line_5 $$ if (file.isDirectory() || !file.canRead()) [CD]
Line_2 $$ private void streamFileFromFileSystem(File file, HttpServletResponse response) throws ServletException, IOException --> Line_5 $$ if (file.isDirectory() || !file.canRead()) [FD]
Line_5 $$ if (file.isDirectory() || !file.canRead()) --> Line_6 $$ logger.debug("File does not exist: " + file.getAbsolutePath()) [CD]
Line_2 $$ private void streamFileFromFileSystem(File file, HttpServletResponse response) throws ServletException, IOException --> Line_6 $$ logger.debug("File does not exist: " + file.getAbsolutePath()) [FD]
Line_5 $$ if (file.isDirectory() || !file.canRead()) --> Line_7 $$ response.setStatus(HttpServletResponse.SC_NOT_FOUND) [CD]
Line_2 $$ private void streamFileFromFileSystem(File file, HttpServletResponse response) throws ServletException, IOException --> Line_7 $$ response.setStatus(HttpServletResponse.SC_NOT_FOUND) [FD]
Line_5 $$ if (file.isDirectory() || !file.canRead()) --> Line_8 $$ return [CD]
Line_2 $$ private void streamFileFromFileSystem(File file, HttpServletResponse response) throws ServletException, IOException --> Line_10 $$ String mimeType = getServletContext().getMimeType(file.getAbsolutePath()) [CD]
Line_2 $$ private void streamFileFromFileSystem(File file, HttpServletResponse response) throws ServletException, IOException --> Line_10 $$ String mimeType = getServletContext().getMimeType(file.getAbsolutePath()) [FD]
Line_2 $$ private void streamFileFromFileSystem(File file, HttpServletResponse response) throws ServletException, IOException --> Line_11 $$ if (mimeType == null) [CD]
Line_10 $$ String mimeType = getServletContext().getMimeType(file.getAbsolutePath()) --> Line_11 $$ if (mimeType == null) [FD]
Line_11 $$ if (mimeType == null) --> Line_12 $$ mimeType = WikiFile.UNKNOWN_MIME_TYPE [CD]
Line_10 $$ String mimeType = getServletContext().getMimeType(file.getAbsolutePath()) --> Line_12 $$ mimeType = WikiFile.UNKNOWN_MIME_TYPE [FD]
Line_2 $$ private void streamFileFromFileSystem(File file, HttpServletResponse response) throws ServletException, IOException --> Line_15 $$ response.setContentType(mimeType) [FD]
Line_10 $$ String mimeType = getServletContext().getMimeType(file.getAbsolutePath()) --> Line_15 $$ response.setContentType(mimeType) [FD]
Line_12 $$ mimeType = WikiFile.UNKNOWN_MIME_TYPE --> Line_15 $$ response.setContentType(mimeType) [FD]
Line_2 $$ private void streamFileFromFileSystem(File file, HttpServletResponse response) throws ServletException, IOException --> Line_16 $$ response.setContentLength((int) file.length()) [FD]
Line_3 $$ ServletOutputStream out = null --> Line_17 $$ out = response.getOutputStream() [FD]
Line_2 $$ private void streamFileFromFileSystem(File file, HttpServletResponse response) throws ServletException, IOException --> Line_17 $$ out = response.getOutputStream() [FD]
Line_4 $$ InputStream in = null --> Line_18 $$ in = new FileInputStream(file) [FD]
Line_4 $$ InputStream in = null --> Line_19 $$ IOUtils.copy(in, out) [FD]
Line_18 $$ in = new FileInputStream(file) --> Line_19 $$ IOUtils.copy(in, out) [FD]
Line_3 $$ ServletOutputStream out = null --> Line_19 $$ IOUtils.copy(in, out) [FD]
Line_17 $$ out = response.getOutputStream() --> Line_19 $$ IOUtils.copy(in, out) [FD]
Line_3 $$ ServletOutputStream out = null --> Line_20 $$ out.flush() [FD]
Line_17 $$ out = response.getOutputStream() --> Line_20 $$ out.flush() [FD]
Line_4 $$ InputStream in = null --> Line_22 $$ IOUtils.closeQuietly(in) [FD]
Line_18 $$ in = new FileInputStream(file) --> Line_22 $$ IOUtils.closeQuietly(in) [FD]
Line_3 $$ ServletOutputStream out = null --> Line_23 $$ IOUtils.closeQuietly(out) [FD]
Line_17 $$ out = response.getOutputStream() --> Line_23 $$ IOUtils.closeQuietly(out) [FD]
