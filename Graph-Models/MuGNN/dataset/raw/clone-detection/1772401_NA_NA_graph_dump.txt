Line_2 $$ private void redownloadResource(SchemaResource resource) --> Line_3 $$ if (_redownloadSet != null) [CD]
Line_3 $$ if (_redownloadSet != null) --> Line_4 $$ if (_redownloadSet.contains(resource)) [CD]
Line_2 $$ private void redownloadResource(SchemaResource resource) --> Line_4 $$ if (_redownloadSet.contains(resource)) [FD]
Line_3 $$ if (_redownloadSet != null) --> Line_5 $$ _redownloadSet.add(resource) [CD]
Line_2 $$ private void redownloadResource(SchemaResource resource) --> Line_5 $$ _redownloadSet.add(resource) [FD]
Line_2 $$ private void redownloadResource(SchemaResource resource) --> Line_7 $$ String filename = resource.getFilename() [CD]
Line_2 $$ private void redownloadResource(SchemaResource resource) --> Line_7 $$ String filename = resource.getFilename() [FD]
Line_2 $$ private void redownloadResource(SchemaResource resource) --> Line_8 $$ String schemaLocation = resource.getSchemaLocation() [CD]
Line_2 $$ private void redownloadResource(SchemaResource resource) --> Line_8 $$ String schemaLocation = resource.getSchemaLocation() [FD]
Line_2 $$ private void redownloadResource(SchemaResource resource) --> Line_9 $$ String digest = null [CD]
Line_2 $$ private void redownloadResource(SchemaResource resource) --> Line_10 $$ if (schemaLocation == null || filename == null) [CD]
Line_2 $$ private void redownloadResource(SchemaResource resource) --> Line_11 $$ ByteArrayOutputStream buffer = new ByteArrayOutputStream() [CD]
Line_13 $$ URL url = new URL(schemaLocation) --> Line_14 $$ URLConnection conn = url.openConnection() [FD]
Line_14 $$ URLConnection conn = url.openConnection() --> Line_15 $$ conn.addRequestProperty("User-Agent", USER_AGENT) [FD]
Line_14 $$ URLConnection conn = url.openConnection() --> Line_16 $$ conn.addRequestProperty("Accept", "application/xml, text/xml, */*") [FD]
Line_14 $$ URLConnection conn = url.openConnection() --> Line_17 $$ DigestInputStream input = digestInputStream(conn.getInputStream()) [FD]
Line_17 $$ DigestInputStream input = digestInputStream(conn.getInputStream()) --> Line_18 $$ IOUtil.copyCompletely(input, buffer) [FD]
Line_11 $$ ByteArrayOutputStream buffer = new ByteArrayOutputStream() --> Line_18 $$ IOUtil.copyCompletely(input, buffer) [FD]
Line_9 $$ String digest = null --> Line_19 $$ digest = HexBin.bytesToString(input.getMessageDigest().digest()) [FD]
Line_17 $$ DigestInputStream input = digestInputStream(conn.getInputStream()) --> Line_19 $$ digest = HexBin.bytesToString(input.getMessageDigest().digest()) [FD]
Line_2 $$ private void redownloadResource(SchemaResource resource) --> Line_24 $$ if (digest.equals(resource.getSha1()) && fileExists(filename)) [CD]
Line_2 $$ private void redownloadResource(SchemaResource resource) --> Line_24 $$ if (digest.equals(resource.getSha1()) && fileExists(filename)) [FD]
Line_9 $$ String digest = null --> Line_24 $$ if (digest.equals(resource.getSha1()) && fileExists(filename)) [FD]
Line_19 $$ digest = HexBin.bytesToString(input.getMessageDigest().digest()) --> Line_24 $$ if (digest.equals(resource.getSha1()) && fileExists(filename)) [FD]
Line_7 $$ String filename = resource.getFilename() --> Line_24 $$ if (digest.equals(resource.getSha1()) && fileExists(filename)) [FD]
Line_24 $$ if (digest.equals(resource.getSha1()) && fileExists(filename)) --> Line_25 $$ warning("Resource " + filename + " is unchanged from " + schemaLocation + ".") [CD]
Line_24 $$ if (digest.equals(resource.getSha1()) && fileExists(filename)) --> Line_26 $$ return [CD]
Line_11 $$ ByteArrayOutputStream buffer = new ByteArrayOutputStream() --> Line_29 $$ InputStream source = new ByteArrayInputStream(buffer.toByteArray()) [FD]
Line_29 $$ InputStream source = new ByteArrayInputStream(buffer.toByteArray()) --> Line_30 $$ writeInputStreamToFile(source, filename) [FD]
Line_7 $$ String filename = resource.getFilename() --> Line_30 $$ writeInputStreamToFile(source, filename) [FD]
Line_2 $$ private void redownloadResource(SchemaResource resource) --> Line_35 $$ warning("Refreshed " + filename + " from " + schemaLocation) [CD]
