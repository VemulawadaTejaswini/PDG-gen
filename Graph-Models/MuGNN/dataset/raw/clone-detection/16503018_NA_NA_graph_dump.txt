Line_2 $$ public String getNextObjectId() throws SQLException --> Line_3 $$ long nextserial = 1 [CD]
Line_2 $$ public String getNextObjectId() throws SQLException --> Line_4 $$ String s0 = "lock table serials in exclusive mode" [CD]
Line_2 $$ public String getNextObjectId() throws SQLException --> Line_5 $$ String s1 = "SELECT nextserial FROM serials WHERE tablename = 'SERVER_OIDS'" [CD]
Line_2 $$ public String getNextObjectId() throws SQLException --> Line_6 $$ String s2 [CD]
Line_8 $$ Statement stmt = dbconnect.connection.createStatement() --> Line_9 $$ stmt.executeUpdate(s0) [FD]
Line_4 $$ String s0 = "lock table serials in exclusive mode" --> Line_9 $$ stmt.executeUpdate(s0) [FD]
Line_8 $$ Statement stmt = dbconnect.connection.createStatement() --> Line_10 $$ ResultSet rs = stmt.executeQuery(s1) [FD]
Line_5 $$ String s1 = "SELECT nextserial FROM serials WHERE tablename = 'SERVER_OIDS'" --> Line_10 $$ ResultSet rs = stmt.executeQuery(s1) [FD]
Line_10 $$ ResultSet rs = stmt.executeQuery(s1) --> Line_11 $$ if (!rs.next()) [FD]
Line_11 $$ if (!rs.next()) --> Line_12 $$ s2 = "insert into serials (tablename,nextserial) values ('SERVER_OIDS', " + (nextserial) + ")" [CD]
Line_6 $$ String s2 --> Line_12 $$ s2 = "insert into serials (tablename,nextserial) values ('SERVER_OIDS', " + (nextserial) + ")" [FD]
Line_11 $$ if (!rs.next()) --> Line_14 $$ nextserial = rs.getLong(1) + 1 [CD]
Line_3 $$ long nextserial = 1 --> Line_14 $$ nextserial = rs.getLong(1) + 1 [FD]
Line_10 $$ ResultSet rs = stmt.executeQuery(s1) --> Line_14 $$ nextserial = rs.getLong(1) + 1 [FD]
Line_11 $$ if (!rs.next()) --> Line_15 $$ s2 = "update serials set nextserial=" + (nextserial) + " where tablename='SERVER_OIDS'" [CD]
Line_6 $$ String s2 --> Line_15 $$ s2 = "update serials set nextserial=" + (nextserial) + " where tablename='SERVER_OIDS'" [FD]
Line_12 $$ s2 = "insert into serials (tablename,nextserial) values ('SERVER_OIDS', " + (nextserial) + ")" --> Line_15 $$ s2 = "update serials set nextserial=" + (nextserial) + " where tablename='SERVER_OIDS'" [FD]
Line_8 $$ Statement stmt = dbconnect.connection.createStatement() --> Line_17 $$ stmt.executeUpdate(s2) [FD]
Line_6 $$ String s2 --> Line_17 $$ stmt.executeUpdate(s2) [FD]
Line_12 $$ s2 = "insert into serials (tablename,nextserial) values ('SERVER_OIDS', " + (nextserial) + ")" --> Line_17 $$ stmt.executeUpdate(s2) [FD]
Line_15 $$ s2 = "update serials set nextserial=" + (nextserial) + " where tablename='SERVER_OIDS'" --> Line_17 $$ stmt.executeUpdate(s2) [FD]
Line_10 $$ ResultSet rs = stmt.executeQuery(s1) --> Line_19 $$ rs.close() [FD]
Line_8 $$ Statement stmt = dbconnect.connection.createStatement() --> Line_20 $$ stmt.close() [FD]
