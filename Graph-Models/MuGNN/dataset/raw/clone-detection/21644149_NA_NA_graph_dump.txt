Line_2 $$ public void downloadQFromMinibix(int ticketNo) --> Line_3 $$ String minibixDomain = Preferences.userRoot().node("Spectatus").get("MBAddr", "http://mathassess.caret.cam.ac.uk") [CD]
Line_2 $$ public void downloadQFromMinibix(int ticketNo) --> Line_4 $$ String minibixPort = Preferences.userRoot().node("Spectatus").get("MBPort", "80") [CD]
Line_2 $$ public void downloadQFromMinibix(int ticketNo) --> Line_5 $$ String url = minibixDomain + ":" + minibixPort + "/qtibank-webserv/deposits/all/" + ticketNo [CD]
Line_2 $$ public void downloadQFromMinibix(int ticketNo) --> Line_6 $$ File file = new File(tempdir + sep + "minibix.zip") [CD]
Line_9 $$ HttpClient httpclient = new DefaultHttpClient() --> Line_11 $$ HttpResponse response = httpclient.execute(httpget) [FD]
Line_10 $$ HttpGet httpget = new HttpGet(url) --> Line_11 $$ HttpResponse response = httpclient.execute(httpget) [FD]
Line_11 $$ HttpResponse response = httpclient.execute(httpget) --> Line_12 $$ HttpEntity entity = response.getEntity() [FD]
Line_12 $$ HttpEntity entity = response.getEntity() --> Line_13 $$ if (entity != null) [FD]
Line_13 $$ if (entity != null) --> Line_14 $$ InputStream instream = entity.getContent() [CD]
Line_12 $$ HttpEntity entity = response.getEntity() --> Line_14 $$ InputStream instream = entity.getContent() [FD]
Line_13 $$ if (entity != null) --> Line_15 $$ int l [CD]
Line_13 $$ if (entity != null) --> Line_16 $$ byte[] tmp = new byte[2048] [CD]
Line_13 $$ if (entity != null) --> Line_17 $$ while ((l = instream.read(tmp)) != -1) [CD]
Line_15 $$ int l --> Line_17 $$ while ((l = instream.read(tmp)) != -1) [FD]
Line_14 $$ InputStream instream = entity.getContent() --> Line_17 $$ while ((l = instream.read(tmp)) != -1) [FD]
Line_16 $$ byte[] tmp = new byte[2048] --> Line_17 $$ while ((l = instream.read(tmp)) != -1) [FD]
Line_17 $$ while ((l = instream.read(tmp)) != -1) --> Line_18 $$ out.write(tmp, 0, l) [CD]
Line_17 $$ while ((l = instream.read(tmp)) != -1) --> Line_18 $$ out.write(tmp, 0, l) [FD]
Line_8 $$ BufferedOutputStream out = new BufferedOutputStream(new FileOutputStream(file)) --> Line_18 $$ out.write(tmp, 0, l) [FD]
Line_16 $$ byte[] tmp = new byte[2048] --> Line_18 $$ out.write(tmp, 0, l) [FD]
Line_15 $$ int l --> Line_18 $$ out.write(tmp, 0, l) [FD]
Line_13 $$ if (entity != null) --> Line_20 $$ out.close() [CD]
Line_8 $$ BufferedOutputStream out = new BufferedOutputStream(new FileOutputStream(file)) --> Line_20 $$ out.close() [FD]
Line_13 $$ if (entity != null) --> Line_21 $$ instream.close() [CD]
Line_14 $$ InputStream instream = entity.getContent() --> Line_21 $$ instream.close() [FD]
