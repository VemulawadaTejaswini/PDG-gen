Line_2 $$ private void processar() --> Line_3 $$ boolean bOK = false [CD]
Line_2 $$ private void processar() --> Line_4 $$ String sSQL = "DELETE FROM FNSALDOLANCA WHERE CODEMP=? AND CODFILIAL=?" [CD]
Line_4 $$ String sSQL = "DELETE FROM FNSALDOLANCA WHERE CODEMP=? AND CODFILIAL=?" --> Line_7 $$ PreparedStatement ps = con.prepareStatement(sSQL) [FD]
Line_7 $$ PreparedStatement ps = con.prepareStatement(sSQL) --> Line_8 $$ ps.setInt(1, Aplicativo.iCodEmp) [FD]
Line_7 $$ PreparedStatement ps = con.prepareStatement(sSQL) --> Line_9 $$ ps.setInt(2, ListaCampos.getMasterFilial("FNSALDOLANCA")) [FD]
Line_7 $$ PreparedStatement ps = con.prepareStatement(sSQL) --> Line_10 $$ ps.executeUpdate() [FD]
Line_7 $$ PreparedStatement ps = con.prepareStatement(sSQL) --> Line_11 $$ ps.close() [FD]
Line_3 $$ boolean bOK = false --> Line_13 $$ bOK = true [FD]
Line_2 $$ private void processar() --> Line_18 $$ if (bOK) [CD]
Line_18 $$ if (bOK) --> Line_19 $$ bOK = false [CD]
Line_3 $$ boolean bOK = false --> Line_19 $$ bOK = false [FD]
Line_13 $$ bOK = true --> Line_19 $$ bOK = false [FD]
Line_18 $$ if (bOK) --> Line_20 $$ sSQL = "SELECT CODPLAN,DATASUBLANCA,SUM(VLRSUBLANCA) VLRSUBLANCA FROM " + "FNSUBLANCA WHERE CODEMP=? AND CODFILIAL=? GROUP BY CODPLAN,DATASUBLANCA " + "ORDER BY CODPLAN,DATASUBLANCA" [CD]
Line_4 $$ String sSQL = "DELETE FROM FNSALDOLANCA WHERE CODEMP=? AND CODFILIAL=?" --> Line_20 $$ sSQL = "SELECT CODPLAN,DATASUBLANCA,SUM(VLRSUBLANCA) VLRSUBLANCA FROM " + "FNSUBLANCA WHERE CODEMP=? AND CODFILIAL=? GROUP BY CODPLAN,DATASUBLANCA " + "ORDER BY CODPLAN,DATASUBLANCA" [FD]
Line_4 $$ String sSQL = "DELETE FROM FNSALDOLANCA WHERE CODEMP=? AND CODFILIAL=?" --> Line_23 $$ PreparedStatement ps = con.prepareStatement(sSQL) [FD]
Line_20 $$ sSQL = "SELECT CODPLAN,DATASUBLANCA,SUM(VLRSUBLANCA) VLRSUBLANCA FROM " + "FNSUBLANCA WHERE CODEMP=? AND CODFILIAL=? GROUP BY CODPLAN,DATASUBLANCA " + "ORDER BY CODPLAN,DATASUBLANCA" --> Line_23 $$ PreparedStatement ps = con.prepareStatement(sSQL) [FD]
Line_7 $$ PreparedStatement ps = con.prepareStatement(sSQL) --> Line_24 $$ ps.setInt(1, Aplicativo.iCodEmp) [FD]
Line_7 $$ PreparedStatement ps = con.prepareStatement(sSQL) --> Line_25 $$ ps.setInt(2, ListaCampos.getMasterFilial("FNLANCA")) [FD]
Line_7 $$ PreparedStatement ps = con.prepareStatement(sSQL) --> Line_26 $$ ResultSet rs = ps.executeQuery() [FD]
Line_3 $$ boolean bOK = false --> Line_29 $$ bOK = true [FD]
Line_13 $$ bOK = true --> Line_29 $$ bOK = true [FD]
Line_19 $$ bOK = false --> Line_29 $$ bOK = true [FD]
Line_3 $$ boolean bOK = false --> Line_32 $$ while (rs.next() && bOK) [FD]
Line_13 $$ bOK = true --> Line_32 $$ while (rs.next() && bOK) [FD]
Line_19 $$ bOK = false --> Line_32 $$ while (rs.next() && bOK) [FD]
Line_29 $$ bOK = true --> Line_32 $$ while (rs.next() && bOK) [FD]
Line_26 $$ ResultSet rs = ps.executeQuery() --> Line_32 $$ while (rs.next() && bOK) [FD]
Line_32 $$ while (rs.next() && bOK) --> Line_33 $$ if ("1010100000004".equals(rs.getString("CodPlan"))) [CD]
Line_26 $$ ResultSet rs = ps.executeQuery() --> Line_33 $$ if ("1010100000004".equals(rs.getString("CodPlan"))) [FD]
Line_33 $$ if ("1010100000004".equals(rs.getString("CodPlan"))) --> Line_34 $$ System.out.println("Debug") [CD]
Line_32 $$ while (rs.next() && bOK) --> Line_36 $$ if (sPlanAnt.equals(rs.getString("CodPlan"))) [CD]
Line_27 $$ String sPlanAnt = "" --> Line_36 $$ if (sPlanAnt.equals(rs.getString("CodPlan"))) [FD]
Line_26 $$ ResultSet rs = ps.executeQuery() --> Line_36 $$ if (sPlanAnt.equals(rs.getString("CodPlan"))) [FD]
Line_36 $$ if (sPlanAnt.equals(rs.getString("CodPlan"))) --> Line_37 $$ dSaldo += rs.getDouble("VLRSUBLANCA") [CD]
Line_28 $$ double dSaldo = 0 --> Line_37 $$ dSaldo += rs.getDouble("VLRSUBLANCA") [FD]
Line_26 $$ ResultSet rs = ps.executeQuery() --> Line_37 $$ dSaldo += rs.getDouble("VLRSUBLANCA") [FD]
Line_36 $$ if (sPlanAnt.equals(rs.getString("CodPlan"))) --> Line_38 $$ dSaldo = rs.getDouble("VLRSUBLANCA") [CD]
Line_37 $$ dSaldo += rs.getDouble("VLRSUBLANCA") --> Line_38 $$ dSaldo = rs.getDouble("VLRSUBLANCA") [FD]
Line_28 $$ double dSaldo = 0 --> Line_38 $$ dSaldo = rs.getDouble("VLRSUBLANCA") [FD]
Line_26 $$ ResultSet rs = ps.executeQuery() --> Line_38 $$ dSaldo = rs.getDouble("VLRSUBLANCA") [FD]
Line_32 $$ while (rs.next() && bOK) --> Line_39 $$ bOK = insereSaldo(iFilialSaldo, iFilialPlan, rs.getString("CodPlan"), rs.getDate("DataSubLanca"), dSaldo) [CD]
Line_3 $$ boolean bOK = false --> Line_39 $$ bOK = insereSaldo(iFilialSaldo, iFilialPlan, rs.getString("CodPlan"), rs.getDate("DataSubLanca"), dSaldo) [FD]
Line_13 $$ bOK = true --> Line_39 $$ bOK = insereSaldo(iFilialSaldo, iFilialPlan, rs.getString("CodPlan"), rs.getDate("DataSubLanca"), dSaldo) [FD]
Line_19 $$ bOK = false --> Line_39 $$ bOK = insereSaldo(iFilialSaldo, iFilialPlan, rs.getString("CodPlan"), rs.getDate("DataSubLanca"), dSaldo) [FD]
Line_29 $$ bOK = true --> Line_39 $$ bOK = insereSaldo(iFilialSaldo, iFilialPlan, rs.getString("CodPlan"), rs.getDate("DataSubLanca"), dSaldo) [FD]
Line_31 $$ int iFilialSaldo = ListaCampos.getMasterFilial("FNSALDOLANCA") --> Line_39 $$ bOK = insereSaldo(iFilialSaldo, iFilialPlan, rs.getString("CodPlan"), rs.getDate("DataSubLanca"), dSaldo) [FD]
Line_30 $$ int iFilialPlan = ListaCampos.getMasterFilial("FNPLANEJAMENTO") --> Line_39 $$ bOK = insereSaldo(iFilialSaldo, iFilialPlan, rs.getString("CodPlan"), rs.getDate("DataSubLanca"), dSaldo) [FD]
Line_37 $$ dSaldo += rs.getDouble("VLRSUBLANCA") --> Line_39 $$ bOK = insereSaldo(iFilialSaldo, iFilialPlan, rs.getString("CodPlan"), rs.getDate("DataSubLanca"), dSaldo) [FD]
Line_38 $$ dSaldo = rs.getDouble("VLRSUBLANCA") --> Line_39 $$ bOK = insereSaldo(iFilialSaldo, iFilialPlan, rs.getString("CodPlan"), rs.getDate("DataSubLanca"), dSaldo) [FD]
Line_28 $$ double dSaldo = 0 --> Line_39 $$ bOK = insereSaldo(iFilialSaldo, iFilialPlan, rs.getString("CodPlan"), rs.getDate("DataSubLanca"), dSaldo) [FD]
Line_26 $$ ResultSet rs = ps.executeQuery() --> Line_39 $$ bOK = insereSaldo(iFilialSaldo, iFilialPlan, rs.getString("CodPlan"), rs.getDate("DataSubLanca"), dSaldo) [FD]
Line_32 $$ while (rs.next() && bOK) --> Line_40 $$ sPlanAnt = rs.getString("CodPlan") [CD]
Line_27 $$ String sPlanAnt = "" --> Line_40 $$ sPlanAnt = rs.getString("CodPlan") [FD]
Line_26 $$ ResultSet rs = ps.executeQuery() --> Line_40 $$ sPlanAnt = rs.getString("CodPlan") [FD]
Line_32 $$ while (rs.next() && bOK) --> Line_41 $$ if ("1010100000004".equals(sPlanAnt)) [CD]
Line_40 $$ sPlanAnt = rs.getString("CodPlan") --> Line_41 $$ if ("1010100000004".equals(sPlanAnt)) [FD]
Line_27 $$ String sPlanAnt = "" --> Line_41 $$ if ("1010100000004".equals(sPlanAnt)) [FD]
Line_41 $$ if ("1010100000004".equals(sPlanAnt)) --> Line_42 $$ System.out.println("Debug") [CD]
Line_7 $$ PreparedStatement ps = con.prepareStatement(sSQL) --> Line_45 $$ ps.close() [FD]
Line_39 $$ bOK = insereSaldo(iFilialSaldo, iFilialPlan, rs.getString("CodPlan"), rs.getDate("DataSubLanca"), dSaldo) --> Line_48 $$ bOK = false [FD]
Line_3 $$ boolean bOK = false --> Line_48 $$ bOK = false [FD]
Line_13 $$ bOK = true --> Line_48 $$ bOK = false [FD]
Line_19 $$ bOK = false --> Line_48 $$ bOK = false [FD]
Line_29 $$ bOK = true --> Line_48 $$ bOK = false [FD]
Line_54 $$ if (bOK) --> Line_55 $$ con.commit() [CD]
Line_54 $$ if (bOK) --> Line_56 $$ state("Registros processados com sucesso!") [CD]
Line_54 $$ if (bOK) --> Line_58 $$ state("Registros antigos restaurados!") [CD]
Line_54 $$ if (bOK) --> Line_59 $$ con.rollback() [CD]
Line_2 $$ private void processar() --> Line_66 $$ btProcessar.setEnabled(true) [CD]
Line_39 $$ bOK = insereSaldo(iFilialSaldo, iFilialPlan, rs.getString("CodPlan"), rs.getDate("DataSubLanca"), dSaldo) --> Line_32 $$ while (rs.next() && bOK) [FD]
Line_40 $$ sPlanAnt = rs.getString("CodPlan") --> Line_36 $$ if (sPlanAnt.equals(rs.getString("CodPlan"))) [FD]
