Line_2 $$ public Atividade insertAtividade(Atividade atividade) throws SQLException --> Line_3 $$ Connection conn = null [CD]
Line_2 $$ public Atividade insertAtividade(Atividade atividade) throws SQLException --> Line_4 $$ String insert = "insert into Atividade (idatividade, requerente_idrequerente, datacriacao, datatermino, valor, tipoatividade, descricao, fase_idfase, estado) " + "values " + "(nextval('seq_atividade'), " + atividade.getRequerente().getIdRequerente() + ", " + "'" + atividade.getDataCriacao() + "', '" + atividade.getDataTermino() + "', '" + atividade.getValor() + "', '" + atividade.getTipoAtividade().getIdTipoAtividade() + "', '" + atividade.getDescricao() + "', " + atividade.getFaseIdFase() + ", " + atividade.getEstado() + ")" [CD]
Line_2 $$ public Atividade insertAtividade(Atividade atividade) throws SQLException --> Line_4 $$ String insert = "insert into Atividade (idatividade, requerente_idrequerente, datacriacao, datatermino, valor, tipoatividade, descricao, fase_idfase, estado) " + "values " + "(nextval('seq_atividade'), " + atividade.getRequerente().getIdRequerente() + ", " + "'" + atividade.getDataCriacao() + "', '" + atividade.getDataTermino() + "', '" + atividade.getValor() + "', '" + atividade.getTipoAtividade().getIdTipoAtividade() + "', '" + atividade.getDescricao() + "', " + atividade.getFaseIdFase() + ", " + atividade.getEstado() + ")" [FD]
Line_3 $$ Connection conn = null --> Line_6 $$ conn = connectionFactory.getConnection(true) [FD]
Line_3 $$ Connection conn = null --> Line_7 $$ conn.setAutoCommit(false) [FD]
Line_6 $$ conn = connectionFactory.getConnection(true) --> Line_7 $$ conn.setAutoCommit(false) [FD]
Line_3 $$ Connection conn = null --> Line_8 $$ Statement stmt = conn.createStatement() [FD]
Line_6 $$ conn = connectionFactory.getConnection(true) --> Line_8 $$ Statement stmt = conn.createStatement() [FD]
Line_8 $$ Statement stmt = conn.createStatement() --> Line_9 $$ Integer result = stmt.executeUpdate(insert) [FD]
Line_4 $$ String insert = "insert into Atividade (idatividade, requerente_idrequerente, datacriacao, datatermino, valor, tipoatividade, descricao, fase_idfase, estado) " + "values " + "(nextval('seq_atividade'), " + atividade.getRequerente().getIdRequerente() + ", " + "'" + atividade.getDataCriacao() + "', '" + atividade.getDataTermino() + "', '" + atividade.getValor() + "', '" + atividade.getTipoAtividade().getIdTipoAtividade() + "', '" + atividade.getDescricao() + "', " + atividade.getFaseIdFase() + ", " + atividade.getEstado() + ")" --> Line_9 $$ Integer result = stmt.executeUpdate(insert) [FD]
Line_9 $$ Integer result = stmt.executeUpdate(insert) --> Line_10 $$ if (result == 1) [FD]
Line_10 $$ if (result == 1) --> Line_11 $$ String sqlSelect = "select last_value from seq_atividade" [CD]
Line_10 $$ if (result == 1) --> Line_12 $$ ResultSet rs = stmt.executeQuery(sqlSelect) [CD]
Line_8 $$ Statement stmt = conn.createStatement() --> Line_12 $$ ResultSet rs = stmt.executeQuery(sqlSelect) [FD]
Line_11 $$ String sqlSelect = "select last_value from seq_atividade" --> Line_12 $$ ResultSet rs = stmt.executeQuery(sqlSelect) [FD]
Line_10 $$ if (result == 1) --> Line_13 $$ while (rs.next()) [CD]
Line_12 $$ ResultSet rs = stmt.executeQuery(sqlSelect) --> Line_13 $$ while (rs.next()) [FD]
Line_13 $$ while (rs.next()) --> Line_14 $$ atividade.setIdAtividade(rs.getInt("last_value")) [CD]
Line_2 $$ public Atividade insertAtividade(Atividade atividade) throws SQLException --> Line_14 $$ atividade.setIdAtividade(rs.getInt("last_value")) [FD]
Line_12 $$ ResultSet rs = stmt.executeQuery(sqlSelect) --> Line_14 $$ atividade.setIdAtividade(rs.getInt("last_value")) [FD]
Line_3 $$ Connection conn = null --> Line_17 $$ conn.commit() [FD]
Line_6 $$ conn = connectionFactory.getConnection(true) --> Line_17 $$ conn.commit() [FD]
Line_3 $$ Connection conn = null --> Line_19 $$ conn.rollback() [FD]
Line_6 $$ conn = connectionFactory.getConnection(true) --> Line_19 $$ conn.rollback() [FD]
Line_3 $$ Connection conn = null --> Line_22 $$ conn.close() [FD]
Line_6 $$ conn = connectionFactory.getConnection(true) --> Line_22 $$ conn.close() [FD]
Line_2 $$ public Atividade insertAtividade(Atividade atividade) throws SQLException --> Line_24 $$ return null [CD]
