Line_2 $$ public static String[] viewFilesToImport(HttpSession session) --> Line_3 $$ FTPClient ftp = new FTPClient() [CD]
Line_2 $$ public static String[] viewFilesToImport(HttpSession session) --> Line_4 $$ CofaxToolsUser user = (CofaxToolsUser) session.getAttribute("user") [CD]
Line_2 $$ public static String[] viewFilesToImport(HttpSession session) --> Line_4 $$ CofaxToolsUser user = (CofaxToolsUser) session.getAttribute("user") [FD]
Line_2 $$ public static String[] viewFilesToImport(HttpSession session) --> Line_5 $$ String importFTPServer = (String) user.workingPubConfigElementsHash.get("IMPORTFTPSERVER") + "" [CD]
Line_2 $$ public static String[] viewFilesToImport(HttpSession session) --> Line_6 $$ String importFTPLogin = (String) user.workingPubConfigElementsHash.get("IMPORTFTPLOGIN") + "" [CD]
Line_2 $$ public static String[] viewFilesToImport(HttpSession session) --> Line_7 $$ String importFTPPassword = (String) user.workingPubConfigElementsHash.get("IMPORTFTPPASSWORD") + "" [CD]
Line_2 $$ public static String[] viewFilesToImport(HttpSession session) --> Line_8 $$ String importFTPFilePath = (String) user.workingPubConfigElementsHash.get("IMPORTFTPFILEPATH") [CD]
Line_2 $$ public static String[] viewFilesToImport(HttpSession session) --> Line_9 $$ String[] dirList = null [CD]
Line_2 $$ public static String[] viewFilesToImport(HttpSession session) --> Line_10 $$ if (importFTPServer.equals("") || importFTPLogin.equals("") || importFTPPassword.equals("")) [CD]
Line_5 $$ String importFTPServer = (String) user.workingPubConfigElementsHash.get("IMPORTFTPSERVER") + "" --> Line_10 $$ if (importFTPServer.equals("") || importFTPLogin.equals("") || importFTPPassword.equals("")) [FD]
Line_6 $$ String importFTPLogin = (String) user.workingPubConfigElementsHash.get("IMPORTFTPLOGIN") + "" --> Line_10 $$ if (importFTPServer.equals("") || importFTPLogin.equals("") || importFTPPassword.equals("")) [FD]
Line_7 $$ String importFTPPassword = (String) user.workingPubConfigElementsHash.get("IMPORTFTPPASSWORD") + "" --> Line_10 $$ if (importFTPServer.equals("") || importFTPLogin.equals("") || importFTPPassword.equals("")) [FD]
Line_10 $$ if (importFTPServer.equals("") || importFTPLogin.equals("") || importFTPPassword.equals("")) --> Line_11 $$ return dirList [CD]
Line_2 $$ public static String[] viewFilesToImport(HttpSession session) --> Line_13 $$ boolean loggedIn = false [CD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_16 $$ ftp.connect(importFTPServer) [FD]
Line_5 $$ String importFTPServer = (String) user.workingPubConfigElementsHash.get("IMPORTFTPSERVER") + "" --> Line_16 $$ ftp.connect(importFTPServer) [FD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_17 $$ CofaxToolsUtil.log("CofaxToolsFTP viewFilesToImport connecting: " + ftp.getReplyString()) [FD]
Line_15 $$ int reply --> Line_18 $$ reply = ftp.getReplyCode() [FD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_18 $$ reply = ftp.getReplyCode() [FD]
Line_15 $$ int reply --> Line_19 $$ if (!FTPReply.isPositiveCompletion(reply)) [FD]
Line_18 $$ reply = ftp.getReplyCode() --> Line_19 $$ if (!FTPReply.isPositiveCompletion(reply)) [FD]
Line_19 $$ if (!FTPReply.isPositiveCompletion(reply)) --> Line_20 $$ ftp.logout() [CD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_20 $$ ftp.logout() [FD]
Line_19 $$ if (!FTPReply.isPositiveCompletion(reply)) --> Line_21 $$ ftp.disconnect() [CD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_21 $$ ftp.disconnect() [FD]
Line_19 $$ if (!FTPReply.isPositiveCompletion(reply)) --> Line_22 $$ CofaxToolsUtil.log("CofaxToolsFTP viewFilesToImport ERROR: FTP server refused connection.") [CD]
Line_19 $$ if (!FTPReply.isPositiveCompletion(reply)) --> Line_24 $$ loggedIn = ftp.login(importFTPLogin, importFTPPassword) [CD]
Line_13 $$ boolean loggedIn = false --> Line_24 $$ loggedIn = ftp.login(importFTPLogin, importFTPPassword) [FD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_24 $$ loggedIn = ftp.login(importFTPLogin, importFTPPassword) [FD]
Line_6 $$ String importFTPLogin = (String) user.workingPubConfigElementsHash.get("IMPORTFTPLOGIN") + "" --> Line_24 $$ loggedIn = ftp.login(importFTPLogin, importFTPPassword) [FD]
Line_7 $$ String importFTPPassword = (String) user.workingPubConfigElementsHash.get("IMPORTFTPPASSWORD") + "" --> Line_24 $$ loggedIn = ftp.login(importFTPLogin, importFTPPassword) [FD]
Line_19 $$ if (!FTPReply.isPositiveCompletion(reply)) --> Line_25 $$ CofaxToolsUtil.log("CofaxToolsFTP viewFilesToImport Logging in: " + importFTPLogin + " " + importFTPPassword) [CD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_29 $$ ftp.changeWorkingDirectory(importFTPFilePath) [FD]
Line_8 $$ String importFTPFilePath = (String) user.workingPubConfigElementsHash.get("IMPORTFTPFILEPATH") --> Line_29 $$ ftp.changeWorkingDirectory(importFTPFilePath) [FD]
Line_15 $$ int reply --> Line_31 $$ if (!FTPReply.isPositiveCompletion(reply)) [FD]
Line_18 $$ reply = ftp.getReplyCode() --> Line_31 $$ if (!FTPReply.isPositiveCompletion(reply)) [FD]
Line_31 $$ if (!FTPReply.isPositiveCompletion(reply)) --> Line_32 $$ CofaxToolsUtil.log("ERROR: cannot change directory") [CD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_34 $$ FTPFile[] remoteFileList = ftp.listFiles() [FD]
Line_36 $$ for (int i = 0; i < remoteFileList.length; i++) --> Line_37 $$ FTPFile testFile = remoteFileList[i] [CD]
Line_36 $$ for (int i = 0; i < remoteFileList.length; i++) --> Line_38 $$ if (testFile.getType() == FTP.ASCII_FILE_TYPE) [CD]
Line_37 $$ FTPFile testFile = remoteFileList[i] --> Line_38 $$ if (testFile.getType() == FTP.ASCII_FILE_TYPE) [FD]
Line_38 $$ if (testFile.getType() == FTP.ASCII_FILE_TYPE) --> Line_39 $$ tmpArray.add(testFile.getName()) [CD]
Line_35 $$ ArrayList tmpArray = new ArrayList() --> Line_39 $$ tmpArray.add(testFile.getName()) [FD]
Line_37 $$ FTPFile testFile = remoteFileList[i] --> Line_39 $$ tmpArray.add(testFile.getName()) [FD]
Line_9 $$ String[] dirList = null --> Line_42 $$ dirList = (String[]) tmpArray.toArray(new String[0]) [FD]
Line_35 $$ ArrayList tmpArray = new ArrayList() --> Line_42 $$ dirList = (String[]) tmpArray.toArray(new String[0]) [FD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_43 $$ ftp.logout() [FD]
Line_3 $$ FTPClient ftp = new FTPClient() --> Line_44 $$ ftp.disconnect() [FD]
Line_2 $$ public static String[] viewFilesToImport(HttpSession session) --> Line_52 $$ return (dirList) [CD]
