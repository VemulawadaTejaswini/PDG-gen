Line_2 $$ public String getNextSequence(Integer id) throws ApplicationException --> Line_3 $$ java.sql.PreparedStatement preStat = null [CD]
Line_2 $$ public String getNextSequence(Integer id) throws ApplicationException --> Line_4 $$ java.sql.ResultSet rs = null [CD]
Line_2 $$ public String getNextSequence(Integer id) throws ApplicationException --> Line_5 $$ boolean noRecordMatch = false [CD]
Line_2 $$ public String getNextSequence(Integer id) throws ApplicationException --> Line_6 $$ String prefix = "" [CD]
Line_2 $$ public String getNextSequence(Integer id) throws ApplicationException --> Line_7 $$ String suffix = "" [CD]
Line_2 $$ public String getNextSequence(Integer id) throws ApplicationException --> Line_8 $$ Long startID = null [CD]
Line_2 $$ public String getNextSequence(Integer id) throws ApplicationException --> Line_9 $$ Integer length = null [CD]
Line_2 $$ public String getNextSequence(Integer id) throws ApplicationException --> Line_10 $$ Long currID = null [CD]
Line_2 $$ public String getNextSequence(Integer id) throws ApplicationException --> Line_11 $$ Integer increment = null [CD]
Line_2 $$ public String getNextSequence(Integer id) throws ApplicationException --> Line_12 $$ int nextID [CD]
Line_2 $$ public String getNextSequence(Integer id) throws ApplicationException --> Line_13 $$ String formReferenceID = null [CD]
Line_3 $$ java.sql.PreparedStatement preStat = null --> Line_17 $$ preStat = dbConn.prepareStatement("SELECT PREFIX,SUFFIX,START_NO,LENGTH,CURRENT_NO,INCREMENT FROM FORM_RECORD WHERE ID=?") [FD]
Line_3 $$ java.sql.PreparedStatement preStat = null --> Line_18 $$ setPrepareStatement(preStat, 1, id) [FD]
Line_17 $$ preStat = dbConn.prepareStatement("SELECT PREFIX,SUFFIX,START_NO,LENGTH,CURRENT_NO,INCREMENT FROM FORM_RECORD WHERE ID=?") --> Line_18 $$ setPrepareStatement(preStat, 1, id) [FD]
Line_2 $$ public String getNextSequence(Integer id) throws ApplicationException --> Line_18 $$ setPrepareStatement(preStat, 1, id) [FD]
Line_4 $$ java.sql.ResultSet rs = null --> Line_19 $$ rs = preStat.executeQuery() [FD]
Line_3 $$ java.sql.PreparedStatement preStat = null --> Line_19 $$ rs = preStat.executeQuery() [FD]
Line_17 $$ preStat = dbConn.prepareStatement("SELECT PREFIX,SUFFIX,START_NO,LENGTH,CURRENT_NO,INCREMENT FROM FORM_RECORD WHERE ID=?") --> Line_19 $$ rs = preStat.executeQuery() [FD]
Line_4 $$ java.sql.ResultSet rs = null --> Line_20 $$ if (rs.next()) [FD]
Line_19 $$ rs = preStat.executeQuery() --> Line_20 $$ if (rs.next()) [FD]
Line_20 $$ if (rs.next()) --> Line_21 $$ prefix = rs.getString(1) [CD]
Line_6 $$ String prefix = "" --> Line_21 $$ prefix = rs.getString(1) [FD]
Line_4 $$ java.sql.ResultSet rs = null --> Line_21 $$ prefix = rs.getString(1) [FD]
Line_19 $$ rs = preStat.executeQuery() --> Line_21 $$ prefix = rs.getString(1) [FD]
Line_20 $$ if (rs.next()) --> Line_22 $$ suffix = rs.getString(2) [CD]
Line_7 $$ String suffix = "" --> Line_22 $$ suffix = rs.getString(2) [FD]
Line_4 $$ java.sql.ResultSet rs = null --> Line_22 $$ suffix = rs.getString(2) [FD]
Line_19 $$ rs = preStat.executeQuery() --> Line_22 $$ suffix = rs.getString(2) [FD]
Line_20 $$ if (rs.next()) --> Line_23 $$ startID = new Long(rs.getLong(3)) [CD]
Line_8 $$ Long startID = null --> Line_23 $$ startID = new Long(rs.getLong(3)) [FD]
Line_4 $$ java.sql.ResultSet rs = null --> Line_23 $$ startID = new Long(rs.getLong(3)) [FD]
Line_19 $$ rs = preStat.executeQuery() --> Line_23 $$ startID = new Long(rs.getLong(3)) [FD]
Line_20 $$ if (rs.next()) --> Line_24 $$ length = new Integer(rs.getInt(4)) [CD]
Line_9 $$ Integer length = null --> Line_24 $$ length = new Integer(rs.getInt(4)) [FD]
Line_4 $$ java.sql.ResultSet rs = null --> Line_24 $$ length = new Integer(rs.getInt(4)) [FD]
Line_19 $$ rs = preStat.executeQuery() --> Line_24 $$ length = new Integer(rs.getInt(4)) [FD]
Line_20 $$ if (rs.next()) --> Line_25 $$ currID = new Long(rs.getLong(5)) [CD]
Line_10 $$ Long currID = null --> Line_25 $$ currID = new Long(rs.getLong(5)) [FD]
Line_4 $$ java.sql.ResultSet rs = null --> Line_25 $$ currID = new Long(rs.getLong(5)) [FD]
Line_19 $$ rs = preStat.executeQuery() --> Line_25 $$ currID = new Long(rs.getLong(5)) [FD]
Line_20 $$ if (rs.next()) --> Line_26 $$ increment = new Integer(rs.getInt(6)) [CD]
Line_11 $$ Integer increment = null --> Line_26 $$ increment = new Integer(rs.getInt(6)) [FD]
Line_4 $$ java.sql.ResultSet rs = null --> Line_26 $$ increment = new Integer(rs.getInt(6)) [FD]
Line_19 $$ rs = preStat.executeQuery() --> Line_26 $$ increment = new Integer(rs.getInt(6)) [FD]
Line_20 $$ if (rs.next()) --> Line_27 $$ if (Utility.isEmpty(startID) || Utility.isEmpty(length) || Utility.isEmpty(currID) || Utility.isEmpty(increment) || startID.intValue() < 0 || length.intValue() < startID.toString().length() || currID.intValue() < startID.intValue() || increment.intValue() < 1 || new Integer(increment.intValue() + currID.intValue()).toString().length() > length.intValue()) [CD]
Line_8 $$ Long startID = null --> Line_27 $$ if (Utility.isEmpty(startID) || Utility.isEmpty(length) || Utility.isEmpty(currID) || Utility.isEmpty(increment) || startID.intValue() < 0 || length.intValue() < startID.toString().length() || currID.intValue() < startID.intValue() || increment.intValue() < 1 || new Integer(increment.intValue() + currID.intValue()).toString().length() > length.intValue()) [FD]
Line_23 $$ startID = new Long(rs.getLong(3)) --> Line_27 $$ if (Utility.isEmpty(startID) || Utility.isEmpty(length) || Utility.isEmpty(currID) || Utility.isEmpty(increment) || startID.intValue() < 0 || length.intValue() < startID.toString().length() || currID.intValue() < startID.intValue() || increment.intValue() < 1 || new Integer(increment.intValue() + currID.intValue()).toString().length() > length.intValue()) [FD]
Line_9 $$ Integer length = null --> Line_27 $$ if (Utility.isEmpty(startID) || Utility.isEmpty(length) || Utility.isEmpty(currID) || Utility.isEmpty(increment) || startID.intValue() < 0 || length.intValue() < startID.toString().length() || currID.intValue() < startID.intValue() || increment.intValue() < 1 || new Integer(increment.intValue() + currID.intValue()).toString().length() > length.intValue()) [FD]
Line_24 $$ length = new Integer(rs.getInt(4)) --> Line_27 $$ if (Utility.isEmpty(startID) || Utility.isEmpty(length) || Utility.isEmpty(currID) || Utility.isEmpty(increment) || startID.intValue() < 0 || length.intValue() < startID.toString().length() || currID.intValue() < startID.intValue() || increment.intValue() < 1 || new Integer(increment.intValue() + currID.intValue()).toString().length() > length.intValue()) [FD]
Line_10 $$ Long currID = null --> Line_27 $$ if (Utility.isEmpty(startID) || Utility.isEmpty(length) || Utility.isEmpty(currID) || Utility.isEmpty(increment) || startID.intValue() < 0 || length.intValue() < startID.toString().length() || currID.intValue() < startID.intValue() || increment.intValue() < 1 || new Integer(increment.intValue() + currID.intValue()).toString().length() > length.intValue()) [FD]
Line_25 $$ currID = new Long(rs.getLong(5)) --> Line_27 $$ if (Utility.isEmpty(startID) || Utility.isEmpty(length) || Utility.isEmpty(currID) || Utility.isEmpty(increment) || startID.intValue() < 0 || length.intValue() < startID.toString().length() || currID.intValue() < startID.intValue() || increment.intValue() < 1 || new Integer(increment.intValue() + currID.intValue()).toString().length() > length.intValue()) [FD]
Line_11 $$ Integer increment = null --> Line_27 $$ if (Utility.isEmpty(startID) || Utility.isEmpty(length) || Utility.isEmpty(currID) || Utility.isEmpty(increment) || startID.intValue() < 0 || length.intValue() < startID.toString().length() || currID.intValue() < startID.intValue() || increment.intValue() < 1 || new Integer(increment.intValue() + currID.intValue()).toString().length() > length.intValue()) [FD]
Line_26 $$ increment = new Integer(rs.getInt(6)) --> Line_27 $$ if (Utility.isEmpty(startID) || Utility.isEmpty(length) || Utility.isEmpty(currID) || Utility.isEmpty(increment) || startID.intValue() < 0 || length.intValue() < startID.toString().length() || currID.intValue() < startID.intValue() || increment.intValue() < 1 || new Integer(increment.intValue() + currID.intValue()).toString().length() > length.intValue()) [FD]
Line_27 $$ if (Utility.isEmpty(startID) || Utility.isEmpty(length) || Utility.isEmpty(currID) || Utility.isEmpty(increment) || startID.intValue() < 0 || length.intValue() < startID.toString().length() || currID.intValue() < startID.intValue() || increment.intValue() < 1 || new Integer(increment.intValue() + currID.intValue()).toString().length() > length.intValue()) --> Line_28 $$ noRecordMatch = true [CD]
Line_5 $$ boolean noRecordMatch = false --> Line_28 $$ noRecordMatch = true [FD]
Line_27 $$ if (Utility.isEmpty(startID) || Utility.isEmpty(length) || Utility.isEmpty(currID) || Utility.isEmpty(increment) || startID.intValue() < 0 || length.intValue() < startID.toString().length() || currID.intValue() < startID.intValue() || increment.intValue() < 1 || new Integer(increment.intValue() + currID.intValue()).toString().length() > length.intValue()) --> Line_30 $$ if (!Utility.isEmpty(prefix)) [CD]
Line_6 $$ String prefix = "" --> Line_30 $$ if (!Utility.isEmpty(prefix)) [FD]
Line_21 $$ prefix = rs.getString(1) --> Line_30 $$ if (!Utility.isEmpty(prefix)) [FD]
Line_30 $$ if (!Utility.isEmpty(prefix)) --> Line_31 $$ formReferenceID = prefix [CD]
Line_13 $$ String formReferenceID = null --> Line_31 $$ formReferenceID = prefix [FD]
Line_6 $$ String prefix = "" --> Line_31 $$ formReferenceID = prefix [FD]
Line_21 $$ prefix = rs.getString(1) --> Line_31 $$ formReferenceID = prefix [FD]
Line_27 $$ if (Utility.isEmpty(startID) || Utility.isEmpty(length) || Utility.isEmpty(currID) || Utility.isEmpty(increment) || startID.intValue() < 0 || length.intValue() < startID.toString().length() || currID.intValue() < startID.intValue() || increment.intValue() < 1 || new Integer(increment.intValue() + currID.intValue()).toString().length() > length.intValue()) --> Line_33 $$ String strCurrID = currID.toString() [CD]
Line_10 $$ Long currID = null --> Line_33 $$ String strCurrID = currID.toString() [FD]
Line_25 $$ currID = new Long(rs.getLong(5)) --> Line_33 $$ String strCurrID = currID.toString() [FD]
Line_27 $$ if (Utility.isEmpty(startID) || Utility.isEmpty(length) || Utility.isEmpty(currID) || Utility.isEmpty(increment) || startID.intValue() < 0 || length.intValue() < startID.toString().length() || currID.intValue() < startID.intValue() || increment.intValue() < 1 || new Integer(increment.intValue() + currID.intValue()).toString().length() > length.intValue()) --> Line_34 $$ for (int i = 0; i < length.intValue() - strCurrID.length(); i++) [CD]
Line_9 $$ Integer length = null --> Line_34 $$ for (int i = 0; i < length.intValue() - strCurrID.length(); i++) [FD]
Line_24 $$ length = new Integer(rs.getInt(4)) --> Line_34 $$ for (int i = 0; i < length.intValue() - strCurrID.length(); i++) [FD]
Line_33 $$ String strCurrID = currID.toString() --> Line_34 $$ for (int i = 0; i < length.intValue() - strCurrID.length(); i++) [FD]
Line_34 $$ for (int i = 0; i < length.intValue() - strCurrID.length(); i++) --> Line_35 $$ formReferenceID += "0" [CD]
Line_13 $$ String formReferenceID = null --> Line_35 $$ formReferenceID += "0" [FD]
Line_31 $$ formReferenceID = prefix --> Line_35 $$ formReferenceID += "0" [FD]
Line_27 $$ if (Utility.isEmpty(startID) || Utility.isEmpty(length) || Utility.isEmpty(currID) || Utility.isEmpty(increment) || startID.intValue() < 0 || length.intValue() < startID.toString().length() || currID.intValue() < startID.intValue() || increment.intValue() < 1 || new Integer(increment.intValue() + currID.intValue()).toString().length() > length.intValue()) --> Line_37 $$ formReferenceID += strCurrID [CD]
Line_35 $$ formReferenceID += "0" --> Line_37 $$ formReferenceID += strCurrID [FD]
Line_13 $$ String formReferenceID = null --> Line_37 $$ formReferenceID += strCurrID [FD]
Line_31 $$ formReferenceID = prefix --> Line_37 $$ formReferenceID += strCurrID [FD]
Line_33 $$ String strCurrID = currID.toString() --> Line_37 $$ formReferenceID += strCurrID [FD]
Line_27 $$ if (Utility.isEmpty(startID) || Utility.isEmpty(length) || Utility.isEmpty(currID) || Utility.isEmpty(increment) || startID.intValue() < 0 || length.intValue() < startID.toString().length() || currID.intValue() < startID.intValue() || increment.intValue() < 1 || new Integer(increment.intValue() + currID.intValue()).toString().length() > length.intValue()) --> Line_38 $$ if (!Utility.isEmpty(suffix)) [CD]
Line_7 $$ String suffix = "" --> Line_38 $$ if (!Utility.isEmpty(suffix)) [FD]
Line_22 $$ suffix = rs.getString(2) --> Line_38 $$ if (!Utility.isEmpty(suffix)) [FD]
Line_38 $$ if (!Utility.isEmpty(suffix)) --> Line_39 $$ formReferenceID += suffix [CD]
Line_35 $$ formReferenceID += "0" --> Line_39 $$ formReferenceID += suffix [FD]
Line_13 $$ String formReferenceID = null --> Line_39 $$ formReferenceID += suffix [FD]
Line_31 $$ formReferenceID = prefix --> Line_39 $$ formReferenceID += suffix [FD]
Line_37 $$ formReferenceID += strCurrID --> Line_39 $$ formReferenceID += suffix [FD]
Line_7 $$ String suffix = "" --> Line_39 $$ formReferenceID += suffix [FD]
Line_22 $$ suffix = rs.getString(2) --> Line_39 $$ formReferenceID += suffix [FD]
Line_20 $$ if (rs.next()) --> Line_43 $$ noRecordMatch = true [CD]
Line_5 $$ boolean noRecordMatch = false --> Line_43 $$ noRecordMatch = true [FD]
Line_28 $$ noRecordMatch = true --> Line_43 $$ noRecordMatch = true [FD]
Line_4 $$ java.sql.ResultSet rs = null --> Line_56 $$ rs.close() [FD]
Line_19 $$ rs = preStat.executeQuery() --> Line_56 $$ rs.close() [FD]
Line_4 $$ java.sql.ResultSet rs = null --> Line_59 $$ rs = null [FD]
Line_19 $$ rs = preStat.executeQuery() --> Line_59 $$ rs = null [FD]
Line_3 $$ java.sql.PreparedStatement preStat = null --> Line_62 $$ preStat.close() [FD]
Line_17 $$ preStat = dbConn.prepareStatement("SELECT PREFIX,SUFFIX,START_NO,LENGTH,CURRENT_NO,INCREMENT FROM FORM_RECORD WHERE ID=?") --> Line_62 $$ preStat.close() [FD]
Line_3 $$ java.sql.PreparedStatement preStat = null --> Line_65 $$ preStat = null [FD]
Line_17 $$ preStat = dbConn.prepareStatement("SELECT PREFIX,SUFFIX,START_NO,LENGTH,CURRENT_NO,INCREMENT FROM FORM_RECORD WHERE ID=?") --> Line_65 $$ preStat = null [FD]
Line_5 $$ boolean noRecordMatch = false --> Line_68 $$ if (!noRecordMatch && formReferenceID != null) [FD]
Line_28 $$ noRecordMatch = true --> Line_68 $$ if (!noRecordMatch && formReferenceID != null) [FD]
Line_43 $$ noRecordMatch = true --> Line_68 $$ if (!noRecordMatch && formReferenceID != null) [FD]
Line_12 $$ int nextID --> Line_71 $$ nextID = currID.intValue() + increment.intValue() [FD]
Line_10 $$ Long currID = null --> Line_71 $$ nextID = currID.intValue() + increment.intValue() [FD]
Line_25 $$ currID = new Long(rs.getLong(5)) --> Line_71 $$ nextID = currID.intValue() + increment.intValue() [FD]
Line_11 $$ Integer increment = null --> Line_71 $$ nextID = currID.intValue() + increment.intValue() [FD]
Line_26 $$ increment = new Integer(rs.getInt(6)) --> Line_71 $$ nextID = currID.intValue() + increment.intValue() [FD]
Line_70 $$ int updateCnt = 0 --> Line_72 $$ do [FD]
Line_72 $$ do --> Line_73 $$ preStat = dbConn.prepareStatement("UPDATE FORM_RECORD SET CURRENT_NO=? WHERE ID=?") [CD]
Line_3 $$ java.sql.PreparedStatement preStat = null --> Line_73 $$ preStat = dbConn.prepareStatement("UPDATE FORM_RECORD SET CURRENT_NO=? WHERE ID=?") [FD]
Line_17 $$ preStat = dbConn.prepareStatement("SELECT PREFIX,SUFFIX,START_NO,LENGTH,CURRENT_NO,INCREMENT FROM FORM_RECORD WHERE ID=?") --> Line_73 $$ preStat = dbConn.prepareStatement("UPDATE FORM_RECORD SET CURRENT_NO=? WHERE ID=?") [FD]
Line_65 $$ preStat = null --> Line_73 $$ preStat = dbConn.prepareStatement("UPDATE FORM_RECORD SET CURRENT_NO=? WHERE ID=?") [FD]
Line_72 $$ do --> Line_74 $$ setPrepareStatement(preStat, 1, new Integer(nextID)) [CD]
Line_73 $$ preStat = dbConn.prepareStatement("UPDATE FORM_RECORD SET CURRENT_NO=? WHERE ID=?") --> Line_74 $$ setPrepareStatement(preStat, 1, new Integer(nextID)) [FD]
Line_3 $$ java.sql.PreparedStatement preStat = null --> Line_74 $$ setPrepareStatement(preStat, 1, new Integer(nextID)) [FD]
Line_17 $$ preStat = dbConn.prepareStatement("SELECT PREFIX,SUFFIX,START_NO,LENGTH,CURRENT_NO,INCREMENT FROM FORM_RECORD WHERE ID=?") --> Line_74 $$ setPrepareStatement(preStat, 1, new Integer(nextID)) [FD]
Line_65 $$ preStat = null --> Line_74 $$ setPrepareStatement(preStat, 1, new Integer(nextID)) [FD]
Line_72 $$ do --> Line_75 $$ setPrepareStatement(preStat, 2, id) [CD]
Line_73 $$ preStat = dbConn.prepareStatement("UPDATE FORM_RECORD SET CURRENT_NO=? WHERE ID=?") --> Line_75 $$ setPrepareStatement(preStat, 2, id) [FD]
Line_3 $$ java.sql.PreparedStatement preStat = null --> Line_75 $$ setPrepareStatement(preStat, 2, id) [FD]
Line_17 $$ preStat = dbConn.prepareStatement("SELECT PREFIX,SUFFIX,START_NO,LENGTH,CURRENT_NO,INCREMENT FROM FORM_RECORD WHERE ID=?") --> Line_75 $$ setPrepareStatement(preStat, 2, id) [FD]
Line_65 $$ preStat = null --> Line_75 $$ setPrepareStatement(preStat, 2, id) [FD]
Line_2 $$ public String getNextSequence(Integer id) throws ApplicationException --> Line_75 $$ setPrepareStatement(preStat, 2, id) [FD]
Line_72 $$ do --> Line_76 $$ updateCnt = preStat.executeUpdate() [CD]
Line_70 $$ int updateCnt = 0 --> Line_76 $$ updateCnt = preStat.executeUpdate() [FD]
Line_73 $$ preStat = dbConn.prepareStatement("UPDATE FORM_RECORD SET CURRENT_NO=? WHERE ID=?") --> Line_76 $$ updateCnt = preStat.executeUpdate() [FD]
Line_3 $$ java.sql.PreparedStatement preStat = null --> Line_76 $$ updateCnt = preStat.executeUpdate() [FD]
Line_17 $$ preStat = dbConn.prepareStatement("SELECT PREFIX,SUFFIX,START_NO,LENGTH,CURRENT_NO,INCREMENT FROM FORM_RECORD WHERE ID=?") --> Line_76 $$ updateCnt = preStat.executeUpdate() [FD]
Line_65 $$ preStat = null --> Line_76 $$ updateCnt = preStat.executeUpdate() [FD]
Line_72 $$ do --> Line_77 $$ if (updateCnt == 0) [CD]
Line_76 $$ updateCnt = preStat.executeUpdate() --> Line_77 $$ if (updateCnt == 0) [FD]
Line_70 $$ int updateCnt = 0 --> Line_77 $$ if (updateCnt == 0) [FD]
Line_77 $$ if (updateCnt == 0) --> Line_78 $$ Thread.sleep(50) [CD]
Line_73 $$ preStat = dbConn.prepareStatement("UPDATE FORM_RECORD SET CURRENT_NO=? WHERE ID=?") --> Line_91 $$ preStat.close() [FD]
Line_3 $$ java.sql.PreparedStatement preStat = null --> Line_91 $$ preStat.close() [FD]
Line_17 $$ preStat = dbConn.prepareStatement("SELECT PREFIX,SUFFIX,START_NO,LENGTH,CURRENT_NO,INCREMENT FROM FORM_RECORD WHERE ID=?") --> Line_91 $$ preStat.close() [FD]
Line_65 $$ preStat = null --> Line_91 $$ preStat.close() [FD]
Line_73 $$ preStat = dbConn.prepareStatement("UPDATE FORM_RECORD SET CURRENT_NO=? WHERE ID=?") --> Line_94 $$ preStat = null [FD]
Line_3 $$ java.sql.PreparedStatement preStat = null --> Line_94 $$ preStat = null [FD]
Line_17 $$ preStat = dbConn.prepareStatement("SELECT PREFIX,SUFFIX,START_NO,LENGTH,CURRENT_NO,INCREMENT FROM FORM_RECORD WHERE ID=?") --> Line_94 $$ preStat = null [FD]
Line_65 $$ preStat = null --> Line_94 $$ preStat = null [FD]
Line_76 $$ updateCnt = preStat.executeUpdate() --> Line_72 $$ do [FD]
