Line_2 $$ public Source get_source(String pageURL, Boolean checkInBase) --> Line_3 $$ URL url [CD]
Line_2 $$ public Source get_source(String pageURL, Boolean checkInBase) --> Line_4 $$ URLConnection conn [CD]
Line_2 $$ public Source get_source(String pageURL, Boolean checkInBase) --> Line_5 $$ Reader inReader [CD]
Line_2 $$ public Source get_source(String pageURL, Boolean checkInBase) --> Line_6 $$ Source source = null [CD]
Line_2 $$ public Source get_source(String pageURL, Boolean checkInBase) --> Line_7 $$ String LastModified = "" [CD]
Line_2 $$ public Source get_source(String pageURL, Boolean checkInBase) --> Line_8 $$ Boolean updateData = false [CD]
Line_3 $$ URL url --> Line_10 $$ url = new URL(pageURL) [FD]
Line_4 $$ URLConnection conn --> Line_11 $$ conn = url.openConnection() [FD]
Line_3 $$ URL url --> Line_11 $$ conn = url.openConnection() [FD]
Line_10 $$ url = new URL(pageURL) --> Line_11 $$ conn = url.openConnection() [FD]
Line_4 $$ URLConnection conn --> Line_12 $$ conn.setRequestProperty("Accept-Charset", "windows-1251") [FD]
Line_11 $$ conn = url.openConnection() --> Line_12 $$ conn.setRequestProperty("Accept-Charset", "windows-1251") [FD]
Line_13 $$ if (checkInBase) --> Line_14 $$ for (int i = 0; ; i++) [CD]
Line_14 $$ for (int i = 0; ; i++) --> Line_15 $$ String name = conn.getHeaderFieldKey(i) [CD]
Line_14 $$ for (int i = 0; ; i++) --> Line_15 $$ String name = conn.getHeaderFieldKey(i) [FD]
Line_4 $$ URLConnection conn --> Line_15 $$ String name = conn.getHeaderFieldKey(i) [FD]
Line_11 $$ conn = url.openConnection() --> Line_15 $$ String name = conn.getHeaderFieldKey(i) [FD]
Line_14 $$ for (int i = 0; ; i++) --> Line_16 $$ String value = conn.getHeaderField(i) [CD]
Line_14 $$ for (int i = 0; ; i++) --> Line_16 $$ String value = conn.getHeaderField(i) [FD]
Line_4 $$ URLConnection conn --> Line_16 $$ String value = conn.getHeaderField(i) [FD]
Line_11 $$ conn = url.openConnection() --> Line_16 $$ String value = conn.getHeaderField(i) [FD]
Line_14 $$ for (int i = 0; ; i++) --> Line_17 $$ if (name == null && value == null) [CD]
Line_14 $$ for (int i = 0; ; i++) --> Line_20 $$ if ("Last-Modified".equals(name)) [CD]
Line_15 $$ String name = conn.getHeaderFieldKey(i) --> Line_20 $$ if ("Last-Modified".equals(name)) [FD]
Line_20 $$ if ("Last-Modified".equals(name)) --> Line_21 $$ LastModified = value [CD]
Line_7 $$ String LastModified = "" --> Line_21 $$ LastModified = value [FD]
Line_16 $$ String value = conn.getHeaderField(i) --> Line_21 $$ LastModified = value [FD]
Line_13 $$ if (checkInBase) --> Line_24 $$ Ini.rs = Ini.stmt.executeQuery("select count(1) as qwe from " + " PUBLIC.PAGES " + "where url = '" + pageURL + "';") [CD]
Line_13 $$ if (checkInBase) --> Line_25 $$ Ini.rs.next() [CD]
Line_13 $$ if (checkInBase) --> Line_26 $$ if (Ini.rs.getInt("qwe") == 0) [CD]
Line_26 $$ if (Ini.rs.getInt("qwe") == 0) --> Line_27 $$ Ini.stmt.executeUpdate("insert into PUBLIC.PAGES(url, lastUpdateDate) " + " values('" + pageURL + "', " + "'" + LastModified + "'" + ");") [CD]
Line_26 $$ if (Ini.rs.getInt("qwe") == 0) --> Line_29 $$ Ini.rs = Ini.stmt.executeQuery("select lastUpdateDate from " + " PUBLIC.PAGES " + "where url = '" + pageURL + "';") [CD]
Line_26 $$ if (Ini.rs.getInt("qwe") == 0) --> Line_30 $$ Ini.rs.next() [CD]
Line_26 $$ if (Ini.rs.getInt("qwe") == 0) --> Line_31 $$ if (!Ini.rs.getString("lastUpdateDate").equals(LastModified)) [CD]
Line_21 $$ LastModified = value --> Line_31 $$ if (!Ini.rs.getString("lastUpdateDate").equals(LastModified)) [FD]
Line_7 $$ String LastModified = "" --> Line_31 $$ if (!Ini.rs.getString("lastUpdateDate").equals(LastModified)) [FD]
Line_31 $$ if (!Ini.rs.getString("lastUpdateDate").equals(LastModified)) --> Line_32 $$ updateData = true [CD]
Line_8 $$ Boolean updateData = false --> Line_32 $$ updateData = true [FD]
Line_31 $$ if (!Ini.rs.getString("lastUpdateDate").equals(LastModified)) --> Line_34 $$ return null [CD]
Line_5 $$ Reader inReader --> Line_38 $$ inReader = new InputStreamReader(conn.getInputStream(), "windows-1251") [FD]
Line_4 $$ URLConnection conn --> Line_38 $$ inReader = new InputStreamReader(conn.getInputStream(), "windows-1251") [FD]
Line_11 $$ conn = url.openConnection() --> Line_38 $$ inReader = new InputStreamReader(conn.getInputStream(), "windows-1251") [FD]
Line_6 $$ Source source = null --> Line_39 $$ source = new Source(inReader) [FD]
Line_6 $$ Source source = null --> Line_40 $$ source.setLogger(null) [FD]
Line_39 $$ source = new Source(inReader) --> Line_40 $$ source.setLogger(null) [FD]
Line_6 $$ Source source = null --> Line_41 $$ source.fullSequentialParse() [FD]
Line_39 $$ source = new Source(inReader) --> Line_41 $$ source.fullSequentialParse() [FD]
Line_42 $$ if (updateData) --> Line_43 $$ Ini.stmt.executeUpdate("delete from PUBLIC.LINKDATA " + "where id in (" + "select id from PUBLIC.PAGES " + "where url = '" + pageURL + "'" + ")") [CD]
Line_42 $$ if (updateData) --> Line_44 $$ Ini.stmt.executeUpdate("delete from PUBLIC.PAGES " + "where url = '" + pageURL + "';") [CD]
Line_42 $$ if (updateData) --> Line_45 $$ Ini.stmt.executeUpdate("insert into PUBLIC.PAGES " + " values('" + pageURL + "', " + "'" + LastModified + "'" + ");") [CD]
Line_2 $$ public Source get_source(String pageURL, Boolean checkInBase) --> Line_50 $$ return source [CD]
