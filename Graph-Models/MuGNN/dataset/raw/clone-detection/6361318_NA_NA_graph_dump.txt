Line_2 $$ public void run() --> Line_3 $$ date = DateUtil.addMonth(-1) [CD]
Line_2 $$ public void run() --> Line_4 $$ List list = bo.getDao().getHibernateTemplate().find("from MailAffixPojo where upload_time <'" + date + "' and to_number(sized) >" + size) [CD]
Line_2 $$ public void run() --> Line_5 $$ if (null != list && list.size() > 0) [CD]
Line_4 $$ List list = bo.getDao().getHibernateTemplate().find("from MailAffixPojo where upload_time <'" + date + "' and to_number(sized) >" + size) --> Line_5 $$ if (null != list && list.size() > 0) [FD]
Line_7 $$ FTPClient ftp = new FTPClient() --> Line_8 $$ ftp.connect(config.getHostUrl(), config.getFtpPort()) [FD]
Line_7 $$ FTPClient ftp = new FTPClient() --> Line_9 $$ ftp.login(config.getUname(), config.getUpass()) [FD]
Line_7 $$ FTPClient ftp = new FTPClient() --> Line_10 $$ int replyCode = ftp.getReplyCode() [FD]
Line_10 $$ int replyCode = ftp.getReplyCode() --> Line_11 $$ if (!FTPReply.isPositiveCompletion(replyCode)) [FD]
Line_11 $$ if (!FTPReply.isPositiveCompletion(replyCode)) --> Line_12 $$ ftp.disconnect() [CD]
Line_7 $$ FTPClient ftp = new FTPClient() --> Line_12 $$ ftp.disconnect() [FD]
Line_11 $$ if (!FTPReply.isPositiveCompletion(replyCode)) --> Line_13 $$ return [CD]
Line_4 $$ List list = bo.getDao().getHibernateTemplate().find("from MailAffixPojo where upload_time <'" + date + "' and to_number(sized) >" + size) --> Line_15 $$ for (int i = 0; i < list.size(); i++) [FD]
Line_15 $$ for (int i = 0; i < list.size(); i++) --> Line_16 $$ MailAffixPojo pojo = (MailAffixPojo) list.get(i) [CD]
Line_15 $$ for (int i = 0; i < list.size(); i++) --> Line_16 $$ MailAffixPojo pojo = (MailAffixPojo) list.get(i) [FD]
Line_4 $$ List list = bo.getDao().getHibernateTemplate().find("from MailAffixPojo where upload_time <'" + date + "' and to_number(sized) >" + size) --> Line_16 $$ MailAffixPojo pojo = (MailAffixPojo) list.get(i) [FD]
Line_15 $$ for (int i = 0; i < list.size(); i++) --> Line_17 $$ ftp.changeWorkingDirectory(pojo.getUploadTime().substring(0, 7)) [CD]
Line_7 $$ FTPClient ftp = new FTPClient() --> Line_17 $$ ftp.changeWorkingDirectory(pojo.getUploadTime().substring(0, 7)) [FD]
Line_16 $$ MailAffixPojo pojo = (MailAffixPojo) list.get(i) --> Line_17 $$ ftp.changeWorkingDirectory(pojo.getUploadTime().substring(0, 7)) [FD]
Line_15 $$ for (int i = 0; i < list.size(); i++) --> Line_18 $$ ftp.deleteFile(pojo.getAffixSaveName()) [CD]
Line_7 $$ FTPClient ftp = new FTPClient() --> Line_18 $$ ftp.deleteFile(pojo.getAffixSaveName()) [FD]
Line_16 $$ MailAffixPojo pojo = (MailAffixPojo) list.get(i) --> Line_18 $$ ftp.deleteFile(pojo.getAffixSaveName()) [FD]
Line_15 $$ for (int i = 0; i < list.size(); i++) --> Line_19 $$ ftp.changeToParentDirectory() [CD]
Line_7 $$ FTPClient ftp = new FTPClient() --> Line_19 $$ ftp.changeToParentDirectory() [FD]
Line_15 $$ for (int i = 0; i < list.size(); i++) --> Line_20 $$ bo.delete(MailAffixPojo.class, new Long(pojo.getId())) [CD]
Line_16 $$ MailAffixPojo pojo = (MailAffixPojo) list.get(i) --> Line_20 $$ bo.delete(MailAffixPojo.class, new Long(pojo.getId())) [FD]
