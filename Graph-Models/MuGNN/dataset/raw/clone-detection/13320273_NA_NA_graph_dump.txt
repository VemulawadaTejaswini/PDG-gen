Line_2 $$ public IMedium createMedium(String urlString, IMetadata optionalMetadata) throws MM4UCannotCreateMediumElementsException --> Line_3 $$ Debug.println("createMedium(): URL: " + urlString) [CD]
Line_2 $$ public IMedium createMedium(String urlString, IMetadata optionalMetadata) throws MM4UCannotCreateMediumElementsException --> Line_4 $$ IAudio tempAudio = null [CD]
Line_8 $$ URL url = new URL(urlString) --> Line_9 $$ InputStream is = url.openStream() [FD]
Line_12 $$ int len --> Line_13 $$ while ((len = is.read(buf)) > 0) out.write(buf, 0, len) [FD]
Line_9 $$ InputStream is = url.openStream() --> Line_13 $$ while ((len = is.read(buf)) > 0) out.write(buf, 0, len) [FD]
Line_11 $$ byte[] buf = new byte[1024] --> Line_13 $$ while ((len = is.read(buf)) > 0) out.write(buf, 0, len) [FD]
Line_10 $$ ByteArrayOutputStream out = new ByteArrayOutputStream() --> Line_13 $$ while ((len = is.read(buf)) > 0) out.write(buf, 0, len) [FD]
Line_6 $$ String cachedFileUri = null --> Line_15 $$ cachedFileUri = cache.addAudio(urlString, out).getURI().substring(5) [FD]
Line_14 $$ MediaCache cache = new MediaCache() --> Line_15 $$ cachedFileUri = cache.addAudio(urlString, out).getURI().substring(5) [FD]
Line_2 $$ public IMedium createMedium(String urlString, IMetadata optionalMetadata) throws MM4UCannotCreateMediumElementsException --> Line_15 $$ cachedFileUri = cache.addAudio(urlString, out).getURI().substring(5) [FD]
Line_10 $$ ByteArrayOutputStream out = new ByteArrayOutputStream() --> Line_15 $$ cachedFileUri = cache.addAudio(urlString, out).getURI().substring(5) [FD]
Line_6 $$ String cachedFileUri = null --> Line_17 $$ cachedFileUri = urlString [FD]
Line_15 $$ cachedFileUri = cache.addAudio(urlString, out).getURI().substring(5) --> Line_17 $$ cachedFileUri = urlString [FD]
Line_2 $$ public IMedium createMedium(String urlString, IMetadata optionalMetadata) throws MM4UCannotCreateMediumElementsException --> Line_17 $$ cachedFileUri = urlString [FD]
Line_19 $$ TAudioFileFormat fFormat = null --> Line_21 $$ fFormat = (TAudioFileFormat) new MpegAudioFileReader().getAudioFileFormat(new File(cachedFileUri)) [FD]
Line_19 $$ TAudioFileFormat fFormat = null --> Line_26 $$ if (fFormat != null) [FD]
Line_21 $$ fFormat = (TAudioFileFormat) new MpegAudioFileReader().getAudioFileFormat(new File(cachedFileUri)) --> Line_26 $$ if (fFormat != null) [FD]
Line_26 $$ if (fFormat != null) --> Line_27 $$ length = Math.round(Integer.valueOf(fFormat.properties().get("duration").toString()).intValue() / 1000) [CD]
Line_25 $$ int length = Constants.UNDEFINED_INTEGER --> Line_27 $$ length = Math.round(Integer.valueOf(fFormat.properties().get("duration").toString()).intValue() / 1000) [FD]
Line_19 $$ TAudioFileFormat fFormat = null --> Line_27 $$ length = Math.round(Integer.valueOf(fFormat.properties().get("duration").toString()).intValue() / 1000) [FD]
Line_21 $$ fFormat = (TAudioFileFormat) new MpegAudioFileReader().getAudioFileFormat(new File(cachedFileUri)) --> Line_27 $$ length = Math.round(Integer.valueOf(fFormat.properties().get("duration").toString()).intValue() / 1000) [FD]
Line_2 $$ public IMedium createMedium(String urlString, IMetadata optionalMetadata) throws MM4UCannotCreateMediumElementsException --> Line_29 $$ String mimeType = Utilities.getMimetype(Utilities.getURISuffix(urlString)) [FD]
Line_2 $$ public IMedium createMedium(String urlString, IMetadata optionalMetadata) throws MM4UCannotCreateMediumElementsException --> Line_30 $$ optionalMetadata.addIfNotNull(IMedium.MEDIUM_METADATA_MIMETYPE, mimeType) [FD]
Line_29 $$ String mimeType = Utilities.getMimetype(Utilities.getURISuffix(urlString)) --> Line_30 $$ optionalMetadata.addIfNotNull(IMedium.MEDIUM_METADATA_MIMETYPE, mimeType) [FD]
Line_25 $$ int length = Constants.UNDEFINED_INTEGER --> Line_31 $$ if (length != Constants.UNDEFINED_INTEGER) [FD]
Line_27 $$ length = Math.round(Integer.valueOf(fFormat.properties().get("duration").toString()).intValue() / 1000) --> Line_31 $$ if (length != Constants.UNDEFINED_INTEGER) [FD]
Line_31 $$ if (length != Constants.UNDEFINED_INTEGER) --> Line_32 $$ tempAudio = new Audio(this, length, urlString, optionalMetadata) [CD]
Line_4 $$ IAudio tempAudio = null --> Line_32 $$ tempAudio = new Audio(this, length, urlString, optionalMetadata) [FD]
Line_2 $$ public IMedium createMedium(String urlString, IMetadata optionalMetadata) throws MM4UCannotCreateMediumElementsException --> Line_38 $$ return tempAudio [CD]
