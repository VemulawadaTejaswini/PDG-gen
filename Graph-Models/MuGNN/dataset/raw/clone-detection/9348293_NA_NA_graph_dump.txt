Line_2 $$ public Image storeImage(String title, String pathToImage, Map<String, Object> additionalProperties) --> Line_3 $$ File collectionFolder = ProjectManager.getInstance().getFolder(PropertyHandler.getInstance().getProperty("_default_collection_name")) [CD]
Line_2 $$ public Image storeImage(String title, String pathToImage, Map<String, Object> additionalProperties) --> Line_4 $$ File imageFile = new File(pathToImage) [CD]
Line_2 $$ public Image storeImage(String title, String pathToImage, Map<String, Object> additionalProperties) --> Line_5 $$ String filename = "" [CD]
Line_2 $$ public Image storeImage(String title, String pathToImage, Map<String, Object> additionalProperties) --> Line_6 $$ String format = "" [CD]
Line_2 $$ public Image storeImage(String title, String pathToImage, Map<String, Object> additionalProperties) --> Line_7 $$ File copiedImageFile [CD]
Line_2 $$ public Image storeImage(String title, String pathToImage, Map<String, Object> additionalProperties) --> Line_8 $$ while (true) [CD]
Line_8 $$ while (true) --> Line_9 $$ filename = "image" + UUID.randomUUID().hashCode() [CD]
Line_5 $$ String filename = "" --> Line_9 $$ filename = "image" + UUID.randomUUID().hashCode() [FD]
Line_8 $$ while (true) --> Line_10 $$ if (!DbEntryProvider.INSTANCE.idExists(filename)) [CD]
Line_9 $$ filename = "image" + UUID.randomUUID().hashCode() --> Line_10 $$ if (!DbEntryProvider.INSTANCE.idExists(filename)) [FD]
Line_5 $$ String filename = "" --> Line_10 $$ if (!DbEntryProvider.INSTANCE.idExists(filename)) [FD]
Line_6 $$ String format = "" --> Line_12 $$ format = path.getFileExtension() [FD]
Line_11 $$ Path path = new Path(pathToImage) --> Line_12 $$ format = path.getFileExtension() [FD]
Line_7 $$ File copiedImageFile --> Line_13 $$ copiedImageFile = new File(collectionFolder.getAbsolutePath() + File.separator + filename + "." + format) [FD]
Line_3 $$ File collectionFolder = ProjectManager.getInstance().getFolder(PropertyHandler.getInstance().getProperty("_default_collection_name")) --> Line_13 $$ copiedImageFile = new File(collectionFolder.getAbsolutePath() + File.separator + filename + "." + format) [FD]
Line_13 $$ copiedImageFile = new File(collectionFolder.getAbsolutePath() + File.separator + filename + "." + format) --> Line_14 $$ if (!copiedImageFile.exists()) [FD]
Line_7 $$ File copiedImageFile --> Line_14 $$ if (!copiedImageFile.exists()) [FD]
Line_13 $$ copiedImageFile = new File(collectionFolder.getAbsolutePath() + File.separator + filename + "." + format) --> Line_18 $$ copiedImageFile.createNewFile() [FD]
Line_7 $$ File copiedImageFile --> Line_18 $$ copiedImageFile.createNewFile() [FD]
Line_2 $$ public Image storeImage(String title, String pathToImage, Map<String, Object> additionalProperties) --> Line_23 $$ BufferedInputStream in = null [CD]
Line_2 $$ public Image storeImage(String title, String pathToImage, Map<String, Object> additionalProperties) --> Line_24 $$ BufferedOutputStream out = null [CD]
Line_23 $$ BufferedInputStream in = null --> Line_26 $$ in = new BufferedInputStream(new FileInputStream(imageFile), 4096) [FD]
Line_24 $$ BufferedOutputStream out = null --> Line_27 $$ out = new BufferedOutputStream(new FileOutputStream(copiedImageFile), 4096) [FD]
Line_28 $$ int c --> Line_29 $$ while ((c = in.read()) != -1) out.write(c) [FD]
Line_23 $$ BufferedInputStream in = null --> Line_29 $$ while ((c = in.read()) != -1) out.write(c) [FD]
Line_26 $$ in = new BufferedInputStream(new FileInputStream(imageFile), 4096) --> Line_29 $$ while ((c = in.read()) != -1) out.write(c) [FD]
Line_24 $$ BufferedOutputStream out = null --> Line_29 $$ while ((c = in.read()) != -1) out.write(c) [FD]
Line_27 $$ out = new BufferedOutputStream(new FileOutputStream(copiedImageFile), 4096) --> Line_29 $$ while ((c = in.read()) != -1) out.write(c) [FD]
Line_23 $$ BufferedInputStream in = null --> Line_30 $$ in.close() [FD]
Line_26 $$ in = new BufferedInputStream(new FileInputStream(imageFile), 4096) --> Line_30 $$ in.close() [FD]
Line_24 $$ BufferedOutputStream out = null --> Line_31 $$ out.close() [FD]
Line_27 $$ out = new BufferedOutputStream(new FileOutputStream(copiedImageFile), 4096) --> Line_31 $$ out.close() [FD]
Line_2 $$ public Image storeImage(String title, String pathToImage, Map<String, Object> additionalProperties) --> Line_39 $$ Image image = new ImageImpl() [CD]
Line_2 $$ public Image storeImage(String title, String pathToImage, Map<String, Object> additionalProperties) --> Line_40 $$ image.setId(filename) [CD]
Line_39 $$ Image image = new ImageImpl() --> Line_40 $$ image.setId(filename) [FD]
Line_9 $$ filename = "image" + UUID.randomUUID().hashCode() --> Line_40 $$ image.setId(filename) [FD]
Line_5 $$ String filename = "" --> Line_40 $$ image.setId(filename) [FD]
Line_2 $$ public Image storeImage(String title, String pathToImage, Map<String, Object> additionalProperties) --> Line_41 $$ image.setFormat(format) [CD]
Line_39 $$ Image image = new ImageImpl() --> Line_41 $$ image.setFormat(format) [FD]
Line_12 $$ format = path.getFileExtension() --> Line_41 $$ image.setFormat(format) [FD]
Line_6 $$ String format = "" --> Line_41 $$ image.setFormat(format) [FD]
Line_2 $$ public Image storeImage(String title, String pathToImage, Map<String, Object> additionalProperties) --> Line_42 $$ image.setEntryDate(new Date()) [CD]
Line_39 $$ Image image = new ImageImpl() --> Line_42 $$ image.setEntryDate(new Date()) [FD]
Line_2 $$ public Image storeImage(String title, String pathToImage, Map<String, Object> additionalProperties) --> Line_43 $$ image.setTitle(title) [CD]
Line_2 $$ public Image storeImage(String title, String pathToImage, Map<String, Object> additionalProperties) --> Line_43 $$ image.setTitle(title) [FD]
Line_39 $$ Image image = new ImageImpl() --> Line_43 $$ image.setTitle(title) [FD]
Line_2 $$ public Image storeImage(String title, String pathToImage, Map<String, Object> additionalProperties) --> Line_44 $$ image.setAdditionalProperties(additionalProperties) [CD]
Line_2 $$ public Image storeImage(String title, String pathToImage, Map<String, Object> additionalProperties) --> Line_44 $$ image.setAdditionalProperties(additionalProperties) [FD]
Line_39 $$ Image image = new ImageImpl() --> Line_44 $$ image.setAdditionalProperties(additionalProperties) [FD]
Line_2 $$ public Image storeImage(String title, String pathToImage, Map<String, Object> additionalProperties) --> Line_45 $$ boolean success = DbEntryProvider.INSTANCE.storeNewImage(image) [CD]
Line_39 $$ Image image = new ImageImpl() --> Line_45 $$ boolean success = DbEntryProvider.INSTANCE.storeNewImage(image) [FD]
Line_2 $$ public Image storeImage(String title, String pathToImage, Map<String, Object> additionalProperties) --> Line_46 $$ if (success) [CD]
Line_39 $$ Image image = new ImageImpl() --> Line_46 $$ if (success) [FD]
Line_2 $$ public Image storeImage(String title, String pathToImage, Map<String, Object> additionalProperties) --> Line_47 $$ return null [CD]
