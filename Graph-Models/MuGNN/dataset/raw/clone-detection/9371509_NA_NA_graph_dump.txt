Line_8 $$ Datastream tDatastream = new LocalDatastream(super.getGenericFileName(pDeposit), this.getContentType(), tZipTempFileName) --> Line_9 $$ _datastreamList.add(tDatastream) [FD]
Line_4 $$ ZipFileAccess tZipFile = new ZipFileAccess(super.getTempDir()) --> Line_10 $$ _datastreamList.addAll(tZipFile.getFiles(tZipTempFileName)) [FD]
Line_6 $$ String tZipTempFileName = super.getTempDir() + "uploaded-file.tmp" --> Line_10 $$ _datastreamList.addAll(tZipFile.getFiles(tZipTempFileName)) [FD]
Line_11 $$ int i = 0 --> Line_13 $$ for (i = 0; i < _datastreamList.size(); i++) [FD]
Line_13 $$ for (i = 0; i < _datastreamList.size(); i++) --> Line_14 $$ if (_datastreamList.get(i).getId().equalsIgnoreCase("mets")) [CD]
Line_13 $$ for (i = 0; i < _datastreamList.size(); i++) --> Line_14 $$ if (_datastreamList.get(i).getId().equalsIgnoreCase("mets")) [FD]
Line_11 $$ int i = 0 --> Line_14 $$ if (_datastreamList.get(i).getId().equalsIgnoreCase("mets")) [FD]
Line_14 $$ if (_datastreamList.get(i).getId().equalsIgnoreCase("mets")) --> Line_15 $$ found = true [CD]
Line_12 $$ boolean found = false --> Line_15 $$ found = true [FD]
Line_19 $$ if (found) --> Line_20 $$ SAXBuilder tBuilder = new SAXBuilder() [CD]
Line_20 $$ SAXBuilder tBuilder = new SAXBuilder() --> Line_21 $$ _mets = new METSObject(tBuilder.build(((LocalDatastream) _datastreamList.get(i)).getPath())) [FD]
Line_13 $$ for (i = 0; i < _datastreamList.size(); i++) --> Line_21 $$ _mets = new METSObject(tBuilder.build(((LocalDatastream) _datastreamList.get(i)).getPath())) [FD]
Line_11 $$ int i = 0 --> Line_21 $$ _mets = new METSObject(tBuilder.build(((LocalDatastream) _datastreamList.get(i)).getPath())) [FD]
Line_19 $$ if (found) --> Line_22 $$ LocalDatastream tLocalMETSDS = (LocalDatastream) _datastreamList.remove(i) [CD]
Line_13 $$ for (i = 0; i < _datastreamList.size(); i++) --> Line_22 $$ LocalDatastream tLocalMETSDS = (LocalDatastream) _datastreamList.remove(i) [FD]
Line_11 $$ int i = 0 --> Line_22 $$ LocalDatastream tLocalMETSDS = (LocalDatastream) _datastreamList.remove(i) [FD]
Line_19 $$ if (found) --> Line_23 $$ new File(tLocalMETSDS.getPath()).delete() [CD]
Line_22 $$ LocalDatastream tLocalMETSDS = (LocalDatastream) _datastreamList.remove(i) --> Line_23 $$ new File(tLocalMETSDS.getPath()).delete() [FD]
Line_19 $$ if (found) --> Line_24 $$ _datastreamList.add(_mets.getMETSDs()) [CD]
Line_19 $$ if (found) --> Line_25 $$ _datastreamList.addAll(_mets.getMetadataDatastreams()) [CD]
Line_4 $$ ZipFileAccess tZipFile = new ZipFileAccess(super.getTempDir()) --> Line_30 $$ tZipFile.removeLocalFiles() [FD]
Line_33 $$ String tMessage = "Couldn't retrieve METS from deposit: " + tIOExcpt.toString() --> Line_34 $$ LOG.error(tMessage) [FD]
Line_33 $$ String tMessage = "Couldn't retrieve METS from deposit: " + tIOExcpt.toString() --> Line_39 $$ LOG.error(tMessage) [FD]
