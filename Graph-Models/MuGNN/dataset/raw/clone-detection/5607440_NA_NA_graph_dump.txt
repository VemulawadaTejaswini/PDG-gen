Line_2 $$ public void updateShoppingBean(String userId) --> Line_3 $$ Connection connection = null [CD]
Line_2 $$ public void updateShoppingBean(String userId) --> Line_4 $$ PreparedStatement preparedStatement1 = null [CD]
Line_2 $$ public void updateShoppingBean(String userId) --> Line_5 $$ PreparedStatement preparedStatement2 = null [CD]
Line_3 $$ Connection connection = null --> Line_8 $$ connection = DriverManager.getConnection(this.jdbcURL) [FD]
Line_3 $$ Connection connection = null --> Line_9 $$ connection.setAutoCommit(false) [FD]
Line_8 $$ connection = DriverManager.getConnection(this.jdbcURL) --> Line_9 $$ connection.setAutoCommit(false) [FD]
Line_4 $$ PreparedStatement preparedStatement1 = null --> Line_11 $$ preparedStatement1 = connection.prepareStatement(preparedQuery) [FD]
Line_3 $$ Connection connection = null --> Line_11 $$ preparedStatement1 = connection.prepareStatement(preparedQuery) [FD]
Line_8 $$ connection = DriverManager.getConnection(this.jdbcURL) --> Line_11 $$ preparedStatement1 = connection.prepareStatement(preparedQuery) [FD]
Line_10 $$ String preparedQuery = "INSERT INTO dbComputerShopping.order(name,product_id,quantity,date,status)VALUES(?,?,?,?,?)" --> Line_11 $$ preparedStatement1 = connection.prepareStatement(preparedQuery) [FD]
Line_13 $$ SimpleDateFormat format = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss") --> Line_14 $$ String orderDate = format.format(date) [FD]
Line_12 $$ Date date = new Date() --> Line_14 $$ String orderDate = format.format(date) [FD]
Line_15 $$ Iterator iterator = this.cart.iterator() --> Line_17 $$ while (iterator.hasNext()) [FD]
Line_17 $$ while (iterator.hasNext()) --> Line_18 $$ shoppingInfo = (Object[]) iterator.next() [CD]
Line_16 $$ Object[] shoppingInfo = null --> Line_18 $$ shoppingInfo = (Object[]) iterator.next() [FD]
Line_15 $$ Iterator iterator = this.cart.iterator() --> Line_18 $$ shoppingInfo = (Object[]) iterator.next() [FD]
Line_17 $$ while (iterator.hasNext()) --> Line_19 $$ ProductBean product = (ProductBean) shoppingInfo[0] [CD]
Line_17 $$ while (iterator.hasNext()) --> Line_20 $$ int quantity = (Integer) shoppingInfo[1] [CD]
Line_17 $$ while (iterator.hasNext()) --> Line_21 $$ preparedStatement1.setString(1, userId) [CD]
Line_4 $$ PreparedStatement preparedStatement1 = null --> Line_21 $$ preparedStatement1.setString(1, userId) [FD]
Line_11 $$ preparedStatement1 = connection.prepareStatement(preparedQuery) --> Line_21 $$ preparedStatement1.setString(1, userId) [FD]
Line_2 $$ public void updateShoppingBean(String userId) --> Line_21 $$ preparedStatement1.setString(1, userId) [FD]
Line_17 $$ while (iterator.hasNext()) --> Line_22 $$ preparedStatement1.setInt(2, product.getId()) [CD]
Line_4 $$ PreparedStatement preparedStatement1 = null --> Line_22 $$ preparedStatement1.setInt(2, product.getId()) [FD]
Line_11 $$ preparedStatement1 = connection.prepareStatement(preparedQuery) --> Line_22 $$ preparedStatement1.setInt(2, product.getId()) [FD]
Line_19 $$ ProductBean product = (ProductBean) shoppingInfo[0] --> Line_22 $$ preparedStatement1.setInt(2, product.getId()) [FD]
Line_17 $$ while (iterator.hasNext()) --> Line_23 $$ preparedStatement1.setInt(3, quantity) [CD]
Line_4 $$ PreparedStatement preparedStatement1 = null --> Line_23 $$ preparedStatement1.setInt(3, quantity) [FD]
Line_11 $$ preparedStatement1 = connection.prepareStatement(preparedQuery) --> Line_23 $$ preparedStatement1.setInt(3, quantity) [FD]
Line_20 $$ int quantity = (Integer) shoppingInfo[1] --> Line_23 $$ preparedStatement1.setInt(3, quantity) [FD]
Line_17 $$ while (iterator.hasNext()) --> Line_24 $$ preparedStatement1.setString(4, orderDate) [CD]
Line_4 $$ PreparedStatement preparedStatement1 = null --> Line_24 $$ preparedStatement1.setString(4, orderDate) [FD]
Line_11 $$ preparedStatement1 = connection.prepareStatement(preparedQuery) --> Line_24 $$ preparedStatement1.setString(4, orderDate) [FD]
Line_14 $$ String orderDate = format.format(date) --> Line_24 $$ preparedStatement1.setString(4, orderDate) [FD]
Line_17 $$ while (iterator.hasNext()) --> Line_25 $$ preparedStatement1.setString(5, "confirmed") [CD]
Line_4 $$ PreparedStatement preparedStatement1 = null --> Line_25 $$ preparedStatement1.setString(5, "confirmed") [FD]
Line_11 $$ preparedStatement1 = connection.prepareStatement(preparedQuery) --> Line_25 $$ preparedStatement1.setString(5, "confirmed") [FD]
Line_17 $$ while (iterator.hasNext()) --> Line_26 $$ preparedStatement1.executeUpdate() [CD]
Line_4 $$ PreparedStatement preparedStatement1 = null --> Line_26 $$ preparedStatement1.executeUpdate() [FD]
Line_11 $$ preparedStatement1 = connection.prepareStatement(preparedQuery) --> Line_26 $$ preparedStatement1.executeUpdate() [FD]
Line_10 $$ String preparedQuery = "INSERT INTO dbComputerShopping.order(name,product_id,quantity,date,status)VALUES(?,?,?,?,?)" --> Line_29 $$ preparedQuery = "UPDATE components SET quantity=quantity-? WHERE comp_id=?" [FD]
Line_5 $$ PreparedStatement preparedStatement2 = null --> Line_30 $$ preparedStatement2 = connection.prepareStatement(preparedQuery) [FD]
Line_3 $$ Connection connection = null --> Line_30 $$ preparedStatement2 = connection.prepareStatement(preparedQuery) [FD]
Line_8 $$ connection = DriverManager.getConnection(this.jdbcURL) --> Line_30 $$ preparedStatement2 = connection.prepareStatement(preparedQuery) [FD]
Line_10 $$ String preparedQuery = "INSERT INTO dbComputerShopping.order(name,product_id,quantity,date,status)VALUES(?,?,?,?,?)" --> Line_30 $$ preparedStatement2 = connection.prepareStatement(preparedQuery) [FD]
Line_29 $$ preparedQuery = "UPDATE components SET quantity=quantity-? WHERE comp_id=?" --> Line_30 $$ preparedStatement2 = connection.prepareStatement(preparedQuery) [FD]
Line_31 $$ for (Iterator i = this.cart.iterator(); i.hasNext(); ) --> Line_32 $$ cartInfo = (Object[]) i.next() [CD]
Line_31 $$ for (Iterator i = this.cart.iterator(); i.hasNext(); ) --> Line_32 $$ cartInfo = (Object[]) i.next() [FD]
Line_28 $$ Object[] cartInfo = null --> Line_32 $$ cartInfo = (Object[]) i.next() [FD]
Line_31 $$ for (Iterator i = this.cart.iterator(); i.hasNext(); ) --> Line_33 $$ ProductBean product = (ProductBean) cartInfo[0] [CD]
Line_31 $$ for (Iterator i = this.cart.iterator(); i.hasNext(); ) --> Line_34 $$ int quantity = (Integer) cartInfo[1] [CD]
Line_31 $$ for (Iterator i = this.cart.iterator(); i.hasNext(); ) --> Line_35 $$ ProductListBean productList = new ProductListBean(jdbcURL) [CD]
Line_31 $$ for (Iterator i = this.cart.iterator(); i.hasNext(); ) --> Line_36 $$ ArrayList components = productList.getComponents(product.getId()) [CD]
Line_35 $$ ProductListBean productList = new ProductListBean(jdbcURL) --> Line_36 $$ ArrayList components = productList.getComponents(product.getId()) [FD]
Line_33 $$ ProductBean product = (ProductBean) cartInfo[0] --> Line_36 $$ ArrayList components = productList.getComponents(product.getId()) [FD]
Line_19 $$ ProductBean product = (ProductBean) shoppingInfo[0] --> Line_36 $$ ArrayList components = productList.getComponents(product.getId()) [FD]
Line_31 $$ for (Iterator i = this.cart.iterator(); i.hasNext(); ) --> Line_37 $$ for (Iterator j = components.iterator(); j.hasNext(); ) [CD]
Line_36 $$ ArrayList components = productList.getComponents(product.getId()) --> Line_37 $$ for (Iterator j = components.iterator(); j.hasNext(); ) [FD]
Line_37 $$ for (Iterator j = components.iterator(); j.hasNext(); ) --> Line_38 $$ ComponentBean component = (ComponentBean) j.next() [CD]
Line_37 $$ for (Iterator j = components.iterator(); j.hasNext(); ) --> Line_38 $$ ComponentBean component = (ComponentBean) j.next() [FD]
Line_37 $$ for (Iterator j = components.iterator(); j.hasNext(); ) --> Line_39 $$ preparedStatement2.setInt(1, quantity) [CD]
Line_5 $$ PreparedStatement preparedStatement2 = null --> Line_39 $$ preparedStatement2.setInt(1, quantity) [FD]
Line_30 $$ preparedStatement2 = connection.prepareStatement(preparedQuery) --> Line_39 $$ preparedStatement2.setInt(1, quantity) [FD]
Line_34 $$ int quantity = (Integer) cartInfo[1] --> Line_39 $$ preparedStatement2.setInt(1, quantity) [FD]
Line_20 $$ int quantity = (Integer) shoppingInfo[1] --> Line_39 $$ preparedStatement2.setInt(1, quantity) [FD]
Line_37 $$ for (Iterator j = components.iterator(); j.hasNext(); ) --> Line_40 $$ preparedStatement2.setInt(2, component.getId()) [CD]
Line_5 $$ PreparedStatement preparedStatement2 = null --> Line_40 $$ preparedStatement2.setInt(2, component.getId()) [FD]
Line_30 $$ preparedStatement2 = connection.prepareStatement(preparedQuery) --> Line_40 $$ preparedStatement2.setInt(2, component.getId()) [FD]
Line_38 $$ ComponentBean component = (ComponentBean) j.next() --> Line_40 $$ preparedStatement2.setInt(2, component.getId()) [FD]
Line_37 $$ for (Iterator j = components.iterator(); j.hasNext(); ) --> Line_41 $$ preparedStatement2.executeUpdate() [CD]
Line_5 $$ PreparedStatement preparedStatement2 = null --> Line_41 $$ preparedStatement2.executeUpdate() [FD]
Line_30 $$ preparedStatement2 = connection.prepareStatement(preparedQuery) --> Line_41 $$ preparedStatement2.executeUpdate() [FD]
Line_3 $$ Connection connection = null --> Line_44 $$ connection.commit() [FD]
Line_8 $$ connection = DriverManager.getConnection(this.jdbcURL) --> Line_44 $$ connection.commit() [FD]
Line_3 $$ Connection connection = null --> Line_47 $$ connection.rollback() [FD]
Line_8 $$ connection = DriverManager.getConnection(this.jdbcURL) --> Line_47 $$ connection.rollback() [FD]
Line_3 $$ Connection connection = null --> Line_52 $$ connection.close() [FD]
Line_8 $$ connection = DriverManager.getConnection(this.jdbcURL) --> Line_52 $$ connection.close() [FD]
Line_4 $$ PreparedStatement preparedStatement1 = null --> Line_56 $$ preparedStatement1.close() [FD]
Line_11 $$ preparedStatement1 = connection.prepareStatement(preparedQuery) --> Line_56 $$ preparedStatement1.close() [FD]
Line_5 $$ PreparedStatement preparedStatement2 = null --> Line_60 $$ preparedStatement2.close() [FD]
Line_30 $$ preparedStatement2 = connection.prepareStatement(preparedQuery) --> Line_60 $$ preparedStatement2.close() [FD]
