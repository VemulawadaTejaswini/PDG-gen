Line_2 $$ public static synchronized void loadConfig(String configFile) --> Line_3 $$ if (properties != null) [CD]
Line_3 $$ if (properties != null) --> Line_4 $$ return [CD]
Line_2 $$ public static synchronized void loadConfig(String configFile) --> Line_6 $$ URL url = null [CD]
Line_2 $$ public static synchronized void loadConfig(String configFile) --> Line_7 $$ InputStream is = null [CD]
Line_9 $$ String configProperty = null --> Line_11 $$ configProperty = System.getProperty("dspace.configuration") [FD]
Line_15 $$ if (loadedFile != null) --> Line_16 $$ log.info("Reloading current config file: " + loadedFile.getAbsolutePath()) [CD]
Line_15 $$ if (loadedFile != null) --> Line_17 $$ url = loadedFile.toURI().toURL() [CD]
Line_6 $$ URL url = null --> Line_17 $$ url = loadedFile.toURI().toURL() [FD]
Line_15 $$ if (loadedFile != null) --> Line_18 $$ if (configFile != null) [CD]
Line_2 $$ public static synchronized void loadConfig(String configFile) --> Line_18 $$ if (configFile != null) [FD]
Line_18 $$ if (configFile != null) --> Line_19 $$ log.info("Loading provided config file: " + configFile) [CD]
Line_18 $$ if (configFile != null) --> Line_21 $$ url = loadedFile.toURI().toURL() [CD]
Line_6 $$ URL url = null --> Line_21 $$ url = loadedFile.toURI().toURL() [FD]
Line_17 $$ url = loadedFile.toURI().toURL() --> Line_21 $$ url = loadedFile.toURI().toURL() [FD]
Line_18 $$ if (configFile != null) --> Line_22 $$ if (configProperty != null) [CD]
Line_9 $$ String configProperty = null --> Line_22 $$ if (configProperty != null) [FD]
Line_11 $$ configProperty = System.getProperty("dspace.configuration") --> Line_22 $$ if (configProperty != null) [FD]
Line_22 $$ if (configProperty != null) --> Line_23 $$ log.info("Loading system provided config property (-Ddspace.configuration): " + configProperty) [CD]
Line_22 $$ if (configProperty != null) --> Line_25 $$ url = loadedFile.toURI().toURL() [CD]
Line_6 $$ URL url = null --> Line_25 $$ url = loadedFile.toURI().toURL() [FD]
Line_17 $$ url = loadedFile.toURI().toURL() --> Line_25 $$ url = loadedFile.toURI().toURL() [FD]
Line_21 $$ url = loadedFile.toURI().toURL() --> Line_25 $$ url = loadedFile.toURI().toURL() [FD]
Line_22 $$ if (configProperty != null) --> Line_27 $$ url = ConfigurationManager.class.getResource("/dspace.cfg") [CD]
Line_6 $$ URL url = null --> Line_27 $$ url = ConfigurationManager.class.getResource("/dspace.cfg") [FD]
Line_17 $$ url = loadedFile.toURI().toURL() --> Line_27 $$ url = ConfigurationManager.class.getResource("/dspace.cfg") [FD]
Line_21 $$ url = loadedFile.toURI().toURL() --> Line_27 $$ url = ConfigurationManager.class.getResource("/dspace.cfg") [FD]
Line_25 $$ url = loadedFile.toURI().toURL() --> Line_27 $$ url = ConfigurationManager.class.getResource("/dspace.cfg") [FD]
Line_22 $$ if (configProperty != null) --> Line_28 $$ if (url != null) [CD]
Line_6 $$ URL url = null --> Line_28 $$ if (url != null) [FD]
Line_17 $$ url = loadedFile.toURI().toURL() --> Line_28 $$ if (url != null) [FD]
Line_21 $$ url = loadedFile.toURI().toURL() --> Line_28 $$ if (url != null) [FD]
Line_25 $$ url = loadedFile.toURI().toURL() --> Line_28 $$ if (url != null) [FD]
Line_28 $$ if (url != null) --> Line_29 $$ log.info("Loading from classloader: " + url) [CD]
Line_6 $$ URL url = null --> Line_30 $$ loadedFile = new File(url.getPath()) [FD]
Line_17 $$ url = loadedFile.toURI().toURL() --> Line_30 $$ loadedFile = new File(url.getPath()) [FD]
Line_21 $$ url = loadedFile.toURI().toURL() --> Line_30 $$ loadedFile = new File(url.getPath()) [FD]
Line_25 $$ url = loadedFile.toURI().toURL() --> Line_30 $$ loadedFile = new File(url.getPath()) [FD]
Line_6 $$ URL url = null --> Line_33 $$ if (url == null) [FD]
Line_17 $$ url = loadedFile.toURI().toURL() --> Line_33 $$ if (url == null) [FD]
Line_21 $$ url = loadedFile.toURI().toURL() --> Line_33 $$ if (url == null) [FD]
Line_25 $$ url = loadedFile.toURI().toURL() --> Line_33 $$ if (url == null) [FD]
Line_33 $$ if (url == null) --> Line_34 $$ log.fatal("Cannot find dspace.cfg") [CD]
Line_33 $$ if (url == null) --> Line_39 $$ is = url.openStream() [CD]
Line_7 $$ InputStream is = null --> Line_39 $$ is = url.openStream() [FD]
Line_6 $$ URL url = null --> Line_39 $$ is = url.openStream() [FD]
Line_17 $$ url = loadedFile.toURI().toURL() --> Line_39 $$ is = url.openStream() [FD]
Line_21 $$ url = loadedFile.toURI().toURL() --> Line_39 $$ is = url.openStream() [FD]
Line_25 $$ url = loadedFile.toURI().toURL() --> Line_39 $$ is = url.openStream() [FD]
Line_33 $$ if (url == null) --> Line_40 $$ properties.load(is) [CD]
Line_7 $$ InputStream is = null --> Line_40 $$ properties.load(is) [FD]
Line_39 $$ is = url.openStream() --> Line_40 $$ properties.load(is) [FD]
Line_33 $$ if (url == null) --> Line_41 $$ for (Enumeration<?> pe = properties.propertyNames(); pe.hasMoreElements(); ) [CD]
Line_41 $$ for (Enumeration<?> pe = properties.propertyNames(); pe.hasMoreElements(); ) --> Line_42 $$ String key = (String) pe.nextElement() [CD]
Line_41 $$ for (Enumeration<?> pe = properties.propertyNames(); pe.hasMoreElements(); ) --> Line_42 $$ String key = (String) pe.nextElement() [FD]
Line_41 $$ for (Enumeration<?> pe = properties.propertyNames(); pe.hasMoreElements(); ) --> Line_43 $$ String value = interpolate(key, properties.getProperty(key), 1) [CD]
Line_42 $$ String key = (String) pe.nextElement() --> Line_43 $$ String value = interpolate(key, properties.getProperty(key), 1) [FD]
Line_41 $$ for (Enumeration<?> pe = properties.propertyNames(); pe.hasMoreElements(); ) --> Line_44 $$ if (value != null) [CD]
Line_43 $$ String value = interpolate(key, properties.getProperty(key), 1) --> Line_44 $$ if (value != null) [FD]
Line_44 $$ if (value != null) --> Line_45 $$ properties.setProperty(key, value) [CD]
Line_42 $$ String key = (String) pe.nextElement() --> Line_45 $$ properties.setProperty(key, value) [FD]
Line_43 $$ String value = interpolate(key, properties.getProperty(key), 1) --> Line_45 $$ properties.setProperty(key, value) [FD]
Line_7 $$ InputStream is = null --> Line_53 $$ if (is != null) [FD]
Line_39 $$ is = url.openStream() --> Line_53 $$ if (is != null) [FD]
Line_7 $$ InputStream is = null --> Line_55 $$ is.close() [FD]
Line_39 $$ is = url.openStream() --> Line_55 $$ is.close() [FD]
Line_2 $$ public static synchronized void loadConfig(String configFile) --> Line_60 $$ File licenseFile = new File(getProperty("dspace.dir") + File.separator + "config" + File.separator + "default.license") [CD]
Line_2 $$ public static synchronized void loadConfig(String configFile) --> Line_61 $$ FileInputStream fir = null [CD]
Line_2 $$ public static synchronized void loadConfig(String configFile) --> Line_62 $$ InputStreamReader ir = null [CD]
Line_2 $$ public static synchronized void loadConfig(String configFile) --> Line_63 $$ BufferedReader br = null [CD]
Line_61 $$ FileInputStream fir = null --> Line_65 $$ fir = new FileInputStream(licenseFile) [FD]
Line_62 $$ InputStreamReader ir = null --> Line_66 $$ ir = new InputStreamReader(fir, "UTF-8") [FD]
Line_63 $$ BufferedReader br = null --> Line_67 $$ br = new BufferedReader(ir) [FD]
Line_68 $$ String lineIn --> Line_70 $$ while ((lineIn = br.readLine()) != null) [FD]
Line_63 $$ BufferedReader br = null --> Line_70 $$ while ((lineIn = br.readLine()) != null) [FD]
Line_67 $$ br = new BufferedReader(ir) --> Line_70 $$ while ((lineIn = br.readLine()) != null) [FD]
Line_63 $$ BufferedReader br = null --> Line_73 $$ br.close() [FD]
Line_67 $$ br = new BufferedReader(ir) --> Line_73 $$ br.close() [FD]
Line_60 $$ File licenseFile = new File(getProperty("dspace.dir") + File.separator + "config" + File.separator + "default.license") --> Line_75 $$ log.fatal("Can't load license: " + licenseFile.toString(), e) [FD]
Line_60 $$ File licenseFile = new File(getProperty("dspace.dir") + File.separator + "config" + File.separator + "default.license") --> Line_76 $$ throw new IllegalStateException("Cannot load license: " + licenseFile.toString(), e) [FD]
Line_63 $$ BufferedReader br = null --> Line_78 $$ if (br != null) [FD]
Line_67 $$ br = new BufferedReader(ir) --> Line_78 $$ if (br != null) [FD]
Line_63 $$ BufferedReader br = null --> Line_80 $$ br.close() [FD]
Line_67 $$ br = new BufferedReader(ir) --> Line_80 $$ br.close() [FD]
Line_62 $$ InputStreamReader ir = null --> Line_84 $$ if (ir != null) [FD]
Line_66 $$ ir = new InputStreamReader(fir, "UTF-8") --> Line_84 $$ if (ir != null) [FD]
Line_62 $$ InputStreamReader ir = null --> Line_86 $$ ir.close() [FD]
Line_66 $$ ir = new InputStreamReader(fir, "UTF-8") --> Line_86 $$ ir.close() [FD]
Line_61 $$ FileInputStream fir = null --> Line_90 $$ if (fir != null) [FD]
Line_65 $$ fir = new FileInputStream(licenseFile) --> Line_90 $$ if (fir != null) [FD]
Line_61 $$ FileInputStream fir = null --> Line_92 $$ fir.close() [FD]
Line_65 $$ fir = new FileInputStream(licenseFile) --> Line_92 $$ fir.close() [FD]
