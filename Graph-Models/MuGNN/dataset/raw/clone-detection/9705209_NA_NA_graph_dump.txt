Line_2 $$ public static void main(String[] args) throws Exception --> Line_3 $$ PatternLayout pl = new PatternLayout("%d [CD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_4 $$ ConsoleAppender ca = new ConsoleAppender(pl) [CD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_5 $$ Logger.getRoot().addAppender(ca) [CD]
Line_4 $$ ConsoleAppender ca = new ConsoleAppender(pl) --> Line_5 $$ Logger.getRoot().addAppender(ca) [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_6 $$ Logger.getRoot().setLevel(Level.INFO) [CD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_7 $$ Options options = new Options() [CD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_8 $$ options.addOption("p", "put", false, "put a file in the DHT overlay") [CD]
Line_7 $$ Options options = new Options() --> Line_8 $$ options.addOption("p", "put", false, "put a file in the DHT overlay") [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_9 $$ options.addOption("g", "get", false, "get a file from the DHT") [CD]
Line_7 $$ Options options = new Options() --> Line_9 $$ options.addOption("g", "get", false, "get a file from the DHT") [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_10 $$ options.addOption("r", "remove", false, "remove a file from the DHT") [CD]
Line_7 $$ Options options = new Options() --> Line_10 $$ options.addOption("r", "remove", false, "remove a file from the DHT") [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_11 $$ options.addOption("u", "update", false, "updates the lease") [CD]
Line_7 $$ Options options = new Options() --> Line_11 $$ options.addOption("u", "update", false, "updates the lease") [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_12 $$ options.addOption("j", "join", false, "join the DHT overlay") [CD]
Line_7 $$ Options options = new Options() --> Line_12 $$ options.addOption("j", "join", false, "join the DHT overlay") [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_13 $$ options.addOption("c", "config", true, "the configuration file") [CD]
Line_7 $$ Options options = new Options() --> Line_13 $$ options.addOption("c", "config", true, "the configuration file") [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_14 $$ options.addOption("k", "key", true, "the key to read a file from") [CD]
Line_7 $$ Options options = new Options() --> Line_14 $$ options.addOption("k", "key", true, "the key to read a file from") [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_15 $$ options.addOption("f", "file", true, "the file to read or write") [CD]
Line_7 $$ Options options = new Options() --> Line_15 $$ options.addOption("f", "file", true, "the file to read or write") [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_16 $$ options.addOption("a", "app", true, "the application ID") [CD]
Line_7 $$ Options options = new Options() --> Line_16 $$ options.addOption("a", "app", true, "the application ID") [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_17 $$ options.addOption("s", "secret", true, "the secret used to hide data") [CD]
Line_7 $$ Options options = new Options() --> Line_17 $$ options.addOption("s", "secret", true, "the secret used to hide data") [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_18 $$ options.addOption("t", "ttl", true, "how long in seconds data should persist") [CD]
Line_7 $$ Options options = new Options() --> Line_18 $$ options.addOption("t", "ttl", true, "how long in seconds data should persist") [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_19 $$ CommandLineParser parser = new PosixParser() [CD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_20 $$ CommandLine cmd = parser.parse(options, args) [CD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_20 $$ CommandLine cmd = parser.parse(options, args) [FD]
Line_19 $$ CommandLineParser parser = new PosixParser() --> Line_20 $$ CommandLine cmd = parser.parse(options, args) [FD]
Line_7 $$ Options options = new Options() --> Line_20 $$ CommandLine cmd = parser.parse(options, args) [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_21 $$ String configFile = null [CD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_22 $$ String mode = null [CD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_23 $$ String secretStr = null [CD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_24 $$ int ttl = 9999 [CD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_25 $$ String keyStr = null [CD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_26 $$ String file = null [CD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_27 $$ int appId = 0 [CD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_28 $$ if (cmd.hasOption("j")) [CD]
Line_20 $$ CommandLine cmd = parser.parse(options, args) --> Line_28 $$ if (cmd.hasOption("j")) [FD]
Line_28 $$ if (cmd.hasOption("j")) --> Line_29 $$ mode = "join" [CD]
Line_22 $$ String mode = null --> Line_29 $$ mode = "join" [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_31 $$ if (cmd.hasOption("p")) [CD]
Line_20 $$ CommandLine cmd = parser.parse(options, args) --> Line_31 $$ if (cmd.hasOption("p")) [FD]
Line_31 $$ if (cmd.hasOption("p")) --> Line_32 $$ mode = "put" [CD]
Line_22 $$ String mode = null --> Line_32 $$ mode = "put" [FD]
Line_29 $$ mode = "join" --> Line_32 $$ mode = "put" [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_34 $$ if (cmd.hasOption("g")) [CD]
Line_20 $$ CommandLine cmd = parser.parse(options, args) --> Line_34 $$ if (cmd.hasOption("g")) [FD]
Line_34 $$ if (cmd.hasOption("g")) --> Line_35 $$ mode = "get" [CD]
Line_22 $$ String mode = null --> Line_35 $$ mode = "get" [FD]
Line_29 $$ mode = "join" --> Line_35 $$ mode = "get" [FD]
Line_32 $$ mode = "put" --> Line_35 $$ mode = "get" [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_37 $$ if (cmd.hasOption("r")) [CD]
Line_20 $$ CommandLine cmd = parser.parse(options, args) --> Line_37 $$ if (cmd.hasOption("r")) [FD]
Line_37 $$ if (cmd.hasOption("r")) --> Line_38 $$ mode = "remove" [CD]
Line_22 $$ String mode = null --> Line_38 $$ mode = "remove" [FD]
Line_29 $$ mode = "join" --> Line_38 $$ mode = "remove" [FD]
Line_32 $$ mode = "put" --> Line_38 $$ mode = "remove" [FD]
Line_35 $$ mode = "get" --> Line_38 $$ mode = "remove" [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_40 $$ if (cmd.hasOption("u")) [CD]
Line_20 $$ CommandLine cmd = parser.parse(options, args) --> Line_40 $$ if (cmd.hasOption("u")) [FD]
Line_40 $$ if (cmd.hasOption("u")) --> Line_41 $$ mode = "update" [CD]
Line_22 $$ String mode = null --> Line_41 $$ mode = "update" [FD]
Line_29 $$ mode = "join" --> Line_41 $$ mode = "update" [FD]
Line_32 $$ mode = "put" --> Line_41 $$ mode = "update" [FD]
Line_35 $$ mode = "get" --> Line_41 $$ mode = "update" [FD]
Line_38 $$ mode = "remove" --> Line_41 $$ mode = "update" [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_43 $$ if (cmd.hasOption("c")) [CD]
Line_20 $$ CommandLine cmd = parser.parse(options, args) --> Line_43 $$ if (cmd.hasOption("c")) [FD]
Line_43 $$ if (cmd.hasOption("c")) --> Line_44 $$ configFile = cmd.getOptionValue("c") [CD]
Line_21 $$ String configFile = null --> Line_44 $$ configFile = cmd.getOptionValue("c") [FD]
Line_20 $$ CommandLine cmd = parser.parse(options, args) --> Line_44 $$ configFile = cmd.getOptionValue("c") [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_46 $$ if (cmd.hasOption("k")) [CD]
Line_20 $$ CommandLine cmd = parser.parse(options, args) --> Line_46 $$ if (cmd.hasOption("k")) [FD]
Line_46 $$ if (cmd.hasOption("k")) --> Line_47 $$ keyStr = cmd.getOptionValue("k") [CD]
Line_25 $$ String keyStr = null --> Line_47 $$ keyStr = cmd.getOptionValue("k") [FD]
Line_20 $$ CommandLine cmd = parser.parse(options, args) --> Line_47 $$ keyStr = cmd.getOptionValue("k") [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_49 $$ if (cmd.hasOption("f")) [CD]
Line_20 $$ CommandLine cmd = parser.parse(options, args) --> Line_49 $$ if (cmd.hasOption("f")) [FD]
Line_49 $$ if (cmd.hasOption("f")) --> Line_50 $$ file = cmd.getOptionValue("f") [CD]
Line_26 $$ String file = null --> Line_50 $$ file = cmd.getOptionValue("f") [FD]
Line_20 $$ CommandLine cmd = parser.parse(options, args) --> Line_50 $$ file = cmd.getOptionValue("f") [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_52 $$ if (cmd.hasOption("s")) [CD]
Line_20 $$ CommandLine cmd = parser.parse(options, args) --> Line_52 $$ if (cmd.hasOption("s")) [FD]
Line_52 $$ if (cmd.hasOption("s")) --> Line_53 $$ secretStr = cmd.getOptionValue("s") [CD]
Line_23 $$ String secretStr = null --> Line_53 $$ secretStr = cmd.getOptionValue("s") [FD]
Line_20 $$ CommandLine cmd = parser.parse(options, args) --> Line_53 $$ secretStr = cmd.getOptionValue("s") [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_55 $$ if (cmd.hasOption("t")) [CD]
Line_20 $$ CommandLine cmd = parser.parse(options, args) --> Line_55 $$ if (cmd.hasOption("t")) [FD]
Line_55 $$ if (cmd.hasOption("t")) --> Line_56 $$ ttl = Integer.parseInt(cmd.getOptionValue("t")) [CD]
Line_24 $$ int ttl = 9999 --> Line_56 $$ ttl = Integer.parseInt(cmd.getOptionValue("t")) [FD]
Line_20 $$ CommandLine cmd = parser.parse(options, args) --> Line_56 $$ ttl = Integer.parseInt(cmd.getOptionValue("t")) [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_58 $$ if (cmd.hasOption("a")) [CD]
Line_20 $$ CommandLine cmd = parser.parse(options, args) --> Line_58 $$ if (cmd.hasOption("a")) [FD]
Line_58 $$ if (cmd.hasOption("a")) --> Line_59 $$ appId = Integer.parseInt(cmd.getOptionValue("a")) [CD]
Line_27 $$ int appId = 0 --> Line_59 $$ appId = Integer.parseInt(cmd.getOptionValue("a")) [FD]
Line_20 $$ CommandLine cmd = parser.parse(options, args) --> Line_59 $$ appId = Integer.parseInt(cmd.getOptionValue("a")) [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_61 $$ if (mode == null) [CD]
Line_22 $$ String mode = null --> Line_61 $$ if (mode == null) [FD]
Line_29 $$ mode = "join" --> Line_61 $$ if (mode == null) [FD]
Line_32 $$ mode = "put" --> Line_61 $$ if (mode == null) [FD]
Line_35 $$ mode = "get" --> Line_61 $$ if (mode == null) [FD]
Line_38 $$ mode = "remove" --> Line_61 $$ if (mode == null) [FD]
Line_41 $$ mode = "update" --> Line_61 $$ if (mode == null) [FD]
Line_61 $$ if (mode == null) --> Line_62 $$ System.err.println("ERROR: --put or --get or --remove or --join or --update is required") [CD]
Line_61 $$ if (mode == null) --> Line_63 $$ HelpFormatter formatter = new HelpFormatter() [CD]
Line_61 $$ if (mode == null) --> Line_64 $$ formatter.printHelp("DHT", options) [CD]
Line_63 $$ HelpFormatter formatter = new HelpFormatter() --> Line_64 $$ formatter.printHelp("DHT", options) [FD]
Line_7 $$ Options options = new Options() --> Line_64 $$ formatter.printHelp("DHT", options) [FD]
Line_61 $$ if (mode == null) --> Line_65 $$ System.exit(1) [CD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_67 $$ if (configFile == null) [CD]
Line_21 $$ String configFile = null --> Line_67 $$ if (configFile == null) [FD]
Line_44 $$ configFile = cmd.getOptionValue("c") --> Line_67 $$ if (configFile == null) [FD]
Line_67 $$ if (configFile == null) --> Line_68 $$ System.err.println("ERROR: --config is required") [CD]
Line_67 $$ if (configFile == null) --> Line_70 $$ formatter.printHelp("DHT", options) [CD]
Line_63 $$ HelpFormatter formatter = new HelpFormatter() --> Line_70 $$ formatter.printHelp("DHT", options) [FD]
Line_7 $$ Options options = new Options() --> Line_70 $$ formatter.printHelp("DHT", options) [FD]
Line_67 $$ if (configFile == null) --> Line_71 $$ System.exit(1) [CD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_73 $$ Properties conf = new Properties() [CD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_74 $$ conf.load(new FileInputStream(configFile)) [CD]
Line_73 $$ Properties conf = new Properties() --> Line_74 $$ conf.load(new FileInputStream(configFile)) [FD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_75 $$ DHT dht = new DHT(conf) [CD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_76 $$ if (mode.equals("join")) [CD]
Line_22 $$ String mode = null --> Line_76 $$ if (mode.equals("join")) [FD]
Line_29 $$ mode = "join" --> Line_76 $$ if (mode.equals("join")) [FD]
Line_32 $$ mode = "put" --> Line_76 $$ if (mode.equals("join")) [FD]
Line_35 $$ mode = "get" --> Line_76 $$ if (mode.equals("join")) [FD]
Line_38 $$ mode = "remove" --> Line_76 $$ if (mode.equals("join")) [FD]
Line_41 $$ mode = "update" --> Line_76 $$ if (mode.equals("join")) [FD]
Line_76 $$ if (mode.equals("join")) --> Line_77 $$ dht.join() [CD]
Line_75 $$ DHT dht = new DHT(conf) --> Line_77 $$ dht.join() [FD]
Line_76 $$ if (mode.equals("join")) --> Line_78 $$ if (mode.equals("put")) [CD]
Line_22 $$ String mode = null --> Line_78 $$ if (mode.equals("put")) [FD]
Line_29 $$ mode = "join" --> Line_78 $$ if (mode.equals("put")) [FD]
Line_32 $$ mode = "put" --> Line_78 $$ if (mode.equals("put")) [FD]
Line_35 $$ mode = "get" --> Line_78 $$ if (mode.equals("put")) [FD]
Line_38 $$ mode = "remove" --> Line_78 $$ if (mode.equals("put")) [FD]
Line_41 $$ mode = "update" --> Line_78 $$ if (mode.equals("put")) [FD]
Line_78 $$ if (mode.equals("put")) --> Line_79 $$ if (file == null) [CD]
Line_26 $$ String file = null --> Line_79 $$ if (file == null) [FD]
Line_50 $$ file = cmd.getOptionValue("f") --> Line_79 $$ if (file == null) [FD]
Line_79 $$ if (file == null) --> Line_80 $$ System.err.println("ERROR: --file is required") [CD]
Line_79 $$ if (file == null) --> Line_82 $$ formatter.printHelp("DHT", options) [CD]
Line_63 $$ HelpFormatter formatter = new HelpFormatter() --> Line_82 $$ formatter.printHelp("DHT", options) [FD]
Line_7 $$ Options options = new Options() --> Line_82 $$ formatter.printHelp("DHT", options) [FD]
Line_79 $$ if (file == null) --> Line_83 $$ System.exit(1) [CD]
Line_78 $$ if (mode.equals("put")) --> Line_85 $$ if (keyStr == null) [CD]
Line_25 $$ String keyStr = null --> Line_85 $$ if (keyStr == null) [FD]
Line_47 $$ keyStr = cmd.getOptionValue("k") --> Line_85 $$ if (keyStr == null) [FD]
Line_85 $$ if (keyStr == null) --> Line_86 $$ System.err.println("ERROR: --key is required") [CD]
Line_85 $$ if (keyStr == null) --> Line_88 $$ formatter.printHelp("DHT", options) [CD]
Line_63 $$ HelpFormatter formatter = new HelpFormatter() --> Line_88 $$ formatter.printHelp("DHT", options) [FD]
Line_7 $$ Options options = new Options() --> Line_88 $$ formatter.printHelp("DHT", options) [FD]
Line_85 $$ if (keyStr == null) --> Line_89 $$ System.exit(1) [CD]
Line_78 $$ if (mode.equals("put")) --> Line_91 $$ if (secretStr == null) [CD]
Line_23 $$ String secretStr = null --> Line_91 $$ if (secretStr == null) [FD]
Line_53 $$ secretStr = cmd.getOptionValue("s") --> Line_91 $$ if (secretStr == null) [FD]
Line_91 $$ if (secretStr == null) --> Line_92 $$ System.err.println("ERROR: --secret is required") [CD]
Line_91 $$ if (secretStr == null) --> Line_94 $$ formatter.printHelp("DHT", options) [CD]
Line_63 $$ HelpFormatter formatter = new HelpFormatter() --> Line_94 $$ formatter.printHelp("DHT", options) [FD]
Line_7 $$ Options options = new Options() --> Line_94 $$ formatter.printHelp("DHT", options) [FD]
Line_91 $$ if (secretStr == null) --> Line_95 $$ System.exit(1) [CD]
Line_78 $$ if (mode.equals("put")) --> Line_97 $$ logger.info("putting file " + file) [CD]
Line_78 $$ if (mode.equals("put")) --> Line_98 $$ FileInputStream in = new FileInputStream(file) [CD]
Line_78 $$ if (mode.equals("put")) --> Line_99 $$ byte[] tmp = new byte[1000000] [CD]
Line_78 $$ if (mode.equals("put")) --> Line_100 $$ int num = in.read(tmp) [CD]
Line_98 $$ FileInputStream in = new FileInputStream(file) --> Line_100 $$ int num = in.read(tmp) [FD]
Line_99 $$ byte[] tmp = new byte[1000000] --> Line_100 $$ int num = in.read(tmp) [FD]
Line_78 $$ if (mode.equals("put")) --> Line_101 $$ byte[] value = new byte[num] [CD]
Line_78 $$ if (mode.equals("put")) --> Line_102 $$ System.arraycopy(tmp, 0, value, 0, num) [CD]
Line_99 $$ byte[] tmp = new byte[1000000] --> Line_102 $$ System.arraycopy(tmp, 0, value, 0, num) [FD]
Line_101 $$ byte[] value = new byte[num] --> Line_102 $$ System.arraycopy(tmp, 0, value, 0, num) [FD]
Line_100 $$ int num = in.read(tmp) --> Line_102 $$ System.arraycopy(tmp, 0, value, 0, num) [FD]
Line_78 $$ if (mode.equals("put")) --> Line_103 $$ in.close() [CD]
Line_98 $$ FileInputStream in = new FileInputStream(file) --> Line_103 $$ in.close() [FD]
Line_78 $$ if (mode.equals("put")) --> Line_104 $$ if (dht.put((short) appId, keyStr.getBytes(), value, ttl, secretStr.getBytes()) < 0) [CD]
Line_75 $$ DHT dht = new DHT(conf) --> Line_104 $$ if (dht.put((short) appId, keyStr.getBytes(), value, ttl, secretStr.getBytes()) < 0) [FD]
Line_101 $$ byte[] value = new byte[num] --> Line_104 $$ if (dht.put((short) appId, keyStr.getBytes(), value, ttl, secretStr.getBytes()) < 0) [FD]
Line_24 $$ int ttl = 9999 --> Line_104 $$ if (dht.put((short) appId, keyStr.getBytes(), value, ttl, secretStr.getBytes()) < 0) [FD]
Line_56 $$ ttl = Integer.parseInt(cmd.getOptionValue("t")) --> Line_104 $$ if (dht.put((short) appId, keyStr.getBytes(), value, ttl, secretStr.getBytes()) < 0) [FD]
Line_25 $$ String keyStr = null --> Line_104 $$ if (dht.put((short) appId, keyStr.getBytes(), value, ttl, secretStr.getBytes()) < 0) [FD]
Line_47 $$ keyStr = cmd.getOptionValue("k") --> Line_104 $$ if (dht.put((short) appId, keyStr.getBytes(), value, ttl, secretStr.getBytes()) < 0) [FD]
Line_23 $$ String secretStr = null --> Line_104 $$ if (dht.put((short) appId, keyStr.getBytes(), value, ttl, secretStr.getBytes()) < 0) [FD]
Line_53 $$ secretStr = cmd.getOptionValue("s") --> Line_104 $$ if (dht.put((short) appId, keyStr.getBytes(), value, ttl, secretStr.getBytes()) < 0) [FD]
Line_104 $$ if (dht.put((short) appId, keyStr.getBytes(), value, ttl, secretStr.getBytes()) < 0) --> Line_105 $$ logger.info("There was an error while putting a key-value.") [CD]
Line_104 $$ if (dht.put((short) appId, keyStr.getBytes(), value, ttl, secretStr.getBytes()) < 0) --> Line_106 $$ System.exit(0) [CD]
Line_78 $$ if (mode.equals("put")) --> Line_108 $$ System.out.println("Ok!") [CD]
Line_78 $$ if (mode.equals("put")) --> Line_109 $$ if (mode.equals("get")) [CD]
Line_22 $$ String mode = null --> Line_109 $$ if (mode.equals("get")) [FD]
Line_29 $$ mode = "join" --> Line_109 $$ if (mode.equals("get")) [FD]
Line_32 $$ mode = "put" --> Line_109 $$ if (mode.equals("get")) [FD]
Line_35 $$ mode = "get" --> Line_109 $$ if (mode.equals("get")) [FD]
Line_38 $$ mode = "remove" --> Line_109 $$ if (mode.equals("get")) [FD]
Line_41 $$ mode = "update" --> Line_109 $$ if (mode.equals("get")) [FD]
Line_109 $$ if (mode.equals("get")) --> Line_110 $$ if (file == null) [CD]
Line_26 $$ String file = null --> Line_110 $$ if (file == null) [FD]
Line_50 $$ file = cmd.getOptionValue("f") --> Line_110 $$ if (file == null) [FD]
Line_110 $$ if (file == null) --> Line_111 $$ System.err.println("ERROR: --file is required") [CD]
Line_110 $$ if (file == null) --> Line_113 $$ formatter.printHelp("DHT", options) [CD]
Line_63 $$ HelpFormatter formatter = new HelpFormatter() --> Line_113 $$ formatter.printHelp("DHT", options) [FD]
Line_7 $$ Options options = new Options() --> Line_113 $$ formatter.printHelp("DHT", options) [FD]
Line_110 $$ if (file == null) --> Line_114 $$ System.exit(1) [CD]
Line_109 $$ if (mode.equals("get")) --> Line_116 $$ if (keyStr == null) [CD]
Line_25 $$ String keyStr = null --> Line_116 $$ if (keyStr == null) [FD]
Line_47 $$ keyStr = cmd.getOptionValue("k") --> Line_116 $$ if (keyStr == null) [FD]
Line_116 $$ if (keyStr == null) --> Line_117 $$ System.err.println("ERROR: --key is required") [CD]
Line_116 $$ if (keyStr == null) --> Line_119 $$ formatter.printHelp("DHT", options) [CD]
Line_63 $$ HelpFormatter formatter = new HelpFormatter() --> Line_119 $$ formatter.printHelp("DHT", options) [FD]
Line_7 $$ Options options = new Options() --> Line_119 $$ formatter.printHelp("DHT", options) [FD]
Line_116 $$ if (keyStr == null) --> Line_120 $$ System.exit(1) [CD]
Line_109 $$ if (mode.equals("get")) --> Line_122 $$ logger.info("getting file " + file) [CD]
Line_109 $$ if (mode.equals("get")) --> Line_123 $$ ArrayList<byte[]> values = new ArrayList<byte[]>() [CD]
Line_109 $$ if (mode.equals("get")) --> Line_124 $$ if (dht.get((short) appId, keyStr.getBytes(), Integer.MAX_VALUE, values) < 0) [CD]
Line_75 $$ DHT dht = new DHT(conf) --> Line_124 $$ if (dht.get((short) appId, keyStr.getBytes(), Integer.MAX_VALUE, values) < 0) [FD]
Line_123 $$ ArrayList<byte[]> values = new ArrayList<byte[]>() --> Line_124 $$ if (dht.get((short) appId, keyStr.getBytes(), Integer.MAX_VALUE, values) < 0) [FD]
Line_25 $$ String keyStr = null --> Line_124 $$ if (dht.get((short) appId, keyStr.getBytes(), Integer.MAX_VALUE, values) < 0) [FD]
Line_47 $$ keyStr = cmd.getOptionValue("k") --> Line_124 $$ if (dht.get((short) appId, keyStr.getBytes(), Integer.MAX_VALUE, values) < 0) [FD]
Line_124 $$ if (dht.get((short) appId, keyStr.getBytes(), Integer.MAX_VALUE, values) < 0) --> Line_125 $$ logger.info("There was an error while getting a value.") [CD]
Line_124 $$ if (dht.get((short) appId, keyStr.getBytes(), Integer.MAX_VALUE, values) < 0) --> Line_126 $$ System.exit(0) [CD]
Line_109 $$ if (mode.equals("get")) --> Line_128 $$ if (values.size() == 0 || values == null) [CD]
Line_123 $$ ArrayList<byte[]> values = new ArrayList<byte[]>() --> Line_128 $$ if (values.size() == 0 || values == null) [FD]
Line_128 $$ if (values.size() == 0 || values == null) --> Line_129 $$ System.out.println("No values returned.") [CD]
Line_128 $$ if (values.size() == 0 || values == null) --> Line_130 $$ System.exit(0) [CD]
Line_109 $$ if (mode.equals("get")) --> Line_132 $$ FileOutputStream out = new FileOutputStream(file) [CD]
Line_109 $$ if (mode.equals("get")) --> Line_133 $$ System.out.println("Found " + values.size() + " values -- saving the first one only.") [CD]
Line_123 $$ ArrayList<byte[]> values = new ArrayList<byte[]>() --> Line_133 $$ System.out.println("Found " + values.size() + " values -- saving the first one only.") [FD]
Line_109 $$ if (mode.equals("get")) --> Line_134 $$ out.write(values.get(0)) [CD]
Line_132 $$ FileOutputStream out = new FileOutputStream(file) --> Line_134 $$ out.write(values.get(0)) [FD]
Line_123 $$ ArrayList<byte[]> values = new ArrayList<byte[]>() --> Line_134 $$ out.write(values.get(0)) [FD]
Line_109 $$ if (mode.equals("get")) --> Line_135 $$ out.close() [CD]
Line_132 $$ FileOutputStream out = new FileOutputStream(file) --> Line_135 $$ out.close() [FD]
Line_109 $$ if (mode.equals("get")) --> Line_136 $$ System.out.println("Ok!") [CD]
Line_109 $$ if (mode.equals("get")) --> Line_137 $$ if (mode.equals("remove")) [CD]
Line_22 $$ String mode = null --> Line_137 $$ if (mode.equals("remove")) [FD]
Line_29 $$ mode = "join" --> Line_137 $$ if (mode.equals("remove")) [FD]
Line_32 $$ mode = "put" --> Line_137 $$ if (mode.equals("remove")) [FD]
Line_35 $$ mode = "get" --> Line_137 $$ if (mode.equals("remove")) [FD]
Line_38 $$ mode = "remove" --> Line_137 $$ if (mode.equals("remove")) [FD]
Line_41 $$ mode = "update" --> Line_137 $$ if (mode.equals("remove")) [FD]
Line_137 $$ if (mode.equals("remove")) --> Line_138 $$ if (keyStr == null) [CD]
Line_25 $$ String keyStr = null --> Line_138 $$ if (keyStr == null) [FD]
Line_47 $$ keyStr = cmd.getOptionValue("k") --> Line_138 $$ if (keyStr == null) [FD]
Line_138 $$ if (keyStr == null) --> Line_139 $$ System.err.println("ERROR: --key is required") [CD]
Line_138 $$ if (keyStr == null) --> Line_141 $$ formatter.printHelp("DHT", options) [CD]
Line_63 $$ HelpFormatter formatter = new HelpFormatter() --> Line_141 $$ formatter.printHelp("DHT", options) [FD]
Line_7 $$ Options options = new Options() --> Line_141 $$ formatter.printHelp("DHT", options) [FD]
Line_138 $$ if (keyStr == null) --> Line_142 $$ System.exit(1) [CD]
Line_137 $$ if (mode.equals("remove")) --> Line_144 $$ if (secretStr == null) [CD]
Line_23 $$ String secretStr = null --> Line_144 $$ if (secretStr == null) [FD]
Line_53 $$ secretStr = cmd.getOptionValue("s") --> Line_144 $$ if (secretStr == null) [FD]
Line_144 $$ if (secretStr == null) --> Line_145 $$ System.err.println("ERROR: --secret is required") [CD]
Line_144 $$ if (secretStr == null) --> Line_147 $$ formatter.printHelp("DHT", options) [CD]
Line_63 $$ HelpFormatter formatter = new HelpFormatter() --> Line_147 $$ formatter.printHelp("DHT", options) [FD]
Line_7 $$ Options options = new Options() --> Line_147 $$ formatter.printHelp("DHT", options) [FD]
Line_144 $$ if (secretStr == null) --> Line_148 $$ System.exit(1) [CD]
Line_137 $$ if (mode.equals("remove")) --> Line_150 $$ logger.info("removing <key,value> for key=" + keyStr) [CD]
Line_137 $$ if (mode.equals("remove")) --> Line_151 $$ if (dht.remove((short) appId, keyStr.getBytes(), secretStr.getBytes()) < 0) [CD]
Line_75 $$ DHT dht = new DHT(conf) --> Line_151 $$ if (dht.remove((short) appId, keyStr.getBytes(), secretStr.getBytes()) < 0) [FD]
Line_25 $$ String keyStr = null --> Line_151 $$ if (dht.remove((short) appId, keyStr.getBytes(), secretStr.getBytes()) < 0) [FD]
Line_47 $$ keyStr = cmd.getOptionValue("k") --> Line_151 $$ if (dht.remove((short) appId, keyStr.getBytes(), secretStr.getBytes()) < 0) [FD]
Line_23 $$ String secretStr = null --> Line_151 $$ if (dht.remove((short) appId, keyStr.getBytes(), secretStr.getBytes()) < 0) [FD]
Line_53 $$ secretStr = cmd.getOptionValue("s") --> Line_151 $$ if (dht.remove((short) appId, keyStr.getBytes(), secretStr.getBytes()) < 0) [FD]
Line_151 $$ if (dht.remove((short) appId, keyStr.getBytes(), secretStr.getBytes()) < 0) --> Line_152 $$ logger.info("There was an error while removing a key.") [CD]
Line_151 $$ if (dht.remove((short) appId, keyStr.getBytes(), secretStr.getBytes()) < 0) --> Line_153 $$ System.exit(0) [CD]
Line_137 $$ if (mode.equals("remove")) --> Line_155 $$ System.out.println("Ok!") [CD]
Line_137 $$ if (mode.equals("remove")) --> Line_156 $$ if (mode.equals("update")) [CD]
Line_22 $$ String mode = null --> Line_156 $$ if (mode.equals("update")) [FD]
Line_29 $$ mode = "join" --> Line_156 $$ if (mode.equals("update")) [FD]
Line_32 $$ mode = "put" --> Line_156 $$ if (mode.equals("update")) [FD]
Line_35 $$ mode = "get" --> Line_156 $$ if (mode.equals("update")) [FD]
Line_38 $$ mode = "remove" --> Line_156 $$ if (mode.equals("update")) [FD]
Line_41 $$ mode = "update" --> Line_156 $$ if (mode.equals("update")) [FD]
Line_156 $$ if (mode.equals("update")) --> Line_157 $$ if (keyStr == null) [CD]
Line_25 $$ String keyStr = null --> Line_157 $$ if (keyStr == null) [FD]
Line_47 $$ keyStr = cmd.getOptionValue("k") --> Line_157 $$ if (keyStr == null) [FD]
Line_157 $$ if (keyStr == null) --> Line_158 $$ System.err.println("ERROR: --key is required") [CD]
Line_157 $$ if (keyStr == null) --> Line_160 $$ formatter.printHelp("DHT", options) [CD]
Line_63 $$ HelpFormatter formatter = new HelpFormatter() --> Line_160 $$ formatter.printHelp("DHT", options) [FD]
Line_7 $$ Options options = new Options() --> Line_160 $$ formatter.printHelp("DHT", options) [FD]
Line_157 $$ if (keyStr == null) --> Line_161 $$ System.exit(1) [CD]
Line_156 $$ if (mode.equals("update")) --> Line_163 $$ logger.info("updating <key,value> for key=" + keyStr) [CD]
Line_156 $$ if (mode.equals("update")) --> Line_164 $$ if (dht.updateLease((short) appId, keyStr.getBytes(), ttl) < 0) [CD]
Line_75 $$ DHT dht = new DHT(conf) --> Line_164 $$ if (dht.updateLease((short) appId, keyStr.getBytes(), ttl) < 0) [FD]
Line_24 $$ int ttl = 9999 --> Line_164 $$ if (dht.updateLease((short) appId, keyStr.getBytes(), ttl) < 0) [FD]
Line_56 $$ ttl = Integer.parseInt(cmd.getOptionValue("t")) --> Line_164 $$ if (dht.updateLease((short) appId, keyStr.getBytes(), ttl) < 0) [FD]
Line_25 $$ String keyStr = null --> Line_164 $$ if (dht.updateLease((short) appId, keyStr.getBytes(), ttl) < 0) [FD]
Line_47 $$ keyStr = cmd.getOptionValue("k") --> Line_164 $$ if (dht.updateLease((short) appId, keyStr.getBytes(), ttl) < 0) [FD]
Line_164 $$ if (dht.updateLease((short) appId, keyStr.getBytes(), ttl) < 0) --> Line_165 $$ logger.info("There was an error while updating data lease.") [CD]
Line_164 $$ if (dht.updateLease((short) appId, keyStr.getBytes(), ttl) < 0) --> Line_166 $$ System.exit(0) [CD]
Line_156 $$ if (mode.equals("update")) --> Line_168 $$ System.out.println("Ok!") [CD]
Line_2 $$ public static void main(String[] args) throws Exception --> Line_170 $$ DHT.getInstance().stop() [CD]
