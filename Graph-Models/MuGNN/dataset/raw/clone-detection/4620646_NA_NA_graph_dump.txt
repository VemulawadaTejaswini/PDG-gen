Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_3 $$ String level = "info." [CD]
Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_4 $$ if (ConnectorServlet.debug) [CD]
Line_3 $$ String level = "info." --> Line_4 $$ if (ConnectorServlet.debug) [FD]
Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_5 $$ Log log = LogFactory.getLog(level + "fr.brgm.exows.gml2gsml.Gml2Gsml") [CD]
Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_6 $$ log.debug(strRequest) [CD]
Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_6 $$ log.debug(strRequest) [FD]
Line_5 $$ Log log = LogFactory.getLog(level + "fr.brgm.exows.gml2gsml.Gml2Gsml") --> Line_6 $$ log.debug(strRequest) [FD]
Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_7 $$ String tagFeature = "FIELDS" [CD]
Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_8 $$ URL url2Request = new URL(strRequest) [CD]
Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_9 $$ URLConnection conn = url2Request.openConnection() [CD]
Line_8 $$ URL url2Request = new URL(strRequest) --> Line_9 $$ URLConnection conn = url2Request.openConnection() [FD]
Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_10 $$ Date dDebut = new Date() [CD]
Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_11 $$ BufferedReader buffin = new BufferedReader(new InputStreamReader(conn.getInputStream())) [CD]
Line_9 $$ URLConnection conn = url2Request.openConnection() --> Line_11 $$ BufferedReader buffin = new BufferedReader(new InputStreamReader(conn.getInputStream())) [FD]
Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_12 $$ String strLine = null [CD]
Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_13 $$ int nbFeatures = 0 [CD]
Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_14 $$ Template template = VelocityCreator.createTemplate("/fr/brgm/exows/gml2gsml/templates/" + strTemplate) [CD]
Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_15 $$ while ((strLine = buffin.readLine()) != null) [CD]
Line_12 $$ String strLine = null --> Line_15 $$ while ((strLine = buffin.readLine()) != null) [FD]
Line_11 $$ BufferedReader buffin = new BufferedReader(new InputStreamReader(conn.getInputStream())) --> Line_15 $$ while ((strLine = buffin.readLine()) != null) [FD]
Line_15 $$ while ((strLine = buffin.readLine()) != null) --> Line_16 $$ if (strLine.indexOf(tagFeature) != -1) [CD]
Line_15 $$ while ((strLine = buffin.readLine()) != null) --> Line_16 $$ if (strLine.indexOf(tagFeature) != -1) [FD]
Line_12 $$ String strLine = null --> Line_16 $$ if (strLine.indexOf(tagFeature) != -1) [FD]
Line_7 $$ String tagFeature = "FIELDS" --> Line_16 $$ if (strLine.indexOf(tagFeature) != -1) [FD]
Line_16 $$ if (strLine.indexOf(tagFeature) != -1) --> Line_17 $$ nbFeatures++ [CD]
Line_13 $$ int nbFeatures = 0 --> Line_17 $$ nbFeatures++ [FD]
Line_16 $$ if (strLine.indexOf(tagFeature) != -1) --> Line_18 $$ GSMLFeatureGeneric feature = createGSMLFeatureFromGMLFeatureString(mapping, strLine) [CD]
Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_18 $$ GSMLFeatureGeneric feature = createGSMLFeatureFromGMLFeatureString(mapping, strLine) [FD]
Line_15 $$ while ((strLine = buffin.readLine()) != null) --> Line_18 $$ GSMLFeatureGeneric feature = createGSMLFeatureFromGMLFeatureString(mapping, strLine) [FD]
Line_12 $$ String strLine = null --> Line_18 $$ GSMLFeatureGeneric feature = createGSMLFeatureFromGMLFeatureString(mapping, strLine) [FD]
Line_16 $$ if (strLine.indexOf(tagFeature) != -1) --> Line_19 $$ VelocityContext context = new VelocityContext() [CD]
Line_16 $$ if (strLine.indexOf(tagFeature) != -1) --> Line_20 $$ context.put("feature", feature) [CD]
Line_19 $$ VelocityContext context = new VelocityContext() --> Line_20 $$ context.put("feature", feature) [FD]
Line_18 $$ GSMLFeatureGeneric feature = createGSMLFeatureFromGMLFeatureString(mapping, strLine) --> Line_20 $$ context.put("feature", feature) [FD]
Line_16 $$ if (strLine.indexOf(tagFeature) != -1) --> Line_21 $$ String outputFeatureMember = VelocityCreator.createXMLbyContext(context, template) [CD]
Line_19 $$ VelocityContext context = new VelocityContext() --> Line_21 $$ String outputFeatureMember = VelocityCreator.createXMLbyContext(context, template) [FD]
Line_14 $$ Template template = VelocityCreator.createTemplate("/fr/brgm/exows/gml2gsml/templates/" + strTemplate) --> Line_21 $$ String outputFeatureMember = VelocityCreator.createXMLbyContext(context, template) [FD]
Line_16 $$ if (strLine.indexOf(tagFeature) != -1) --> Line_22 $$ sortie.println(outputFeatureMember) [CD]
Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_22 $$ sortie.println(outputFeatureMember) [FD]
Line_21 $$ String outputFeatureMember = VelocityCreator.createXMLbyContext(context, template) --> Line_22 $$ sortie.println(outputFeatureMember) [FD]
Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_25 $$ buffin.close() [CD]
Line_11 $$ BufferedReader buffin = new BufferedReader(new InputStreamReader(conn.getInputStream())) --> Line_25 $$ buffin.close() [FD]
Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_26 $$ Date dFin = new Date() [CD]
Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_27 $$ String output = "GEOSCIML : " + nbFeatures + " features handled - time : " + (dFin.getTime() - dDebut.getTime()) / 1000 + " [" + dDebut + " // " + dFin + "]" [CD]
Line_26 $$ Date dFin = new Date() --> Line_27 $$ String output = "GEOSCIML : " + nbFeatures + " features handled - time : " + (dFin.getTime() - dDebut.getTime()) / 1000 + " [" + dDebut + " // " + dFin + "]" [FD]
Line_10 $$ Date dDebut = new Date() --> Line_27 $$ String output = "GEOSCIML : " + nbFeatures + " features handled - time : " + (dFin.getTime() - dDebut.getTime()) / 1000 + " [" + dDebut + " // " + dFin + "]" [FD]
Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_28 $$ log.trace(output) [CD]
Line_5 $$ Log log = LogFactory.getLog(level + "fr.brgm.exows.gml2gsml.Gml2Gsml") --> Line_28 $$ log.trace(output) [FD]
Line_27 $$ String output = "GEOSCIML : " + nbFeatures + " features handled - time : " + (dFin.getTime() - dDebut.getTime()) / 1000 + " [" + dDebut + " // " + dFin + "]" --> Line_28 $$ log.trace(output) [FD]
Line_2 $$ public static int ToGSML(GeoSciML_Mapping mapping, String strTemplate, String strRequest, PrintWriter sortie, String requestedSRS) throws Exception --> Line_29 $$ return nbFeatures [CD]
