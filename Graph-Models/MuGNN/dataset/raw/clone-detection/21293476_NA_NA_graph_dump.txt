Line_2 $$ public void addGames(List<Game> games) throws StadiumException, SQLException --> Line_3 $$ Connection conn = ConnectionManager.getManager().getConnection() [CD]
Line_2 $$ public void addGames(List<Game> games) throws StadiumException, SQLException --> Line_4 $$ conn.setAutoCommit(false) [CD]
Line_3 $$ Connection conn = ConnectionManager.getManager().getConnection() --> Line_4 $$ conn.setAutoCommit(false) [FD]
Line_2 $$ public void addGames(List<Game> games) throws StadiumException, SQLException --> Line_5 $$ PreparedStatement stm = null [CD]
Line_2 $$ public void addGames(List<Game> games) throws StadiumException, SQLException --> Line_6 $$ ResultSet rs = null [CD]
Line_5 $$ PreparedStatement stm = null --> Line_9 $$ stm = conn.prepareStatement(Statements.SELECT_STADIUM) [FD]
Line_3 $$ Connection conn = ConnectionManager.getManager().getConnection() --> Line_9 $$ stm = conn.prepareStatement(Statements.SELECT_STADIUM) [FD]
Line_5 $$ PreparedStatement stm = null --> Line_10 $$ stm.setString(1, game.getStadiumName()) [FD]
Line_9 $$ stm = conn.prepareStatement(Statements.SELECT_STADIUM) --> Line_10 $$ stm.setString(1, game.getStadiumName()) [FD]
Line_8 $$ for (Game game : games) --> Line_10 $$ stm.setString(1, game.getStadiumName()) [FD]
Line_5 $$ PreparedStatement stm = null --> Line_11 $$ stm.setString(2, game.getStadiumCity()) [FD]
Line_9 $$ stm = conn.prepareStatement(Statements.SELECT_STADIUM) --> Line_11 $$ stm.setString(2, game.getStadiumCity()) [FD]
Line_8 $$ for (Game game : games) --> Line_11 $$ stm.setString(2, game.getStadiumCity()) [FD]
Line_6 $$ ResultSet rs = null --> Line_12 $$ rs = stm.executeQuery() [FD]
Line_5 $$ PreparedStatement stm = null --> Line_12 $$ rs = stm.executeQuery() [FD]
Line_9 $$ stm = conn.prepareStatement(Statements.SELECT_STADIUM) --> Line_12 $$ rs = stm.executeQuery() [FD]
Line_6 $$ ResultSet rs = null --> Line_14 $$ while (rs.next()) [FD]
Line_12 $$ rs = stm.executeQuery() --> Line_14 $$ while (rs.next()) [FD]
Line_14 $$ while (rs.next()) --> Line_15 $$ stadiumId = rs.getInt("stadiumID") [CD]
Line_13 $$ int stadiumId = -1 --> Line_15 $$ stadiumId = rs.getInt("stadiumID") [FD]
Line_6 $$ ResultSet rs = null --> Line_15 $$ stadiumId = rs.getInt("stadiumID") [FD]
Line_12 $$ rs = stm.executeQuery() --> Line_15 $$ stadiumId = rs.getInt("stadiumID") [FD]
Line_15 $$ stadiumId = rs.getInt("stadiumID") --> Line_17 $$ if (stadiumId == -1) [FD]
Line_13 $$ int stadiumId = -1 --> Line_17 $$ if (stadiumId == -1) [FD]
Line_5 $$ PreparedStatement stm = null --> Line_18 $$ stm = conn.prepareStatement(Statements.INSERT_GAME) [FD]
Line_9 $$ stm = conn.prepareStatement(Statements.SELECT_STADIUM) --> Line_18 $$ stm = conn.prepareStatement(Statements.INSERT_GAME) [FD]
Line_3 $$ Connection conn = ConnectionManager.getManager().getConnection() --> Line_18 $$ stm = conn.prepareStatement(Statements.INSERT_GAME) [FD]
Line_5 $$ PreparedStatement stm = null --> Line_19 $$ stm.setInt(1, stadiumId) [FD]
Line_9 $$ stm = conn.prepareStatement(Statements.SELECT_STADIUM) --> Line_19 $$ stm.setInt(1, stadiumId) [FD]
Line_18 $$ stm = conn.prepareStatement(Statements.INSERT_GAME) --> Line_19 $$ stm.setInt(1, stadiumId) [FD]
Line_15 $$ stadiumId = rs.getInt("stadiumID") --> Line_19 $$ stm.setInt(1, stadiumId) [FD]
Line_13 $$ int stadiumId = -1 --> Line_19 $$ stm.setInt(1, stadiumId) [FD]
Line_5 $$ PreparedStatement stm = null --> Line_20 $$ stm.setDate(2, game.getGameDate()) [FD]
Line_9 $$ stm = conn.prepareStatement(Statements.SELECT_STADIUM) --> Line_20 $$ stm.setDate(2, game.getGameDate()) [FD]
Line_18 $$ stm = conn.prepareStatement(Statements.INSERT_GAME) --> Line_20 $$ stm.setDate(2, game.getGameDate()) [FD]
Line_8 $$ for (Game game : games) --> Line_20 $$ stm.setDate(2, game.getGameDate()) [FD]
Line_5 $$ PreparedStatement stm = null --> Line_21 $$ stm.setTime(3, game.getGameTime()) [FD]
Line_9 $$ stm = conn.prepareStatement(Statements.SELECT_STADIUM) --> Line_21 $$ stm.setTime(3, game.getGameTime()) [FD]
Line_18 $$ stm = conn.prepareStatement(Statements.INSERT_GAME) --> Line_21 $$ stm.setTime(3, game.getGameTime()) [FD]
Line_8 $$ for (Game game : games) --> Line_21 $$ stm.setTime(3, game.getGameTime()) [FD]
Line_5 $$ PreparedStatement stm = null --> Line_22 $$ stm.setString(4, game.getTeamA()) [FD]
Line_9 $$ stm = conn.prepareStatement(Statements.SELECT_STADIUM) --> Line_22 $$ stm.setString(4, game.getTeamA()) [FD]
Line_18 $$ stm = conn.prepareStatement(Statements.INSERT_GAME) --> Line_22 $$ stm.setString(4, game.getTeamA()) [FD]
Line_8 $$ for (Game game : games) --> Line_22 $$ stm.setString(4, game.getTeamA()) [FD]
Line_5 $$ PreparedStatement stm = null --> Line_23 $$ stm.setString(5, game.getTeamB()) [FD]
Line_9 $$ stm = conn.prepareStatement(Statements.SELECT_STADIUM) --> Line_23 $$ stm.setString(5, game.getTeamB()) [FD]
Line_18 $$ stm = conn.prepareStatement(Statements.INSERT_GAME) --> Line_23 $$ stm.setString(5, game.getTeamB()) [FD]
Line_8 $$ for (Game game : games) --> Line_23 $$ stm.setString(5, game.getTeamB()) [FD]
Line_5 $$ PreparedStatement stm = null --> Line_24 $$ stm.executeUpdate() [FD]
Line_9 $$ stm = conn.prepareStatement(Statements.SELECT_STADIUM) --> Line_24 $$ stm.executeUpdate() [FD]
Line_18 $$ stm = conn.prepareStatement(Statements.INSERT_GAME) --> Line_24 $$ stm.executeUpdate() [FD]
Line_8 $$ for (Game game : games) --> Line_26 $$ List<SectorPrice> sectorPrices = game.getSectorPrices() [FD]
Line_5 $$ PreparedStatement stm = null --> Line_28 $$ stm = conn.prepareStatement(Statements.INSERT_TICKET_PRICE) [FD]
Line_9 $$ stm = conn.prepareStatement(Statements.SELECT_STADIUM) --> Line_28 $$ stm = conn.prepareStatement(Statements.INSERT_TICKET_PRICE) [FD]
Line_18 $$ stm = conn.prepareStatement(Statements.INSERT_GAME) --> Line_28 $$ stm = conn.prepareStatement(Statements.INSERT_TICKET_PRICE) [FD]
Line_3 $$ Connection conn = ConnectionManager.getManager().getConnection() --> Line_28 $$ stm = conn.prepareStatement(Statements.INSERT_TICKET_PRICE) [FD]
Line_5 $$ PreparedStatement stm = null --> Line_29 $$ stm.setInt(1, gameId) [FD]
Line_9 $$ stm = conn.prepareStatement(Statements.SELECT_STADIUM) --> Line_29 $$ stm.setInt(1, gameId) [FD]
Line_18 $$ stm = conn.prepareStatement(Statements.INSERT_GAME) --> Line_29 $$ stm.setInt(1, gameId) [FD]
Line_28 $$ stm = conn.prepareStatement(Statements.INSERT_TICKET_PRICE) --> Line_29 $$ stm.setInt(1, gameId) [FD]
Line_25 $$ int gameId = getMaxId() --> Line_29 $$ stm.setInt(1, gameId) [FD]
Line_5 $$ PreparedStatement stm = null --> Line_30 $$ stm.setInt(2, price.getSectorId()) [FD]
Line_9 $$ stm = conn.prepareStatement(Statements.SELECT_STADIUM) --> Line_30 $$ stm.setInt(2, price.getSectorId()) [FD]
Line_18 $$ stm = conn.prepareStatement(Statements.INSERT_GAME) --> Line_30 $$ stm.setInt(2, price.getSectorId()) [FD]
Line_28 $$ stm = conn.prepareStatement(Statements.INSERT_TICKET_PRICE) --> Line_30 $$ stm.setInt(2, price.getSectorId()) [FD]
Line_27 $$ for (SectorPrice price : sectorPrices) --> Line_30 $$ stm.setInt(2, price.getSectorId()) [FD]
Line_5 $$ PreparedStatement stm = null --> Line_31 $$ stm.setInt(3, price.getPrice()) [FD]
Line_9 $$ stm = conn.prepareStatement(Statements.SELECT_STADIUM) --> Line_31 $$ stm.setInt(3, price.getPrice()) [FD]
Line_18 $$ stm = conn.prepareStatement(Statements.INSERT_GAME) --> Line_31 $$ stm.setInt(3, price.getPrice()) [FD]
Line_28 $$ stm = conn.prepareStatement(Statements.INSERT_TICKET_PRICE) --> Line_31 $$ stm.setInt(3, price.getPrice()) [FD]
Line_27 $$ for (SectorPrice price : sectorPrices) --> Line_31 $$ stm.setInt(3, price.getPrice()) [FD]
Line_5 $$ PreparedStatement stm = null --> Line_32 $$ stm.executeUpdate() [FD]
Line_9 $$ stm = conn.prepareStatement(Statements.SELECT_STADIUM) --> Line_32 $$ stm.executeUpdate() [FD]
Line_18 $$ stm = conn.prepareStatement(Statements.INSERT_GAME) --> Line_32 $$ stm.executeUpdate() [FD]
Line_28 $$ stm = conn.prepareStatement(Statements.INSERT_TICKET_PRICE) --> Line_32 $$ stm.executeUpdate() [FD]
Line_3 $$ Connection conn = ConnectionManager.getManager().getConnection() --> Line_36 $$ conn.rollback() [FD]
Line_6 $$ ResultSet rs = null --> Line_39 $$ rs.close() [FD]
Line_12 $$ rs = stm.executeQuery() --> Line_39 $$ rs.close() [FD]
Line_5 $$ PreparedStatement stm = null --> Line_40 $$ stm.close() [FD]
Line_9 $$ stm = conn.prepareStatement(Statements.SELECT_STADIUM) --> Line_40 $$ stm.close() [FD]
Line_18 $$ stm = conn.prepareStatement(Statements.INSERT_GAME) --> Line_40 $$ stm.close() [FD]
Line_28 $$ stm = conn.prepareStatement(Statements.INSERT_TICKET_PRICE) --> Line_40 $$ stm.close() [FD]
Line_2 $$ public void addGames(List<Game> games) throws StadiumException, SQLException --> Line_42 $$ conn.commit() [CD]
Line_3 $$ Connection conn = ConnectionManager.getManager().getConnection() --> Line_42 $$ conn.commit() [FD]
Line_2 $$ public void addGames(List<Game> games) throws StadiumException, SQLException --> Line_43 $$ conn.setAutoCommit(true) [CD]
Line_3 $$ Connection conn = ConnectionManager.getManager().getConnection() --> Line_43 $$ conn.setAutoCommit(true) [FD]
