Line_7 $$ for (Path stateFile : stream) -->Line_8 $$ throw new IllegalStateException("Detected pre 0.19 shard state file please upgrade to a version before " + Version.CURRENT.minimumCompatibilityVersion() + " first to upgrade state structures - shard state found: [" + stateFile.getParent().toAbsolutePath())[ FD ]
Line_4 $$ final Path stateLocation = dataLocation.resolve(MetaDataStateFormat.STATE_DIR_NAME)-->Line_5 $$ if (Files.exists(stateLocation)) [ FD ]
Line_4 $$ final Path stateLocation = dataLocation.resolve(MetaDataStateFormat.STATE_DIR_NAME)-->Line_6 $$ try (DirectoryStream<Path> stream = Files.newDirectoryStream(stateLocation, "shards-*")) [ FD ]
Line_3 $$ for (Path dataLocation : nodeEnv.nodeDataPaths()) -->Line_4 $$ final Path stateLocation = dataLocation.resolve(MetaDataStateFormat.STATE_DIR_NAME)[ FD ]
Line_2 $$ private void ensureNoPre019ShardState(NodeEnvironment nodeEnv) throws Exception -->Line_3 $$ for (Path dataLocation : nodeEnv.nodeDataPaths()) [ FD ]
