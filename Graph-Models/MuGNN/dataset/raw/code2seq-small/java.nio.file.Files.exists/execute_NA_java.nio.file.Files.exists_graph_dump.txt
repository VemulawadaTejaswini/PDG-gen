Line_2 $$ public CliTool.ExitStatus execute(Settings settings, Environment env) throws Exception -->Line_24 $$ CliTool.ExitStatus status = doExecute(settings, env)[ CD ]
Line_2 $$ public CliTool.ExitStatus execute(Settings settings, Environment env) throws Exception -->Line_9 $$ Map<Path, String> groups = new HashMap(paths.length)[ CD ]
Line_51 $$ String groupAfterWrite = Files.readAttributes(entry.getKey(), PosixFileAttributes.class).group().getName()-->Line_52 $$ if (!groupAfterWrite.equals(groupBeforeWrite)) [ FD ]
Line_50 $$ String groupBeforeWrite = entry.getValue()-->Line_52 $$ if (!groupAfterWrite.equals(groupBeforeWrite)) [ FD ]
Line_40 $$ String ownerBeforeWrite = entry.getValue()-->Line_42 $$ if (!ownerAfterWrite.equals(ownerBeforeWrite)) [ FD ]
Line_2 $$ public CliTool.ExitStatus execute(Settings settings, Environment env) throws Exception -->Line_24 $$ CliTool.ExitStatus status = doExecute(settings, env)[ FD ]
Line_9 $$ Map<Path, String> groups = new HashMap(paths.length)-->Line_18 $$ groups.put(path, attributes.group().getName())[ FD ]
Line_25 $$ for (Map.Entry<Path, Set<PosixFilePermission>> entry : permissions.entrySet()) -->Line_50 $$ String groupBeforeWrite = entry.getValue()[ FD ]
Line_8 $$ Map<Path, String> owners = new HashMap(paths.length)-->Line_17 $$ owners.put(path, attributes.owner().getName())[ FD ]
Line_14 $$ if (supportsPosixPermissions) -->Line_15 $$ PosixFileAttributes attributes = Files.readAttributes(path, PosixFileAttributes.class)[ CD ]
Line_25 $$ for (Map.Entry<Path, Set<PosixFilePermission>> entry : permissions.entrySet()) -->Line_32 $$ terminal.printWarn("The file permissions of [%s] have changed from [%s] to [%s]", entry.getKey(), PosixFilePermissions.toString(permissionsBeforeWrite), PosixFilePermissions.toString(permissionsAfterWrite))[ FD ]
Line_25 $$ for (Map.Entry<Path, Set<PosixFilePermission>> entry : permissions.entrySet()) -->Line_37 $$ if (!Files.exists(entry.getKey())) [ FD ]
Line_15 $$ PosixFileAttributes attributes = Files.readAttributes(path, PosixFileAttributes.class)-->Line_18 $$ groups.put(path, attributes.group().getName())[ FD ]
Line_25 $$ for (Map.Entry<Path, Set<PosixFilePermission>> entry : permissions.entrySet()) -->Line_53 $$ terminal.printWarn("WARN: Group of file [%s] used to be [%s], but now is [%s]", entry.getKey(), groupBeforeWrite, groupAfterWrite)[ FD ]
Line_7 $$ Map<Path, Set<PosixFilePermission>> permissions = new HashMap(paths.length)-->Line_16 $$ permissions.put(path, attributes.permissions())[ FD ]
Line_11 $$ for (Path path : paths) -->Line_15 $$ PosixFileAttributes attributes = Files.readAttributes(path, PosixFileAttributes.class)[ FD ]
Line_2 $$ public CliTool.ExitStatus execute(Settings settings, Environment env) throws Exception -->Line_8 $$ Map<Path, String> owners = new HashMap(paths.length)[ CD ]
Line_2 $$ public CliTool.ExitStatus execute(Settings settings, Environment env) throws Exception -->Line_10 $$ if (paths != null && paths.length > 0) [ CD ]
Line_25 $$ for (Map.Entry<Path, Set<PosixFilePermission>> entry : permissions.entrySet()) -->Line_26 $$ if (!Files.exists(entry.getKey())) [ FD ]
Line_14 $$ if (supportsPosixPermissions) -->Line_17 $$ owners.put(path, attributes.owner().getName())[ CD ]
Line_25 $$ for (Map.Entry<Path, Set<PosixFilePermission>> entry : permissions.entrySet()) -->Line_40 $$ String ownerBeforeWrite = entry.getValue()[ FD ]
Line_42 $$ if (!ownerAfterWrite.equals(ownerBeforeWrite)) -->Line_43 $$ terminal.printWarn("WARN: Owner of file [%s] used to be [%s], but now is [%s]", entry.getKey(), ownerBeforeWrite, ownerAfterWrite)[ CD ]
Line_2 $$ public CliTool.ExitStatus execute(Settings settings, Environment env) throws Exception -->Line_5 $$ return doExecute(settings, env)[ FD ]
Line_31 $$ if (!permissionsBeforeWrite.equals(permissionsAfterWrite)) -->Line_32 $$ terminal.printWarn("The file permissions of [%s] have changed from [%s] to [%s]", entry.getKey(), PosixFilePermissions.toString(permissionsBeforeWrite), PosixFilePermissions.toString(permissionsAfterWrite))[ CD ]
Line_30 $$ Set<PosixFilePermission> permissionsAfterWrite = Files.getPosixFilePermissions(entry.getKey())-->Line_32 $$ terminal.printWarn("The file permissions of [%s] have changed from [%s] to [%s]", entry.getKey(), PosixFilePermissions.toString(permissionsBeforeWrite), PosixFilePermissions.toString(permissionsAfterWrite))[ FD ]
Line_15 $$ PosixFileAttributes attributes = Files.readAttributes(path, PosixFileAttributes.class)-->Line_16 $$ permissions.put(path, attributes.permissions())[ FD ]
Line_14 $$ if (supportsPosixPermissions) -->Line_16 $$ permissions.put(path, attributes.permissions())[ CD ]
Line_4 $$ if (paths == null || paths.length == 0) -->Line_5 $$ return doExecute(settings, env)[ CD ]
Line_9 $$ Map<Path, String> groups = new HashMap(paths.length)-->Line_46 $$ for (Map.Entry<Path, String> entry : groups.entrySet()) [ FD ]
Line_2 $$ public CliTool.ExitStatus execute(Settings settings, Environment env) throws Exception -->Line_3 $$ Path[] paths = pathsForPermissionsCheck(settings, env)[ CD ]
Line_14 $$ if (supportsPosixPermissions) -->Line_18 $$ groups.put(path, attributes.group().getName())[ CD ]
Line_2 $$ public CliTool.ExitStatus execute(Settings settings, Environment env) throws Exception -->Line_3 $$ Path[] paths = pathsForPermissionsCheck(settings, env)[ FD ]
Line_31 $$ if (!permissionsBeforeWrite.equals(permissionsAfterWrite)) -->Line_33 $$ terminal.printWarn("Please ensure that the user account running Elasticsearch has read access to this file!")[ CD ]
Line_25 $$ for (Map.Entry<Path, Set<PosixFilePermission>> entry : permissions.entrySet()) -->Line_43 $$ terminal.printWarn("WARN: Owner of file [%s] used to be [%s], but now is [%s]", entry.getKey(), ownerBeforeWrite, ownerAfterWrite)[ FD ]
Line_25 $$ for (Map.Entry<Path, Set<PosixFilePermission>> entry : permissions.entrySet()) -->Line_29 $$ Set<PosixFilePermission> permissionsBeforeWrite = entry.getValue()[ FD ]
Line_29 $$ Set<PosixFilePermission> permissionsBeforeWrite = entry.getValue()-->Line_31 $$ if (!permissionsBeforeWrite.equals(permissionsAfterWrite)) [ FD ]
Line_11 $$ for (Path path : paths) -->Line_16 $$ permissions.put(path, attributes.permissions())[ FD ]
Line_25 $$ for (Map.Entry<Path, Set<PosixFilePermission>> entry : permissions.entrySet()) -->Line_41 $$ String ownerAfterWrite = Files.getOwner(entry.getKey()).getName()[ FD ]
Line_25 $$ for (Map.Entry<Path, Set<PosixFilePermission>> entry : permissions.entrySet()) -->Line_30 $$ Set<PosixFilePermission> permissionsAfterWrite = Files.getPosixFilePermissions(entry.getKey())[ FD ]
Line_7 $$ Map<Path, Set<PosixFilePermission>> permissions = new HashMap(paths.length)-->Line_25 $$ for (Map.Entry<Path, Set<PosixFilePermission>> entry : permissions.entrySet()) [ FD ]
Line_50 $$ String groupBeforeWrite = entry.getValue()-->Line_53 $$ terminal.printWarn("WARN: Group of file [%s] used to be [%s], but now is [%s]", entry.getKey(), groupBeforeWrite, groupAfterWrite)[ FD ]
Line_29 $$ Set<PosixFilePermission> permissionsBeforeWrite = entry.getValue()-->Line_32 $$ terminal.printWarn("The file permissions of [%s] have changed from [%s] to [%s]", entry.getKey(), PosixFilePermissions.toString(permissionsBeforeWrite), PosixFilePermissions.toString(permissionsAfterWrite))[ FD ]
Line_11 $$ for (Path path : paths) -->Line_17 $$ owners.put(path, attributes.owner().getName())[ FD ]
Line_41 $$ String ownerAfterWrite = Files.getOwner(entry.getKey()).getName()-->Line_43 $$ terminal.printWarn("WARN: Owner of file [%s] used to be [%s], but now is [%s]", entry.getKey(), ownerBeforeWrite, ownerAfterWrite)[ FD ]
Line_52 $$ if (!groupAfterWrite.equals(groupBeforeWrite)) -->Line_53 $$ terminal.printWarn("WARN: Group of file [%s] used to be [%s], but now is [%s]", entry.getKey(), groupBeforeWrite, groupAfterWrite)[ CD ]
Line_15 $$ PosixFileAttributes attributes = Files.readAttributes(path, PosixFileAttributes.class)-->Line_17 $$ owners.put(path, attributes.owner().getName())[ FD ]
Line_51 $$ String groupAfterWrite = Files.readAttributes(entry.getKey(), PosixFileAttributes.class).group().getName()-->Line_53 $$ terminal.printWarn("WARN: Group of file [%s] used to be [%s], but now is [%s]", entry.getKey(), groupBeforeWrite, groupAfterWrite)[ FD ]
Line_11 $$ for (Path path : paths) -->Line_13 $$ boolean supportsPosixPermissions = Environment.getFileStore(path).supportsFileAttributeView(PosixFileAttributeView.class)[ FD ]
Line_11 $$ for (Path path : paths) -->Line_18 $$ groups.put(path, attributes.group().getName())[ FD ]
Line_2 $$ public CliTool.ExitStatus execute(Settings settings, Environment env) throws Exception -->Line_56 $$ return status[ CD ]
Line_25 $$ for (Map.Entry<Path, Set<PosixFilePermission>> entry : permissions.entrySet()) -->Line_47 $$ if (!Files.exists(entry.getKey())) [ FD ]
Line_41 $$ String ownerAfterWrite = Files.getOwner(entry.getKey()).getName()-->Line_42 $$ if (!ownerAfterWrite.equals(ownerBeforeWrite)) [ FD ]
Line_8 $$ Map<Path, String> owners = new HashMap(paths.length)-->Line_36 $$ for (Map.Entry<Path, String> entry : owners.entrySet()) [ FD ]
Line_40 $$ String ownerBeforeWrite = entry.getValue()-->Line_43 $$ terminal.printWarn("WARN: Owner of file [%s] used to be [%s], but now is [%s]", entry.getKey(), ownerBeforeWrite, ownerAfterWrite)[ FD ]
Line_2 $$ public CliTool.ExitStatus execute(Settings settings, Environment env) throws Exception -->Line_7 $$ Map<Path, Set<PosixFilePermission>> permissions = new HashMap(paths.length)[ CD ]
Line_25 $$ for (Map.Entry<Path, Set<PosixFilePermission>> entry : permissions.entrySet()) -->Line_51 $$ String groupAfterWrite = Files.readAttributes(entry.getKey(), PosixFileAttributes.class).group().getName()[ FD ]
Line_30 $$ Set<PosixFilePermission> permissionsAfterWrite = Files.getPosixFilePermissions(entry.getKey())-->Line_31 $$ if (!permissionsBeforeWrite.equals(permissionsAfterWrite)) [ FD ]
Line_2 $$ public CliTool.ExitStatus execute(Settings settings, Environment env) throws Exception -->Line_4 $$ if (paths == null || paths.length == 0) [ CD ]
