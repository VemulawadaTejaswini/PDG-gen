Line_10 $$ Translog.Index op = (Translog.Index) operation-->Line_19 $$ assertThat(op.versionType(), equalTo(VersionType.INTERNAL))[ FD ]
Line_10 $$ Translog.Index op = (Translog.Index) operation-->Line_14 $$ assertThat(op.routing(), equalTo(null))[ FD ]
Line_2 $$ public void testV1ChecksummedTranslogVersion() throws Exception -->Line_4 $$ assertThat("test file should exist", Files.exists(translogFile), equalTo(true))[ CD ]
Line_10 $$ Translog.Index op = (Translog.Index) operation-->Line_12 $$ assertThat(op.type(), equalTo("doc"))[ FD ]
Line_2 $$ public void testV1ChecksummedTranslogVersion() throws Exception -->Line_3 $$ Path translogFile = getDataPath("/org/elasticsearch/index/translog/translog-v1.binary")[ CD ]
Line_8 $$ Translog.Operation operation = snapshot.next()-->Line_9 $$ assertThat("operation is the correct type correctly", operation.opType() == Translog.Operation.Type.INDEX, equalTo(true))[ FD ]
Line_10 $$ Translog.Index op = (Translog.Index) operation-->Line_13 $$ assertThat(op.source().toUtf8(), equalTo("[ FD ]
Line_10 $$ Translog.Index op = (Translog.Index) operation-->Line_15 $$ assertThat(op.parent(), equalTo(null))[ FD ]
Line_20 $$ int opNum = 1-->Line_24 $$ assertThat("there should be 5 translog operations", opNum, equalTo(5))[ FD ]
Line_3 $$ Path translogFile = getDataPath("/org/elasticsearch/index/translog/translog-v1.binary")-->Line_5 $$ try (ImmutableTranslogReader reader = openReader(translogFile, 0)) [ FD ]
Line_10 $$ Translog.Index op = (Translog.Index) operation-->Line_18 $$ assertThat(op.ttl(), equalTo(-1L))[ FD ]
Line_21 $$ while (snapshot.next() != null) -->Line_22 $$ opNum++[ CD ]
Line_10 $$ Translog.Index op = (Translog.Index) operation-->Line_11 $$ assertThat(op.id(), equalTo("Bwiq98KFSb6YjJQGeSpeiw"))[ FD ]
Line_6 $$ try (final Translog.Snapshot snapshot = reader.newSnapshot()) -->Line_21 $$ while (snapshot.next() != null) [ FD ]
Line_20 $$ int opNum = 1-->Line_22 $$ opNum++[ FD ]
Line_10 $$ Translog.Index op = (Translog.Index) operation-->Line_16 $$ assertThat(op.version(), equalTo(1L))[ FD ]
Line_6 $$ try (final Translog.Snapshot snapshot = reader.newSnapshot()) -->Line_8 $$ Translog.Operation operation = snapshot.next()[ FD ]
Line_3 $$ Path translogFile = getDataPath("/org/elasticsearch/index/translog/translog-v1.binary")-->Line_4 $$ assertThat("test file should exist", Files.exists(translogFile), equalTo(true))[ FD ]
Line_10 $$ Translog.Index op = (Translog.Index) operation-->Line_17 $$ assertThat(op.timestamp(), equalTo(1408627184844L))[ FD ]
Line_5 $$ try (ImmutableTranslogReader reader = openReader(translogFile, 0)) -->Line_6 $$ try (final Translog.Snapshot snapshot = reader.newSnapshot()) [ FD ]
