Line_16 $$ TimelineDelegationTokenResponse res = null-->Line_56 $$ mapper.writeValue(writer, res)[ FD ]
Line_16 $$ TimelineDelegationTokenResponse res = null-->Line_44 $$ res = new TimelineDelegationTokenResponse()[ FD ]
Line_4 $$ boolean requestContinues = true-->Line_34 $$ requestContinues = false[ FD ]
Line_32 $$ if (tokenParam == null) -->Line_36 $$ if (dtOp == TimelineDelegationTokenOperation.CANCELDELEGATIONTOKEN) [ CD ]
Line_14 $$ TimelineDelegationTokenSecretManagerService secretManager = AHSWebApp.getInstance().getTimelineDelegationTokenSecretManagerService()-->Line_24 $$ Token<?> dToken = secretManager.createToken(ownerUGI, renewerParam)[ FD ]
Line_8 $$ TimelineDelegationTokenOperation dtOp = TimelineDelegationTokenOperation.valueOf(op)-->Line_36 $$ if (dtOp == TimelineDelegationTokenOperation.CANCELDELEGATIONTOKEN) [ FD ]
Line_31 $$ String tokenParam = request.getParameter(TimelineAuthenticationConsts.TOKEN_PARAM)-->Line_42 $$ dt.decodeFromUrlString(tokenParam)[ FD ]
Line_51 $$ if (requestContinues) -->Line_52 $$ response.setStatus(HttpServletResponse.SC_OK)[ CD ]
Line_16 $$ TimelineDelegationTokenResponse res = null-->Line_27 $$ res.setContent(dToken.encodeToUrlString())[ FD ]
Line_25 $$ res = new TimelineDelegationTokenResponse()-->Line_45 $$ res.setType(TimelineAuthenticationConsts.DELEGATION_TOKEN_EXPIRATION_TIME)[ FD ]
Line_44 $$ res = new TimelineDelegationTokenResponse()-->Line_53 $$ if (res != null) [ FD ]
Line_25 $$ res = new TimelineDelegationTokenResponse()-->Line_26 $$ res.setType(TimelineAuthenticationConsts.DELEGATION_TOKEN_URL)[ FD ]
Line_53 $$ if (res != null) -->Line_55 $$ Writer writer = response.getWriter()[ CD ]
Line_24 $$ Token<?> dToken = secretManager.createToken(ownerUGI, renewerParam)-->Line_27 $$ res.setContent(dToken.encodeToUrlString())[ FD ]
Line_36 $$ if (dtOp == TimelineDelegationTokenOperation.CANCELDELEGATIONTOKEN) -->Line_45 $$ res.setType(TimelineAuthenticationConsts.DELEGATION_TOKEN_EXPIRATION_TIME)[ CD ]
Line_8 $$ TimelineDelegationTokenOperation dtOp = TimelineDelegationTokenOperation.valueOf(op)-->Line_67 $$ response.sendError(HttpServletResponse.SC_BAD_REQUEST, MessageFormat.format("Wrong HTTP method [[ FD ]
Line_34 $$ requestContinues = false-->Line_68 $$ requestContinues = false[ FD ]
Line_44 $$ res = new TimelineDelegationTokenResponse()-->Line_46 $$ res.setContent(expirationTime)[ FD ]
Line_4 $$ boolean requestContinues = true-->Line_60 $$ requestContinues = false[ FD ]
Line_44 $$ res = new TimelineDelegationTokenResponse()-->Line_56 $$ mapper.writeValue(writer, res)[ FD ]
Line_4 $$ boolean requestContinues = true-->Line_12 $$ requestContinues = false[ FD ]
Line_16 $$ TimelineDelegationTokenResponse res = null-->Line_46 $$ res.setContent(expirationTime)[ FD ]
Line_31 $$ String tokenParam = request.getParameter(TimelineAuthenticationConsts.TOKEN_PARAM)-->Line_38 $$ dt.decodeFromUrlString(tokenParam)[ FD ]
Line_16 $$ TimelineDelegationTokenResponse res = null-->Line_25 $$ res = new TimelineDelegationTokenResponse()[ FD ]
Line_6 $$ op = (op != null) ? op.toUpperCase() : null-->Line_7 $$ if (DELEGATION_TOKEN_OPS.contains(op) && !request.getMethod().equals("OPTIONS")) [ FD ]
Line_12 $$ requestContinues = false-->Line_68 $$ requestContinues = false[ FD ]
Line_9 $$ if (dtOp.getHttpMethod().equals(request.getMethod())) -->Line_10 $$ if (dtOp.requiresKerberosCredentials() && token == null) [ CD ]
Line_4 $$ boolean requestContinues = true-->Line_68 $$ requestContinues = false[ FD ]
Line_37 $$ Token<TimelineDelegationTokenIdentifier> dt = new Token<TimelineDelegationTokenIdentifier>()-->Line_42 $$ dt.decodeFromUrlString(tokenParam)[ FD ]
Line_53 $$ if (res != null) -->Line_54 $$ response.setContentType(MediaType.APPLICATION_JSON)[ CD ]
Line_32 $$ if (tokenParam == null) -->Line_34 $$ requestContinues = false[ CD ]
Line_19 $$ UserGroupInformation ownerUGI = UserGroupInformation.createRemoteUser(token.getUserName())-->Line_24 $$ Token<?> dToken = secretManager.createToken(ownerUGI, renewerParam)[ FD ]
Line_53 $$ if (res != null) -->Line_57 $$ writer.write(ENTER)[ CD ]
Line_36 $$ if (dtOp == TimelineDelegationTokenOperation.CANCELDELEGATIONTOKEN) -->Line_46 $$ res.setContent(expirationTime)[ CD ]
Line_32 $$ if (tokenParam == null) -->Line_33 $$ response.sendError(HttpServletResponse.SC_BAD_REQUEST, MessageFormat.format("Operation [[ CD ]
Line_36 $$ if (dtOp == TimelineDelegationTokenOperation.CANCELDELEGATIONTOKEN) -->Line_37 $$ Token<TimelineDelegationTokenIdentifier> dt = new Token<TimelineDelegationTokenIdentifier>()[ CD ]
Line_10 $$ if (dtOp.requiresKerberosCredentials() && token == null) -->Line_14 $$ TimelineDelegationTokenSecretManagerService secretManager = AHSWebApp.getInstance().getTimelineDelegationTokenSecretManagerService()[ CD ]
Line_55 $$ Writer writer = response.getWriter()-->Line_56 $$ mapper.writeValue(writer, res)[ FD ]
Line_55 $$ Writer writer = response.getWriter()-->Line_57 $$ writer.write(ENTER)[ FD ]
Line_5 $$ String op = request.getParameter(OP_PARAM)-->Line_8 $$ TimelineDelegationTokenOperation dtOp = TimelineDelegationTokenOperation.valueOf(op)[ FD ]
Line_37 $$ Token<TimelineDelegationTokenIdentifier> dt = new Token<TimelineDelegationTokenIdentifier>()-->Line_38 $$ dt.decodeFromUrlString(tokenParam)[ FD ]
Line_22 $$ renewerParam = token.getUserName()-->Line_24 $$ Token<?> dToken = secretManager.createToken(ownerUGI, renewerParam)[ FD ]
Line_25 $$ res = new TimelineDelegationTokenResponse()-->Line_27 $$ res.setContent(dToken.encodeToUrlString())[ FD ]
Line_53 $$ if (res != null) -->Line_58 $$ writer.flush()[ CD ]
Line_10 $$ if (dtOp.requiresKerberosCredentials() && token == null) -->Line_11 $$ response.sendError(HttpServletResponse.SC_UNAUTHORIZED, MessageFormat.format("Operation [[ CD ]
Line_43 $$ long expirationTime = secretManager.renewToken(dt, token.getUserName())-->Line_46 $$ res.setContent(expirationTime)[ FD ]
Line_8 $$ TimelineDelegationTokenOperation dtOp = TimelineDelegationTokenOperation.valueOf(op)-->Line_9 $$ if (dtOp.getHttpMethod().equals(request.getMethod())) [ FD ]
Line_8 $$ TimelineDelegationTokenOperation dtOp = TimelineDelegationTokenOperation.valueOf(op)-->Line_11 $$ response.sendError(HttpServletResponse.SC_UNAUTHORIZED, MessageFormat.format("Operation [[ FD ]
Line_8 $$ TimelineDelegationTokenOperation dtOp = TimelineDelegationTokenOperation.valueOf(op)-->Line_10 $$ if (dtOp.requiresKerberosCredentials() && token == null) [ FD ]
Line_25 $$ res = new TimelineDelegationTokenResponse()-->Line_46 $$ res.setContent(expirationTime)[ FD ]
Line_36 $$ if (dtOp == TimelineDelegationTokenOperation.CANCELDELEGATIONTOKEN) -->Line_42 $$ dt.decodeFromUrlString(tokenParam)[ CD ]
Line_16 $$ TimelineDelegationTokenResponse res = null-->Line_45 $$ res.setType(TimelineAuthenticationConsts.DELEGATION_TOKEN_EXPIRATION_TIME)[ FD ]
Line_25 $$ res = new TimelineDelegationTokenResponse()-->Line_53 $$ if (res != null) [ FD ]
Line_16 $$ TimelineDelegationTokenResponse res = null-->Line_53 $$ if (res != null) [ FD ]
Line_14 $$ TimelineDelegationTokenSecretManagerService secretManager = AHSWebApp.getInstance().getTimelineDelegationTokenSecretManagerService()-->Line_43 $$ long expirationTime = secretManager.renewToken(dt, token.getUserName())[ FD ]
Line_34 $$ requestContinues = false-->Line_60 $$ requestContinues = false[ FD ]
Line_20 $$ String renewerParam = request.getParameter(TimelineAuthenticationConsts.RENEWER_PARAM)-->Line_24 $$ Token<?> dToken = secretManager.createToken(ownerUGI, renewerParam)[ FD ]
Line_31 $$ String tokenParam = request.getParameter(TimelineAuthenticationConsts.TOKEN_PARAM)-->Line_32 $$ if (tokenParam == null) [ FD ]
Line_6 $$ op = (op != null) ? op.toUpperCase() : null-->Line_8 $$ TimelineDelegationTokenOperation dtOp = TimelineDelegationTokenOperation.valueOf(op)[ FD ]
Line_36 $$ if (dtOp == TimelineDelegationTokenOperation.CANCELDELEGATIONTOKEN) -->Line_38 $$ dt.decodeFromUrlString(tokenParam)[ CD ]
Line_36 $$ if (dtOp == TimelineDelegationTokenOperation.CANCELDELEGATIONTOKEN) -->Line_39 $$ secretManager.cancelToken(dt, token.getUserName())[ CD ]
Line_7 $$ if (DELEGATION_TOKEN_OPS.contains(op) && !request.getMethod().equals("OPTIONS")) -->Line_9 $$ if (dtOp.getHttpMethod().equals(request.getMethod())) [ CD ]
Line_36 $$ if (dtOp == TimelineDelegationTokenOperation.CANCELDELEGATIONTOKEN) -->Line_43 $$ long expirationTime = secretManager.renewToken(dt, token.getUserName())[ CD ]
Line_12 $$ requestContinues = false-->Line_60 $$ requestContinues = false[ FD ]
Line_44 $$ res = new TimelineDelegationTokenResponse()-->Line_45 $$ res.setType(TimelineAuthenticationConsts.DELEGATION_TOKEN_EXPIRATION_TIME)[ FD ]
Line_12 $$ requestContinues = false-->Line_34 $$ requestContinues = false[ FD ]
Line_36 $$ if (dtOp == TimelineDelegationTokenOperation.CANCELDELEGATIONTOKEN) -->Line_44 $$ res = new TimelineDelegationTokenResponse()[ CD ]
Line_51 $$ if (requestContinues) -->Line_53 $$ if (res != null) [ CD ]
Line_9 $$ if (dtOp.getHttpMethod().equals(request.getMethod())) -->Line_67 $$ response.sendError(HttpServletResponse.SC_BAD_REQUEST, MessageFormat.format("Wrong HTTP method [[ CD ]
Line_8 $$ TimelineDelegationTokenOperation dtOp = TimelineDelegationTokenOperation.valueOf(op)-->Line_33 $$ response.sendError(HttpServletResponse.SC_BAD_REQUEST, MessageFormat.format("Operation [[ FD ]
Line_5 $$ String op = request.getParameter(OP_PARAM)-->Line_6 $$ op = (op != null) ? op.toUpperCase() : null[ FD ]
Line_37 $$ Token<TimelineDelegationTokenIdentifier> dt = new Token<TimelineDelegationTokenIdentifier>()-->Line_43 $$ long expirationTime = secretManager.renewToken(dt, token.getUserName())[ FD ]
Line_7 $$ if (DELEGATION_TOKEN_OPS.contains(op) && !request.getMethod().equals("OPTIONS")) -->Line_8 $$ TimelineDelegationTokenOperation dtOp = TimelineDelegationTokenOperation.valueOf(op)[ CD ]
Line_20 $$ String renewerParam = request.getParameter(TimelineAuthenticationConsts.RENEWER_PARAM)-->Line_21 $$ if (renewerParam == null) [ FD ]
Line_16 $$ TimelineDelegationTokenResponse res = null-->Line_26 $$ res.setType(TimelineAuthenticationConsts.DELEGATION_TOKEN_URL)[ FD ]
Line_10 $$ if (dtOp.requiresKerberosCredentials() && token == null) -->Line_12 $$ requestContinues = false[ CD ]
Line_53 $$ if (res != null) -->Line_56 $$ mapper.writeValue(writer, res)[ CD ]
Line_37 $$ Token<TimelineDelegationTokenIdentifier> dt = new Token<TimelineDelegationTokenIdentifier>()-->Line_39 $$ secretManager.cancelToken(dt, token.getUserName())[ FD ]
Line_55 $$ Writer writer = response.getWriter()-->Line_58 $$ writer.flush()[ FD ]
Line_14 $$ TimelineDelegationTokenSecretManagerService secretManager = AHSWebApp.getInstance().getTimelineDelegationTokenSecretManagerService()-->Line_39 $$ secretManager.cancelToken(dt, token.getUserName())[ FD ]
Line_25 $$ res = new TimelineDelegationTokenResponse()-->Line_44 $$ res = new TimelineDelegationTokenResponse()[ FD ]
Line_9 $$ if (dtOp.getHttpMethod().equals(request.getMethod())) -->Line_68 $$ requestContinues = false[ CD ]
Line_5 $$ String op = request.getParameter(OP_PARAM)-->Line_7 $$ if (DELEGATION_TOKEN_OPS.contains(op) && !request.getMethod().equals("OPTIONS")) [ FD ]
Line_21 $$ if (renewerParam == null) -->Line_22 $$ renewerParam = token.getUserName()[ CD ]
Line_25 $$ res = new TimelineDelegationTokenResponse()-->Line_56 $$ mapper.writeValue(writer, res)[ FD ]
Line_51 $$ if (requestContinues) -->Line_60 $$ requestContinues = false[ CD ]
Line_20 $$ String renewerParam = request.getParameter(TimelineAuthenticationConsts.RENEWER_PARAM)-->Line_22 $$ renewerParam = token.getUserName()[ FD ]
Line_60 $$ requestContinues = false-->Line_68 $$ requestContinues = false[ FD ]
