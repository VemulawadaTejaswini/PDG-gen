Line_22 $$ String availableLocales = StringPool.BLANK-->Line_27 $$ availableLocales = xmlStreamReader.getAttributeValue(null, _AVAILABLE_LOCALES)[ FD ]
Line_7 $$ if (!Validator.isXml(xml)) -->Line_8 $$ return xml[ CD ]
Line_12 $$ XMLStreamReader xmlStreamReader = null-->Line_61 $$ xmlStreamReader.close()[ FD ]
Line_22 $$ String availableLocales = StringPool.BLANK-->Line_33 $$ if ((availableLocales != null) && availableLocales.contains(requestedLanguageId)) [ FD ]
Line_30 $$ defaultLanguageId = systemDefaultLanguageId-->Line_44 $$ _copyNonExempt(xmlStreamReader, xmlStreamWriter, requestedLanguageId, defaultLanguageId, cdata)[ FD ]
Line_20 $$ XMLInputFactory xmlInputFactory = SecureXMLFactoryProviderUtil.newXMLInputFactory()-->Line_21 $$ xmlStreamReader = xmlInputFactory.createXMLStreamReader(new UnsyncStringReader(xml))[ FD ]
Line_37 $$ xmlStreamWriter = xmlOutputFactory.createXMLStreamWriter(unsyncStringWriter)-->Line_65 $$ if (xmlStreamWriter != null) [ FD ]
Line_14 $$ ClassLoader portalClassLoader = ClassLoaderUtil.getPortalClassLoader()-->Line_56 $$ if (contextClassLoader != portalClassLoader) [ FD ]
Line_23 $$ String defaultLanguageId = StringPool.BLANK-->Line_28 $$ defaultLanguageId = xmlStreamReader.getAttributeValue(null, _DEFAULT_LOCALE)[ FD ]
Line_14 $$ ClassLoader portalClassLoader = ClassLoaderUtil.getPortalClassLoader()-->Line_18 $$ ClassLoaderUtil.setContextClassLoader(portalClassLoader)[ FD ]
Line_36 $$ XMLOutputFactory xmlOutputFactory = XMLOutputFactory.newInstance()-->Line_37 $$ xmlStreamWriter = xmlOutputFactory.createXMLStreamWriter(unsyncStringWriter)[ FD ]
Line_13 $$ XMLStreamWriter xmlStreamWriter = null-->Line_44 $$ _copyNonExempt(xmlStreamReader, xmlStreamWriter, requestedLanguageId, defaultLanguageId, cdata)[ FD ]
Line_13 $$ XMLStreamWriter xmlStreamWriter = null-->Line_42 $$ xmlStreamWriter.writeAttribute(_DEFAULT_LOCALE, defaultLanguageId)[ FD ]
Line_33 $$ if ((availableLocales != null) && availableLocales.contains(requestedLanguageId)) -->Line_34 $$ availableLocales = StringUtil.removeFromList(availableLocales, requestedLanguageId)[ CD ]
Line_11 $$ String systemDefaultLanguageId = LocaleUtil.toLanguageId(LocaleUtil.getSiteDefault())-->Line_30 $$ defaultLanguageId = systemDefaultLanguageId[ FD ]
Line_37 $$ xmlStreamWriter = xmlOutputFactory.createXMLStreamWriter(unsyncStringWriter)-->Line_38 $$ xmlStreamWriter.writeStartDocument()[ FD ]
Line_56 $$ if (contextClassLoader != portalClassLoader) -->Line_57 $$ ClassLoaderUtil.setContextClassLoader(contextClassLoader)[ CD ]
Line_33 $$ if ((availableLocales != null) && availableLocales.contains(requestedLanguageId)) -->Line_45 $$ xmlStreamWriter.writeEndElement()[ CD ]
Line_29 $$ if (Validator.isNull(defaultLanguageId)) -->Line_30 $$ defaultLanguageId = systemDefaultLanguageId[ CD ]
Line_37 $$ xmlStreamWriter = xmlOutputFactory.createXMLStreamWriter(unsyncStringWriter)-->Line_46 $$ xmlStreamWriter.writeEndDocument()[ FD ]
Line_23 $$ String defaultLanguageId = StringPool.BLANK-->Line_29 $$ if (Validator.isNull(defaultLanguageId)) [ FD ]
Line_27 $$ availableLocales = xmlStreamReader.getAttributeValue(null, _AVAILABLE_LOCALES)-->Line_33 $$ if ((availableLocales != null) && availableLocales.contains(requestedLanguageId)) [ FD ]
Line_13 $$ XMLStreamWriter xmlStreamWriter = null-->Line_65 $$ if (xmlStreamWriter != null) [ FD ]
Line_40 $$ if (localized) -->Line_42 $$ xmlStreamWriter.writeAttribute(_DEFAULT_LOCALE, defaultLanguageId)[ CD ]
Line_15 $$ ClassLoader contextClassLoader = ClassLoaderUtil.getContextClassLoader()-->Line_17 $$ if (contextClassLoader != portalClassLoader) [ FD ]
Line_12 $$ XMLStreamReader xmlStreamReader = null-->Line_28 $$ defaultLanguageId = xmlStreamReader.getAttributeValue(null, _DEFAULT_LOCALE)[ FD ]
Line_37 $$ xmlStreamWriter = xmlOutputFactory.createXMLStreamWriter(unsyncStringWriter)-->Line_48 $$ xmlStreamWriter = null[ FD ]
Line_21 $$ xmlStreamReader = xmlInputFactory.createXMLStreamReader(new UnsyncStringReader(xml))-->Line_27 $$ availableLocales = xmlStreamReader.getAttributeValue(null, _AVAILABLE_LOCALES)[ FD ]
Line_27 $$ availableLocales = xmlStreamReader.getAttributeValue(null, _AVAILABLE_LOCALES)-->Line_34 $$ availableLocales = StringUtil.removeFromList(availableLocales, requestedLanguageId)[ FD ]
Line_34 $$ availableLocales = StringUtil.removeFromList(availableLocales, requestedLanguageId)-->Line_41 $$ xmlStreamWriter.writeAttribute(_AVAILABLE_LOCALES, availableLocales)[ FD ]
Line_12 $$ XMLStreamReader xmlStreamReader = null-->Line_59 $$ if (xmlStreamReader != null) [ FD ]
Line_35 $$ UnsyncStringWriter unsyncStringWriter = new UnsyncStringWriter()-->Line_49 $$ xml = unsyncStringWriter.toString()[ FD ]
Line_13 $$ XMLStreamWriter xmlStreamWriter = null-->Line_41 $$ xmlStreamWriter.writeAttribute(_AVAILABLE_LOCALES, availableLocales)[ FD ]
Line_27 $$ availableLocales = xmlStreamReader.getAttributeValue(null, _AVAILABLE_LOCALES)-->Line_41 $$ xmlStreamWriter.writeAttribute(_AVAILABLE_LOCALES, availableLocales)[ FD ]
Line_33 $$ if ((availableLocales != null) && availableLocales.contains(requestedLanguageId)) -->Line_35 $$ UnsyncStringWriter unsyncStringWriter = new UnsyncStringWriter()[ CD ]
Line_15 $$ ClassLoader contextClassLoader = ClassLoaderUtil.getContextClassLoader()-->Line_56 $$ if (contextClassLoader != portalClassLoader) [ FD ]
Line_48 $$ xmlStreamWriter = null-->Line_65 $$ if (xmlStreamWriter != null) [ FD ]
Line_37 $$ xmlStreamWriter = xmlOutputFactory.createXMLStreamWriter(unsyncStringWriter)-->Line_41 $$ xmlStreamWriter.writeAttribute(_AVAILABLE_LOCALES, availableLocales)[ FD ]
Line_17 $$ if (contextClassLoader != portalClassLoader) -->Line_18 $$ ClassLoaderUtil.setContextClassLoader(portalClassLoader)[ CD ]
Line_13 $$ XMLStreamWriter xmlStreamWriter = null-->Line_67 $$ xmlStreamWriter.close()[ FD ]
Line_4 $$ if (Validator.isNull(xml)) -->Line_5 $$ return StringPool.BLANK[ CD ]
Line_13 $$ XMLStreamWriter xmlStreamWriter = null-->Line_46 $$ xmlStreamWriter.writeEndDocument()[ FD ]
Line_35 $$ UnsyncStringWriter unsyncStringWriter = new UnsyncStringWriter()-->Line_37 $$ xmlStreamWriter = xmlOutputFactory.createXMLStreamWriter(unsyncStringWriter)[ FD ]
Line_33 $$ if ((availableLocales != null) && availableLocales.contains(requestedLanguageId)) -->Line_47 $$ xmlStreamWriter.close()[ CD ]
Line_33 $$ if ((availableLocales != null) && availableLocales.contains(requestedLanguageId)) -->Line_37 $$ xmlStreamWriter = xmlOutputFactory.createXMLStreamWriter(unsyncStringWriter)[ CD ]
Line_23 $$ String defaultLanguageId = StringPool.BLANK-->Line_44 $$ _copyNonExempt(xmlStreamReader, xmlStreamWriter, requestedLanguageId, defaultLanguageId, cdata)[ FD ]
Line_33 $$ if ((availableLocales != null) && availableLocales.contains(requestedLanguageId)) -->Line_36 $$ XMLOutputFactory xmlOutputFactory = XMLOutputFactory.newInstance()[ CD ]
Line_21 $$ xmlStreamReader = xmlInputFactory.createXMLStreamReader(new UnsyncStringReader(xml))-->Line_44 $$ _copyNonExempt(xmlStreamReader, xmlStreamWriter, requestedLanguageId, defaultLanguageId, cdata)[ FD ]
Line_33 $$ if ((availableLocales != null) && availableLocales.contains(requestedLanguageId)) -->Line_49 $$ xml = unsyncStringWriter.toString()[ CD ]
Line_15 $$ ClassLoader contextClassLoader = ClassLoaderUtil.getContextClassLoader()-->Line_57 $$ ClassLoaderUtil.setContextClassLoader(contextClassLoader)[ FD ]
Line_13 $$ XMLStreamWriter xmlStreamWriter = null-->Line_37 $$ xmlStreamWriter = xmlOutputFactory.createXMLStreamWriter(unsyncStringWriter)[ FD ]
Line_28 $$ defaultLanguageId = xmlStreamReader.getAttributeValue(null, _DEFAULT_LOCALE)-->Line_42 $$ xmlStreamWriter.writeAttribute(_DEFAULT_LOCALE, defaultLanguageId)[ FD ]
Line_12 $$ XMLStreamReader xmlStreamReader = null-->Line_27 $$ availableLocales = xmlStreamReader.getAttributeValue(null, _AVAILABLE_LOCALES)[ FD ]
Line_33 $$ if ((availableLocales != null) && availableLocales.contains(requestedLanguageId)) -->Line_39 $$ xmlStreamWriter.writeStartElement(_ROOT)[ CD ]
Line_33 $$ if ((availableLocales != null) && availableLocales.contains(requestedLanguageId)) -->Line_48 $$ xmlStreamWriter = null[ CD ]
Line_33 $$ if ((availableLocales != null) && availableLocales.contains(requestedLanguageId)) -->Line_46 $$ xmlStreamWriter.writeEndDocument()[ CD ]
Line_40 $$ if (localized) -->Line_41 $$ xmlStreamWriter.writeAttribute(_AVAILABLE_LOCALES, availableLocales)[ CD ]
Line_13 $$ XMLStreamWriter xmlStreamWriter = null-->Line_39 $$ xmlStreamWriter.writeStartElement(_ROOT)[ FD ]
Line_37 $$ xmlStreamWriter = xmlOutputFactory.createXMLStreamWriter(unsyncStringWriter)-->Line_42 $$ xmlStreamWriter.writeAttribute(_DEFAULT_LOCALE, defaultLanguageId)[ FD ]
Line_33 $$ if ((availableLocales != null) && availableLocales.contains(requestedLanguageId)) -->Line_38 $$ xmlStreamWriter.writeStartDocument()[ CD ]
Line_10 $$ xml = _sanitizeXML(xml)-->Line_49 $$ xml = unsyncStringWriter.toString()[ FD ]
Line_33 $$ if ((availableLocales != null) && availableLocales.contains(requestedLanguageId)) -->Line_40 $$ if (localized) [ CD ]
Line_13 $$ XMLStreamWriter xmlStreamWriter = null-->Line_38 $$ xmlStreamWriter.writeStartDocument()[ FD ]
Line_37 $$ xmlStreamWriter = xmlOutputFactory.createXMLStreamWriter(unsyncStringWriter)-->Line_44 $$ _copyNonExempt(xmlStreamReader, xmlStreamWriter, requestedLanguageId, defaultLanguageId, cdata)[ FD ]
Line_21 $$ xmlStreamReader = xmlInputFactory.createXMLStreamReader(new UnsyncStringReader(xml))-->Line_28 $$ defaultLanguageId = xmlStreamReader.getAttributeValue(null, _DEFAULT_LOCALE)[ FD ]
Line_21 $$ xmlStreamReader = xmlInputFactory.createXMLStreamReader(new UnsyncStringReader(xml))-->Line_26 $$ xmlStreamReader.nextTag()[ FD ]
Line_22 $$ String availableLocales = StringPool.BLANK-->Line_34 $$ availableLocales = StringUtil.removeFromList(availableLocales, requestedLanguageId)[ FD ]
Line_37 $$ xmlStreamWriter = xmlOutputFactory.createXMLStreamWriter(unsyncStringWriter)-->Line_47 $$ xmlStreamWriter.close()[ FD ]
Line_37 $$ xmlStreamWriter = xmlOutputFactory.createXMLStreamWriter(unsyncStringWriter)-->Line_67 $$ xmlStreamWriter.close()[ FD ]
Line_33 $$ if ((availableLocales != null) && availableLocales.contains(requestedLanguageId)) -->Line_44 $$ _copyNonExempt(xmlStreamReader, xmlStreamWriter, requestedLanguageId, defaultLanguageId, cdata)[ CD ]
Line_52 $$ if (_log.isWarnEnabled()) -->Line_53 $$ _log.warn(e, e)[ CD ]
Line_28 $$ defaultLanguageId = xmlStreamReader.getAttributeValue(null, _DEFAULT_LOCALE)-->Line_44 $$ _copyNonExempt(xmlStreamReader, xmlStreamWriter, requestedLanguageId, defaultLanguageId, cdata)[ FD ]
Line_12 $$ XMLStreamReader xmlStreamReader = null-->Line_44 $$ _copyNonExempt(xmlStreamReader, xmlStreamWriter, requestedLanguageId, defaultLanguageId, cdata)[ FD ]
Line_13 $$ XMLStreamWriter xmlStreamWriter = null-->Line_48 $$ xmlStreamWriter = null[ FD ]
Line_21 $$ xmlStreamReader = xmlInputFactory.createXMLStreamReader(new UnsyncStringReader(xml))-->Line_61 $$ xmlStreamReader.close()[ FD ]
Line_23 $$ String defaultLanguageId = StringPool.BLANK-->Line_30 $$ defaultLanguageId = systemDefaultLanguageId[ FD ]
Line_30 $$ defaultLanguageId = systemDefaultLanguageId-->Line_42 $$ xmlStreamWriter.writeAttribute(_DEFAULT_LOCALE, defaultLanguageId)[ FD ]
Line_37 $$ xmlStreamWriter = xmlOutputFactory.createXMLStreamWriter(unsyncStringWriter)-->Line_45 $$ xmlStreamWriter.writeEndElement()[ FD ]
Line_14 $$ ClassLoader portalClassLoader = ClassLoaderUtil.getPortalClassLoader()-->Line_17 $$ if (contextClassLoader != portalClassLoader) [ FD ]
Line_21 $$ xmlStreamReader = xmlInputFactory.createXMLStreamReader(new UnsyncStringReader(xml))-->Line_59 $$ if (xmlStreamReader != null) [ FD ]
Line_28 $$ defaultLanguageId = xmlStreamReader.getAttributeValue(null, _DEFAULT_LOCALE)-->Line_30 $$ defaultLanguageId = systemDefaultLanguageId[ FD ]
Line_37 $$ xmlStreamWriter = xmlOutputFactory.createXMLStreamWriter(unsyncStringWriter)-->Line_39 $$ xmlStreamWriter.writeStartElement(_ROOT)[ FD ]
Line_48 $$ xmlStreamWriter = null-->Line_67 $$ xmlStreamWriter.close()[ FD ]
Line_22 $$ String availableLocales = StringPool.BLANK-->Line_41 $$ xmlStreamWriter.writeAttribute(_AVAILABLE_LOCALES, availableLocales)[ FD ]
Line_13 $$ XMLStreamWriter xmlStreamWriter = null-->Line_47 $$ xmlStreamWriter.close()[ FD ]
Line_28 $$ defaultLanguageId = xmlStreamReader.getAttributeValue(null, _DEFAULT_LOCALE)-->Line_29 $$ if (Validator.isNull(defaultLanguageId)) [ FD ]
Line_12 $$ XMLStreamReader xmlStreamReader = null-->Line_26 $$ xmlStreamReader.nextTag()[ FD ]
Line_13 $$ XMLStreamWriter xmlStreamWriter = null-->Line_45 $$ xmlStreamWriter.writeEndElement()[ FD ]
Line_23 $$ String defaultLanguageId = StringPool.BLANK-->Line_42 $$ xmlStreamWriter.writeAttribute(_DEFAULT_LOCALE, defaultLanguageId)[ FD ]
Line_12 $$ XMLStreamReader xmlStreamReader = null-->Line_21 $$ xmlStreamReader = xmlInputFactory.createXMLStreamReader(new UnsyncStringReader(xml))[ FD ]
