Line_6 $$ long flushStartNanos = System.nanoTime()-->Line_14 $$ flushTotalNanos += flushEndNanos - flushStartNanos[ FD ]
Line_5 $$ if (checksumOut != null) -->Line_6 $$ long flushStartNanos = System.nanoTime()[ CD ]
Line_16 $$ if (out != null) -->Line_18 $$ out.flush()[ CD ]
Line_29 $$ if (isSync) -->Line_30 $$ datanode.metrics.incrFsyncCount()[ CD ]
Line_3 $$ long flushTotalNanos = 0-->Line_25 $$ flushTotalNanos += flushEndNanos - flushStartNanos[ FD ]
Line_2 $$ void flushOrSync(boolean isSync) throws IOException -->Line_16 $$ if (out != null) [ CD ]
Line_8 $$ long flushEndNanos = System.nanoTime()-->Line_25 $$ flushTotalNanos += flushEndNanos - flushStartNanos[ FD ]
Line_5 $$ if (checksumOut != null) -->Line_8 $$ long flushEndNanos = System.nanoTime()[ CD ]
Line_27 $$ if (checksumOut != null || out != null) -->Line_29 $$ if (isSync) [ CD ]
Line_16 $$ if (out != null) -->Line_17 $$ long flushStartNanos = System.nanoTime()[ CD ]
Line_2 $$ void flushOrSync(boolean isSync) throws IOException -->Line_27 $$ if (checksumOut != null || out != null) [ CD ]
Line_6 $$ long flushStartNanos = System.nanoTime()-->Line_25 $$ flushTotalNanos += flushEndNanos - flushStartNanos[ FD ]
Line_8 $$ long flushEndNanos = System.nanoTime()-->Line_14 $$ flushTotalNanos += flushEndNanos - flushStartNanos[ FD ]
Line_16 $$ if (out != null) -->Line_25 $$ flushTotalNanos += flushEndNanos - flushStartNanos[ CD ]
Line_2 $$ void flushOrSync(boolean isSync) throws IOException -->Line_34 $$ if (duration > datanodeSlowLogThresholdMs) [ CD ]
Line_34 $$ if (duration > datanodeSlowLogThresholdMs) -->Line_35 $$ LOG.warn("Slow flushOrSync took " + duration + "ms (threshold=" + datanodeSlowLogThresholdMs + "ms), isSync:" + isSync + ", flushTotalNanos=" + flushTotalNanos + "ns")[ CD ]
Line_27 $$ if (checksumOut != null || out != null) -->Line_28 $$ datanode.metrics.addFlushNanos(flushTotalNanos)[ CD ]
Line_20 $$ if (isSync) -->Line_23 $$ datanode.metrics.addFsyncNanos(System.nanoTime() - fsyncStartNanos)[ CD ]
Line_20 $$ if (isSync) -->Line_22 $$ streams.syncDataOut()[ CD ]
Line_16 $$ if (out != null) -->Line_19 $$ long flushEndNanos = System.nanoTime()[ CD ]
Line_5 $$ if (checksumOut != null) -->Line_7 $$ checksumOut.flush()[ CD ]
Line_2 $$ void flushOrSync(boolean isSync) throws IOException -->Line_5 $$ if (checksumOut != null) [ CD ]
Line_9 $$ if (isSync) -->Line_10 $$ long fsyncStartNanos = flushEndNanos[ CD ]
Line_2 $$ void flushOrSync(boolean isSync) throws IOException -->Line_4 $$ long begin = Time.monotonicNow()[ CD ]
Line_33 $$ long duration = Time.monotonicNow() - begin-->Line_34 $$ if (duration > datanodeSlowLogThresholdMs) [ FD ]
Line_9 $$ if (isSync) -->Line_11 $$ streams.syncChecksumOut()[ CD ]
Line_2 $$ void flushOrSync(boolean isSync) throws IOException -->Line_3 $$ long flushTotalNanos = 0[ CD ]
Line_3 $$ long flushTotalNanos = 0-->Line_28 $$ datanode.metrics.addFlushNanos(flushTotalNanos)[ FD ]
Line_25 $$ flushTotalNanos += flushEndNanos - flushStartNanos-->Line_28 $$ datanode.metrics.addFlushNanos(flushTotalNanos)[ FD ]
Line_5 $$ if (checksumOut != null) -->Line_14 $$ flushTotalNanos += flushEndNanos - flushStartNanos[ CD ]
Line_16 $$ if (out != null) -->Line_20 $$ if (isSync) [ CD ]
Line_14 $$ flushTotalNanos += flushEndNanos - flushStartNanos-->Line_25 $$ flushTotalNanos += flushEndNanos - flushStartNanos[ FD ]
Line_9 $$ if (isSync) -->Line_12 $$ datanode.metrics.addFsyncNanos(System.nanoTime() - fsyncStartNanos)[ CD ]
Line_14 $$ flushTotalNanos += flushEndNanos - flushStartNanos-->Line_28 $$ datanode.metrics.addFlushNanos(flushTotalNanos)[ FD ]
Line_2 $$ void flushOrSync(boolean isSync) throws IOException -->Line_33 $$ long duration = Time.monotonicNow() - begin[ CD ]
Line_5 $$ if (checksumOut != null) -->Line_9 $$ if (isSync) [ CD ]
Line_3 $$ long flushTotalNanos = 0-->Line_14 $$ flushTotalNanos += flushEndNanos - flushStartNanos[ FD ]
