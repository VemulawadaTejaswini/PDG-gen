Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)-->Line_47 $$ document.addKeyword("path", dlFileEntry.getTitle())[ FD ]
Line_53 $$ if (dlFileEntry.isInHiddenFolder()) -->Line_54 $$ Indexer<?> indexer = IndexerRegistryUtil.getIndexer(dlFileEntry.getClassName())[ CD ]
Line_7 $$ InputStream is = null-->Line_27 $$ document.addFile(Field.CONTENT, is, dlFileEntry.getTitle(), PropsValues.DL_FILE_INDEXING_MAX_SIZE)[ FD ]
Line_3 $$ if (_log.isDebugEnabled()) -->Line_4 $$ _log.debug("Indexing document " + dlFileEntry)[ CD ]
Line_56 $$ RelatedEntryIndexer relatedEntryIndexer = (RelatedEntryIndexer) indexer-->Line_57 $$ relatedEntryIndexer.addRelatedEntryFields(document, new LiferayFileEntry(dlFileEntry))[ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_44 $$ document.addKeyword("extension", dlFileEntry.getExtension())[ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_7 $$ InputStream is = null[ CD ]
Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)-->Line_44 $$ document.addKeyword("extension", dlFileEntry.getExtension())[ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_46 $$ document.addKeyword("mimeType", StringUtil.replace(dlFileEntry.getMimeType(), CharPool.FORWARD_SLASH, CharPool.UNDERLINE))[ FD ]
Line_31 $$ if (_log.isDebugEnabled()) -->Line_32 $$ _log.debug("Document " + dlFileEntry + " does not have any content")[ CD ]
Line_55 $$ if ((indexer != null) && (indexer instanceof RelatedEntryIndexer)) -->Line_60 $$ document.addKeyword(Field.RELATED_ENTRY, true)[ CD ]
Line_55 $$ if ((indexer != null) && (indexer instanceof RelatedEntryIndexer)) -->Line_57 $$ relatedEntryIndexer.addRelatedEntryFields(document, new LiferayFileEntry(dlFileEntry))[ CD ]
Line_55 $$ if ((indexer != null) && (indexer instanceof RelatedEntryIndexer)) -->Line_59 $$ documentHelper.setAttachmentOwnerKey(PortalUtil.getClassNameId(dlFileEntry.getClassName()), dlFileEntry.getClassPK())[ CD ]
Line_13 $$ if (indexContent) -->Line_14 $$ is = dlFileEntry.getFileVersion().getContentStream(false)[ CD ]
Line_17 $$ if (_log.isDebugEnabled()) -->Line_18 $$ _log.debug("Error retrieving document stream", e)[ CD ]
Line_25 $$ if (is != null) -->Line_31 $$ if (_log.isDebugEnabled()) [ CD ]
Line_7 $$ InputStream is = null-->Line_25 $$ if (is != null) [ FD ]
Line_7 $$ InputStream is = null-->Line_70 $$ is.close()[ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_41 $$ document.addKeyword(Field.TREE_PATH, StringUtil.split(dlFileEntry.getTreePath(), CharPool.SLASH))[ FD ]
Line_21 $$ DLFileVersion dlFileVersion = dlFileEntry.getFileVersion()-->Line_52 $$ addFileEntryTypeAttributes(document, dlFileVersion)[ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_45 $$ document.addKeyword("fileEntryTypeId", dlFileEntry.getFileEntryTypeId())[ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_37 $$ document.addKeyword(Field.FOLDER_ID, dlFileEntry.getFolderId())[ FD ]
Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)-->Line_48 $$ document.addKeyword("readCount", dlFileEntry.getReadCount())[ FD ]
Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)-->Line_41 $$ document.addKeyword(Field.TREE_PATH, StringUtil.split(dlFileEntry.getTreePath(), CharPool.SLASH))[ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_42 $$ document.addKeyword("dataRepositoryId", dlFileEntry.getDataRepositoryId())[ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_39 $$ document.addText(Field.PROPERTIES, dlFileEntry.getLuceneProperties())[ FD ]
Line_50 $$ ExpandoBridge expandoBridge = ExpandoBridgeFactoryUtil.getExpandoBridge(dlFileEntry.getCompanyId(), DLFileEntry.class.getName(), dlFileVersion.getFileVersionId())-->Line_51 $$ ExpandoBridgeIndexerUtil.addAttributes(document, expandoBridge)[ FD ]
Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)-->Line_38 $$ document.addKeyword(Field.HIDDEN, dlFileEntry.isInHiddenFolder())[ FD ]
Line_10 $$ if (ArrayUtil.contains(ignoreExtensions, StringPool.PERIOD + dlFileEntry.getExtension())) -->Line_11 $$ indexContent = false[ CD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_59 $$ documentHelper.setAttachmentOwnerKey(PortalUtil.getClassNameId(dlFileEntry.getClassName()), dlFileEntry.getClassPK())[ FD ]
Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)-->Line_37 $$ document.addKeyword(Field.FOLDER_ID, dlFileEntry.getFolderId())[ FD ]
Line_53 $$ if (dlFileEntry.isInHiddenFolder()) -->Line_55 $$ if ((indexer != null) && (indexer instanceof RelatedEntryIndexer)) [ CD ]
Line_55 $$ if ((indexer != null) && (indexer instanceof RelatedEntryIndexer)) -->Line_58 $$ DocumentHelper documentHelper = new DocumentHelper(document)[ CD ]
Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)-->Line_43 $$ document.addText("ddmContent", extractDDMContent(dlFileVersion, LocaleUtil.getSiteDefault()))[ FD ]
Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)-->Line_46 $$ document.addKeyword("mimeType", StringUtil.replace(dlFileEntry.getMimeType(), CharPool.FORWARD_SLASH, CharPool.UNDERLINE))[ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_38 $$ document.addKeyword(Field.HIDDEN, dlFileEntry.isInHiddenFolder())[ FD ]
Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)-->Line_60 $$ document.addKeyword(Field.RELATED_ENTRY, true)[ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_47 $$ document.addKeyword("path", dlFileEntry.getTitle())[ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_50 $$ ExpandoBridge expandoBridge = ExpandoBridgeFactoryUtil.getExpandoBridge(dlFileEntry.getCompanyId(), DLFileEntry.class.getName(), dlFileVersion.getFileVersionId())[ FD ]
Line_6 $$ boolean indexContent = true-->Line_11 $$ indexContent = false[ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)[ FD ]
Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)-->Line_40 $$ document.addText(Field.TITLE, dlFileEntry.getTitle())[ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_6 $$ boolean indexContent = true[ CD ]
Line_21 $$ DLFileVersion dlFileVersion = dlFileEntry.getFileVersion()-->Line_43 $$ document.addText("ddmContent", extractDDMContent(dlFileVersion, LocaleUtil.getSiteDefault()))[ FD ]
Line_14 $$ is = dlFileEntry.getFileVersion().getContentStream(false)-->Line_27 $$ document.addFile(Field.CONTENT, is, dlFileEntry.getTitle(), PropsValues.DL_FILE_INDEXING_MAX_SIZE)[ FD ]
Line_14 $$ is = dlFileEntry.getFileVersion().getContentStream(false)-->Line_25 $$ if (is != null) [ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_36 $$ document.addText(Field.DESCRIPTION, dlFileEntry.getDescription())[ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_40 $$ document.addText(Field.TITLE, dlFileEntry.getTitle())[ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_3 $$ if (_log.isDebugEnabled()) [ CD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_27 $$ document.addFile(Field.CONTENT, is, dlFileEntry.getTitle(), PropsValues.DL_FILE_INDEXING_MAX_SIZE)[ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_21 $$ DLFileVersion dlFileVersion = dlFileEntry.getFileVersion()[ CD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_54 $$ Indexer<?> indexer = IndexerRegistryUtil.getIndexer(dlFileEntry.getClassName())[ FD ]
Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)-->Line_35 $$ document.addKeyword(Field.CLASS_TYPE_ID, dlFileEntry.getFileEntryTypeId())[ FD ]
Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)-->Line_42 $$ document.addKeyword("dataRepositoryId", dlFileEntry.getDataRepositoryId())[ FD ]
Line_21 $$ DLFileVersion dlFileVersion = dlFileEntry.getFileVersion()-->Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)[ FD ]
Line_63 $$ if (_log.isDebugEnabled()) -->Line_64 $$ _log.debug("Document " + dlFileEntry + " indexed successfully")[ CD ]
Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)-->Line_52 $$ addFileEntryTypeAttributes(document, dlFileVersion)[ FD ]
Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)-->Line_27 $$ document.addFile(Field.CONTENT, is, dlFileEntry.getTitle(), PropsValues.DL_FILE_INDEXING_MAX_SIZE)[ FD ]
Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)-->Line_49 $$ document.addKeyword("size", dlFileEntry.getSize())[ FD ]
Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)-->Line_57 $$ relatedEntryIndexer.addRelatedEntryFields(document, new LiferayFileEntry(dlFileEntry))[ FD ]
Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)-->Line_45 $$ document.addKeyword("fileEntryTypeId", dlFileEntry.getFileEntryTypeId())[ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_49 $$ document.addKeyword("size", dlFileEntry.getSize())[ FD ]
Line_58 $$ DocumentHelper documentHelper = new DocumentHelper(document)-->Line_59 $$ documentHelper.setAttachmentOwnerKey(PortalUtil.getClassNameId(dlFileEntry.getClassName()), dlFileEntry.getClassPK())[ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_48 $$ document.addKeyword("readCount", dlFileEntry.getReadCount())[ FD ]
Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)-->Line_39 $$ document.addText(Field.PROPERTIES, dlFileEntry.getLuceneProperties())[ FD ]
Line_7 $$ InputStream is = null-->Line_14 $$ is = dlFileEntry.getFileVersion().getContentStream(false)[ FD ]
Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)-->Line_36 $$ document.addText(Field.DESCRIPTION, dlFileEntry.getDescription())[ FD ]
Line_7 $$ InputStream is = null-->Line_68 $$ if (is != null) [ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_35 $$ document.addKeyword(Field.CLASS_TYPE_ID, dlFileEntry.getFileEntryTypeId())[ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_10 $$ if (ArrayUtil.contains(ignoreExtensions, StringPool.PERIOD + dlFileEntry.getExtension())) [ FD ]
Line_9 $$ String[] ignoreExtensions = PrefsPropsUtil.getStringArray(PropsKeys.DL_FILE_INDEXING_IGNORE_EXTENSIONS, StringPool.COMMA)-->Line_10 $$ if (ArrayUtil.contains(ignoreExtensions, StringPool.PERIOD + dlFileEntry.getExtension())) [ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_21 $$ DLFileVersion dlFileVersion = dlFileEntry.getFileVersion()[ FD ]
Line_21 $$ DLFileVersion dlFileVersion = dlFileEntry.getFileVersion()-->Line_50 $$ ExpandoBridge expandoBridge = ExpandoBridgeFactoryUtil.getExpandoBridge(dlFileEntry.getCompanyId(), DLFileEntry.class.getName(), dlFileVersion.getFileVersionId())[ FD ]
Line_23 $$ Document document = getBaseModelDocument(CLASS_NAME, dlFileEntry, dlFileVersion)-->Line_51 $$ ExpandoBridgeIndexerUtil.addAttributes(document, expandoBridge)[ FD ]
Line_24 $$ if (indexContent) -->Line_25 $$ if (is != null) [ CD ]
Line_55 $$ if ((indexer != null) && (indexer instanceof RelatedEntryIndexer)) -->Line_56 $$ RelatedEntryIndexer relatedEntryIndexer = (RelatedEntryIndexer) indexer[ CD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_53 $$ if (dlFileEntry.isInHiddenFolder()) [ FD ]
Line_14 $$ is = dlFileEntry.getFileVersion().getContentStream(false)-->Line_70 $$ is.close()[ FD ]
Line_2 $$ protected Document doGetDocument(DLFileEntry dlFileEntry) throws Exception -->Line_14 $$ is = dlFileEntry.getFileVersion().getContentStream(false)[ FD ]
Line_14 $$ is = dlFileEntry.getFileVersion().getContentStream(false)-->Line_68 $$ if (is != null) [ FD ]
