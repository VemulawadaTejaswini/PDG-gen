Line_20 $$ Iterator<ParamValueMetaData> it = params.iterator()-->Line_26 $$ it.remove()[ FD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_52 $$ if (!resteasy.getScannedResourceClasses().isEmpty()) [ CD ]
Line_13 $$ final ResteasyDeploymentData resteasy = deploymentUnit.getAttachment(JaxrsAttachments.RESTEASY_DEPLOYMENT_DATA)-->Line_66 $$ if (!resteasy.getScannedProviderClasses().isEmpty()) [ FD ]
Line_105 $$ if (applicationClassSet.size() == 0) -->Line_111 $$ setServletMappingPrefix(webdata, JAX_RS_SERVLET_NAME, servlet)[ CD ]
Line_69 $$ if (buf == null) -->Line_70 $$ buf = new StringBuffer()[ CD ]
Line_20 $$ Iterator<ParamValueMetaData> it = params.iterator()-->Line_22 $$ final ParamValueMetaData param = it.next()[ FD ]
Line_20 $$ Iterator<ParamValueMetaData> it = params.iterator()-->Line_21 $$ while (it.hasNext()) [ FD ]
Line_12 $$ final JBossWebMetaData webdata = warMetaData.getMergedJBossWebMetaData()-->Line_142 $$ if (webdata.getServletMappings() == null) [ FD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_14 $$ if (resteasy == null)[ CD ]
Line_27 $$ if (param.getParamName().equals(RESTEASY_SCAN_PROVIDERS)) -->Line_29 $$ if (param.getParamName().equals(ResteasyContextParameters.RESTEASY_EXPAND_ENTITY_REFERENCES)) [ CD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_105 $$ if (applicationClassSet.size() == 0) [ CD ]
Line_42 $$ for (ModuleDependency dep : moduleSpec.getAllDependencies()) -->Line_43 $$ if (!identifiers.contains(dep.getIdentifier())) [ FD ]
Line_70 $$ buf = new StringBuffer()-->Line_84 $$ buf = new StringBuffer()[ FD ]
Line_3 $$ final DeploymentUnit deploymentUnit = phaseContext.getDeploymentUnit()-->Line_10 $$ final DeploymentUnit parent = deploymentUnit.getParent() == null ? deploymentUnit : deploymentUnit.getParent()[ FD ]
Line_70 $$ buf = new StringBuffer()-->Line_85 $$ buf.append(resource)[ FD ]
Line_70 $$ buf = new StringBuffer()-->Line_90 $$ String providers = buf.toString()[ FD ]
Line_114 $$ for (Class<? extends Application> applicationClass : applicationClassSet) -->Line_116 $$ servletName = applicationClass.getName()[ FD ]
Line_22 $$ final ParamValueMetaData param = it.next()-->Line_27 $$ if (param.getParamName().equals(RESTEASY_SCAN_PROVIDERS)) [ FD ]
Line_45 $$ if (attachmentMap.containsKey(dep.getIdentifier())) -->Line_46 $$ additionalData.add(attachmentMap.get(dep.getIdentifier()))[ CD ]
Line_76 $$ String providers = buf.toString()-->Line_78 $$ setContextParameter(webdata, ResteasyContextParameters.RESTEASY_SCANNED_PROVIDERS, providers)[ FD ]
Line_41 $$ final Set<ModuleIdentifier> identifiers = new HashSet<ModuleIdentifier>()-->Line_43 $$ if (!identifiers.contains(dep.getIdentifier())) [ FD ]
Line_100 $$ for (Class<? extends Application> clazz : resteasy.getScannedApplicationClasses()) -->Line_102 $$ applicationClassSet.add(clazz)[ FD ]
Line_23 $$ if (param.getParamName().equals(RESTEASY_SCAN)) -->Line_24 $$ it.remove()[ CD ]
Line_56 $$ buf = new StringBuffer()-->Line_85 $$ buf.append(resource)[ FD ]
Line_53 $$ StringBuffer buf = null-->Line_71 $$ buf.append(provider)[ FD ]
Line_116 $$ servletName = applicationClass.getName()-->Line_150 $$ setServletMappingPrefix(webdata, servletName, servlet)[ FD ]
Line_12 $$ final JBossWebMetaData webdata = warMetaData.getMergedJBossWebMetaData()-->Line_110 $$ addServlet(webdata, servlet)[ FD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_66 $$ if (!resteasy.getScannedProviderClasses().isEmpty()) [ CD ]
Line_55 $$ if (buf == null) -->Line_56 $$ buf = new StringBuffer()[ CD ]
Line_115 $$ String servletName = null-->Line_116 $$ servletName = applicationClass.getName()[ FD ]
Line_43 $$ if (!identifiers.contains(dep.getIdentifier())) -->Line_44 $$ identifiers.add(dep.getIdentifier())[ CD ]
Line_70 $$ buf = new StringBuffer()-->Line_83 $$ if (buf == null) [ FD ]
Line_52 $$ if (!resteasy.getScannedResourceClasses().isEmpty()) -->Line_64 $$ setContextParameter(webdata, ResteasyContextParameters.RESTEASY_SCANNED_RESOURCES, resources)[ CD ]
Line_68 $$ for (String provider : resteasy.getScannedProviderClasses()) -->Line_73 $$ buf.append(",").append(provider)[ FD ]
Line_83 $$ if (buf == null) -->Line_87 $$ buf.append(",").append(resource)[ CD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_3 $$ final DeploymentUnit deploymentUnit = phaseContext.getDeploymentUnit()[ FD ]
Line_129 $$ pathValue = "/" + pathValue-->Line_132 $$ if (pathValue.endsWith("/")) [ FD ]
Line_13 $$ final ResteasyDeploymentData resteasy = deploymentUnit.getAttachment(JaxrsAttachments.RESTEASY_DEPLOYMENT_DATA)-->Line_80 $$ if (!resteasy.getScannedJndiComponentResources().isEmpty()) [ FD ]
Line_13 $$ final ResteasyDeploymentData resteasy = deploymentUnit.getAttachment(JaxrsAttachments.RESTEASY_DEPLOYMENT_DATA)-->Line_94 $$ if (!resteasy.isUnwrappedExceptionsParameterSet()) [ FD ]
Line_56 $$ buf = new StringBuffer()-->Line_57 $$ buf.append(resource)[ FD ]
Line_62 $$ String resources = buf.toString()-->Line_64 $$ setContextParameter(webdata, ResteasyContextParameters.RESTEASY_SCANNED_RESOURCES, resources)[ FD ]
Line_106 $$ JBossServletMetaData servlet = new JBossServletMetaData()-->Line_109 $$ servlet.setAsyncSupported(true)[ FD ]
Line_19 $$ if (params != null) -->Line_20 $$ Iterator<ParamValueMetaData> it = params.iterator()[ CD ]
Line_53 $$ StringBuffer buf = null-->Line_57 $$ buf.append(resource)[ FD ]
Line_106 $$ JBossServletMetaData servlet = new JBossServletMetaData()-->Line_118 $$ servlet.setLoadOnStartup("" + 0)[ FD ]
Line_39 $$ final ModuleSpecification moduleSpec = deploymentUnit.getAttachment(Attachments.MODULE_SPECIFICATION)-->Line_42 $$ for (ModuleDependency dep : moduleSpec.getAllDependencies()) [ FD ]
Line_76 $$ String providers = buf.toString()-->Line_92 $$ setContextParameter(webdata, ResteasyContextParameters.RESTEASY_SCANNED_JNDI_RESOURCES, providers)[ FD ]
Line_84 $$ buf = new StringBuffer()-->Line_90 $$ String providers = buf.toString()[ FD ]
Line_115 $$ String servletName = null-->Line_140 $$ mapping.setServletName(servletName)[ FD ]
Line_13 $$ final ResteasyDeploymentData resteasy = deploymentUnit.getAttachment(JaxrsAttachments.RESTEASY_DEPLOYMENT_DATA)-->Line_97 $$ if (resteasy.hasBootClasses() || resteasy.isDispatcherCreated())[ FD ]
Line_68 $$ for (String provider : resteasy.getScannedProviderClasses()) -->Line_71 $$ buf.append(provider)[ FD ]
Line_12 $$ final JBossWebMetaData webdata = warMetaData.getMergedJBossWebMetaData()-->Line_150 $$ setServletMappingPrefix(webdata, servletName, servlet)[ FD ]
Line_54 $$ for (String resource : resteasy.getScannedResourceClasses()) -->Line_59 $$ buf.append(",").append(resource)[ FD ]
Line_53 $$ StringBuffer buf = null-->Line_70 $$ buf = new StringBuffer()[ FD ]
Line_66 $$ if (!resteasy.getScannedProviderClasses().isEmpty()) -->Line_77 $$ JAXRS_LOGGER.debugf("Adding JAX-RS provider classes: %s", providers)[ CD ]
Line_37 $$ final Map<ModuleIdentifier, ResteasyDeploymentData> attachmentMap = parent.getAttachment(JaxrsAttachments.ADDITIONAL_RESTEASY_DEPLOYMENT_DATA)-->Line_45 $$ if (attachmentMap.containsKey(dep.getIdentifier())) [ FD ]
Line_127 $$ String pathValue = URLDecoder.decode(applicationClass.getAnnotation(ApplicationPath.class).value().trim(), "UTF-8")-->Line_137 $$ patterns.add(pathValue)[ FD ]
Line_13 $$ final ResteasyDeploymentData resteasy = deploymentUnit.getAttachment(JaxrsAttachments.RESTEASY_DEPLOYMENT_DATA)-->Line_52 $$ if (!resteasy.getScannedResourceClasses().isEmpty()) [ FD ]
Line_12 $$ final JBossWebMetaData webdata = warMetaData.getMergedJBossWebMetaData()-->Line_145 $$ webdata.getServletMappings().add(mapping)[ FD ]
Line_22 $$ final ParamValueMetaData param = it.next()-->Line_25 $$ if (param.getParamName().equals(RESTEASY_SCAN_RESOURCES)) [ FD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_7 $$ if (!DeploymentTypeMarker.isType(DeploymentType.WAR, deploymentUnit)) [ CD ]
Line_14 $$ if (resteasy == null)-->Line_15 $$ return[ CD ]
Line_54 $$ for (String resource : resteasy.getScannedResourceClasses()) -->Line_85 $$ buf.append(resource)[ FD ]
Line_84 $$ buf = new StringBuffer()-->Line_87 $$ buf.append(",").append(resource)[ FD ]
Line_139 $$ ServletMappingMetaData mapping = new ServletMappingMetaData()-->Line_145 $$ webdata.getServletMappings().add(mapping)[ FD ]
Line_38 $$ final List<ResteasyDeploymentData> additionalData = new ArrayList<ResteasyDeploymentData>()-->Line_50 $$ resteasy.merge(additionalData)[ FD ]
Line_101 $$ if (clazz.isAnnotationPresent(ApplicationPath.class) || servletMappingsExist(webdata, clazz.getName())) -->Line_102 $$ applicationClassSet.add(clazz)[ CD ]
Line_30 $$ entityExpandEnabled = true-->Line_34 $$ if (!entityExpandEnabled) [ FD ]
Line_115 $$ String servletName = null-->Line_124 $$ if (!servletMappingsExist(webdata, servletName)) [ FD ]
Line_43 $$ if (!identifiers.contains(dep.getIdentifier())) -->Line_45 $$ if (attachmentMap.containsKey(dep.getIdentifier())) [ CD ]
Line_42 $$ for (ModuleDependency dep : moduleSpec.getAllDependencies()) -->Line_44 $$ identifiers.add(dep.getIdentifier())[ FD ]
Line_52 $$ if (!resteasy.getScannedResourceClasses().isEmpty()) -->Line_53 $$ StringBuffer buf = null[ CD ]
Line_55 $$ if (buf == null) -->Line_59 $$ buf.append(",").append(resource)[ CD ]
Line_114 $$ for (Class<? extends Application> applicationClass : applicationClassSet) -->Line_122 $$ setServletInitParam(servlet, SERVLET_INIT_PARAM, applicationClass.getName())[ FD ]
Line_56 $$ buf = new StringBuffer()-->Line_73 $$ buf.append(",").append(provider)[ FD ]
Line_40 $$ if (moduleSpec != null && attachmentMap != null) -->Line_50 $$ resteasy.merge(additionalData)[ CD ]
Line_106 $$ JBossServletMetaData servlet = new JBossServletMetaData()-->Line_150 $$ setServletMappingPrefix(webdata, servletName, servlet)[ FD ]
Line_7 $$ if (!DeploymentTypeMarker.isType(DeploymentType.WAR, deploymentUnit)) -->Line_8 $$ return[ CD ]
Line_20 $$ Iterator<ParamValueMetaData> it = params.iterator()-->Line_28 $$ it.remove()[ FD ]
Line_69 $$ if (buf == null) -->Line_73 $$ buf.append(",").append(provider)[ CD ]
Line_56 $$ buf = new StringBuffer()-->Line_84 $$ buf = new StringBuffer()[ FD ]
Line_83 $$ if (buf == null) -->Line_84 $$ buf = new StringBuffer()[ CD ]
Line_23 $$ if (param.getParamName().equals(RESTEASY_SCAN)) -->Line_25 $$ if (param.getParamName().equals(RESTEASY_SCAN_RESOURCES)) [ CD ]
Line_12 $$ final JBossWebMetaData webdata = warMetaData.getMergedJBossWebMetaData()-->Line_111 $$ setServletMappingPrefix(webdata, JAX_RS_SERVLET_NAME, servlet)[ FD ]
Line_56 $$ buf = new StringBuffer()-->Line_83 $$ if (buf == null) [ FD ]
Line_106 $$ JBossServletMetaData servlet = new JBossServletMetaData()-->Line_108 $$ servlet.setServletClass(HttpServlet30Dispatcher.class.getName())[ FD ]
Line_106 $$ JBossServletMetaData servlet = new JBossServletMetaData()-->Line_138 $$ setServletInitParam(servlet, "resteasy.servlet.mapping.prefix", prefix)[ FD ]
Line_94 $$ if (!resteasy.isUnwrappedExceptionsParameterSet()) -->Line_95 $$ setContextParameter(webdata, ResteasyContextParameters.RESTEASY_UNWRAPPED_EXCEPTIONS, "javax.ejb.EJBException")[ CD ]
Line_76 $$ String providers = buf.toString()-->Line_91 $$ JAXRS_LOGGER.debugf("Adding JAX-RS jndi component resource classes: %s", providers)[ FD ]
Line_53 $$ StringBuffer buf = null-->Line_90 $$ String providers = buf.toString()[ FD ]
Line_12 $$ final JBossWebMetaData webdata = warMetaData.getMergedJBossWebMetaData()-->Line_95 $$ setContextParameter(webdata, ResteasyContextParameters.RESTEASY_UNWRAPPED_EXCEPTIONS, "javax.ejb.EJBException")[ FD ]
Line_129 $$ pathValue = "/" + pathValue-->Line_135 $$ pathValue += "/*"[ FD ]
Line_133 $$ pathValue += "*"-->Line_135 $$ pathValue += "/*"[ FD ]
Line_12 $$ final JBossWebMetaData webdata = warMetaData.getMergedJBossWebMetaData()-->Line_124 $$ if (!servletMappingsExist(webdata, servletName)) [ FD ]
Line_129 $$ pathValue = "/" + pathValue-->Line_137 $$ patterns.add(pathValue)[ FD ]
Line_12 $$ final JBossWebMetaData webdata = warMetaData.getMergedJBossWebMetaData()-->Line_78 $$ setContextParameter(webdata, ResteasyContextParameters.RESTEASY_SCANNED_PROVIDERS, providers)[ FD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_19 $$ if (params != null) [ CD ]
Line_116 $$ servletName = applicationClass.getName()-->Line_119 $$ servlet.setName(servletName)[ FD ]
Line_53 $$ StringBuffer buf = null-->Line_83 $$ if (buf == null) [ FD ]
Line_17 $$ final List<ParamValueMetaData> params = webdata.getContextParams()-->Line_20 $$ Iterator<ParamValueMetaData> it = params.iterator()[ FD ]
Line_52 $$ if (!resteasy.getScannedResourceClasses().isEmpty()) -->Line_63 $$ JAXRS_LOGGER.debugf("Adding JAX-RS resource classes: %s", resources)[ CD ]
Line_116 $$ servletName = applicationClass.getName()-->Line_140 $$ mapping.setServletName(servletName)[ FD ]
Line_29 $$ if (param.getParamName().equals(ResteasyContextParameters.RESTEASY_EXPAND_ENTITY_REFERENCES)) -->Line_30 $$ entityExpandEnabled = true[ CD ]
Line_56 $$ buf = new StringBuffer()-->Line_69 $$ if (buf == null) [ FD ]
Line_80 $$ if (!resteasy.getScannedJndiComponentResources().isEmpty()) -->Line_92 $$ setContextParameter(webdata, ResteasyContextParameters.RESTEASY_SCANNED_JNDI_RESOURCES, providers)[ CD ]
Line_105 $$ if (applicationClassSet.size() == 0) -->Line_106 $$ JBossServletMetaData servlet = new JBossServletMetaData()[ CD ]
Line_127 $$ String pathValue = URLDecoder.decode(applicationClass.getAnnotation(ApplicationPath.class).value().trim(), "UTF-8")-->Line_132 $$ if (pathValue.endsWith("/")) [ FD ]
Line_40 $$ if (moduleSpec != null && attachmentMap != null) -->Line_41 $$ final Set<ModuleIdentifier> identifiers = new HashSet<ModuleIdentifier>()[ CD ]
Line_12 $$ final JBossWebMetaData webdata = warMetaData.getMergedJBossWebMetaData()-->Line_35 $$ setContextParameter(webdata, ResteasyContextParameters.RESTEASY_EXPAND_ENTITY_REFERENCES, "false")[ FD ]
Line_56 $$ buf = new StringBuffer()-->Line_71 $$ buf.append(provider)[ FD ]
Line_69 $$ if (buf == null) -->Line_71 $$ buf.append(provider)[ CD ]
Line_116 $$ servletName = applicationClass.getName()-->Line_124 $$ if (!servletMappingsExist(webdata, servletName)) [ FD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_16 $$ deploymentUnit.getDeploymentSubsystemModel(JaxrsExtension.SUBSYSTEM_NAME)[ CD ]
Line_53 $$ StringBuffer buf = null-->Line_55 $$ if (buf == null) [ FD ]
Line_12 $$ final JBossWebMetaData webdata = warMetaData.getMergedJBossWebMetaData()-->Line_64 $$ setContextParameter(webdata, ResteasyContextParameters.RESTEASY_SCANNED_RESOURCES, resources)[ FD ]
Line_13 $$ final ResteasyDeploymentData resteasy = deploymentUnit.getAttachment(JaxrsAttachments.RESTEASY_DEPLOYMENT_DATA)-->Line_100 $$ for (Class<? extends Application> clazz : resteasy.getScannedApplicationClasses()) [ FD ]
Line_12 $$ final JBossWebMetaData webdata = warMetaData.getMergedJBossWebMetaData()-->Line_143 $$ webdata.setServletMappings(new ArrayList<ServletMappingMetaData>())[ FD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_34 $$ if (!entityExpandEnabled) [ CD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_38 $$ final List<ResteasyDeploymentData> additionalData = new ArrayList<ResteasyDeploymentData>()[ CD ]
Line_83 $$ if (buf == null) -->Line_85 $$ buf.append(resource)[ CD ]
Line_70 $$ buf = new StringBuffer()-->Line_71 $$ buf.append(provider)[ FD ]
Line_99 $$ Set<Class<? extends Application>> applicationClassSet = new HashSet()-->Line_105 $$ if (applicationClassSet.size() == 0) [ FD ]
Line_53 $$ StringBuffer buf = null-->Line_62 $$ String resources = buf.toString()[ FD ]
Line_42 $$ for (ModuleDependency dep : moduleSpec.getAllDependencies()) -->Line_46 $$ additionalData.add(attachmentMap.get(dep.getIdentifier()))[ FD ]
Line_3 $$ final DeploymentUnit deploymentUnit = phaseContext.getDeploymentUnit()-->Line_39 $$ final ModuleSpecification moduleSpec = deploymentUnit.getAttachment(Attachments.MODULE_SPECIFICATION)[ FD ]
Line_19 $$ if (params != null) -->Line_21 $$ while (it.hasNext()) [ CD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_10 $$ final DeploymentUnit parent = deploymentUnit.getParent() == null ? deploymentUnit : deploymentUnit.getParent()[ CD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_13 $$ final ResteasyDeploymentData resteasy = deploymentUnit.getAttachment(JaxrsAttachments.RESTEASY_DEPLOYMENT_DATA)[ CD ]
Line_62 $$ String resources = buf.toString()-->Line_63 $$ JAXRS_LOGGER.debugf("Adding JAX-RS resource classes: %s", resources)[ FD ]
Line_106 $$ JBossServletMetaData servlet = new JBossServletMetaData()-->Line_110 $$ addServlet(webdata, servlet)[ FD ]
Line_105 $$ if (applicationClassSet.size() == 0) -->Line_112 $$ return[ CD ]
Line_13 $$ final ResteasyDeploymentData resteasy = deploymentUnit.getAttachment(JaxrsAttachments.RESTEASY_DEPLOYMENT_DATA)-->Line_68 $$ for (String provider : resteasy.getScannedProviderClasses()) [ FD ]
Line_106 $$ JBossServletMetaData servlet = new JBossServletMetaData()-->Line_123 $$ addServlet(webdata, servlet)[ FD ]
Line_56 $$ buf = new StringBuffer()-->Line_90 $$ String providers = buf.toString()[ FD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_3 $$ final DeploymentUnit deploymentUnit = phaseContext.getDeploymentUnit()[ CD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_40 $$ if (moduleSpec != null && attachmentMap != null) [ CD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_11 $$ final WarMetaData warMetaData = deploymentUnit.getAttachment(WarMetaData.ATTACHMENT_KEY)[ CD ]
Line_66 $$ if (!resteasy.getScannedProviderClasses().isEmpty()) -->Line_76 $$ String providers = buf.toString()[ CD ]
Line_12 $$ final JBossWebMetaData webdata = warMetaData.getMergedJBossWebMetaData()-->Line_92 $$ setContextParameter(webdata, ResteasyContextParameters.RESTEASY_SCANNED_JNDI_RESOURCES, providers)[ FD ]
Line_52 $$ if (!resteasy.getScannedResourceClasses().isEmpty()) -->Line_62 $$ String resources = buf.toString()[ CD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_12 $$ final JBossWebMetaData webdata = warMetaData.getMergedJBossWebMetaData()[ CD ]
Line_53 $$ StringBuffer buf = null-->Line_56 $$ buf = new StringBuffer()[ FD ]
Line_70 $$ buf = new StringBuffer()-->Line_87 $$ buf.append(",").append(resource)[ FD ]
Line_80 $$ if (!resteasy.getScannedJndiComponentResources().isEmpty()) -->Line_91 $$ JAXRS_LOGGER.debugf("Adding JAX-RS jndi component resource classes: %s", providers)[ CD ]
Line_105 $$ if (applicationClassSet.size() == 0) -->Line_110 $$ addServlet(webdata, servlet)[ CD ]
Line_3 $$ final DeploymentUnit deploymentUnit = phaseContext.getDeploymentUnit()-->Line_7 $$ if (!DeploymentTypeMarker.isType(DeploymentType.WAR, deploymentUnit)) [ FD ]
Line_127 $$ String pathValue = URLDecoder.decode(applicationClass.getAnnotation(ApplicationPath.class).value().trim(), "UTF-8")-->Line_133 $$ pathValue += "*"[ FD ]
Line_4 $$ if (!JaxrsDeploymentMarker.isJaxrsDeployment(deploymentUnit)) -->Line_5 $$ return[ CD ]
Line_53 $$ StringBuffer buf = null-->Line_59 $$ buf.append(",").append(resource)[ FD ]
Line_53 $$ StringBuffer buf = null-->Line_73 $$ buf.append(",").append(provider)[ FD ]
Line_56 $$ buf = new StringBuffer()-->Line_87 $$ buf.append(",").append(resource)[ FD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_97 $$ if (resteasy.hasBootClasses() || resteasy.isDispatcherCreated())[ CD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_94 $$ if (!resteasy.isUnwrappedExceptionsParameterSet()) [ CD ]
Line_80 $$ if (!resteasy.getScannedJndiComponentResources().isEmpty()) -->Line_90 $$ String providers = buf.toString()[ CD ]
Line_18 $$ boolean entityExpandEnabled = false-->Line_30 $$ entityExpandEnabled = true[ FD ]
Line_135 $$ pathValue += "/*"-->Line_137 $$ patterns.add(pathValue)[ FD ]
Line_106 $$ JBossServletMetaData servlet = new JBossServletMetaData()-->Line_111 $$ setServletMappingPrefix(webdata, JAX_RS_SERVLET_NAME, servlet)[ FD ]
Line_56 $$ buf = new StringBuffer()-->Line_59 $$ buf.append(",").append(resource)[ FD ]
Line_127 $$ String pathValue = URLDecoder.decode(applicationClass.getAnnotation(ApplicationPath.class).value().trim(), "UTF-8")-->Line_135 $$ pathValue += "/*"[ FD ]
Line_70 $$ buf = new StringBuffer()-->Line_73 $$ buf.append(",").append(provider)[ FD ]
Line_100 $$ for (Class<? extends Application> clazz : resteasy.getScannedApplicationClasses()) -->Line_101 $$ if (clazz.isAnnotationPresent(ApplicationPath.class) || servletMappingsExist(webdata, clazz.getName())) [ FD ]
Line_106 $$ JBossServletMetaData servlet = new JBossServletMetaData()-->Line_119 $$ servlet.setName(servletName)[ FD ]
Line_126 $$ List<String> patterns = new ArrayList<String>()-->Line_141 $$ mapping.setUrlPatterns(patterns)[ FD ]
Line_18 $$ boolean entityExpandEnabled = false-->Line_34 $$ if (!entityExpandEnabled) [ FD ]
Line_114 $$ for (Class<? extends Application> applicationClass : applicationClassSet) -->Line_127 $$ String pathValue = URLDecoder.decode(applicationClass.getAnnotation(ApplicationPath.class).value().trim(), "UTF-8")[ FD ]
Line_105 $$ if (applicationClassSet.size() == 0) -->Line_107 $$ servlet.setName(JAX_RS_SERVLET_NAME)[ CD ]
Line_3 $$ final DeploymentUnit deploymentUnit = phaseContext.getDeploymentUnit()-->Line_4 $$ if (!JaxrsDeploymentMarker.isJaxrsDeployment(deploymentUnit)) [ FD ]
Line_12 $$ final JBossWebMetaData webdata = warMetaData.getMergedJBossWebMetaData()-->Line_123 $$ addServlet(webdata, servlet)[ FD ]
Line_53 $$ StringBuffer buf = null-->Line_69 $$ if (buf == null) [ FD ]
Line_115 $$ String servletName = null-->Line_119 $$ servlet.setName(servletName)[ FD ]
Line_13 $$ final ResteasyDeploymentData resteasy = deploymentUnit.getAttachment(JaxrsAttachments.RESTEASY_DEPLOYMENT_DATA)-->Line_54 $$ for (String resource : resteasy.getScannedResourceClasses()) [ FD ]
Line_70 $$ buf = new StringBuffer()-->Line_76 $$ String providers = buf.toString()[ FD ]
Line_66 $$ if (!resteasy.getScannedProviderClasses().isEmpty()) -->Line_78 $$ setContextParameter(webdata, ResteasyContextParameters.RESTEASY_SCANNED_PROVIDERS, providers)[ CD ]
Line_56 $$ buf = new StringBuffer()-->Line_76 $$ String providers = buf.toString()[ FD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_99 $$ Set<Class<? extends Application>> applicationClassSet = new HashSet()[ CD ]
Line_132 $$ if (pathValue.endsWith("/")) -->Line_133 $$ pathValue += "*"[ CD ]
Line_54 $$ for (String resource : resteasy.getScannedResourceClasses()) -->Line_87 $$ buf.append(",").append(resource)[ FD ]
Line_53 $$ StringBuffer buf = null-->Line_76 $$ String providers = buf.toString()[ FD ]
Line_127 $$ String pathValue = URLDecoder.decode(applicationClass.getAnnotation(ApplicationPath.class).value().trim(), "UTF-8")-->Line_129 $$ pathValue = "/" + pathValue[ FD ]
Line_10 $$ final DeploymentUnit parent = deploymentUnit.getParent() == null ? deploymentUnit : deploymentUnit.getParent()-->Line_37 $$ final Map<ModuleIdentifier, ResteasyDeploymentData> attachmentMap = parent.getAttachment(JaxrsAttachments.ADDITIONAL_RESTEASY_DEPLOYMENT_DATA)[ FD ]
Line_53 $$ StringBuffer buf = null-->Line_84 $$ buf = new StringBuffer()[ FD ]
Line_127 $$ String pathValue = URLDecoder.decode(applicationClass.getAnnotation(ApplicationPath.class).value().trim(), "UTF-8")-->Line_128 $$ if (!pathValue.startsWith("/")) [ FD ]
Line_139 $$ ServletMappingMetaData mapping = new ServletMappingMetaData()-->Line_140 $$ mapping.setServletName(servletName)[ FD ]
Line_53 $$ StringBuffer buf = null-->Line_87 $$ buf.append(",").append(resource)[ FD ]
Line_22 $$ final ParamValueMetaData param = it.next()-->Line_23 $$ if (param.getParamName().equals(RESTEASY_SCAN)) [ FD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_4 $$ if (!JaxrsDeploymentMarker.isJaxrsDeployment(deploymentUnit)) [ CD ]
Line_106 $$ JBossServletMetaData servlet = new JBossServletMetaData()-->Line_107 $$ servlet.setName(JAX_RS_SERVLET_NAME)[ FD ]
Line_142 $$ if (webdata.getServletMappings() == null) -->Line_143 $$ webdata.setServletMappings(new ArrayList<ServletMappingMetaData>())[ CD ]
Line_129 $$ pathValue = "/" + pathValue-->Line_133 $$ pathValue += "*"[ FD ]
Line_131 $$ String prefix = pathValue-->Line_138 $$ setServletInitParam(servlet, "resteasy.servlet.mapping.prefix", prefix)[ FD ]
Line_27 $$ if (param.getParamName().equals(RESTEASY_SCAN_PROVIDERS)) -->Line_28 $$ it.remove()[ CD ]
Line_139 $$ ServletMappingMetaData mapping = new ServletMappingMetaData()-->Line_141 $$ mapping.setUrlPatterns(patterns)[ FD ]
Line_55 $$ if (buf == null) -->Line_57 $$ buf.append(resource)[ CD ]
Line_105 $$ if (applicationClassSet.size() == 0) -->Line_108 $$ servlet.setServletClass(HttpServlet30Dispatcher.class.getName())[ CD ]
Line_99 $$ Set<Class<? extends Application>> applicationClassSet = new HashSet()-->Line_102 $$ applicationClassSet.add(clazz)[ FD ]
Line_3 $$ final DeploymentUnit deploymentUnit = phaseContext.getDeploymentUnit()-->Line_16 $$ deploymentUnit.getDeploymentSubsystemModel(JaxrsExtension.SUBSYSTEM_NAME)[ FD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_37 $$ final Map<ModuleIdentifier, ResteasyDeploymentData> attachmentMap = parent.getAttachment(JaxrsAttachments.ADDITIONAL_RESTEASY_DEPLOYMENT_DATA)[ CD ]
Line_12 $$ final JBossWebMetaData webdata = warMetaData.getMergedJBossWebMetaData()-->Line_17 $$ final List<ParamValueMetaData> params = webdata.getContextParams()[ FD ]
Line_56 $$ buf = new StringBuffer()-->Line_62 $$ String resources = buf.toString()[ FD ]
Line_21 $$ while (it.hasNext()) -->Line_23 $$ if (param.getParamName().equals(RESTEASY_SCAN)) [ CD ]
Line_11 $$ final WarMetaData warMetaData = deploymentUnit.getAttachment(WarMetaData.ATTACHMENT_KEY)-->Line_12 $$ final JBossWebMetaData webdata = warMetaData.getMergedJBossWebMetaData()[ FD ]
Line_97 $$ if (resteasy.hasBootClasses() || resteasy.isDispatcherCreated())-->Line_98 $$ return[ CD ]
Line_41 $$ final Set<ModuleIdentifier> identifiers = new HashSet<ModuleIdentifier>()-->Line_44 $$ identifiers.add(dep.getIdentifier())[ FD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_80 $$ if (!resteasy.getScannedJndiComponentResources().isEmpty()) [ CD ]
Line_3 $$ final DeploymentUnit deploymentUnit = phaseContext.getDeploymentUnit()-->Line_11 $$ final WarMetaData warMetaData = deploymentUnit.getAttachment(WarMetaData.ATTACHMENT_KEY)[ FD ]
Line_42 $$ for (ModuleDependency dep : moduleSpec.getAllDependencies()) -->Line_45 $$ if (attachmentMap.containsKey(dep.getIdentifier())) [ FD ]
Line_38 $$ final List<ResteasyDeploymentData> additionalData = new ArrayList<ResteasyDeploymentData>()-->Line_46 $$ additionalData.add(attachmentMap.get(dep.getIdentifier()))[ FD ]
Line_124 $$ if (!servletMappingsExist(webdata, servletName)) -->Line_150 $$ setServletMappingPrefix(webdata, servletName, servlet)[ CD ]
Line_56 $$ buf = new StringBuffer()-->Line_70 $$ buf = new StringBuffer()[ FD ]
Line_106 $$ JBossServletMetaData servlet = new JBossServletMetaData()-->Line_121 $$ servlet.setAsyncSupported(true)[ FD ]
Line_106 $$ JBossServletMetaData servlet = new JBossServletMetaData()-->Line_122 $$ setServletInitParam(servlet, SERVLET_INIT_PARAM, applicationClass.getName())[ FD ]
Line_128 $$ if (!pathValue.startsWith("/")) -->Line_129 $$ pathValue = "/" + pathValue[ CD ]
Line_12 $$ final JBossWebMetaData webdata = warMetaData.getMergedJBossWebMetaData()-->Line_101 $$ if (clazz.isAnnotationPresent(ApplicationPath.class) || servletMappingsExist(webdata, clazz.getName())) [ FD ]
Line_105 $$ if (applicationClassSet.size() == 0) -->Line_109 $$ servlet.setAsyncSupported(true)[ CD ]
Line_132 $$ if (pathValue.endsWith("/")) -->Line_135 $$ pathValue += "/*"[ CD ]
Line_25 $$ if (param.getParamName().equals(RESTEASY_SCAN_RESOURCES)) -->Line_27 $$ if (param.getParamName().equals(RESTEASY_SCAN_PROVIDERS)) [ CD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_39 $$ final ModuleSpecification moduleSpec = deploymentUnit.getAttachment(Attachments.MODULE_SPECIFICATION)[ CD ]
Line_13 $$ final ResteasyDeploymentData resteasy = deploymentUnit.getAttachment(JaxrsAttachments.RESTEASY_DEPLOYMENT_DATA)-->Line_82 $$ for (String resource : resteasy.getScannedJndiComponentResources()) [ FD ]
Line_21 $$ while (it.hasNext()) -->Line_22 $$ final ParamValueMetaData param = it.next()[ CD ]
Line_133 $$ pathValue += "*"-->Line_137 $$ patterns.add(pathValue)[ FD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_17 $$ final List<ParamValueMetaData> params = webdata.getContextParams()[ CD ]
Line_54 $$ for (String resource : resteasy.getScannedResourceClasses()) -->Line_57 $$ buf.append(resource)[ FD ]
Line_84 $$ buf = new StringBuffer()-->Line_85 $$ buf.append(resource)[ FD ]
Line_106 $$ JBossServletMetaData servlet = new JBossServletMetaData()-->Line_120 $$ servlet.setServletClass(HttpServlet30Dispatcher.class.getName())[ FD ]
Line_53 $$ StringBuffer buf = null-->Line_85 $$ buf.append(resource)[ FD ]
Line_13 $$ final ResteasyDeploymentData resteasy = deploymentUnit.getAttachment(JaxrsAttachments.RESTEASY_DEPLOYMENT_DATA)-->Line_50 $$ resteasy.merge(additionalData)[ FD ]
Line_25 $$ if (param.getParamName().equals(RESTEASY_SCAN_RESOURCES)) -->Line_26 $$ it.remove()[ CD ]
Line_37 $$ final Map<ModuleIdentifier, ResteasyDeploymentData> attachmentMap = parent.getAttachment(JaxrsAttachments.ADDITIONAL_RESTEASY_DEPLOYMENT_DATA)-->Line_46 $$ additionalData.add(attachmentMap.get(dep.getIdentifier()))[ FD ]
Line_3 $$ final DeploymentUnit deploymentUnit = phaseContext.getDeploymentUnit()-->Line_13 $$ final ResteasyDeploymentData resteasy = deploymentUnit.getAttachment(JaxrsAttachments.RESTEASY_DEPLOYMENT_DATA)[ FD ]
Line_34 $$ if (!entityExpandEnabled) -->Line_35 $$ setContextParameter(webdata, ResteasyContextParameters.RESTEASY_EXPAND_ENTITY_REFERENCES, "false")[ CD ]
Line_76 $$ String providers = buf.toString()-->Line_77 $$ JAXRS_LOGGER.debugf("Adding JAX-RS provider classes: %s", providers)[ FD ]
Line_20 $$ Iterator<ParamValueMetaData> it = params.iterator()-->Line_24 $$ it.remove()[ FD ]
Line_13 $$ final ResteasyDeploymentData resteasy = deploymentUnit.getAttachment(JaxrsAttachments.RESTEASY_DEPLOYMENT_DATA)-->Line_14 $$ if (resteasy == null)[ FD ]
Line_22 $$ final ParamValueMetaData param = it.next()-->Line_29 $$ if (param.getParamName().equals(ResteasyContextParameters.RESTEASY_EXPAND_ENTITY_REFERENCES)) [ FD ]
Line_2 $$ public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException -->Line_18 $$ boolean entityExpandEnabled = false[ CD ]
Line_126 $$ List<String> patterns = new ArrayList<String>()-->Line_137 $$ patterns.add(pathValue)[ FD ]
Line_17 $$ final List<ParamValueMetaData> params = webdata.getContextParams()-->Line_19 $$ if (params != null) [ FD ]
Line_115 $$ String servletName = null-->Line_150 $$ setServletMappingPrefix(webdata, servletName, servlet)[ FD ]
