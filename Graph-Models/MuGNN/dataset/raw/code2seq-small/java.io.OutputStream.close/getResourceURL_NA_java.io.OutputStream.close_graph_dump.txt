Line_2 $$ protected URL getResourceURL(HttpServletRequest request) throws IOException -->Line_9 $$ if ((languageId == null) || !PortalUtil.isRightToLeft(request)) [ FD ]
Line_15 $$ String rtlPath = FileUtil.appendSuffix(path, "_rtl")-->Line_16 $$ URL rtlURL = _servletContextHelper.getResource(rtlPath)[ FD ]
Line_28 $$ OutputStream outputStream = null-->Line_33 $$ StreamUtil.transfer(inputStream, outputStream, false)[ FD ]
Line_9 $$ if ((languageId == null) || !PortalUtil.isRightToLeft(request)) -->Line_10 $$ if (_log.isDebugEnabled()) [ CD ]
Line_2 $$ protected URL getResourceURL(HttpServletRequest request) throws IOException -->Line_8 $$ String languageId = request.getParameter("languageId")[ FD ]
Line_2 $$ protected URL getResourceURL(HttpServletRequest request) throws IOException -->Line_8 $$ String languageId = request.getParameter("languageId")[ CD ]
Line_32 $$ outputStream = new FileOutputStream(dataFile)-->Line_33 $$ StreamUtil.transfer(inputStream, outputStream, false)[ FD ]
Line_4 $$ URL url = _servletContextHelper.getResource(path)-->Line_21 $$ if (dataFile.exists() && (dataFile.lastModified() > url.openConnection().getLastModified())) [ FD ]
Line_27 $$ InputStream inputStream = new ByteArrayInputStream(rtl.getBytes(StringPool.UTF8))-->Line_33 $$ StreamUtil.transfer(inputStream, outputStream, false)[ FD ]
Line_22 $$ URI uri = dataFile.toURI()-->Line_23 $$ return uri.toURL()[ FD ]
Line_20 $$ File dataFile = _bundle.getDataFile(rtlPath)-->Line_44 $$ URI uri = dataFile.toURI()[ FD ]
Line_9 $$ if ((languageId == null) || !PortalUtil.isRightToLeft(request)) -->Line_13 $$ return url[ CD ]
Line_17 $$ if (rtlURL != null) -->Line_18 $$ return rtlURL[ CD ]
Line_2 $$ protected URL getResourceURL(HttpServletRequest request) throws IOException -->Line_28 $$ OutputStream outputStream = null[ CD ]
Line_2 $$ protected URL getResourceURL(HttpServletRequest request) throws IOException -->Line_15 $$ String rtlPath = FileUtil.appendSuffix(path, "_rtl")[ CD ]
Line_26 $$ String rtl = rtlcssConverter.process(StringUtil.read(url.openStream()))-->Line_27 $$ InputStream inputStream = new ByteArrayInputStream(rtl.getBytes(StringPool.UTF8))[ FD ]
Line_28 $$ OutputStream outputStream = null-->Line_39 $$ if (outputStream != null) [ FD ]
Line_25 $$ RTLCSSConverter rtlcssConverter = new RTLCSSConverter(false)-->Line_26 $$ String rtl = rtlcssConverter.process(StringUtil.read(url.openStream()))[ FD ]
Line_2 $$ protected URL getResourceURL(HttpServletRequest request) throws IOException -->Line_3 $$ String path = URLDecoder.decode(RequestDispatcherUtil.getEffectivePath(request), StringPool.UTF8)[ CD ]
Line_20 $$ File dataFile = _bundle.getDataFile(rtlPath)-->Line_30 $$ dataFile.getParentFile().mkdirs()[ FD ]
Line_2 $$ protected URL getResourceURL(HttpServletRequest request) throws IOException -->Line_16 $$ URL rtlURL = _servletContextHelper.getResource(rtlPath)[ CD ]
Line_21 $$ if (dataFile.exists() && (dataFile.lastModified() > url.openConnection().getLastModified())) -->Line_22 $$ URI uri = dataFile.toURI()[ CD ]
Line_22 $$ URI uri = dataFile.toURI()-->Line_45 $$ return uri.toURL()[ FD ]
Line_28 $$ OutputStream outputStream = null-->Line_32 $$ outputStream = new FileOutputStream(dataFile)[ FD ]
Line_2 $$ protected URL getResourceURL(HttpServletRequest request) throws IOException -->Line_9 $$ if ((languageId == null) || !PortalUtil.isRightToLeft(request)) [ CD ]
Line_2 $$ protected URL getResourceURL(HttpServletRequest request) throws IOException -->Line_25 $$ RTLCSSConverter rtlcssConverter = new RTLCSSConverter(false)[ CD ]
Line_2 $$ protected URL getResourceURL(HttpServletRequest request) throws IOException -->Line_21 $$ if (dataFile.exists() && (dataFile.lastModified() > url.openConnection().getLastModified())) [ CD ]
Line_2 $$ protected URL getResourceURL(HttpServletRequest request) throws IOException -->Line_5 $$ if (url == null) [ CD ]
Line_3 $$ String path = URLDecoder.decode(RequestDispatcherUtil.getEffectivePath(request), StringPool.UTF8)-->Line_4 $$ URL url = _servletContextHelper.getResource(path)[ FD ]
Line_2 $$ protected URL getResourceURL(HttpServletRequest request) throws IOException -->Line_44 $$ URI uri = dataFile.toURI()[ CD ]
Line_4 $$ URL url = _servletContextHelper.getResource(path)-->Line_5 $$ if (url == null) [ FD ]
Line_2 $$ protected URL getResourceURL(HttpServletRequest request) throws IOException -->Line_3 $$ String path = URLDecoder.decode(RequestDispatcherUtil.getEffectivePath(request), StringPool.UTF8)[ FD ]
Line_32 $$ outputStream = new FileOutputStream(dataFile)-->Line_40 $$ outputStream.close()[ FD ]
Line_27 $$ InputStream inputStream = new ByteArrayInputStream(rtl.getBytes(StringPool.UTF8))-->Line_43 $$ inputStream.reset()[ FD ]
Line_2 $$ protected URL getResourceURL(HttpServletRequest request) throws IOException -->Line_4 $$ URL url = _servletContextHelper.getResource(path)[ CD ]
Line_5 $$ if (url == null) -->Line_6 $$ return null[ CD ]
Line_20 $$ File dataFile = _bundle.getDataFile(rtlPath)-->Line_31 $$ dataFile.createNewFile()[ FD ]
Line_2 $$ protected URL getResourceURL(HttpServletRequest request) throws IOException -->Line_45 $$ return uri.toURL()[ CD ]
Line_2 $$ protected URL getResourceURL(HttpServletRequest request) throws IOException -->Line_26 $$ String rtl = rtlcssConverter.process(StringUtil.read(url.openStream()))[ CD ]
Line_15 $$ String rtlPath = FileUtil.appendSuffix(path, "_rtl")-->Line_20 $$ File dataFile = _bundle.getDataFile(rtlPath)[ FD ]
Line_39 $$ if (outputStream != null) -->Line_40 $$ outputStream.close()[ CD ]
Line_20 $$ File dataFile = _bundle.getDataFile(rtlPath)-->Line_21 $$ if (dataFile.exists() && (dataFile.lastModified() > url.openConnection().getLastModified())) [ FD ]
Line_32 $$ outputStream = new FileOutputStream(dataFile)-->Line_39 $$ if (outputStream != null) [ FD ]
Line_3 $$ String path = URLDecoder.decode(RequestDispatcherUtil.getEffectivePath(request), StringPool.UTF8)-->Line_15 $$ String rtlPath = FileUtil.appendSuffix(path, "_rtl")[ FD ]
Line_16 $$ URL rtlURL = _servletContextHelper.getResource(rtlPath)-->Line_17 $$ if (rtlURL != null) [ FD ]
Line_2 $$ protected URL getResourceURL(HttpServletRequest request) throws IOException -->Line_20 $$ File dataFile = _bundle.getDataFile(rtlPath)[ CD ]
Line_35 $$ if (_log.isWarnEnabled()) -->Line_36 $$ _log.warn("Unable to cache RTL CSS", ioe)[ CD ]
Line_20 $$ File dataFile = _bundle.getDataFile(rtlPath)-->Line_22 $$ URI uri = dataFile.toURI()[ FD ]
Line_2 $$ protected URL getResourceURL(HttpServletRequest request) throws IOException -->Line_17 $$ if (rtlURL != null) [ CD ]
Line_21 $$ if (dataFile.exists() && (dataFile.lastModified() > url.openConnection().getLastModified())) -->Line_23 $$ return uri.toURL()[ CD ]
Line_2 $$ protected URL getResourceURL(HttpServletRequest request) throws IOException -->Line_43 $$ inputStream.reset()[ CD ]
Line_10 $$ if (_log.isDebugEnabled()) -->Line_11 $$ _log.debug("Skip because specified language " + languageId + " is not right to left")[ CD ]
Line_2 $$ protected URL getResourceURL(HttpServletRequest request) throws IOException -->Line_27 $$ InputStream inputStream = new ByteArrayInputStream(rtl.getBytes(StringPool.UTF8))[ CD ]
Line_4 $$ URL url = _servletContextHelper.getResource(path)-->Line_26 $$ String rtl = rtlcssConverter.process(StringUtil.read(url.openStream()))[ FD ]
Line_28 $$ OutputStream outputStream = null-->Line_40 $$ outputStream.close()[ FD ]
