Line_5 $$ OutputStream fos = null-->Line_35 $$ fos = dfs.create(target + "/" + chain, true)[ FD ]
Line_21 $$ int chain = 0-->Line_39 $$ chain++[ FD ]
Line_7 $$ if (!lfInited) -->Line_8 $$ lostFoundInit(dfs)[ CD ]
Line_5 $$ OutputStream fos = null-->Line_30 $$ fos = null[ FD ]
Line_5 $$ OutputStream fos = null-->Line_36 $$ if (fos == null) [ FD ]
Line_5 $$ OutputStream fos = null-->Line_47 $$ fos = null[ FD ]
Line_5 $$ OutputStream fos = null-->Line_34 $$ if (fos == null) [ FD ]
Line_61 $$ if (fos != null)-->Line_62 $$ fos.close()[ CD ]
Line_5 $$ OutputStream fos = null-->Line_62 $$ fos.close()[ FD ]
Line_47 $$ fos = null-->Line_62 $$ fos.close()[ FD ]
Line_35 $$ fos = dfs.create(target + "/" + chain, true)-->Line_42 $$ copyBlock(dfs, lblock, fos)[ FD ]
Line_13 $$ String target = lostFound + fullName-->Line_18 $$ if (!namenode.getRpcServer().mkdirs(target, file.getPermission(), true)) [ FD ]
Line_5 $$ OutputStream fos = null-->Line_42 $$ copyBlock(dfs, lblock, fos)[ FD ]
Line_3 $$ final DFSClient dfs = new DFSClient(NameNode.getAddress(conf), conf)-->Line_8 $$ lostFoundInit(dfs)[ FD ]
Line_35 $$ fos = dfs.create(target + "/" + chain, true)-->Line_47 $$ fos = null[ FD ]
Line_2 $$ private void copyBlocksToLostFound(String parent, HdfsFileStatus file, LocatedBlocks blocks) throws IOException -->Line_4 $$ final String fullName = file.getFullName(parent)[ CD ]
Line_30 $$ fos = null-->Line_61 $$ if (fos != null)[ FD ]
Line_30 $$ fos = null-->Line_46 $$ fos.close()[ FD ]
Line_52 $$ if (copyError) -->Line_53 $$ LOG.warn("Fsck: there were errors copying the remains of the " + "corrupted file " + fullName + " to /lost+found")[ CD ]
Line_3 $$ final DFSClient dfs = new DFSClient(NameNode.getAddress(conf), conf)-->Line_42 $$ copyBlock(dfs, lblock, fos)[ FD ]
Line_2 $$ private void copyBlocksToLostFound(String parent, HdfsFileStatus file, LocatedBlocks blocks) throws IOException -->Line_4 $$ final String fullName = file.getFullName(parent)[ FD ]
Line_30 $$ fos = null-->Line_35 $$ fos = dfs.create(target + "/" + chain, true)[ FD ]
Line_34 $$ if (fos == null) -->Line_39 $$ chain++[ CD ]
Line_14 $$ if (hdfsPathExists(target)) -->Line_16 $$ return[ CD ]
Line_3 $$ final DFSClient dfs = new DFSClient(NameNode.getAddress(conf), conf)-->Line_35 $$ fos = dfs.create(target + "/" + chain, true)[ FD ]
Line_52 $$ if (copyError) -->Line_55 $$ LOG.info("Fsck: copied the remains of the corrupted file " + fullName + " to /lost+found")[ CD ]
Line_30 $$ fos = null-->Line_36 $$ if (fos == null) [ FD ]
Line_2 $$ private void copyBlocksToLostFound(String parent, HdfsFileStatus file, LocatedBlocks blocks) throws IOException -->Line_18 $$ if (!namenode.getRpcServer().mkdirs(target, file.getPermission(), true)) [ FD ]
Line_30 $$ fos = null-->Line_62 $$ fos.close()[ FD ]
Line_5 $$ OutputStream fos = null-->Line_61 $$ if (fos != null)[ FD ]
Line_2 $$ private void copyBlocksToLostFound(String parent, HdfsFileStatus file, LocatedBlocks blocks) throws IOException -->Line_23 $$ for (LocatedBlock lBlk : blocks.getLocatedBlocks()) [ FD ]
Line_35 $$ fos = dfs.create(target + "/" + chain, true)-->Line_36 $$ if (fos == null) [ FD ]
Line_2 $$ private void copyBlocksToLostFound(String parent, HdfsFileStatus file, LocatedBlocks blocks) throws IOException -->Line_5 $$ OutputStream fos = null[ CD ]
Line_22 $$ boolean copyError = false-->Line_49 $$ copyError = true[ FD ]
Line_5 $$ OutputStream fos = null-->Line_46 $$ fos.close()[ FD ]
Line_35 $$ fos = dfs.create(target + "/" + chain, true)-->Line_46 $$ fos.close()[ FD ]
Line_3 $$ final DFSClient dfs = new DFSClient(NameNode.getAddress(conf), conf)-->Line_63 $$ dfs.close()[ FD ]
Line_5 $$ OutputStream fos = null-->Line_45 $$ fos.flush()[ FD ]
Line_13 $$ String target = lostFound + fullName-->Line_14 $$ if (hdfsPathExists(target)) [ FD ]
Line_5 $$ OutputStream fos = null-->Line_28 $$ fos.flush()[ FD ]
Line_34 $$ if (fos == null) -->Line_36 $$ if (fos == null) [ CD ]
Line_47 $$ fos = null-->Line_61 $$ if (fos != null)[ FD ]
Line_27 $$ if (fos != null) -->Line_29 $$ fos.close()[ CD ]
Line_27 $$ if (fos != null) -->Line_28 $$ fos.flush()[ CD ]
Line_35 $$ fos = dfs.create(target + "/" + chain, true)-->Line_61 $$ if (fos != null)[ FD ]
Line_30 $$ fos = null-->Line_42 $$ copyBlock(dfs, lblock, fos)[ FD ]
Line_24 $$ LocatedBlock lblock = lBlk-->Line_44 $$ LOG.error("Fsck: could not copy block " + lblock.getBlock() + " to " + target, e)[ FD ]
Line_30 $$ fos = null-->Line_47 $$ fos = null[ FD ]
Line_2 $$ private void copyBlocksToLostFound(String parent, HdfsFileStatus file, LocatedBlocks blocks) throws IOException -->Line_3 $$ final DFSClient dfs = new DFSClient(NameNode.getAddress(conf), conf)[ CD ]
Line_30 $$ fos = null-->Line_34 $$ if (fos == null) [ FD ]
Line_27 $$ if (fos != null) -->Line_30 $$ fos = null[ CD ]
Line_24 $$ LocatedBlock lblock = lBlk-->Line_42 $$ copyBlock(dfs, lblock, fos)[ FD ]
Line_35 $$ fos = dfs.create(target + "/" + chain, true)-->Line_45 $$ fos.flush()[ FD ]
Line_26 $$ if (locs == null || locs.length == 0) -->Line_27 $$ if (fos != null) [ CD ]
Line_5 $$ OutputStream fos = null-->Line_29 $$ fos.close()[ FD ]
Line_5 $$ OutputStream fos = null-->Line_27 $$ if (fos != null) [ FD ]
Line_30 $$ fos = null-->Line_45 $$ fos.flush()[ FD ]
Line_34 $$ if (fos == null) -->Line_35 $$ fos = dfs.create(target + "/" + chain, true)[ CD ]
Line_35 $$ fos = dfs.create(target + "/" + chain, true)-->Line_62 $$ fos.close()[ FD ]
Line_14 $$ if (hdfsPathExists(target)) -->Line_15 $$ LOG.warn("Fsck: can't copy the remains of " + fullName + " to " + "lost+found, because " + target + " already exists.")[ CD ]
Line_24 $$ LocatedBlock lblock = lBlk-->Line_25 $$ DatanodeInfo[] locs = lblock.getLocations()[ FD ]
