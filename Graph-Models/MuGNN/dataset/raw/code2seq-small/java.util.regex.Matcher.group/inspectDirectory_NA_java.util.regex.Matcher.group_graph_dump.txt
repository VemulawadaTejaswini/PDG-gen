Line_25 $$ Matcher imageMatch = this.matchPattern(name)-->Line_26 $$ if (imageMatch != null) [ FD ]
Line_2 $$ public void inspectDirectory(StorageDirectory sd) throws IOException -->Line_14 $$ File currentDir = sd.getCurrentDir()[ CD ]
Line_2 $$ public void inspectDirectory(StorageDirectory sd) throws IOException -->Line_3 $$ if (!sd.getVersionFile().exists()) [ CD ]
Line_2 $$ public void inspectDirectory(StorageDirectory sd) throws IOException -->Line_3 $$ if (!sd.getVersionFile().exists()) [ FD ]
Line_3 $$ if (!sd.getVersionFile().exists()) -->Line_4 $$ LOG.info("No version file in " + sd.getRoot())[ CD ]
Line_2 $$ public void inspectDirectory(StorageDirectory sd) throws IOException -->Line_9 $$ maxSeenTxId = Math.max(maxSeenTxId, NNStorage.readTransactionIdFile(sd))[ FD ]
Line_2 $$ public void inspectDirectory(StorageDirectory sd) throws IOException -->Line_39 $$ isUpgradeFinalized = isUpgradeFinalized && !sd.getPreviousDir().exists()[ FD ]
Line_24 $$ String name = f.getName()-->Line_25 $$ Matcher imageMatch = this.matchPattern(name)[ FD ]
Line_26 $$ if (imageMatch != null) -->Line_27 $$ if (sd.getStorageDirType().isOfType(NameNodeDirType.IMAGE)) [ CD ]
Line_25 $$ Matcher imageMatch = this.matchPattern(name)-->Line_29 $$ long txid = Long.parseLong(imageMatch.group(1))[ FD ]
Line_15 $$ File[] filesInStorage-->Line_17 $$ filesInStorage = FileUtil.listFiles(currentDir)[ FD ]
Line_2 $$ public void inspectDirectory(StorageDirectory sd) throws IOException -->Line_14 $$ File currentDir = sd.getCurrentDir()[ FD ]
Line_22 $$ for (File f : filesInStorage) -->Line_24 $$ String name = f.getName()[ FD ]
Line_2 $$ public void inspectDirectory(StorageDirectory sd) throws IOException -->Line_27 $$ if (sd.getStorageDirType().isOfType(NameNodeDirType.IMAGE)) [ FD ]
Line_2 $$ public void inspectDirectory(StorageDirectory sd) throws IOException -->Line_4 $$ LOG.info("No version file in " + sd.getRoot())[ FD ]
Line_2 $$ public void inspectDirectory(StorageDirectory sd) throws IOException -->Line_39 $$ isUpgradeFinalized = isUpgradeFinalized && !sd.getPreviousDir().exists()[ CD ]
Line_2 $$ public void inspectDirectory(StorageDirectory sd) throws IOException -->Line_15 $$ File[] filesInStorage[ CD ]
Line_27 $$ if (sd.getStorageDirType().isOfType(NameNodeDirType.IMAGE)) -->Line_35 $$ LOG.warn("Found image file at " + f + " but storage directory is " + "not configured to contain images.")[ CD ]
Line_3 $$ if (!sd.getVersionFile().exists()) -->Line_6 $$ return[ CD ]
Line_14 $$ File currentDir = sd.getCurrentDir()-->Line_17 $$ filesInStorage = FileUtil.listFiles(currentDir)[ FD ]
