Line_4 $$ ByteArrayOutputStream tokenOs = new ByteArrayOutputStream()-->Line_15 $$ opList.add(Op.setData(nodeCreatePath, tokenOs.toByteArray(), -1))[ FD ]
Line_2 $$ private void addStoreOrUpdateOps(ArrayList<Op> opList, RMDelegationTokenIdentifier rmDTIdentifier, Long renewDate, int latestSequenceNumber, boolean isUpdate) throws Exception -->Line_9 $$ rmDTIdentifier.write(tokenOut)[ FD ]
Line_2 $$ private void addStoreOrUpdateOps(ArrayList<Op> opList, RMDelegationTokenIdentifier rmDTIdentifier, Long renewDate, int latestSequenceNumber, boolean isUpdate) throws Exception -->Line_5 $$ DataOutputStream tokenOut = new DataOutputStream(tokenOs)[ CD ]
Line_11 $$ if (LOG.isDebugEnabled()) -->Line_12 $$ LOG.debug((isUpdate ? "Storing " : "Updating ") + "RMDelegationToken_" + rmDTIdentifier.getSequenceNumber())[ CD ]
Line_2 $$ private void addStoreOrUpdateOps(ArrayList<Op> opList, RMDelegationTokenIdentifier rmDTIdentifier, Long renewDate, int latestSequenceNumber, boolean isUpdate) throws Exception -->Line_4 $$ ByteArrayOutputStream tokenOs = new ByteArrayOutputStream()[ CD ]
Line_2 $$ private void addStoreOrUpdateOps(ArrayList<Op> opList, RMDelegationTokenIdentifier rmDTIdentifier, Long renewDate, int latestSequenceNumber, boolean isUpdate) throws Exception -->Line_23 $$ opList.add(Op.setData(dtSequenceNumberPath, seqOs.toByteArray(), -1))[ FD ]
Line_2 $$ private void addStoreOrUpdateOps(ArrayList<Op> opList, RMDelegationTokenIdentifier rmDTIdentifier, Long renewDate, int latestSequenceNumber, boolean isUpdate) throws Exception -->Line_3 $$ String nodeCreatePath = getNodePath(delegationTokensRootPath, DELEGATION_TOKEN_PREFIX + rmDTIdentifier.getSequenceNumber())[ CD ]
Line_3 $$ String nodeCreatePath = getNodePath(delegationTokensRootPath, DELEGATION_TOKEN_PREFIX + rmDTIdentifier.getSequenceNumber())-->Line_15 $$ opList.add(Op.setData(nodeCreatePath, tokenOs.toByteArray(), -1))[ FD ]
Line_3 $$ String nodeCreatePath = getNodePath(delegationTokensRootPath, DELEGATION_TOKEN_PREFIX + rmDTIdentifier.getSequenceNumber())-->Line_17 $$ opList.add(Op.create(nodeCreatePath, tokenOs.toByteArray(), zkAcl, CreateMode.PERSISTENT))[ FD ]
Line_2 $$ private void addStoreOrUpdateOps(ArrayList<Op> opList, RMDelegationTokenIdentifier rmDTIdentifier, Long renewDate, int latestSequenceNumber, boolean isUpdate) throws Exception -->Line_10 $$ tokenOut.writeLong(renewDate)[ FD ]
Line_7 $$ DataOutputStream seqOut = new DataOutputStream(seqOs)-->Line_19 $$ seqOut.writeInt(latestSequenceNumber)[ FD ]
Line_2 $$ private void addStoreOrUpdateOps(ArrayList<Op> opList, RMDelegationTokenIdentifier rmDTIdentifier, Long renewDate, int latestSequenceNumber, boolean isUpdate) throws Exception -->Line_12 $$ LOG.debug((isUpdate ? "Storing " : "Updating ") + "RMDelegationToken_" + rmDTIdentifier.getSequenceNumber())[ FD ]
Line_2 $$ private void addStoreOrUpdateOps(ArrayList<Op> opList, RMDelegationTokenIdentifier rmDTIdentifier, Long renewDate, int latestSequenceNumber, boolean isUpdate) throws Exception -->Line_6 $$ ByteArrayOutputStream seqOs = new ByteArrayOutputStream()[ CD ]
Line_5 $$ DataOutputStream tokenOut = new DataOutputStream(tokenOs)-->Line_10 $$ tokenOut.writeLong(renewDate)[ FD ]
Line_2 $$ private void addStoreOrUpdateOps(ArrayList<Op> opList, RMDelegationTokenIdentifier rmDTIdentifier, Long renewDate, int latestSequenceNumber, boolean isUpdate) throws Exception -->Line_15 $$ opList.add(Op.setData(nodeCreatePath, tokenOs.toByteArray(), -1))[ FD ]
Line_6 $$ ByteArrayOutputStream seqOs = new ByteArrayOutputStream()-->Line_23 $$ opList.add(Op.setData(dtSequenceNumberPath, seqOs.toByteArray(), -1))[ FD ]
Line_4 $$ ByteArrayOutputStream tokenOs = new ByteArrayOutputStream()-->Line_17 $$ opList.add(Op.create(nodeCreatePath, tokenOs.toByteArray(), zkAcl, CreateMode.PERSISTENT))[ FD ]
Line_4 $$ ByteArrayOutputStream tokenOs = new ByteArrayOutputStream()-->Line_25 $$ tokenOs.close()[ FD ]
Line_2 $$ private void addStoreOrUpdateOps(ArrayList<Op> opList, RMDelegationTokenIdentifier rmDTIdentifier, Long renewDate, int latestSequenceNumber, boolean isUpdate) throws Exception -->Line_7 $$ DataOutputStream seqOut = new DataOutputStream(seqOs)[ CD ]
Line_20 $$ if (LOG.isDebugEnabled()) -->Line_21 $$ LOG.debug((isUpdate ? "Storing " : "Updating ") + dtSequenceNumberPath + ". SequenceNumber: " + latestSequenceNumber)[ CD ]
Line_2 $$ private void addStoreOrUpdateOps(ArrayList<Op> opList, RMDelegationTokenIdentifier rmDTIdentifier, Long renewDate, int latestSequenceNumber, boolean isUpdate) throws Exception -->Line_3 $$ String nodeCreatePath = getNodePath(delegationTokensRootPath, DELEGATION_TOKEN_PREFIX + rmDTIdentifier.getSequenceNumber())[ FD ]
Line_14 $$ if (isUpdate) -->Line_17 $$ opList.add(Op.create(nodeCreatePath, tokenOs.toByteArray(), zkAcl, CreateMode.PERSISTENT))[ CD ]
Line_14 $$ if (isUpdate) -->Line_15 $$ opList.add(Op.setData(nodeCreatePath, tokenOs.toByteArray(), -1))[ CD ]
Line_2 $$ private void addStoreOrUpdateOps(ArrayList<Op> opList, RMDelegationTokenIdentifier rmDTIdentifier, Long renewDate, int latestSequenceNumber, boolean isUpdate) throws Exception -->Line_17 $$ opList.add(Op.create(nodeCreatePath, tokenOs.toByteArray(), zkAcl, CreateMode.PERSISTENT))[ FD ]
Line_5 $$ DataOutputStream tokenOut = new DataOutputStream(tokenOs)-->Line_9 $$ rmDTIdentifier.write(tokenOut)[ FD ]
Line_2 $$ private void addStoreOrUpdateOps(ArrayList<Op> opList, RMDelegationTokenIdentifier rmDTIdentifier, Long renewDate, int latestSequenceNumber, boolean isUpdate) throws Exception -->Line_19 $$ seqOut.writeInt(latestSequenceNumber)[ FD ]
Line_6 $$ ByteArrayOutputStream seqOs = new ByteArrayOutputStream()-->Line_26 $$ seqOs.close()[ FD ]
