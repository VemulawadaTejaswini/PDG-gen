Line_2 $$ public void testProxyUser() throws Exception -->Line_9 $$ conf.set("hadoop.kms.authentication.kerberos.keytab", keytab.getAbsolutePath())[ CD ]
Line_21 $$ clientUgi.doAs(new PrivilegedExceptionAction<Void>() -->Line_24 $$ kp.createKey("kAA", new KeyProvider.Options(conf))[ CD ]
Line_2 $$ public void testProxyUser() throws Exception -->Line_7 $$ conf = createBaseKMSConf(testDir)[ CD ]
Line_15 $$ runServer(null, null, testDir, new KMSCallable() -->Line_17 $$ final Configuration conf = new Configuration()[ CD ]
Line_7 $$ conf = createBaseKMSConf(testDir)-->Line_18 $$ conf.setInt(KeyProvider.DEFAULT_BITLENGTH_NAME, 64)[ FD ]
Line_7 $$ conf = createBaseKMSConf(testDir)-->Line_11 $$ conf.set("hadoop.kms.authentication.kerberos.name.rules", "DEFAULT")[ FD ]
Line_21 $$ clientUgi.doAs(new PrivilegedExceptionAction<Void>() -->Line_45 $$ return null[ CD ]
Line_15 $$ runServer(null, null, testDir, new KMSCallable() -->Line_20 $$ UserGroupInformation clientUgi = UserGroupInformation.loginUserFromKeytabAndReturnUGI("client", keytab.getAbsolutePath())[ CD ]
Line_26 $$ fooUgi.doAs(new PrivilegedExceptionAction<Void>() -->Line_29 $$ return null[ CD ]
Line_7 $$ conf = createBaseKMSConf(testDir)-->Line_8 $$ conf.set("hadoop.kms.authentication.type", "kerberos")[ FD ]
Line_3 $$ Configuration conf = new Configuration()-->Line_14 $$ writeConf(testDir, conf)[ FD ]
Line_23 $$ final KeyProvider kp = new KMSClientProvider(uri, conf)-->Line_36 $$ kp.createKey("kCC", new KeyProvider.Options(conf))[ FD ]
Line_2 $$ public void testProxyUser() throws Exception -->Line_14 $$ writeConf(testDir, conf)[ CD ]
Line_15 $$ runServer(null, null, testDir, new KMSCallable() -->Line_21 $$ clientUgi.doAs(new PrivilegedExceptionAction<Void>() [ CD ]
Line_26 $$ fooUgi.doAs(new PrivilegedExceptionAction<Void>() -->Line_28 $$ Assert.assertNotNull(kp.createKey("kBB", new KeyProvider.Options(conf)))[ CD ]
Line_25 $$ UserGroupInformation fooUgi = UserGroupInformation.createRemoteUser("foo")-->Line_26 $$ fooUgi.doAs(new PrivilegedExceptionAction<Void>() [ FD ]
Line_2 $$ public void testProxyUser() throws Exception -->Line_12 $$ conf.set("hadoop.kms.proxyuser.client.users", "foo")[ CD ]
Line_3 $$ Configuration conf = new Configuration()-->Line_9 $$ conf.set("hadoop.kms.authentication.kerberos.keytab", keytab.getAbsolutePath())[ FD ]
Line_2 $$ public void testProxyUser() throws Exception -->Line_6 $$ final File testDir = getTestDir()[ CD ]
Line_3 $$ Configuration conf = new Configuration()-->Line_18 $$ conf.setInt(KeyProvider.DEFAULT_BITLENGTH_NAME, 64)[ FD ]
Line_2 $$ public void testProxyUser() throws Exception -->Line_10 $$ conf.set("hadoop.kms.authentication.kerberos.principal", "HTTP/localhost")[ CD ]
Line_33 $$ foo1Ugi.doAs(new PrivilegedExceptionAction<Void>() -->Line_42 $$ return null[ CD ]
Line_2 $$ public void testProxyUser() throws Exception -->Line_11 $$ conf.set("hadoop.kms.authentication.kerberos.name.rules", "DEFAULT")[ CD ]
Line_21 $$ clientUgi.doAs(new PrivilegedExceptionAction<Void>() -->Line_25 $$ UserGroupInformation fooUgi = UserGroupInformation.createRemoteUser("foo")[ CD ]
Line_7 $$ conf = createBaseKMSConf(testDir)-->Line_9 $$ conf.set("hadoop.kms.authentication.kerberos.keytab", keytab.getAbsolutePath())[ FD ]
Line_21 $$ clientUgi.doAs(new PrivilegedExceptionAction<Void>() -->Line_32 $$ UserGroupInformation foo1Ugi = UserGroupInformation.createRemoteUser("foo1")[ CD ]
Line_3 $$ Configuration conf = new Configuration()-->Line_5 $$ UserGroupInformation.setConfiguration(conf)[ FD ]
Line_2 $$ public void testProxyUser() throws Exception -->Line_3 $$ Configuration conf = new Configuration()[ CD ]
Line_17 $$ final Configuration conf = new Configuration()-->Line_18 $$ conf.setInt(KeyProvider.DEFAULT_BITLENGTH_NAME, 64)[ FD ]
Line_7 $$ conf = createBaseKMSConf(testDir)-->Line_12 $$ conf.set("hadoop.kms.proxyuser.client.users", "foo")[ FD ]
Line_3 $$ Configuration conf = new Configuration()-->Line_8 $$ conf.set("hadoop.kms.authentication.type", "kerberos")[ FD ]
Line_2 $$ public void testProxyUser() throws Exception -->Line_13 $$ conf.set("hadoop.kms.proxyuser.client.hosts", "*")[ CD ]
Line_3 $$ Configuration conf = new Configuration()-->Line_11 $$ conf.set("hadoop.kms.authentication.kerberos.name.rules", "DEFAULT")[ FD ]
Line_23 $$ final KeyProvider kp = new KMSClientProvider(uri, conf)-->Line_24 $$ kp.createKey("kAA", new KeyProvider.Options(conf))[ FD ]
Line_15 $$ runServer(null, null, testDir, new KMSCallable() -->Line_48 $$ return null[ CD ]
Line_2 $$ public void testProxyUser() throws Exception -->Line_5 $$ UserGroupInformation.setConfiguration(conf)[ CD ]
Line_6 $$ final File testDir = getTestDir()-->Line_7 $$ conf = createBaseKMSConf(testDir)[ FD ]
Line_21 $$ clientUgi.doAs(new PrivilegedExceptionAction<Void>() -->Line_33 $$ foo1Ugi.doAs(new PrivilegedExceptionAction<Void>() [ CD ]
Line_21 $$ clientUgi.doAs(new PrivilegedExceptionAction<Void>() -->Line_23 $$ final KeyProvider kp = new KMSClientProvider(uri, conf)[ CD ]
Line_23 $$ final KeyProvider kp = new KMSClientProvider(uri, conf)-->Line_28 $$ Assert.assertNotNull(kp.createKey("kBB", new KeyProvider.Options(conf)))[ FD ]
Line_2 $$ public void testProxyUser() throws Exception -->Line_8 $$ conf.set("hadoop.kms.authentication.type", "kerberos")[ CD ]
Line_7 $$ conf = createBaseKMSConf(testDir)-->Line_10 $$ conf.set("hadoop.kms.authentication.kerberos.principal", "HTTP/localhost")[ FD ]
Line_15 $$ runServer(null, null, testDir, new KMSCallable() -->Line_18 $$ conf.setInt(KeyProvider.DEFAULT_BITLENGTH_NAME, 64)[ CD ]
Line_6 $$ final File testDir = getTestDir()-->Line_14 $$ writeConf(testDir, conf)[ FD ]
Line_15 $$ runServer(null, null, testDir, new KMSCallable() -->Line_19 $$ final URI uri = createKMSUri(getKMSUrl())[ CD ]
Line_2 $$ public void testProxyUser() throws Exception -->Line_4 $$ conf.set("hadoop.security.authentication", "kerberos")[ CD ]
Line_20 $$ UserGroupInformation clientUgi = UserGroupInformation.loginUserFromKeytabAndReturnUGI("client", keytab.getAbsolutePath())-->Line_21 $$ clientUgi.doAs(new PrivilegedExceptionAction<Void>() [ FD ]
Line_7 $$ conf = createBaseKMSConf(testDir)-->Line_14 $$ writeConf(testDir, conf)[ FD ]
Line_7 $$ conf = createBaseKMSConf(testDir)-->Line_13 $$ conf.set("hadoop.kms.proxyuser.client.hosts", "*")[ FD ]
Line_21 $$ clientUgi.doAs(new PrivilegedExceptionAction<Void>() -->Line_26 $$ fooUgi.doAs(new PrivilegedExceptionAction<Void>() [ CD ]
Line_3 $$ Configuration conf = new Configuration()-->Line_13 $$ conf.set("hadoop.kms.proxyuser.client.hosts", "*")[ FD ]
Line_3 $$ Configuration conf = new Configuration()-->Line_4 $$ conf.set("hadoop.security.authentication", "kerberos")[ FD ]
Line_3 $$ Configuration conf = new Configuration()-->Line_7 $$ conf = createBaseKMSConf(testDir)[ FD ]
Line_3 $$ Configuration conf = new Configuration()-->Line_10 $$ conf.set("hadoop.kms.authentication.kerberos.principal", "HTTP/localhost")[ FD ]
Line_3 $$ Configuration conf = new Configuration()-->Line_12 $$ conf.set("hadoop.kms.proxyuser.client.users", "foo")[ FD ]
Line_2 $$ public void testProxyUser() throws Exception -->Line_15 $$ runServer(null, null, testDir, new KMSCallable() [ CD ]
Line_6 $$ final File testDir = getTestDir()-->Line_15 $$ runServer(null, null, testDir, new KMSCallable() [ FD ]
