Line_2 $$ public void testConflictNewType() throws Exception -->Line_3 $$ XContentBuilder mapping = XContentFactory.jsonBuilder().startObject().startObject("type1").startObject("properties").startObject("foo").field("type", "long").endObject().endObject().endObject().endObject()[ CD ]
Line_5 $$ XContentBuilder update = XContentFactory.jsonBuilder().startObject().startObject("type2").startObject("properties").startObject("foo").field("type", "double").endObject().endObject().endObject().endObject()-->Line_7 $$ mapperService.merge("type2", new CompressedXContent(update.string()), false, false)[ FD ]
Line_2 $$ public void testConflictNewType() throws Exception -->Line_19 $$ assertNull(mapperService.documentMapper("type2"))[ CD ]
Line_2 $$ public void testConflictNewType() throws Exception -->Line_5 $$ XContentBuilder update = XContentFactory.jsonBuilder().startObject().startObject("type2").startObject("properties").startObject("foo").field("type", "double").endObject().endObject().endObject().endObject()[ CD ]
Line_3 $$ XContentBuilder mapping = XContentFactory.jsonBuilder().startObject().startObject("type1").startObject("properties").startObject("foo").field("type", "long").endObject().endObject().endObject().endObject()-->Line_4 $$ MapperService mapperService = createIndex("test", Settings.settingsBuilder().build(), "type1", mapping).mapperService()[ FD ]
Line_2 $$ public void testConflictNewType() throws Exception -->Line_4 $$ MapperService mapperService = createIndex("test", Settings.settingsBuilder().build(), "type1", mapping).mapperService()[ CD ]
Line_4 $$ MapperService mapperService = createIndex("test", Settings.settingsBuilder().build(), "type1", mapping).mapperService()-->Line_18 $$ assertTrue(mapperService.documentMapper("type1").mapping().root().getMapper("foo") instanceof LongFieldMapper)[ FD ]
Line_4 $$ MapperService mapperService = createIndex("test", Settings.settingsBuilder().build(), "type1", mapping).mapperService()-->Line_7 $$ mapperService.merge("type2", new CompressedXContent(update.string()), false, false)[ FD ]
Line_2 $$ public void testConflictNewType() throws Exception -->Line_18 $$ assertTrue(mapperService.documentMapper("type1").mapping().root().getMapper("foo") instanceof LongFieldMapper)[ CD ]
Line_4 $$ MapperService mapperService = createIndex("test", Settings.settingsBuilder().build(), "type1", mapping).mapperService()-->Line_13 $$ mapperService.merge("type2", new CompressedXContent(update.string()), false, false)[ FD ]
Line_4 $$ MapperService mapperService = createIndex("test", Settings.settingsBuilder().build(), "type1", mapping).mapperService()-->Line_19 $$ assertNull(mapperService.documentMapper("type2"))[ FD ]
Line_5 $$ XContentBuilder update = XContentFactory.jsonBuilder().startObject().startObject("type2").startObject("properties").startObject("foo").field("type", "double").endObject().endObject().endObject().endObject()-->Line_13 $$ mapperService.merge("type2", new CompressedXContent(update.string()), false, false)[ FD ]
