Line_4 $$ IndexShard indexShard = indexService.getShard(request.shardId().id())-->Line_9 $$ Engine.Searcher searcher = indexShard.acquireSearcher("validate_query")[ FD ]
Line_2 $$ protected ShardValidateQueryResponse shardOperation(ShardValidateQueryRequest request) -->Line_11 $$ SearchContext.setCurrent(searchContext)[ CD ]
Line_2 $$ protected ShardValidateQueryResponse shardOperation(ShardValidateQueryRequest request) -->Line_16 $$ if (request.explain()) [ FD ]
Line_2 $$ protected ShardValidateQueryResponse shardOperation(ShardValidateQueryRequest request) -->Line_10 $$ DefaultSearchContext searchContext = new DefaultSearchContext(0, new ShardSearchLocalRequest(request.types(), request.nowInMillis(), request.filteringAliases()), null, searcher, indexService, indexShard, scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, SearchService.NO_TIMEOUT)[ FD ]
Line_2 $$ protected ShardValidateQueryResponse shardOperation(ShardValidateQueryRequest request) -->Line_9 $$ Engine.Searcher searcher = indexShard.acquireSearcher("validate_query")[ CD ]
Line_8 $$ String error = null-->Line_24 $$ error = e.getDetailedMessage()[ FD ]
Line_7 $$ String explanation = null-->Line_20 $$ explanation = getRewrittenQuery(searcher.searcher(), searchContext.query())[ FD ]
Line_8 $$ String error = null-->Line_27 $$ error = e.getMessage()[ FD ]
Line_10 $$ DefaultSearchContext searchContext = new DefaultSearchContext(0, new ShardSearchLocalRequest(request.types(), request.nowInMillis(), request.filteringAliases()), null, searcher, indexService, indexShard, scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, SearchService.NO_TIMEOUT)-->Line_29 $$ searchContext.close()[ FD ]
Line_15 $$ valid = true-->Line_23 $$ valid = false[ FD ]
Line_9 $$ Engine.Searcher searcher = indexShard.acquireSearcher("validate_query")-->Line_20 $$ explanation = getRewrittenQuery(searcher.searcher(), searchContext.query())[ FD ]
Line_23 $$ valid = false-->Line_26 $$ valid = false[ FD ]
Line_4 $$ IndexShard indexShard = indexService.getShard(request.shardId().id())-->Line_5 $$ final QueryShardContext queryShardContext = indexShard.getQueryShardContext()[ FD ]
Line_2 $$ protected ShardValidateQueryResponse shardOperation(ShardValidateQueryRequest request) -->Line_4 $$ IndexShard indexShard = indexService.getShard(request.shardId().id())[ FD ]
Line_7 $$ String explanation = null-->Line_17 $$ explanation = searchContext.parsedQuery().query().toString()[ FD ]
Line_6 $$ boolean valid-->Line_23 $$ valid = false[ FD ]
Line_2 $$ protected ShardValidateQueryResponse shardOperation(ShardValidateQueryRequest request) -->Line_6 $$ boolean valid[ CD ]
Line_3 $$ IndexService indexService = indicesService.indexServiceSafe(request.shardId().getIndex())-->Line_4 $$ IndexShard indexShard = indexService.getShard(request.shardId().id())[ FD ]
Line_19 $$ if (request.rewrite()) -->Line_20 $$ explanation = getRewrittenQuery(searcher.searcher(), searchContext.query())[ CD ]
Line_15 $$ valid = true-->Line_26 $$ valid = false[ FD ]
Line_2 $$ protected ShardValidateQueryResponse shardOperation(ShardValidateQueryRequest request) -->Line_4 $$ IndexShard indexShard = indexService.getShard(request.shardId().id())[ CD ]
Line_5 $$ final QueryShardContext queryShardContext = indexShard.getQueryShardContext()-->Line_13 $$ searchContext.parsedQuery(queryShardContext.toQuery(request.query()))[ FD ]
Line_2 $$ protected ShardValidateQueryResponse shardOperation(ShardValidateQueryRequest request) -->Line_3 $$ IndexService indexService = indicesService.indexServiceSafe(request.shardId().getIndex())[ FD ]
Line_6 $$ boolean valid-->Line_26 $$ valid = false[ FD ]
Line_10 $$ DefaultSearchContext searchContext = new DefaultSearchContext(0, new ShardSearchLocalRequest(request.types(), request.nowInMillis(), request.filteringAliases()), null, searcher, indexService, indexShard, scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, SearchService.NO_TIMEOUT)-->Line_20 $$ explanation = getRewrittenQuery(searcher.searcher(), searchContext.query())[ FD ]
Line_10 $$ DefaultSearchContext searchContext = new DefaultSearchContext(0, new ShardSearchLocalRequest(request.types(), request.nowInMillis(), request.filteringAliases()), null, searcher, indexService, indexShard, scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, SearchService.NO_TIMEOUT)-->Line_11 $$ SearchContext.setCurrent(searchContext)[ FD ]
Line_16 $$ if (request.explain()) -->Line_17 $$ explanation = searchContext.parsedQuery().query().toString()[ CD ]
Line_24 $$ error = e.getDetailedMessage()-->Line_27 $$ error = e.getMessage()[ FD ]
Line_2 $$ protected ShardValidateQueryResponse shardOperation(ShardValidateQueryRequest request) -->Line_10 $$ DefaultSearchContext searchContext = new DefaultSearchContext(0, new ShardSearchLocalRequest(request.types(), request.nowInMillis(), request.filteringAliases()), null, searcher, indexService, indexShard, scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, SearchService.NO_TIMEOUT)[ CD ]
Line_10 $$ DefaultSearchContext searchContext = new DefaultSearchContext(0, new ShardSearchLocalRequest(request.types(), request.nowInMillis(), request.filteringAliases()), null, searcher, indexService, indexShard, scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, SearchService.NO_TIMEOUT)-->Line_14 $$ searchContext.preProcess()[ FD ]
Line_2 $$ protected ShardValidateQueryResponse shardOperation(ShardValidateQueryRequest request) -->Line_8 $$ String error = null[ CD ]
Line_2 $$ protected ShardValidateQueryResponse shardOperation(ShardValidateQueryRequest request) -->Line_13 $$ searchContext.parsedQuery(queryShardContext.toQuery(request.query()))[ FD ]
Line_2 $$ protected ShardValidateQueryResponse shardOperation(ShardValidateQueryRequest request) -->Line_32 $$ return new ShardValidateQueryResponse(request.shardId(), valid, explanation, error)[ CD ]
Line_2 $$ protected ShardValidateQueryResponse shardOperation(ShardValidateQueryRequest request) -->Line_3 $$ IndexService indexService = indicesService.indexServiceSafe(request.shardId().getIndex())[ CD ]
Line_10 $$ DefaultSearchContext searchContext = new DefaultSearchContext(0, new ShardSearchLocalRequest(request.types(), request.nowInMillis(), request.filteringAliases()), null, searcher, indexService, indexShard, scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, SearchService.NO_TIMEOUT)-->Line_17 $$ explanation = searchContext.parsedQuery().query().toString()[ FD ]
Line_2 $$ protected ShardValidateQueryResponse shardOperation(ShardValidateQueryRequest request) -->Line_19 $$ if (request.rewrite()) [ FD ]
Line_10 $$ DefaultSearchContext searchContext = new DefaultSearchContext(0, new ShardSearchLocalRequest(request.types(), request.nowInMillis(), request.filteringAliases()), null, searcher, indexService, indexShard, scriptService, pageCacheRecycler, bigArrays, threadPool.estimatedTimeInMillisCounter(), parseFieldMatcher, SearchService.NO_TIMEOUT)-->Line_13 $$ searchContext.parsedQuery(queryShardContext.toQuery(request.query()))[ FD ]
Line_2 $$ protected ShardValidateQueryResponse shardOperation(ShardValidateQueryRequest request) -->Line_5 $$ final QueryShardContext queryShardContext = indexShard.getQueryShardContext()[ CD ]
Line_2 $$ protected ShardValidateQueryResponse shardOperation(ShardValidateQueryRequest request) -->Line_7 $$ String explanation = null[ CD ]
Line_6 $$ boolean valid-->Line_15 $$ valid = true[ FD ]
Line_2 $$ protected ShardValidateQueryResponse shardOperation(ShardValidateQueryRequest request) -->Line_32 $$ return new ShardValidateQueryResponse(request.shardId(), valid, explanation, error)[ FD ]
Line_17 $$ explanation = searchContext.parsedQuery().query().toString()-->Line_20 $$ explanation = getRewrittenQuery(searcher.searcher(), searchContext.query())[ FD ]
