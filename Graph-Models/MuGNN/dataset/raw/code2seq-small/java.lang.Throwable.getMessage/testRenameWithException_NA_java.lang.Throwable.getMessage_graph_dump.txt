Line_2 $$ public void testRenameWithException() -->Line_5 $$ final String OLD_FILE_NAME = "test-old.mapfile"[ CD ]
Line_6 $$ MapFile.Writer writer = null-->Line_11 $$ writer.close()[ FD ]
Line_6 $$ MapFile.Writer writer = null-->Line_10 $$ writer = createWriter(OLD_FILE_NAME, IntWritable.class, IntWritable.class)[ FD ]
Line_2 $$ public void testRenameWithException() -->Line_3 $$ final String ERROR_MESSAGE = "Can't rename file"[ CD ]
Line_2 $$ public void testRenameWithException() -->Line_4 $$ final String NEW_FILE_NAME = "test-new.mapfile"[ CD ]
Line_2 $$ public void testRenameWithException() -->Line_6 $$ MapFile.Writer writer = null[ CD ]
Line_5 $$ final String OLD_FILE_NAME = "test-old.mapfile"-->Line_10 $$ writer = createWriter(OLD_FILE_NAME, IntWritable.class, IntWritable.class)[ FD ]
Line_8 $$ FileSystem fs = FileSystem.getLocal(conf)-->Line_9 $$ FileSystem spyFs = spy(fs)[ FD ]
Line_12 $$ Path oldDir = new Path(TEST_DIR, OLD_FILE_NAME)-->Line_15 $$ MapFile.rename(spyFs, oldDir.toString(), newDir.toString())[ FD ]
Line_9 $$ FileSystem spyFs = spy(fs)-->Line_15 $$ MapFile.rename(spyFs, oldDir.toString(), newDir.toString())[ FD ]
Line_6 $$ MapFile.Writer writer = null-->Line_20 $$ IOUtils.cleanup(null, writer)[ FD ]
Line_13 $$ Path newDir = new Path(TEST_DIR, NEW_FILE_NAME)-->Line_15 $$ MapFile.rename(spyFs, oldDir.toString(), newDir.toString())[ FD ]
Line_10 $$ writer = createWriter(OLD_FILE_NAME, IntWritable.class, IntWritable.class)-->Line_20 $$ IOUtils.cleanup(null, writer)[ FD ]
Line_10 $$ writer = createWriter(OLD_FILE_NAME, IntWritable.class, IntWritable.class)-->Line_11 $$ writer.close()[ FD ]
Line_13 $$ Path newDir = new Path(TEST_DIR, NEW_FILE_NAME)-->Line_14 $$ when(spyFs.rename(oldDir, newDir)).thenThrow(new IOException(ERROR_MESSAGE))[ FD ]
Line_12 $$ Path oldDir = new Path(TEST_DIR, OLD_FILE_NAME)-->Line_14 $$ when(spyFs.rename(oldDir, newDir)).thenThrow(new IOException(ERROR_MESSAGE))[ FD ]
Line_9 $$ FileSystem spyFs = spy(fs)-->Line_14 $$ when(spyFs.rename(oldDir, newDir)).thenThrow(new IOException(ERROR_MESSAGE))[ FD ]
Line_3 $$ final String ERROR_MESSAGE = "Can't rename file"-->Line_18 $$ assertEquals("testRenameWithException invalid IOExceptionMessage !!!", ex.getMessage(), ERROR_MESSAGE)[ FD ]
