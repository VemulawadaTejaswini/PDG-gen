Line_8 $$ do -->Line_14 $$ blockwrite = distkvi <= distkve ? distkvi <= len + 2 * METASIZE : distkve <= len || distanceTo(bufend, kvbidx) < 2 * METASIZE[ CD ]
Line_22 $$ if (kvindex != kvend) -->Line_23 $$ startSpill()[ CD ]
Line_10 $$ final int kvbidx = 4 * kvindex-->Line_14 $$ blockwrite = distkvi <= distkve ? distkvi <= len + 2 * METASIZE : distkve <= len || distanceTo(bufend, kvbidx) < 2 * METASIZE[ FD ]
Line_37 $$ while (spillInProgress) -->Line_38 $$ reporter.progress()[ CD ]
Line_2 $$ public void write(byte[] b, int off, int len) throws IOException -->Line_54 $$ off += gaplen[ FD ]
Line_8 $$ do -->Line_9 $$ checkSpillException()[ CD ]
Line_2 $$ public void write(byte[] b, int off, int len) throws IOException -->Line_53 $$ len -= gaplen[ FD ]
Line_15 $$ if (!spillInProgress) -->Line_16 $$ if (blockwrite) [ CD ]
Line_50 $$ if (bufindex + len > bufvoid) -->Line_53 $$ len -= gaplen[ CD ]
Line_2 $$ public void write(byte[] b, int off, int len) throws IOException -->Line_4 $$ if (bufferRemaining <= 0) [ CD ]
Line_8 $$ do -->Line_11 $$ final int kvbend = 4 * kvend[ CD ]
Line_22 $$ if (kvindex != kvend) -->Line_26 $$ final int size = distanceTo(bufstart, bufindex) + len[ CD ]
Line_4 $$ if (bufferRemaining <= 0) -->Line_5 $$ boolean blockwrite = false[ CD ]
Line_2 $$ public void write(byte[] b, int off, int len) throws IOException -->Line_57 $$ System.arraycopy(b, off, kvbuffer, bufindex, len)[ CD ]
Line_37 $$ while (spillInProgress) -->Line_39 $$ spillDone.await()[ CD ]
Line_51 $$ final int gaplen = bufvoid - bufindex-->Line_53 $$ len -= gaplen[ FD ]
Line_8 $$ do -->Line_15 $$ if (!spillInProgress) [ CD ]
Line_16 $$ if (blockwrite) -->Line_17 $$ if ((kvbend + METASIZE) % kvbuffer.length != equator - (equator % METASIZE)) [ CD ]
Line_2 $$ public void write(byte[] b, int off, int len) throws IOException -->Line_50 $$ if (bufindex + len > bufvoid) [ CD ]
Line_50 $$ if (bufindex + len > bufvoid) -->Line_54 $$ off += gaplen[ CD ]
Line_51 $$ final int gaplen = bufvoid - bufindex-->Line_54 $$ off += gaplen[ FD ]
Line_53 $$ len -= gaplen-->Line_57 $$ System.arraycopy(b, off, kvbuffer, bufindex, len)[ FD ]
Line_8 $$ do -->Line_10 $$ final int kvbidx = 4 * kvindex[ CD ]
Line_10 $$ final int kvbidx = 4 * kvindex-->Line_19 $$ bufferRemaining = Math.min(distkvi - 2 * METASIZE, softLimit - distanceTo(kvbidx, bufindex)) - len[ FD ]
Line_22 $$ if (kvindex != kvend) -->Line_27 $$ setEquator(0)[ CD ]
Line_22 $$ if (kvindex != kvend) -->Line_24 $$ setEquator(bufmark)[ CD ]
Line_50 $$ if (bufindex + len > bufvoid) -->Line_52 $$ System.arraycopy(b, off, kvbuffer, bufindex, gaplen)[ CD ]
Line_2 $$ public void write(byte[] b, int off, int len) throws IOException -->Line_52 $$ System.arraycopy(b, off, kvbuffer, bufindex, gaplen)[ FD ]
Line_8 $$ do -->Line_13 $$ final int distkve = distanceTo(bufindex, kvbend)[ CD ]
Line_17 $$ if ((kvbend + METASIZE) % kvbuffer.length != equator - (equator % METASIZE)) -->Line_18 $$ resetSpill()[ CD ]
Line_10 $$ final int kvbidx = 4 * kvindex-->Line_12 $$ final int distkvi = distanceTo(bufindex, kvbidx)[ FD ]
Line_11 $$ final int kvbend = 4 * kvend-->Line_13 $$ final int distkve = distanceTo(bufindex, kvbend)[ FD ]
Line_5 $$ boolean blockwrite = false-->Line_14 $$ blockwrite = distkvi <= distkve ? distkvi <= len + 2 * METASIZE : distkve <= len || distanceTo(bufend, kvbidx) < 2 * METASIZE[ FD ]
Line_50 $$ if (bufindex + len > bufvoid) -->Line_51 $$ final int gaplen = bufvoid - bufindex[ CD ]
Line_8 $$ do -->Line_35 $$ if (blockwrite) [ CD ]
Line_8 $$ do -->Line_12 $$ final int distkvi = distanceTo(bufindex, kvbidx)[ CD ]
Line_2 $$ public void write(byte[] b, int off, int len) throws IOException -->Line_57 $$ System.arraycopy(b, off, kvbuffer, bufindex, len)[ FD ]
Line_16 $$ if (blockwrite) -->Line_22 $$ if (kvindex != kvend) [ CD ]
Line_54 $$ off += gaplen-->Line_57 $$ System.arraycopy(b, off, kvbuffer, bufindex, len)[ FD ]
Line_51 $$ final int gaplen = bufvoid - bufindex-->Line_52 $$ System.arraycopy(b, off, kvbuffer, bufindex, gaplen)[ FD ]
Line_4 $$ if (bufferRemaining <= 0) -->Line_6 $$ spillLock.lock()[ CD ]
