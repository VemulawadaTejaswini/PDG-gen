Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_30 $$ classpath.add(PathManager.getJarPathForClass(EnhancerRunner.class))[ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_39 $$ final File argsFile = FileUtil.createTempFile("appEngineEnhanceFiles", ".txt")[ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_51 $$ PersistenceApi api = extension.getPersistenceApi()[ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_33 $$ if (removeOrmJars && FileUtil.isAncestor(new File(extension.getOrmLibPath()), file, true)) [ FD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_29 $$ classpath.add(extension.getToolsApiJarPath())[ FD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_27 $$ List<String> vmParams = Collections.singletonList("-Xmx256m")[ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_62 $$ handler.waitFor()[ CD ]
Line_8 $$ dirtyFilesHolder.processDirtyFiles(new FileProcessor<JavaSourceRootDescriptor, ModuleBuildTarget>() -->Line_12 $$ if (JpsPathUtil.isUnder(roots, file)) [ FD ]
Line_12 $$ if (JpsPathUtil.isUnder(roots, file)) -->Line_13 $$ Collection<String> outputs = context.getProjectDescriptor().dataManager.getSourceToOutputMap(target).getOutputs(file.getAbsolutePath())[ CD ]
Line_8 $$ dirtyFilesHolder.processDirtyFiles(new FileProcessor<JavaSourceRootDescriptor, ModuleBuildTarget>() -->Line_13 $$ Collection<String> outputs = context.getProjectDescriptor().dataManager.getSourceToOutputMap(target).getOutputs(file.getAbsolutePath())[ FD ]
Line_7 $$ final List<String> pathsToProcess = new ArrayList<String>()-->Line_15 $$ pathsToProcess.addAll(outputs)[ FD ]
Line_14 $$ if (outputs != null) -->Line_15 $$ pathsToProcess.addAll(outputs)[ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_4 $$ for (String path : extension.getFilesToEnhance()) [ FD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_51 $$ PersistenceApi api = extension.getPersistenceApi()[ FD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_58 $$ List<String> commandLine = ExternalProcessUtil.buildJavaCommandLine(JpsJavaSdkType.getJavaExecutable(sdk), EnhancerRunner.class.getName(), Collections.<String>emptyList(), classpath, vmParams, programParams)[ CD ]
Line_64 $$ if (logger.isEnabled()) -->Line_65 $$ logger.logCompiledPaths(pathsToProcess, NAME, "Enhancing classes:")[ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_25 $$ JpsSdk<JpsDummyElement> sdk = JavaBuilderUtil.ensureModuleHasJdk(module, context, NAME)[ FD ]
Line_53 $$ if (api.getEnhancerVersion() == 2) -->Line_55 $$ programParams.add("v2")[ CD ]
Line_7 $$ final List<String> pathsToProcess = new ArrayList<String>()-->Line_21 $$ if (pathsToProcess.isEmpty()) [ FD ]
Line_21 $$ if (pathsToProcess.isEmpty()) -->Line_22 $$ return false[ CD ]
Line_3 $$ final Set<File> roots = new THashSet<File>(FileUtil.FILE_HASHING_STRATEGY)-->Line_5 $$ roots.add(new File(FileUtil.toSystemDependentName(path)))[ FD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_57 $$ programParams.add("-v")[ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_13 $$ Collection<String> outputs = context.getProjectDescriptor().dataManager.getSourceToOutputMap(target).getOutputs(file.getAbsolutePath())[ FD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_63 $$ ProjectBuilderLogger logger = context.getLoggingManager().getProjectBuilderLogger()[ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_24 $$ JpsModule module = extension.getModule()[ FD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_67 $$ return true[ CD ]
Line_53 $$ if (api.getEnhancerVersion() == 2) -->Line_54 $$ programParams.add("-enhancerVersion")[ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_61 $$ handler.startNotify()[ CD ]
Line_8 $$ dirtyFilesHolder.processDirtyFiles(new FileProcessor<JavaSourceRootDescriptor, ModuleBuildTarget>() -->Line_33 $$ if (removeOrmJars && FileUtil.isAncestor(new File(extension.getOrmLibPath()), file, true)) [ FD ]
Line_8 $$ dirtyFilesHolder.processDirtyFiles(new FileProcessor<JavaSourceRootDescriptor, ModuleBuildTarget>() -->Line_12 $$ if (JpsPathUtil.isUnder(roots, file)) [ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_63 $$ ProjectBuilderLogger logger = context.getLoggingManager().getProjectBuilderLogger()[ FD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_64 $$ if (logger.isEnabled()) [ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_50 $$ programParams.add("-api")[ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_21 $$ if (pathsToProcess.isEmpty()) [ CD ]
Line_3 $$ final Set<File> roots = new THashSet<File>(FileUtil.FILE_HASHING_STRATEGY)-->Line_12 $$ if (JpsPathUtil.isUnder(roots, file)) [ FD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_26 $$ context.processMessage(new ProgressMessage("Enhancing classes in module '" + module.getName() + "'..."))[ FD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_24 $$ JpsModule module = extension.getModule()[ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_29 $$ classpath.add(extension.getToolsApiJarPath())[ CD ]
Line_8 $$ dirtyFilesHolder.processDirtyFiles(new FileProcessor<JavaSourceRootDescriptor, ModuleBuildTarget>() -->Line_18 $$ return true[ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_53 $$ if (api.getEnhancerVersion() == 2) [ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_3 $$ final Set<File> roots = new THashSet<File>(FileUtil.FILE_HASHING_STRATEGY)[ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_7 $$ final List<String> pathsToProcess = new ArrayList<String>()[ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_8 $$ dirtyFilesHolder.processDirtyFiles(new FileProcessor<JavaSourceRootDescriptor, ModuleBuildTarget>() [ FD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_31 $$ boolean removeOrmJars = Boolean.parseBoolean(System.getProperty("jps.appengine.enhancer.remove.orm.jars", "true"))[ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_52 $$ programParams.add(api.getEnhancerApiName())[ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_59 $$ Process process = new ProcessBuilder(commandLine).start()[ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_8 $$ dirtyFilesHolder.processDirtyFiles(new FileProcessor<JavaSourceRootDescriptor, ModuleBuildTarget>() [ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_48 $$ programParams.add(argsFile.getAbsolutePath())[ CD ]
Line_7 $$ final List<String> pathsToProcess = new ArrayList<String>()-->Line_65 $$ logger.logCompiledPaths(pathsToProcess, NAME, "Enhancing classes:")[ FD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_25 $$ JpsSdk<JpsDummyElement> sdk = JavaBuilderUtil.ensureModuleHasJdk(module, context, NAME)[ CD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_49 $$ programParams.add("com.google.appengine.tools.enhancer.Enhance")[ CD ]
Line_13 $$ Collection<String> outputs = context.getProjectDescriptor().dataManager.getSourceToOutputMap(target).getOutputs(file.getAbsolutePath())-->Line_14 $$ if (outputs != null) [ FD ]
Line_12 $$ if (JpsPathUtil.isUnder(roots, file)) -->Line_14 $$ if (outputs != null) [ CD ]
Line_13 $$ Collection<String> outputs = context.getProjectDescriptor().dataManager.getSourceToOutputMap(target).getOutputs(file.getAbsolutePath())-->Line_15 $$ pathsToProcess.addAll(outputs)[ FD ]
Line_4 $$ for (String path : extension.getFilesToEnhance()) -->Line_43 $$ writer.println(FileUtil.toSystemDependentName(path))[ FD ]
Line_2 $$ private static boolean processModule(final CompileContext context, DirtyFilesHolder<JavaSourceRootDescriptor, ModuleBuildTarget> dirtyFilesHolder, JpsAppEngineModuleExtension extension) throws IOException, ProjectBuildException -->Line_26 $$ context.processMessage(new ProgressMessage("Enhancing classes in module '" + module.getName() + "'..."))[ CD ]
Line_4 $$ for (String path : extension.getFilesToEnhance()) -->Line_5 $$ roots.add(new File(FileUtil.toSystemDependentName(path)))[ FD ]
Line_8 $$ dirtyFilesHolder.processDirtyFiles(new FileProcessor<JavaSourceRootDescriptor, ModuleBuildTarget>() -->Line_36 $$ classpath.add(file.getAbsolutePath())[ FD ]
