Line_34 $$ if (msgType.equals("PREPARE")) -->Line_37 $$ if (msgType.equals("EXECUTE")) [ CD ]
Line_8 $$ if (msgType.equals("STARTUP")) -->Line_11 $$ while (iter.hasNext()) [ CD ]
Line_2 $$ private Message.Request parseLine(String line) -->Line_20 $$ line = line.substring(6)[ FD ]
Line_2 $$ private Message.Request parseLine(String line) -->Line_4 $$ Iterator<String> iter = splitter.split(line).iterator()[ FD ]
Line_11 $$ while (iter.hasNext()) -->Line_12 $$ String next = iter.next()[ CD ]
Line_40 $$ List<ByteBuffer> values = new ArrayList<ByteBuffer>()-->Line_50 $$ values.add(bb)[ FD ]
Line_2 $$ private Message.Request parseLine(String line) -->Line_24 $$ if (line.matches(".+ !\\d+$")) [ FD ]
Line_56 $$ if (msgType.equals("OPTIONS")) -->Line_57 $$ return new OptionsMessage()[ CD ]
Line_42 $$ String next = iter.next()-->Line_45 $$ int v = Integer.parseInt(next)[ FD ]
Line_37 $$ if (msgType.equals("EXECUTE")) -->Line_56 $$ if (msgType.equals("OPTIONS")) [ CD ]
Line_2 $$ private Message.Request parseLine(String line) -->Line_3 $$ Splitter splitter = Splitter.on(' ').trimResults().omitEmptyStrings()[ CD ]
Line_20 $$ line = line.substring(6)-->Line_25 $$ int idx = line.lastIndexOf('!')[ FD ]
Line_63 $$ if (msgType.equals("AUTHENTICATE")) -->Line_69 $$ return new AuthResponse(encodeCredentialsForSasl(credentials))[ CD ]
Line_46 $$ bb = Int32Type.instance.decompose(v)-->Line_48 $$ bb = UTF8Type.instance.decompose(next)[ FD ]
Line_58 $$ if (msgType.equals("CREDENTIALS")) -->Line_60 $$ CredentialsMessage msg = new CredentialsMessage()[ CD ]
Line_3 $$ Splitter splitter = Splitter.on(' ').trimResults().omitEmptyStrings()-->Line_4 $$ Iterator<String> iter = splitter.split(line).iterator()[ FD ]
Line_2 $$ private Message.Request parseLine(String line) -->Line_71 $$ String type = line.substring(9).toUpperCase()[ FD ]
Line_4 $$ Iterator<String> iter = splitter.split(line).iterator()-->Line_61 $$ msg.credentials.putAll(readCredentials(iter))[ FD ]
Line_28 $$ pageSize = Integer.parseInt(line.substring(idx + 1, line.length()))-->Line_33 $$ return new QueryMessage(query, QueryOptions.create(ConsistencyLevel.ONE, Collections.<ByteBuffer>emptyList(), false, pageSize, null, null))[ FD ]
Line_2 $$ private Message.Request parseLine(String line) -->Line_28 $$ pageSize = Integer.parseInt(line.substring(idx + 1, line.length()))[ FD ]
Line_43 $$ ByteBuffer bb-->Line_46 $$ bb = Int32Type.instance.decompose(v)[ FD ]
Line_7 $$ String msgType = iter.next().toUpperCase()-->Line_63 $$ if (msgType.equals("AUTHENTICATE")) [ FD ]
Line_8 $$ if (msgType.equals("STARTUP")) -->Line_18 $$ return new StartupMessage(options)[ CD ]
Line_2 $$ private Message.Request parseLine(String line) -->Line_8 $$ if (msgType.equals("STARTUP")) [ CD ]
Line_2 $$ private Message.Request parseLine(String line) -->Line_79 $$ return null[ CD ]
Line_20 $$ line = line.substring(6)-->Line_35 $$ String query = line.substring(8)[ FD ]
Line_12 $$ String next = iter.next()-->Line_13 $$ if (next.toLowerCase().equals("snappy")) [ FD ]
Line_5 $$ if (!iter.hasNext())-->Line_6 $$ return null[ CD ]
Line_4 $$ Iterator<String> iter = splitter.split(line).iterator()-->Line_39 $$ byte[] id = Hex.hexToBytes(iter.next())[ FD ]
Line_63 $$ if (msgType.equals("AUTHENTICATE")) -->Line_64 $$ Map<String, String> credentials = readCredentials(iter)[ CD ]
Line_8 $$ if (msgType.equals("STARTUP")) -->Line_9 $$ Map<String, String> options = new HashMap<String, String>()[ CD ]
Line_34 $$ if (msgType.equals("PREPARE")) -->Line_36 $$ return new PrepareMessage(query)[ CD ]
Line_24 $$ if (line.matches(".+ !\\d+$")) -->Line_26 $$ query = line.substring(0, idx - 1)[ CD ]
Line_64 $$ Map<String, String> credentials = readCredentials(iter)-->Line_65 $$ if (!credentials.containsKey(PasswordAuthenticator.USERNAME_KEY) || !credentials.containsKey(PasswordAuthenticator.PASSWORD_KEY)) [ FD ]
Line_4 $$ Iterator<String> iter = splitter.split(line).iterator()-->Line_41 $$ while (iter.hasNext()) [ FD ]
Line_41 $$ while (iter.hasNext()) -->Line_50 $$ values.add(bb)[ CD ]
Line_23 $$ int pageSize = -1-->Line_33 $$ return new QueryMessage(query, QueryOptions.create(ConsistencyLevel.ONE, Collections.<ByteBuffer>emptyList(), false, pageSize, null, null))[ FD ]
Line_2 $$ private Message.Request parseLine(String line) -->Line_7 $$ String msgType = iter.next().toUpperCase()[ CD ]
Line_8 $$ if (msgType.equals("STARTUP")) -->Line_10 $$ options.put(StartupMessage.CQL_VERSION, "3.0.0")[ CD ]
Line_20 $$ line = line.substring(6)-->Line_24 $$ if (line.matches(".+ !\\d+$")) [ FD ]
Line_2 $$ private Message.Request parseLine(String line) -->Line_26 $$ query = line.substring(0, idx - 1)[ FD ]
Line_8 $$ if (msgType.equals("STARTUP")) -->Line_19 $$ if (msgType.equals("QUERY")) [ CD ]
Line_46 $$ bb = Int32Type.instance.decompose(v)-->Line_50 $$ values.add(bb)[ FD ]
Line_58 $$ if (msgType.equals("CREDENTIALS")) -->Line_61 $$ msg.credentials.putAll(readCredentials(iter))[ CD ]
Line_4 $$ Iterator<String> iter = splitter.split(line).iterator()-->Line_42 $$ String next = iter.next()[ FD ]
Line_19 $$ if (msgType.equals("QUERY")) -->Line_23 $$ int pageSize = -1[ CD ]
Line_41 $$ while (iter.hasNext()) -->Line_43 $$ ByteBuffer bb[ CD ]
Line_4 $$ Iterator<String> iter = splitter.split(line).iterator()-->Line_64 $$ Map<String, String> credentials = readCredentials(iter)[ FD ]
Line_58 $$ if (msgType.equals("CREDENTIALS")) -->Line_63 $$ if (msgType.equals("AUTHENTICATE")) [ CD ]
Line_19 $$ if (msgType.equals("QUERY")) -->Line_20 $$ line = line.substring(6)[ CD ]
Line_56 $$ if (msgType.equals("OPTIONS")) -->Line_58 $$ if (msgType.equals("CREDENTIALS")) [ CD ]
Line_20 $$ line = line.substring(6)-->Line_26 $$ query = line.substring(0, idx - 1)[ FD ]
Line_34 $$ if (msgType.equals("PREPARE")) -->Line_35 $$ String query = line.substring(8)[ CD ]
Line_9 $$ Map<String, String> options = new HashMap<String, String>()-->Line_10 $$ options.put(StartupMessage.CQL_VERSION, "3.0.0")[ FD ]
Line_70 $$ if (msgType.equals("REGISTER")) -->Line_71 $$ String type = line.substring(9).toUpperCase()[ CD ]
Line_65 $$ if (!credentials.containsKey(PasswordAuthenticator.USERNAME_KEY) || !credentials.containsKey(PasswordAuthenticator.PASSWORD_KEY)) -->Line_67 $$ return null[ CD ]
Line_2 $$ private Message.Request parseLine(String line) -->Line_25 $$ int idx = line.lastIndexOf('!')[ FD ]
Line_42 $$ String next = iter.next()-->Line_48 $$ bb = UTF8Type.instance.decompose(next)[ FD ]
Line_4 $$ Iterator<String> iter = splitter.split(line).iterator()-->Line_12 $$ String next = iter.next()[ FD ]
Line_2 $$ private Message.Request parseLine(String line) -->Line_4 $$ Iterator<String> iter = splitter.split(line).iterator()[ CD ]
Line_43 $$ ByteBuffer bb-->Line_48 $$ bb = UTF8Type.instance.decompose(next)[ FD ]
Line_45 $$ int v = Integer.parseInt(next)-->Line_46 $$ bb = Int32Type.instance.decompose(v)[ FD ]
Line_43 $$ ByteBuffer bb-->Line_50 $$ values.add(bb)[ FD ]
Line_19 $$ if (msgType.equals("QUERY")) -->Line_34 $$ if (msgType.equals("PREPARE")) [ CD ]
Line_7 $$ String msgType = iter.next().toUpperCase()-->Line_37 $$ if (msgType.equals("EXECUTE")) [ FD ]
Line_39 $$ byte[] id = Hex.hexToBytes(iter.next())-->Line_52 $$ return new ExecuteMessage(MD5Digest.wrap(id), QueryOptions.forInternalCalls(ConsistencyLevel.ONE, values))[ FD ]
Line_58 $$ if (msgType.equals("CREDENTIALS")) -->Line_62 $$ return msg[ CD ]
Line_13 $$ if (next.toLowerCase().equals("snappy")) -->Line_15 $$ connection.setCompressor(FrameCompressor.SnappyCompressor.instance)[ CD ]
Line_63 $$ if (msgType.equals("AUTHENTICATE")) -->Line_65 $$ if (!credentials.containsKey(PasswordAuthenticator.USERNAME_KEY) || !credentials.containsKey(PasswordAuthenticator.PASSWORD_KEY)) [ CD ]
Line_48 $$ bb = UTF8Type.instance.decompose(next)-->Line_50 $$ values.add(bb)[ FD ]
Line_4 $$ Iterator<String> iter = splitter.split(line).iterator()-->Line_7 $$ String msgType = iter.next().toUpperCase()[ FD ]
Line_4 $$ Iterator<String> iter = splitter.split(line).iterator()-->Line_5 $$ if (!iter.hasNext())[ FD ]
Line_4 $$ Iterator<String> iter = splitter.split(line).iterator()-->Line_11 $$ while (iter.hasNext()) [ FD ]
Line_24 $$ if (line.matches(".+ !\\d+$")) -->Line_25 $$ int idx = line.lastIndexOf('!')[ CD ]
Line_58 $$ if (msgType.equals("CREDENTIALS")) -->Line_59 $$ System.err.println("[WARN] CREDENTIALS command is deprecated, use AUTHENTICATE instead")[ CD ]
Line_63 $$ if (msgType.equals("AUTHENTICATE")) -->Line_70 $$ if (msgType.equals("REGISTER")) [ CD ]
Line_12 $$ String next = iter.next()-->Line_48 $$ bb = UTF8Type.instance.decompose(next)[ FD ]
Line_2 $$ private Message.Request parseLine(String line) -->Line_5 $$ if (!iter.hasNext())[ CD ]
Line_7 $$ String msgType = iter.next().toUpperCase()-->Line_34 $$ if (msgType.equals("PREPARE")) [ FD ]
Line_19 $$ if (msgType.equals("QUERY")) -->Line_24 $$ if (line.matches(".+ !\\d+$")) [ CD ]
Line_20 $$ line = line.substring(6)-->Line_28 $$ pageSize = Integer.parseInt(line.substring(idx + 1, line.length()))[ FD ]
Line_7 $$ String msgType = iter.next().toUpperCase()-->Line_8 $$ if (msgType.equals("STARTUP")) [ FD ]
Line_41 $$ while (iter.hasNext()) -->Line_42 $$ String next = iter.next()[ CD ]
Line_20 $$ line = line.substring(6)-->Line_71 $$ String type = line.substring(9).toUpperCase()[ FD ]
Line_19 $$ if (msgType.equals("QUERY")) -->Line_33 $$ return new QueryMessage(query, QueryOptions.create(ConsistencyLevel.ONE, Collections.<ByteBuffer>emptyList(), false, pageSize, null, null))[ CD ]
Line_7 $$ String msgType = iter.next().toUpperCase()-->Line_19 $$ if (msgType.equals("QUERY")) [ FD ]
Line_7 $$ String msgType = iter.next().toUpperCase()-->Line_70 $$ if (msgType.equals("REGISTER")) [ FD ]
Line_71 $$ String type = line.substring(9).toUpperCase()-->Line_73 $$ return new RegisterMessage(Collections.singletonList(Enum.valueOf(Event.Type.class, type)))[ FD ]
Line_11 $$ while (iter.hasNext()) -->Line_13 $$ if (next.toLowerCase().equals("snappy")) [ CD ]
Line_7 $$ String msgType = iter.next().toUpperCase()-->Line_58 $$ if (msgType.equals("CREDENTIALS")) [ FD ]
Line_2 $$ private Message.Request parseLine(String line) -->Line_35 $$ String query = line.substring(8)[ FD ]
Line_13 $$ if (next.toLowerCase().equals("snappy")) -->Line_14 $$ options.put(StartupMessage.COMPRESSION, "snappy")[ CD ]
Line_64 $$ Map<String, String> credentials = readCredentials(iter)-->Line_69 $$ return new AuthResponse(encodeCredentialsForSasl(credentials))[ FD ]
Line_7 $$ String msgType = iter.next().toUpperCase()-->Line_56 $$ if (msgType.equals("OPTIONS")) [ FD ]
Line_40 $$ List<ByteBuffer> values = new ArrayList<ByteBuffer>()-->Line_52 $$ return new ExecuteMessage(MD5Digest.wrap(id), QueryOptions.forInternalCalls(ConsistencyLevel.ONE, values))[ FD ]
Line_65 $$ if (!credentials.containsKey(PasswordAuthenticator.USERNAME_KEY) || !credentials.containsKey(PasswordAuthenticator.PASSWORD_KEY)) -->Line_66 $$ System.err.println("[ERROR] Authentication requires both 'username' and 'password'")[ CD ]
Line_23 $$ int pageSize = -1-->Line_28 $$ pageSize = Integer.parseInt(line.substring(idx + 1, line.length()))[ FD ]
Line_9 $$ Map<String, String> options = new HashMap<String, String>()-->Line_14 $$ options.put(StartupMessage.COMPRESSION, "snappy")[ FD ]
Line_12 $$ String next = iter.next()-->Line_45 $$ int v = Integer.parseInt(next)[ FD ]
