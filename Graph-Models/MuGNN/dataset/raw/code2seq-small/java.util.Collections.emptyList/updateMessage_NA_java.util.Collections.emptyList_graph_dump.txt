Line_4 $$ MBMessage message = mbMessagePersistence.findByPrimaryKey(messageId)-->Line_11 $$ if (LockManagerUtil.isLocked(MBThread.class.getName(), message.getThreadId())) [ FD ]
Line_24 $$ priority = thread.getPriority()-->Line_26 $$ return mbMessageLocalService.updateMessage(getGuestOrUserId(), messageId, subject, body, inputStreamOVPs, existingFiles, priority, allowPingbacks, serviceContext)[ FD ]
Line_11 $$ if (LockManagerUtil.isLocked(MBThread.class.getName(), message.getThreadId())) -->Line_12 $$ StringBundler sb = new StringBundler(5)[ CD ]
Line_12 $$ StringBundler sb = new StringBundler(5)-->Line_14 $$ sb.append(MBThread.class.getName())[ FD ]
Line_4 $$ MBMessage message = mbMessagePersistence.findByPrimaryKey(messageId)-->Line_7 $$ checkReplyToPermission(message.getGroupId(), message.getCategoryId(), message.getParentMessageId())[ FD ]
Line_12 $$ StringBundler sb = new StringBundler(5)-->Line_15 $$ sb.append(" and class PK ")[ FD ]
Line_12 $$ StringBundler sb = new StringBundler(5)-->Line_17 $$ throw new LockedThreadException(sb.toString())[ FD ]
Line_11 $$ if (LockManagerUtil.isLocked(MBThread.class.getName(), message.getThreadId())) -->Line_15 $$ sb.append(" and class PK ")[ CD ]
Line_4 $$ MBMessage message = mbMessagePersistence.findByPrimaryKey(messageId)-->Line_22 $$ if (!MBCategoryPermission.contains(getPermissionChecker(), message.getGroupId(), message.getCategoryId(), ActionKeys.UPDATE_THREAD_PRIORITY)) [ FD ]
Line_11 $$ if (LockManagerUtil.isLocked(MBThread.class.getName(), message.getThreadId())) -->Line_14 $$ sb.append(MBThread.class.getName())[ CD ]
Line_4 $$ MBMessage message = mbMessagePersistence.findByPrimaryKey(messageId)-->Line_16 $$ sb.append(message.getThreadId())[ FD ]
Line_22 $$ if (!MBCategoryPermission.contains(getPermissionChecker(), message.getGroupId(), message.getCategoryId(), ActionKeys.UPDATE_THREAD_PRIORITY)) -->Line_23 $$ MBThread thread = mbThreadLocalService.getThread(message.getThreadId())[ CD ]
Line_6 $$ if (preview && MBMessagePermission.contains(getPermissionChecker(), message, ActionKeys.UPDATE)) -->Line_7 $$ checkReplyToPermission(message.getGroupId(), message.getCategoryId(), message.getParentMessageId())[ CD ]
Line_11 $$ if (LockManagerUtil.isLocked(MBThread.class.getName(), message.getThreadId())) -->Line_13 $$ sb.append("Thread is locked for class name ")[ CD ]
Line_20 $$ inputStreamOVPs = Collections.emptyList()-->Line_26 $$ return mbMessageLocalService.updateMessage(getGuestOrUserId(), messageId, subject, body, inputStreamOVPs, existingFiles, priority, allowPingbacks, serviceContext)[ FD ]
Line_12 $$ StringBundler sb = new StringBundler(5)-->Line_13 $$ sb.append("Thread is locked for class name ")[ FD ]
Line_12 $$ StringBundler sb = new StringBundler(5)-->Line_16 $$ sb.append(message.getThreadId())[ FD ]
Line_22 $$ if (!MBCategoryPermission.contains(getPermissionChecker(), message.getGroupId(), message.getCategoryId(), ActionKeys.UPDATE_THREAD_PRIORITY)) -->Line_24 $$ priority = thread.getPriority()[ CD ]
Line_11 $$ if (LockManagerUtil.isLocked(MBThread.class.getName(), message.getThreadId())) -->Line_16 $$ sb.append(message.getThreadId())[ CD ]
Line_23 $$ MBThread thread = mbThreadLocalService.getThread(message.getThreadId())-->Line_24 $$ priority = thread.getPriority()[ FD ]
Line_4 $$ MBMessage message = mbMessagePersistence.findByPrimaryKey(messageId)-->Line_19 $$ if (!MBCategoryPermission.contains(getPermissionChecker(), message.getGroupId(), message.getCategoryId(), ActionKeys.ADD_FILE)) [ FD ]
Line_4 $$ MBMessage message = mbMessagePersistence.findByPrimaryKey(messageId)-->Line_23 $$ MBThread thread = mbThreadLocalService.getThread(message.getThreadId())[ FD ]
Line_6 $$ if (preview && MBMessagePermission.contains(getPermissionChecker(), message, ActionKeys.UPDATE)) -->Line_9 $$ MBMessagePermission.check(getPermissionChecker(), messageId, ActionKeys.UPDATE)[ CD ]
Line_4 $$ MBMessage message = mbMessagePersistence.findByPrimaryKey(messageId)-->Line_6 $$ if (preview && MBMessagePermission.contains(getPermissionChecker(), message, ActionKeys.UPDATE)) [ FD ]
Line_5 $$ boolean preview = ParamUtil.getBoolean(serviceContext, "preview")-->Line_6 $$ if (preview && MBMessagePermission.contains(getPermissionChecker(), message, ActionKeys.UPDATE)) [ FD ]
Line_19 $$ if (!MBCategoryPermission.contains(getPermissionChecker(), message.getGroupId(), message.getCategoryId(), ActionKeys.ADD_FILE)) -->Line_20 $$ inputStreamOVPs = Collections.emptyList()[ CD ]
