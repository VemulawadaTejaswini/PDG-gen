Line_22 $$ EventHandler<ContainerEvent> containerBus = mock(EventHandler.class)-->Line_23 $$ dispatcher.register(ContainerEventType.class, containerBus)[ FD ]
Line_32 $$ ResourceLocalizationService spyService = spy(rawService)-->Line_34 $$ doReturn(lfs).when(spyService).getLocalFileContext(isA(Configuration.class))[ FD ]
Line_44 $$ ArgumentMatcher<ApplicationEvent> matchesAppInit = new ArgumentMatcher<ApplicationEvent>() -->Line_48 $$ ApplicationEvent evt = (ApplicationEvent) o[ CD ]
Line_132 $$ ContainerEvent evt = (ContainerEvent) o-->Line_133 $$ return evt.getType() == ContainerEventType.RESOURCE_LOCALIZED && c.getContainerId() == evt.getContainerID()[ FD ]
Line_64 $$ do -->Line_65 $$ resource2 = getPrivateMockedResource(r)[ CD ]
Line_25 $$ LocalDirsHandlerService dirsHandler = new LocalDirsHandlerService()-->Line_26 $$ dirsHandler.init(conf)[ FD ]
Line_7 $$ String[] sDirs = new String[1]-->Line_13 $$ conf.setStrings(YarnConfiguration.NM_LOCAL_DIRS, sDirs)[ FD ]
Line_40 $$ final ApplicationId appId = BuilderUtils.newApplicationId(314159265358979L, 3)-->Line_79 $$ String appStr = ConverterUtils.toString(appId)[ FD ]
Line_28 $$ DeletionService delService = spy(delServiceReal)-->Line_30 $$ delService.start()[ FD ]
Line_32 $$ ResourceLocalizationService spyService = spy(rawService)-->Line_141 $$ spyService.stop()[ FD ]
Line_6 $$ List<Path> localDirs = new ArrayList<Path>()-->Line_12 $$ sDirs[0] = localDirs.get(0).toString()[ FD ]
Line_31 $$ ResourceLocalizationService rawService = new ResourceLocalizationService(dispatcher, exec, delService, dirsHandler, new NMNullStateStoreService())-->Line_32 $$ ResourceLocalizationService spyService = spy(rawService)[ FD ]
Line_17 $$ DrainDispatcher dispatcher = new DrainDispatcher()-->Line_21 $$ dispatcher.register(ApplicationEventType.class, applicationBus)[ FD ]
Line_27 $$ DeletionService delServiceReal = new DeletionService(exec)-->Line_28 $$ DeletionService delService = spy(delServiceReal)[ FD ]
Line_32 $$ ResourceLocalizationService spyService = spy(rawService)-->Line_75 $$ spyService.handle(new ContainerLocalizationRequestEvent(c, rsrcs))[ FD ]
Line_24 $$ ContainerExecutor exec = mock(ContainerExecutor.class)-->Line_82 $$ verify(exec).startLocalizer(tokenPathCaptor.capture(), isA(InetSocketAddress.class), eq("user0"), eq(appStr), eq(ctnrStr), isA(List.class), isA(List.class))[ FD ]
Line_17 $$ DrainDispatcher dispatcher = new DrainDispatcher()-->Line_78 $$ dispatcher.await()[ FD ]
Line_40 $$ final ApplicationId appId = BuilderUtils.newApplicationId(314159265358979L, 3)-->Line_59 $$ final Container c = getMockContainer(appId, 42, "user0")[ FD ]
Line_44 $$ ArgumentMatcher<ApplicationEvent> matchesAppInit = new ArgumentMatcher<ApplicationEvent>() -->Line_49 $$ return evt.getType() == ApplicationEventType.APPLICATION_INITED && appId == evt.getApplicationID()[ CD ]
Line_40 $$ final ApplicationId appId = BuilderUtils.newApplicationId(314159265358979L, 3)-->Line_42 $$ when(app.getAppId()).thenReturn(appId)[ FD ]
Line_17 $$ DrainDispatcher dispatcher = new DrainDispatcher()-->Line_18 $$ dispatcher.init(conf)[ FD ]
Line_17 $$ DrainDispatcher dispatcher = new DrainDispatcher()-->Line_142 $$ dispatcher.stop()[ FD ]
Line_17 $$ DrainDispatcher dispatcher = new DrainDispatcher()-->Line_23 $$ dispatcher.register(ContainerEventType.class, containerBus)[ FD ]
Line_32 $$ ResourceLocalizationService spyService = spy(rawService)-->Line_33 $$ doReturn(mockServer).when(spyService).createServer()[ FD ]
Line_20 $$ EventHandler<ApplicationEvent> applicationBus = mock(EventHandler.class)-->Line_21 $$ dispatcher.register(ApplicationEventType.class, applicationBus)[ FD ]
Line_32 $$ ResourceLocalizationService spyService = spy(rawService)-->Line_43 $$ spyService.handle(new ApplicationLocalizationEvent(LocalizationEventType.INIT_APPLICATION_RESOURCES, app))[ FD ]
Line_17 $$ DrainDispatcher dispatcher = new DrainDispatcher()-->Line_19 $$ dispatcher.start()[ FD ]
Line_48 $$ ApplicationEvent evt = (ApplicationEvent) o-->Line_49 $$ return evt.getType() == ApplicationEventType.APPLICATION_INITED && appId == evt.getApplicationID()[ FD ]
Line_17 $$ DrainDispatcher dispatcher = new DrainDispatcher()-->Line_52 $$ dispatcher.await()[ FD ]
Line_20 $$ EventHandler<ApplicationEvent> applicationBus = mock(EventHandler.class)-->Line_53 $$ verify(applicationBus).handle(argThat(matchesAppInit))[ FD ]
Line_28 $$ DeletionService delService = spy(delServiceReal)-->Line_29 $$ delService.init(new Configuration())[ FD ]
Line_32 $$ ResourceLocalizationService spyService = spy(rawService)-->Line_36 $$ spyService.init(conf)[ FD ]
Line_32 $$ ResourceLocalizationService spyService = spy(rawService)-->Line_37 $$ spyService.start()[ FD ]
Line_44 $$ ArgumentMatcher<ApplicationEvent> matchesAppInit = new ArgumentMatcher<ApplicationEvent>() -->Line_53 $$ verify(applicationBus).handle(argThat(matchesAppInit))[ FD ]
Line_28 $$ DeletionService delService = spy(delServiceReal)-->Line_143 $$ delService.stop()[ FD ]
Line_48 $$ ApplicationEvent evt = (ApplicationEvent) o-->Line_133 $$ return evt.getType() == ContainerEventType.RESOURCE_LOCALIZED && c.getContainerId() == evt.getContainerID()[ FD ]
Line_17 $$ DrainDispatcher dispatcher = new DrainDispatcher()-->Line_126 $$ dispatcher.await()[ FD ]
