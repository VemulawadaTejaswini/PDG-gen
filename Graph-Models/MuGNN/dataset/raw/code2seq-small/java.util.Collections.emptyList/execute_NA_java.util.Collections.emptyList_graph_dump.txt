Line_197 $$ int count = 0-->Line_199 $$ count += context.reader().docFreq(term)[ FD ]
Line_17 $$ final int totalNumDocs = searcher.getIndexReader().numDocs()-->Line_65 $$ if (totalNumDocs == 0) [ FD ]
Line_87 $$ TopDocs topDocs = topDocsCollector.topDocs()-->Line_92 $$ scrollContext.maxScore = topDocs.getMaxScore()[ FD ]
Line_26 $$ collector = totalHitCountCollector-->Line_166 $$ if (collector.getClass() == TotalHitCountCollector.class) [ FD ]
Line_23 $$ if (searchContext.size() == 0) -->Line_27 $$ if (searchContext.getProfilers() != null) [ CD ]
Line_28 $$ collector = new InternalProfileCollector(collector, CollectorResult.REASON_SEARCH_COUNT, Collections.emptyList())-->Line_222 $$ searcher.search(query, collector)[ FD ]
Line_117 $$ if (terminateAfterSet) -->Line_121 $$ if (doProfile) [ CD ]
Line_218 $$ if (collector != null) -->Line_219 $$ if (doProfile) [ CD ]
Line_17 $$ final int totalNumDocs = searcher.getIndexReader().numDocs()-->Line_44 $$ numDocs = Math.min(searchContext.size(), totalNumDocs)[ FD ]
Line_30 $$ topDocsCallable = new Callable<TopDocs>() -->Line_34 $$ return new TopDocs(totalHitCountCollector.getTotalHits(), Lucene.EMPTY_SCORE_DOCS, 0)[ CD ]
Line_18 $$ int numDocs = Math.min(searchContext.from() + searchContext.size(), totalNumDocs)-->Line_59 $$ searchContext.terminateAfter(numDocs)[ FD ]
Line_16 $$ Query query = searchContext.query()-->Line_190 $$ if (query.getClass() == TermQuery.class && searcher.getIndexReader().hasDeletions() == false) [ FD ]
Line_8 $$ QuerySearchResult queryResult = searchContext.queryResult()-->Line_233 $$ if (terminateAfterSet && queryResult.terminatedEarly() == null) [ FD ]
Line_8 $$ QuerySearchResult queryResult = searchContext.queryResult()-->Line_234 $$ queryResult.terminatedEarly(false)[ FD ]
Line_30 $$ topDocsCallable = new Callable<TopDocs>() -->Line_236 $$ queryResult.topDocs(topDocsCallable.call())[ FD ]
Line_43 $$ if (searchContext.request().scroll() != null) -->Line_44 $$ numDocs = Math.min(searchContext.size(), totalNumDocs)[ CD ]
Line_70 $$ if (searchContext.sort() != null) -->Line_77 $$ topDocsCollector = TopScoreDocCollector.create(numDocs, lastEmittedDoc)[ CD ]
Line_8 $$ QuerySearchResult queryResult = searchContext.queryResult()-->Line_236 $$ queryResult.topDocs(topDocsCallable.call())[ FD ]
Line_28 $$ collector = new InternalProfileCollector(collector, CollectorResult.REASON_SEARCH_COUNT, Collections.emptyList())-->Line_218 $$ if (collector != null) [ FD ]
Line_89 $$ if (scrollContext.totalHits == -1) -->Line_97 $$ topDocs.setMaxScore(scrollContext.maxScore)[ CD ]
Line_19 $$ Collector collector-->Line_138 $$ subCollectors.add(collector)[ FD ]
Line_18 $$ int numDocs = Math.min(searchContext.from() + searchContext.size(), totalNumDocs)-->Line_71 $$ topDocsCollector = TopFieldCollector.create(searchContext.sort(), numDocs, (FieldDoc) lastEmittedDoc, true, searchContext.trackScores(), searchContext.trackScores())[ FD ]
Line_237 $$ if (searchContext.getProfilers() != null) -->Line_239 $$ searchContext.queryResult().profileResults(shardResults)[ CD ]
Line_125 $$ if (searchContext.parsedPostFilter() != null) -->Line_132 $$ if (doProfile) [ CD ]
Line_87 $$ TopDocs topDocs = topDocsCollector.topDocs()-->Line_97 $$ topDocs.setMaxScore(scrollContext.maxScore)[ FD ]
Line_8 $$ QuerySearchResult queryResult = searchContext.queryResult()-->Line_9 $$ queryResult.searchTimedOut(false)[ FD ]
Line_26 $$ collector = totalHitCountCollector-->Line_222 $$ searcher.search(query, collector)[ FD ]
Line_193 $$ topDocsCallable = new Callable<TopDocs>() -->Line_201 $$ return new TopDocs(count, Lucene.EMPTY_SCORE_DOCS, 0)[ CD ]
Line_16 $$ Query query = searchContext.query()-->Line_56 $$ BooleanQuery bq = new BooleanQuery.Builder().add(query, BooleanClause.Occur.MUST).add(new MinDocQuery(lastEmittedDoc.doc + 1), BooleanClause.Occur.FILTER).build()[ FD ]
Line_26 $$ collector = totalHitCountCollector-->Line_218 $$ if (collector != null) [ FD ]
Line_8 $$ QuerySearchResult queryResult = searchContext.queryResult()-->Line_226 $$ queryResult.searchTimedOut(true)[ FD ]
Line_19 $$ Collector collector-->Line_166 $$ if (collector.getClass() == TotalHitCountCollector.class) [ FD ]
Line_89 $$ if (scrollContext.totalHits == -1) -->Line_92 $$ scrollContext.maxScore = topDocs.getMaxScore()[ CD ]
Line_23 $$ if (searchContext.size() == 0) -->Line_70 $$ if (searchContext.sort() != null) [ CD ]
Line_47 $$ if (scrollContext.totalHits == -1) -->Line_59 $$ searchContext.terminateAfter(numDocs)[ CD ]
Line_16 $$ Query query = searchContext.query()-->Line_46 $$ if (returnsDocsInOrder(query, searchContext.sort())) [ FD ]
Line_23 $$ if (searchContext.size() == 0) -->Line_43 $$ if (searchContext.request().scroll() != null) [ CD ]
Line_70 $$ if (searchContext.sort() != null) -->Line_71 $$ topDocsCollector = TopFieldCollector.create(searchContext.sort(), numDocs, (FieldDoc) lastEmittedDoc, true, searchContext.trackScores(), searchContext.trackScores())[ CD ]
Line_70 $$ if (searchContext.sort() != null) -->Line_73 $$ rescore = !searchContext.rescore().isEmpty()[ CD ]
Line_218 $$ if (collector != null) -->Line_222 $$ searcher.search(query, collector)[ CD ]
Line_166 $$ if (collector.getClass() == TotalHitCountCollector.class) -->Line_180 $$ if (query.getClass() == MatchAllDocsQuery.class) [ CD ]
Line_207 $$ if (timeoutSet && collector != null) -->Line_213 $$ if (doProfile) [ CD ]
Line_16 $$ Query query = searchContext.query()-->Line_180 $$ if (query.getClass() == MatchAllDocsQuery.class) [ FD ]
Line_19 $$ Collector collector-->Line_222 $$ searcher.search(query, collector)[ FD ]
Line_28 $$ collector = new InternalProfileCollector(collector, CollectorResult.REASON_SEARCH_COUNT, Collections.emptyList())-->Line_138 $$ subCollectors.add(collector)[ FD ]
Line_190 $$ if (query.getClass() == TermQuery.class && searcher.getIndexReader().hasDeletions() == false) -->Line_191 $$ final Term term = ((TermQuery) query).getTerm()[ CD ]
Line_182 $$ topDocsCallable = new Callable<TopDocs>() -->Line_187 $$ return new TopDocs(count, Lucene.EMPTY_SCORE_DOCS, 0)[ CD ]
Line_19 $$ Collector collector-->Line_218 $$ if (collector != null) [ FD ]
Line_23 $$ if (searchContext.size() == 0) -->Line_30 $$ topDocsCallable = new Callable<TopDocs>() [ CD ]
Line_233 $$ if (terminateAfterSet && queryResult.terminatedEarly() == null) -->Line_234 $$ queryResult.terminatedEarly(false)[ CD ]
Line_19 $$ Collector collector-->Line_26 $$ collector = totalHitCountCollector[ FD ]
Line_198 $$ for (LeafReaderContext context : searcher.getIndexReader().leaves()) -->Line_199 $$ count += context.reader().docFreq(term)[ FD ]
Line_28 $$ collector = new InternalProfileCollector(collector, CollectorResult.REASON_SEARCH_COUNT, Collections.emptyList())-->Line_166 $$ if (collector.getClass() == TotalHitCountCollector.class) [ FD ]
Line_83 $$ topDocsCallable = new Callable<TopDocs>() -->Line_88 $$ if (scrollContext != null) [ CD ]
Line_26 $$ collector = totalHitCountCollector-->Line_138 $$ subCollectors.add(collector)[ FD ]
Line_8 $$ QuerySearchResult queryResult = searchContext.queryResult()-->Line_15 $$ queryResult.size(searchContext.size())[ FD ]
Line_43 $$ if (searchContext.request().scroll() != null) -->Line_46 $$ if (returnsDocsInOrder(query, searchContext.sort())) [ CD ]
Line_23 $$ if (searchContext.size() == 0) -->Line_65 $$ if (totalNumDocs == 0) [ CD ]
Line_88 $$ if (scrollContext != null) -->Line_89 $$ if (scrollContext.totalHits == -1) [ CD ]
Line_8 $$ QuerySearchResult queryResult = searchContext.queryResult()-->Line_14 $$ queryResult.from(searchContext.from())[ FD ]
Line_27 $$ if (searchContext.getProfilers() != null) -->Line_28 $$ collector = new InternalProfileCollector(collector, CollectorResult.REASON_SEARCH_COUNT, Collections.emptyList())[ CD ]
Line_19 $$ Collector collector-->Line_28 $$ collector = new InternalProfileCollector(collector, CollectorResult.REASON_SEARCH_COUNT, Collections.emptyList())[ FD ]
Line_219 $$ if (doProfile) -->Line_220 $$ searchContext.getProfilers().getCurrent().setCollector((InternalProfileCollector) collector)[ CD ]
Line_18 $$ int numDocs = Math.min(searchContext.from() + searchContext.size(), totalNumDocs)-->Line_77 $$ topDocsCollector = TopScoreDocCollector.create(numDocs, lastEmittedDoc)[ FD ]
Line_83 $$ topDocsCallable = new Callable<TopDocs>() -->Line_112 $$ return topDocs[ CD ]
Line_26 $$ collector = totalHitCountCollector-->Line_28 $$ collector = new InternalProfileCollector(collector, CollectorResult.REASON_SEARCH_COUNT, Collections.emptyList())[ FD ]
Line_23 $$ if (searchContext.size() == 0) -->Line_80 $$ if (doProfile) [ CD ]
Line_46 $$ if (returnsDocsInOrder(query, searchContext.sort())) -->Line_47 $$ if (scrollContext.totalHits == -1) [ CD ]
Line_237 $$ if (searchContext.getProfilers() != null) -->Line_238 $$ List<ProfileShardResult> shardResults = Profiler.buildShardResults(searchContext.getProfilers().getProfilers())[ CD ]
Line_8 $$ QuerySearchResult queryResult = searchContext.queryResult()-->Line_229 $$ queryResult.terminatedEarly(true)[ FD ]
Line_180 $$ if (query.getClass() == MatchAllDocsQuery.class) -->Line_190 $$ if (query.getClass() == TermQuery.class && searcher.getIndexReader().hasDeletions() == false) [ CD ]
Line_20 $$ Callable<TopDocs> topDocsCallable-->Line_30 $$ topDocsCallable = new Callable<TopDocs>() [ FD ]
Line_20 $$ Callable<TopDocs> topDocsCallable-->Line_236 $$ queryResult.topDocs(topDocsCallable.call())[ FD ]
Line_23 $$ if (searchContext.size() == 0) -->Line_26 $$ collector = totalHitCountCollector[ CD ]
Line_186 $$ int count = searcher.getIndexReader().numDocs()-->Line_199 $$ count += context.reader().docFreq(term)[ FD ]
Line_193 $$ topDocsCallable = new Callable<TopDocs>() -->Line_197 $$ int count = 0[ CD ]
Line_18 $$ int numDocs = Math.min(searchContext.from() + searchContext.size(), totalNumDocs)-->Line_75 $$ numDocs = Math.max(rescoreContext.window(), numDocs)[ FD ]
Line_83 $$ topDocsCallable = new Callable<TopDocs>() -->Line_87 $$ TopDocs topDocs = topDocsCollector.topDocs()[ CD ]
Line_10 $$ final boolean doProfile = searchContext.getProfilers() != null-->Line_141 $$ if (doProfile && collector instanceof InternalProfileCollector == false) [ FD ]
Line_182 $$ topDocsCallable = new Callable<TopDocs>() -->Line_186 $$ int count = searcher.getIndexReader().numDocs()[ CD ]
Line_16 $$ Query query = searchContext.query()-->Line_222 $$ searcher.search(query, collector)[ FD ]
Line_17 $$ final int totalNumDocs = searcher.getIndexReader().numDocs()-->Line_18 $$ int numDocs = Math.min(searchContext.from() + searchContext.size(), totalNumDocs)[ FD ]
