Line_16 $$ Terms.Bucket bucket = terms.getBucketByKey("val" + i)-->Line_17 $$ assertThat(bucket, notNullValue())[ FD ]
Line_15 $$ for (int i = 0; i < 5; i++) -->Line_26 $$ assertThat(subTermsBuckets, notNullValue())[ CD ]
Line_2 $$ public void testAggregationsBinary() throws Exception -->Line_9 $$ SearchResponse response = client().prepareSearch("idx").setTypes("type").addAggregation(termsBuilder).execute().actionGet()[ CD ]
Line_15 $$ for (int i = 0; i < 5; i++) -->Line_20 $$ Aggregations subAggs = bucket.getAggregations()[ CD ]
Line_11 $$ Terms terms = response.getAggregations().get("terms")-->Line_16 $$ Terms.Bucket bucket = terms.getBucketByKey("val" + i)[ FD ]
Line_15 $$ for (int i = 0; i < 5; i++) -->Line_24 $$ assertThat(subTerms, notNullValue())[ CD ]
Line_9 $$ SearchResponse response = client().prepareSearch("idx").setTypes("type").addAggregation(termsBuilder).execute().actionGet()-->Line_10 $$ assertSearchResponse(response)[ FD ]
Line_2 $$ public void testAggregationsBinary() throws Exception -->Line_12 $$ assertThat(terms, notNullValue())[ CD ]
Line_11 $$ Terms terms = response.getAggregations().get("terms")-->Line_13 $$ assertThat(terms.getName(), equalTo("terms"))[ FD ]
Line_2 $$ public void testAggregationsBinary() throws Exception -->Line_5 $$ XContentBuilder subTermContentBuilder = JsonXContent.contentBuilder().startObject()[ CD ]
Line_2 $$ public void testAggregationsBinary() throws Exception -->Line_4 $$ TermsBuilder subTerm = AggregationBuilders.terms("subterms").field(INT_FIELD_NAME)[ CD ]
Line_15 $$ for (int i = 0; i < 5; i++) -->Line_18 $$ assertThat(bucket.getKeyAsString(), equalTo("val" + i))[ CD ]
Line_20 $$ Aggregations subAggs = bucket.getAggregations()-->Line_21 $$ assertThat(subAggs, notNullValue())[ FD ]
Line_4 $$ TermsBuilder subTerm = AggregationBuilders.terms("subterms").field(INT_FIELD_NAME)-->Line_6 $$ subTerm.toXContent(subTermContentBuilder, ToXContent.EMPTY_PARAMS)[ FD ]
Line_25 $$ List<Bucket> subTermsBuckets = subTerms.getBuckets()-->Line_28 $$ assertThat(((Number) subTermsBuckets.get(0).getKey()).intValue(), equalTo(i))[ FD ]
Line_15 $$ for (int i = 0; i < 5; i++) -->Line_17 $$ assertThat(bucket, notNullValue())[ CD ]
Line_15 $$ for (int i = 0; i < 5; i++) -->Line_25 $$ List<Bucket> subTermsBuckets = subTerms.getBuckets()[ CD ]
Line_2 $$ public void testAggregationsBinary() throws Exception -->Line_14 $$ assertThat(terms.getBuckets().size(), equalTo(5))[ CD ]
Line_11 $$ Terms terms = response.getAggregations().get("terms")-->Line_14 $$ assertThat(terms.getBuckets().size(), equalTo(5))[ FD ]
Line_3 $$ TermsBuilder termsBuilder = AggregationBuilders.terms("terms").field(STRING_FIELD_NAME)-->Line_9 $$ SearchResponse response = client().prepareSearch("idx").setTypes("type").addAggregation(termsBuilder).execute().actionGet()[ FD ]
Line_23 $$ Terms subTerms = subAggs.get("subterms")-->Line_25 $$ List<Bucket> subTermsBuckets = subTerms.getBuckets()[ FD ]
Line_15 $$ for (int i = 0; i < 5; i++) -->Line_22 $$ assertThat(subAggs.asList().size(), equalTo(1))[ CD ]
Line_25 $$ List<Bucket> subTermsBuckets = subTerms.getBuckets()-->Line_27 $$ assertThat(subTermsBuckets.size(), equalTo(1))[ FD ]
Line_5 $$ XContentBuilder subTermContentBuilder = JsonXContent.contentBuilder().startObject()-->Line_7 $$ subTermContentBuilder.endObject()[ FD ]
Line_5 $$ XContentBuilder subTermContentBuilder = JsonXContent.contentBuilder().startObject()-->Line_6 $$ subTerm.toXContent(subTermContentBuilder, ToXContent.EMPTY_PARAMS)[ FD ]
Line_25 $$ List<Bucket> subTermsBuckets = subTerms.getBuckets()-->Line_29 $$ assertThat(subTermsBuckets.get(0).getDocCount(), equalTo(1l))[ FD ]
Line_20 $$ Aggregations subAggs = bucket.getAggregations()-->Line_22 $$ assertThat(subAggs.asList().size(), equalTo(1))[ FD ]
Line_15 $$ for (int i = 0; i < 5; i++) -->Line_28 $$ assertThat(((Number) subTermsBuckets.get(0).getKey()).intValue(), equalTo(i))[ CD ]
Line_20 $$ Aggregations subAggs = bucket.getAggregations()-->Line_23 $$ Terms subTerms = subAggs.get("subterms")[ FD ]
Line_2 $$ public void testAggregationsBinary() throws Exception -->Line_10 $$ assertSearchResponse(response)[ CD ]
Line_2 $$ public void testAggregationsBinary() throws Exception -->Line_13 $$ assertThat(terms.getName(), equalTo("terms"))[ CD ]
Line_9 $$ SearchResponse response = client().prepareSearch("idx").setTypes("type").addAggregation(termsBuilder).execute().actionGet()-->Line_11 $$ Terms terms = response.getAggregations().get("terms")[ FD ]
Line_25 $$ List<Bucket> subTermsBuckets = subTerms.getBuckets()-->Line_26 $$ assertThat(subTermsBuckets, notNullValue())[ FD ]
Line_16 $$ Terms.Bucket bucket = terms.getBucketByKey("val" + i)-->Line_18 $$ assertThat(bucket.getKeyAsString(), equalTo("val" + i))[ FD ]
Line_15 $$ for (int i = 0; i < 5; i++) -->Line_28 $$ assertThat(((Number) subTermsBuckets.get(0).getKey()).intValue(), equalTo(i))[ FD ]
Line_3 $$ TermsBuilder termsBuilder = AggregationBuilders.terms("terms").field(STRING_FIELD_NAME)-->Line_8 $$ termsBuilder.subAggregation(subTermContentBuilder)[ FD ]
Line_5 $$ XContentBuilder subTermContentBuilder = JsonXContent.contentBuilder().startObject()-->Line_8 $$ termsBuilder.subAggregation(subTermContentBuilder)[ FD ]
Line_15 $$ for (int i = 0; i < 5; i++) -->Line_21 $$ assertThat(subAggs, notNullValue())[ CD ]
Line_15 $$ for (int i = 0; i < 5; i++) -->Line_19 $$ assertThat(bucket.getDocCount(), equalTo(1l))[ CD ]
Line_2 $$ public void testAggregationsBinary() throws Exception -->Line_11 $$ Terms terms = response.getAggregations().get("terms")[ CD ]
Line_15 $$ for (int i = 0; i < 5; i++) -->Line_29 $$ assertThat(subTermsBuckets.get(0).getDocCount(), equalTo(1l))[ CD ]
Line_15 $$ for (int i = 0; i < 5; i++) -->Line_27 $$ assertThat(subTermsBuckets.size(), equalTo(1))[ CD ]
Line_2 $$ public void testAggregationsBinary() throws Exception -->Line_3 $$ TermsBuilder termsBuilder = AggregationBuilders.terms("terms").field(STRING_FIELD_NAME)[ CD ]
Line_11 $$ Terms terms = response.getAggregations().get("terms")-->Line_12 $$ assertThat(terms, notNullValue())[ FD ]
Line_2 $$ public void testAggregationsBinary() throws Exception -->Line_15 $$ for (int i = 0; i < 5; i++) [ CD ]
Line_2 $$ public void testAggregationsBinary() throws Exception -->Line_8 $$ termsBuilder.subAggregation(subTermContentBuilder)[ CD ]
Line_16 $$ Terms.Bucket bucket = terms.getBucketByKey("val" + i)-->Line_20 $$ Aggregations subAggs = bucket.getAggregations()[ FD ]
Line_2 $$ public void testAggregationsBinary() throws Exception -->Line_6 $$ subTerm.toXContent(subTermContentBuilder, ToXContent.EMPTY_PARAMS)[ CD ]
Line_23 $$ Terms subTerms = subAggs.get("subterms")-->Line_24 $$ assertThat(subTerms, notNullValue())[ FD ]
Line_2 $$ public void testAggregationsBinary() throws Exception -->Line_7 $$ subTermContentBuilder.endObject()[ CD ]
Line_15 $$ for (int i = 0; i < 5; i++) -->Line_16 $$ Terms.Bucket bucket = terms.getBucketByKey("val" + i)[ CD ]
Line_15 $$ for (int i = 0; i < 5; i++) -->Line_23 $$ Terms subTerms = subAggs.get("subterms")[ CD ]
Line_16 $$ Terms.Bucket bucket = terms.getBucketByKey("val" + i)-->Line_19 $$ assertThat(bucket.getDocCount(), equalTo(1l))[ FD ]
