Line_22 $$ for (String phrase : phrases) -->Line_23 $$ index("test", "type1", phrase, "body", phrase)[ FD ]
Line_14 $$ List<String> phrases = new ArrayList()-->Line_15 $$ Collections.addAll(phrases, "nobel prize", "noble gases", "somethingelse prize", "pride and joy", "notes are fun")[ FD ]
Line_14 $$ List<String> phrases = new ArrayList()-->Line_17 $$ phrases.add("noble somethingelse" + i)[ FD ]
Line_9 $$ CreateIndexRequestBuilder builder = prepareCreate("test").setSettings(settingsBuilder().put(indexSettings()).put("index.analysis.analyzer.body.tokenizer", "standard").putArray("index.analysis.analyzer.body.filter", "lowercase", "my_shingle").put("index.analysis.filter.my_shingle.type", "shingle").put("index.analysis.filter.my_shingle.output_unigrams", true).put("index.analysis.filter.my_shingle.min_shingle_size", 2).put("index.analysis.filter.my_shingle.max_shingle_size", 2))-->Line_11 $$ assertAcked(builder.addMapping("type1", mapping))[ FD ]
Line_28 $$ searchSuggest = searchSuggest("noble prize", phraseSuggestion("simple_phrase").field("body").addCandidateGenerator(PhraseSuggestionBuilder.candidateGenerator("body").minWordLength(1).suggestMode("always").maxTermFreq(.99f)).confidence(2f).maxErrors(5f).size(1))-->Line_29 $$ assertSuggestion(searchSuggest, 0, 0, "simple_phrase", "nobel prize")[ FD ]
Line_10 $$ XContentBuilder mapping = XContentFactory.jsonBuilder().startObject().startObject("type1").startObject("_all").field("store", "yes").field("termVector", "with_positions_offsets").endObject().startObject("properties").startObject("body").field("type", "string").field("analyzer", "body").endObject().endObject().endObject().endObject()-->Line_11 $$ assertAcked(builder.addMapping("type1", mapping))[ FD ]
Line_14 $$ List<String> phrases = new ArrayList()-->Line_20 $$ phrases.add("chaff" + i)[ FD ]
Line_16 $$ for (int i = 0; i < 8; i++) -->Line_19 $$ for (int i = 0; i < test.numPrimaries * chafPerShard; i++) [ FD ]
Line_26 $$ Suggest searchSuggest = searchSuggest("nobel prize", phraseSuggestion("simple_phrase").field("body").addCandidateGenerator(PhraseSuggestionBuilder.candidateGenerator("body").minWordLength(1).suggestMode("always").maxTermFreq(.99f)).confidence(2f).maxErrors(5f).size(1))-->Line_27 $$ assertSuggestionSize(searchSuggest, 0, 0, "simple_phrase")[ FD ]
Line_26 $$ Suggest searchSuggest = searchSuggest("nobel prize", phraseSuggestion("simple_phrase").field("body").addCandidateGenerator(PhraseSuggestionBuilder.candidateGenerator("body").minWordLength(1).suggestMode("always").maxTermFreq(.99f)).confidence(2f).maxErrors(5f).size(1))-->Line_29 $$ assertSuggestion(searchSuggest, 0, 0, "simple_phrase", "nobel prize")[ FD ]
Line_26 $$ Suggest searchSuggest = searchSuggest("nobel prize", phraseSuggestion("simple_phrase").field("body").addCandidateGenerator(PhraseSuggestionBuilder.candidateGenerator("body").minWordLength(1).suggestMode("always").maxTermFreq(.99f)).confidence(2f).maxErrors(5f).size(1))-->Line_28 $$ searchSuggest = searchSuggest("noble prize", phraseSuggestion("simple_phrase").field("body").addCandidateGenerator(PhraseSuggestionBuilder.candidateGenerator("body").minWordLength(1).suggestMode("always").maxTermFreq(.99f)).confidence(2f).maxErrors(5f).size(1))[ FD ]
Line_19 $$ for (int i = 0; i < test.numPrimaries * chafPerShard; i++) -->Line_20 $$ phrases.add("chaff" + i)[ CD ]
Line_16 $$ for (int i = 0; i < 8; i++) -->Line_17 $$ phrases.add("noble somethingelse" + i)[ CD ]
