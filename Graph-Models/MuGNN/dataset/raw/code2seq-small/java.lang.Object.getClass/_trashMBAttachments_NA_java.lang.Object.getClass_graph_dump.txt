Line_16 $$ long fileEntryId = MBMessageLocalServiceUtil.moveMessageAttachmentToTrash(TestPropsValues.getUserId(), _message.getMessageId(), fileName)-->Line_17 $$ FileEntry fileEntry = PortletFileRepositoryUtil.getPortletFileEntry(fileEntryId)[ FD ]
Line_2 $$ private void _trashMBAttachments(boolean restore) throws Exception -->Line_12 $$ List<ObjectValuePair<String, InputStream>> objectValuePairs = MBTestUtil.getInputStreamOVPs(fileName, getClass(), StringPool.BLANK)[ CD ]
Line_3 $$ int initialNotInTrashCount = _message.getAttachmentsFileEntriesCount()-->Line_18 $$ Assert.assertEquals(initialNotInTrashCount, _message.getAttachmentsFileEntriesCount())[ FD ]
Line_2 $$ private void _trashMBAttachments(boolean restore) throws Exception -->Line_16 $$ long fileEntryId = MBMessageLocalServiceUtil.moveMessageAttachmentToTrash(TestPropsValues.getUserId(), _message.getMessageId(), fileName)[ CD ]
Line_20 $$ if (restore) -->Line_21 $$ TrashEntryServiceUtil.restoreEntry(DLFileEntryConstants.getClassName(), fileEntryId)[ CD ]
Line_2 $$ private void _trashMBAttachments(boolean restore) throws Exception -->Line_13 $$ _message = MBMessageLocalServiceUtil.updateMessage(TestPropsValues.getUserId(), _message.getMessageId(), "Subject", "Body", objectValuePairs, existingFiles, 0, false, serviceContext)[ CD ]
Line_4 $$ int initialTrashEntriesCount = _message.getDeletedAttachmentsFileEntriesCount()-->Line_23 $$ Assert.assertEquals(initialTrashEntriesCount, _message.getDeletedAttachmentsFileEntriesCount())[ FD ]
Line_20 $$ if (restore) -->Line_26 $$ MBMessageLocalServiceUtil.deleteMessageAttachment(_message.getMessageId(), fileEntry.getTitle())[ CD ]
Line_20 $$ if (restore) -->Line_28 $$ Assert.assertEquals(initialTrashEntriesCount, _message.getDeletedAttachmentsFileEntriesCount())[ CD ]
Line_2 $$ private void _trashMBAttachments(boolean restore) throws Exception -->Line_5 $$ List<FileEntry> fileEntries = _message.getAttachmentsFileEntries()[ CD ]
Line_20 $$ if (restore) -->Line_22 $$ Assert.assertEquals(initialNotInTrashCount + 1, _message.getAttachmentsFileEntriesCount())[ CD ]
Line_2 $$ private void _trashMBAttachments(boolean restore) throws Exception -->Line_17 $$ FileEntry fileEntry = PortletFileRepositoryUtil.getPortletFileEntry(fileEntryId)[ CD ]
Line_12 $$ List<ObjectValuePair<String, InputStream>> objectValuePairs = MBTestUtil.getInputStreamOVPs(fileName, getClass(), StringPool.BLANK)-->Line_13 $$ _message = MBMessageLocalServiceUtil.updateMessage(TestPropsValues.getUserId(), _message.getMessageId(), "Subject", "Body", objectValuePairs, existingFiles, 0, false, serviceContext)[ FD ]
Line_20 $$ if (restore) -->Line_23 $$ Assert.assertEquals(initialTrashEntriesCount, _message.getDeletedAttachmentsFileEntriesCount())[ CD ]
Line_11 $$ String fileName = "OSX_Test.docx"-->Line_16 $$ long fileEntryId = MBMessageLocalServiceUtil.moveMessageAttachmentToTrash(TestPropsValues.getUserId(), _message.getMessageId(), fileName)[ FD ]
Line_4 $$ int initialTrashEntriesCount = _message.getDeletedAttachmentsFileEntriesCount()-->Line_15 $$ Assert.assertEquals(initialTrashEntriesCount, _message.getDeletedAttachmentsFileEntriesCount())[ FD ]
Line_2 $$ private void _trashMBAttachments(boolean restore) throws Exception -->Line_19 $$ Assert.assertEquals(initialTrashEntriesCount + 1, _message.getDeletedAttachmentsFileEntriesCount())[ CD ]
Line_2 $$ private void _trashMBAttachments(boolean restore) throws Exception -->Line_20 $$ if (restore) [ CD ]
Line_2 $$ private void _trashMBAttachments(boolean restore) throws Exception -->Line_11 $$ String fileName = "OSX_Test.docx"[ CD ]
Line_16 $$ long fileEntryId = MBMessageLocalServiceUtil.moveMessageAttachmentToTrash(TestPropsValues.getUserId(), _message.getMessageId(), fileName)-->Line_21 $$ TrashEntryServiceUtil.restoreEntry(DLFileEntryConstants.getClassName(), fileEntryId)[ FD ]
Line_7 $$ for (FileEntry fileEntry : fileEntries) -->Line_26 $$ MBMessageLocalServiceUtil.deleteMessageAttachment(_message.getMessageId(), fileEntry.getTitle())[ FD ]
Line_2 $$ private void _trashMBAttachments(boolean restore) throws Exception -->Line_18 $$ Assert.assertEquals(initialNotInTrashCount, _message.getAttachmentsFileEntriesCount())[ CD ]
Line_10 $$ ServiceContext serviceContext = ServiceContextTestUtil.getServiceContext(_group.getGroupId(), TestPropsValues.getUserId())-->Line_13 $$ _message = MBMessageLocalServiceUtil.updateMessage(TestPropsValues.getUserId(), _message.getMessageId(), "Subject", "Body", objectValuePairs, existingFiles, 0, false, serviceContext)[ FD ]
Line_2 $$ private void _trashMBAttachments(boolean restore) throws Exception -->Line_4 $$ int initialTrashEntriesCount = _message.getDeletedAttachmentsFileEntriesCount()[ CD ]
Line_2 $$ private void _trashMBAttachments(boolean restore) throws Exception -->Line_3 $$ int initialNotInTrashCount = _message.getAttachmentsFileEntriesCount()[ CD ]
Line_6 $$ List<String> existingFiles = new ArrayList()-->Line_8 $$ existingFiles.add(String.valueOf(fileEntry.getFileEntryId()))[ FD ]
Line_20 $$ if (restore) -->Line_24 $$ MBMessageLocalServiceUtil.deleteMessageAttachment(_message.getMessageId(), fileName)[ CD ]
Line_7 $$ for (FileEntry fileEntry : fileEntries) -->Line_8 $$ existingFiles.add(String.valueOf(fileEntry.getFileEntryId()))[ FD ]
Line_20 $$ if (restore) -->Line_27 $$ Assert.assertEquals(initialNotInTrashCount, _message.getAttachmentsFileEntriesCount())[ CD ]
Line_4 $$ int initialTrashEntriesCount = _message.getDeletedAttachmentsFileEntriesCount()-->Line_28 $$ Assert.assertEquals(initialTrashEntriesCount, _message.getDeletedAttachmentsFileEntriesCount())[ FD ]
Line_2 $$ private void _trashMBAttachments(boolean restore) throws Exception -->Line_15 $$ Assert.assertEquals(initialTrashEntriesCount, _message.getDeletedAttachmentsFileEntriesCount())[ CD ]
Line_6 $$ List<String> existingFiles = new ArrayList()-->Line_13 $$ _message = MBMessageLocalServiceUtil.updateMessage(TestPropsValues.getUserId(), _message.getMessageId(), "Subject", "Body", objectValuePairs, existingFiles, 0, false, serviceContext)[ FD ]
Line_2 $$ private void _trashMBAttachments(boolean restore) throws Exception -->Line_10 $$ ServiceContext serviceContext = ServiceContextTestUtil.getServiceContext(_group.getGroupId(), TestPropsValues.getUserId())[ CD ]
Line_11 $$ String fileName = "OSX_Test.docx"-->Line_12 $$ List<ObjectValuePair<String, InputStream>> objectValuePairs = MBTestUtil.getInputStreamOVPs(fileName, getClass(), StringPool.BLANK)[ FD ]
Line_2 $$ private void _trashMBAttachments(boolean restore) throws Exception -->Line_14 $$ Assert.assertEquals(initialNotInTrashCount + 1, _message.getAttachmentsFileEntriesCount())[ CD ]
Line_2 $$ private void _trashMBAttachments(boolean restore) throws Exception -->Line_6 $$ List<String> existingFiles = new ArrayList()[ CD ]
Line_11 $$ String fileName = "OSX_Test.docx"-->Line_24 $$ MBMessageLocalServiceUtil.deleteMessageAttachment(_message.getMessageId(), fileName)[ FD ]
Line_3 $$ int initialNotInTrashCount = _message.getAttachmentsFileEntriesCount()-->Line_27 $$ Assert.assertEquals(initialNotInTrashCount, _message.getAttachmentsFileEntriesCount())[ FD ]
