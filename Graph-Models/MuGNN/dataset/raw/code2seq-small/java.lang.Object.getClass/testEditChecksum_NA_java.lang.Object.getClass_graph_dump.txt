Line_6 $$ cluster = new MiniDFSCluster.Builder(conf).numDataNodes(NUM_DATA_NODES).build()-->Line_8 $$ fileSys = cluster.getFileSystem()[ FD ]
Line_2 $$ public void testEditChecksum() throws Exception -->Line_3 $$ Configuration conf = new HdfsConfiguration()[ CD ]
Line_25 $$ RandomAccessFile rwf = new RandomAccessFile(editFile, "rw")-->Line_26 $$ rwf.seek(fileLen - 4)[ FD ]
Line_6 $$ cluster = new MiniDFSCluster.Builder(conf).numDataNodes(NUM_DATA_NODES).build()-->Line_7 $$ cluster.waitActive()[ FD ]
Line_25 $$ RandomAccessFile rwf = new RandomAccessFile(editFile, "rw")-->Line_27 $$ int b = rwf.readInt()[ FD ]
Line_2 $$ public void testEditChecksum() throws Exception -->Line_8 $$ fileSys = cluster.getFileSystem()[ CD ]
Line_2 $$ public void testEditChecksum() throws Exception -->Line_15 $$ while (iter.hasNext()) [ CD ]
Line_5 $$ FileSystem fileSys = null-->Line_8 $$ fileSys = cluster.getFileSystem()[ FD ]
Line_2 $$ public void testEditChecksum() throws Exception -->Line_6 $$ cluster = new MiniDFSCluster.Builder(conf).numDataNodes(NUM_DATA_NODES).build()[ CD ]
Line_2 $$ public void testEditChecksum() throws Exception -->Line_4 $$ MiniDFSCluster cluster = null[ CD ]
Line_4 $$ MiniDFSCluster cluster = null-->Line_8 $$ fileSys = cluster.getFileSystem()[ FD ]
Line_10 $$ FSImage fsimage = namesystem.getFSImage()-->Line_13 $$ Iterator<StorageDirectory> iter = fsimage.getStorage().dirIterator(NameNodeDirType.EDITS)[ FD ]
Line_8 $$ fileSys = cluster.getFileSystem()-->Line_12 $$ fileSys.mkdirs(new Path("/tmp"))[ FD ]
Line_2 $$ public void testEditChecksum() throws Exception -->Line_13 $$ Iterator<StorageDirectory> iter = fsimage.getStorage().dirIterator(NameNodeDirType.EDITS)[ CD ]
Line_4 $$ MiniDFSCluster cluster = null-->Line_9 $$ final FSNamesystem namesystem = cluster.getNamesystem()[ FD ]
Line_4 $$ MiniDFSCluster cluster = null-->Line_19 $$ cluster.shutdown()[ FD ]
Line_2 $$ public void testEditChecksum() throws Exception -->Line_11 $$ final FSEditLog editLog = fsimage.getEditLog()[ CD ]
Line_10 $$ FSImage fsimage = namesystem.getFSImage()-->Line_11 $$ final FSEditLog editLog = fsimage.getEditLog()[ FD ]
Line_6 $$ cluster = new MiniDFSCluster.Builder(conf).numDataNodes(NUM_DATA_NODES).build()-->Line_33 $$ cluster = new MiniDFSCluster.Builder(conf).numDataNodes(NUM_DATA_NODES).format(false).build()[ FD ]
Line_4 $$ MiniDFSCluster cluster = null-->Line_7 $$ cluster.waitActive()[ FD ]
Line_15 $$ while (iter.hasNext()) -->Line_16 $$ sds.add(iter.next())[ CD ]
Line_2 $$ public void testEditChecksum() throws Exception -->Line_7 $$ cluster.waitActive()[ CD ]
Line_6 $$ cluster = new MiniDFSCluster.Builder(conf).numDataNodes(NUM_DATA_NODES).build()-->Line_9 $$ final FSNamesystem namesystem = cluster.getNamesystem()[ FD ]
Line_13 $$ Iterator<StorageDirectory> iter = fsimage.getStorage().dirIterator(NameNodeDirType.EDITS)-->Line_16 $$ sds.add(iter.next())[ FD ]
Line_21 $$ File editFile = NNStorage.getFinalizedEditsFile(sd, 1, 3)-->Line_23 $$ long fileLen = editFile.length()[ FD ]
Line_25 $$ RandomAccessFile rwf = new RandomAccessFile(editFile, "rw")-->Line_28 $$ rwf.seek(fileLen - 4)[ FD ]
Line_2 $$ public void testEditChecksum() throws Exception -->Line_12 $$ fileSys.mkdirs(new Path("/tmp"))[ CD ]
Line_13 $$ Iterator<StorageDirectory> iter = fsimage.getStorage().dirIterator(NameNodeDirType.EDITS)-->Line_15 $$ while (iter.hasNext()) [ FD ]
Line_4 $$ MiniDFSCluster cluster = null-->Line_6 $$ cluster = new MiniDFSCluster.Builder(conf).numDataNodes(NUM_DATA_NODES).build()[ FD ]
Line_5 $$ FileSystem fileSys = null-->Line_12 $$ fileSys.mkdirs(new Path("/tmp"))[ FD ]
Line_14 $$ LinkedList<StorageDirectory> sds = new LinkedList<StorageDirectory>()-->Line_16 $$ sds.add(iter.next())[ FD ]
Line_6 $$ cluster = new MiniDFSCluster.Builder(conf).numDataNodes(NUM_DATA_NODES).build()-->Line_19 $$ cluster.shutdown()[ FD ]
Line_21 $$ File editFile = NNStorage.getFinalizedEditsFile(sd, 1, 3)-->Line_22 $$ assertTrue(editFile.exists())[ FD ]
Line_2 $$ public void testEditChecksum() throws Exception -->Line_19 $$ cluster.shutdown()[ CD ]
Line_2 $$ public void testEditChecksum() throws Exception -->Line_18 $$ editLog.close()[ CD ]
Line_2 $$ public void testEditChecksum() throws Exception -->Line_5 $$ FileSystem fileSys = null[ CD ]
Line_9 $$ final FSNamesystem namesystem = cluster.getNamesystem()-->Line_10 $$ FSImage fsimage = namesystem.getFSImage()[ FD ]
Line_20 $$ for (StorageDirectory sd : sds) -->Line_21 $$ File editFile = NNStorage.getFinalizedEditsFile(sd, 1, 3)[ FD ]
Line_11 $$ final FSEditLog editLog = fsimage.getEditLog()-->Line_18 $$ editLog.close()[ FD ]
Line_2 $$ public void testEditChecksum() throws Exception -->Line_10 $$ FSImage fsimage = namesystem.getFSImage()[ CD ]
Line_2 $$ public void testEditChecksum() throws Exception -->Line_14 $$ LinkedList<StorageDirectory> sds = new LinkedList<StorageDirectory>()[ CD ]
Line_4 $$ MiniDFSCluster cluster = null-->Line_33 $$ cluster = new MiniDFSCluster.Builder(conf).numDataNodes(NUM_DATA_NODES).format(false).build()[ FD ]
Line_25 $$ RandomAccessFile rwf = new RandomAccessFile(editFile, "rw")-->Line_29 $$ rwf.writeInt(b + 1)[ FD ]
Line_25 $$ RandomAccessFile rwf = new RandomAccessFile(editFile, "rw")-->Line_30 $$ rwf.close()[ FD ]
Line_2 $$ public void testEditChecksum() throws Exception -->Line_9 $$ final FSNamesystem namesystem = cluster.getNamesystem()[ CD ]
