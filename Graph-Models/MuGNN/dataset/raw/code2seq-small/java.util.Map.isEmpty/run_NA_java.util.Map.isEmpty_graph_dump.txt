Line_49 $$ if (!FileUtil.delete(file)) -->Line_50 $$ NOTIFICATION_GROUP.createNotification("Cannot clean '" + pair.getSecond().getName() + "' artifact", "cannot delete '" + file.getAbsolutePath() + "'", NotificationType.ERROR, null).notify(myProject)[ CD ]
Line_28 $$ final String name = ContainerUtil.getFirstItem(outputPathContainingSourceRoots.keySet())-->Line_29 $$ final String output = outputPathContainingSourceRoots.get(name)[ FD ]
Line_17 $$ if (outputPath != null) -->Line_20 $$ if (parents.contains(outputFile)) [ CD ]
Line_43 $$ new Task.Backgroundable(myProject, "Cleaning Artifacts", true) -->Line_47 $$ indicator.checkCanceled()[ FD ]
Line_28 $$ final String name = ContainerUtil.getFirstItem(outputPathContainingSourceRoots.keySet())-->Line_34 $$ info.append(" '").append(name).append("' artifact ('").append(outputPathContainingSourceRoots.get(name)).append("')\n")[ FD ]
Line_2 $$ public void run() -->Line_4 $$ final VirtualFile[] roots = ProjectRootManager.getInstance(myProject).getContentSourceRoots()[ CD ]
Line_16 $$ String outputPath = artifact.getOutputFilePath()-->Line_17 $$ if (outputPath != null) [ FD ]
Line_30 $$ message = "The output directory '" + output + "' of '" + name + "' artifact contains source roots of the project. Do you want to continue and clear it?"-->Line_36 $$ message = "The output directories of the following artifacts contains source roots:\n" + info + "Do you want to continue and clear these directories?"[ FD ]
Line_30 $$ message = "The output directory '" + output + "' of '" + name + "' artifact contains source roots of the project. Do you want to continue and clear it?"-->Line_38 $$ final int answer = Messages.showYesNoDialog(myProject, message, "Clean Artifacts", null)[ FD ]
Line_20 $$ if (parents.contains(outputFile)) -->Line_21 $$ outputPathContainingSourceRoots.put(artifact.getName(), outputPath)[ CD ]
Line_27 $$ if (outputPathContainingSourceRoots.size() == 1 && outputPathContainingSourceRoots.values().size() == 1) -->Line_29 $$ final String output = outputPathContainingSourceRoots.get(name)[ CD ]
Line_9 $$ parent = parent.getParent()-->Line_8 $$ parents.add(parent)[ FD ]
Line_3 $$ Set<VirtualFile> parents = new HashSet<VirtualFile>()-->Line_8 $$ parents.add(parent)[ FD ]
Line_25 $$ if (!outputPathContainingSourceRoots.isEmpty()) -->Line_38 $$ final int answer = Messages.showYesNoDialog(myProject, message, "Clean Artifacts", null)[ CD ]
Line_26 $$ final String message-->Line_38 $$ final int answer = Messages.showYesNoDialog(myProject, message, "Clean Artifacts", null)[ FD ]
Line_48 $$ File file = pair.getFirst()-->Line_52 $$ deleted.add(file)[ FD ]
Line_7 $$ while (parent != null && !parents.contains(parent)) -->Line_9 $$ parent = parent.getParent()[ CD ]
Line_12 $$ Map<String, String> outputPathContainingSourceRoots = new HashMap<String, String>()-->Line_21 $$ outputPathContainingSourceRoots.put(artifact.getName(), outputPath)[ FD ]
Line_9 $$ parent = parent.getParent()-->Line_7 $$ while (parent != null && !parents.contains(parent)) [ FD ]
Line_25 $$ if (!outputPathContainingSourceRoots.isEmpty()) -->Line_27 $$ if (outputPathContainingSourceRoots.size() == 1 && outputPathContainingSourceRoots.values().size() == 1) [ CD ]
Line_2 $$ public void run() -->Line_3 $$ Set<VirtualFile> parents = new HashSet<VirtualFile>()[ CD ]
Line_27 $$ if (outputPathContainingSourceRoots.size() == 1 && outputPathContainingSourceRoots.values().size() == 1) -->Line_30 $$ message = "The output directory '" + output + "' of '" + name + "' artifact contains source roots of the project. Do you want to continue and clear it?"[ CD ]
Line_48 $$ File file = pair.getFirst()-->Line_49 $$ if (!FileUtil.delete(file)) [ FD ]
Line_25 $$ if (!outputPathContainingSourceRoots.isEmpty()) -->Line_26 $$ final String message[ CD ]
Line_38 $$ final int answer = Messages.showYesNoDialog(myProject, message, "Clean Artifacts", null)-->Line_39 $$ if (answer != Messages.YES) [ FD ]
Line_25 $$ if (!outputPathContainingSourceRoots.isEmpty()) -->Line_39 $$ if (answer != Messages.YES) [ CD ]
Line_17 $$ if (outputPath != null) -->Line_19 $$ final VirtualFile outputFile = LocalFileSystem.getInstance().findFileByPath(outputPath)[ CD ]
Line_17 $$ if (outputPath != null) -->Line_18 $$ toClean.add(Pair.create(new File(FileUtil.toSystemDependentName(outputPath)), artifact))[ CD ]
Line_7 $$ while (parent != null && !parents.contains(parent)) -->Line_8 $$ parents.add(parent)[ CD ]
Line_12 $$ Map<String, String> outputPathContainingSourceRoots = new HashMap<String, String>()-->Line_28 $$ final String name = ContainerUtil.getFirstItem(outputPathContainingSourceRoots.keySet())[ FD ]
Line_46 $$ for (Pair<File, Artifact> pair : toClean) -->Line_50 $$ NOTIFICATION_GROUP.createNotification("Cannot clean '" + pair.getSecond().getName() + "' artifact", "cannot delete '" + file.getAbsolutePath() + "'", NotificationType.ERROR, null).notify(myProject)[ FD ]
Line_6 $$ VirtualFile parent = root-->Line_9 $$ parent = parent.getParent()[ FD ]
Line_45 $$ List<File> deleted = new ArrayList<File>()-->Line_55 $$ LocalFileSystem.getInstance().refreshIoFiles(deleted, true, true, null)[ FD ]
Line_15 $$ for (Artifact artifact : artifacts) -->Line_18 $$ toClean.add(Pair.create(new File(FileUtil.toSystemDependentName(outputPath)), artifact))[ FD ]
Line_6 $$ VirtualFile parent = root-->Line_8 $$ parents.add(parent)[ FD ]
Line_43 $$ new Task.Backgroundable(myProject, "Cleaning Artifacts", true) -->Line_55 $$ LocalFileSystem.getInstance().refreshIoFiles(deleted, true, true, null)[ CD ]
Line_15 $$ for (Artifact artifact : artifacts) -->Line_16 $$ String outputPath = artifact.getOutputFilePath()[ FD ]
Line_32 $$ StringBuilder info = new StringBuilder()-->Line_34 $$ info.append(" '").append(name).append("' artifact ('").append(outputPathContainingSourceRoots.get(name)).append("')\n")[ FD ]
Line_12 $$ Map<String, String> outputPathContainingSourceRoots = new HashMap<String, String>()-->Line_34 $$ info.append(" '").append(name).append("' artifact ('").append(outputPathContainingSourceRoots.get(name)).append("')\n")[ FD ]
Line_2 $$ public void run() -->Line_43 $$ new Task.Backgroundable(myProject, "Cleaning Artifacts", true) [ CD ]
Line_2 $$ public void run() -->Line_14 $$ Set<Artifact> artifacts = getArtifacts(myArtifactPopupItems, myProject)[ CD ]
Line_39 $$ if (answer != Messages.YES) -->Line_40 $$ return[ CD ]
Line_2 $$ public void run() -->Line_25 $$ if (!outputPathContainingSourceRoots.isEmpty()) [ CD ]
Line_27 $$ if (outputPathContainingSourceRoots.size() == 1 && outputPathContainingSourceRoots.values().size() == 1) -->Line_32 $$ StringBuilder info = new StringBuilder()[ CD ]
Line_6 $$ VirtualFile parent = root-->Line_7 $$ while (parent != null && !parents.contains(parent)) [ FD ]
Line_2 $$ public void run() -->Line_12 $$ Map<String, String> outputPathContainingSourceRoots = new HashMap<String, String>()[ CD ]
Line_3 $$ Set<VirtualFile> parents = new HashSet<VirtualFile>()-->Line_20 $$ if (parents.contains(outputFile)) [ FD ]
Line_12 $$ Map<String, String> outputPathContainingSourceRoots = new HashMap<String, String>()-->Line_29 $$ final String output = outputPathContainingSourceRoots.get(name)[ FD ]
Line_27 $$ if (outputPathContainingSourceRoots.size() == 1 && outputPathContainingSourceRoots.values().size() == 1) -->Line_36 $$ message = "The output directories of the following artifacts contains source roots:\n" + info + "Do you want to continue and clear these directories?"[ CD ]
Line_19 $$ final VirtualFile outputFile = LocalFileSystem.getInstance().findFileByPath(outputPath)-->Line_20 $$ if (parents.contains(outputFile)) [ FD ]
Line_26 $$ final String message-->Line_36 $$ message = "The output directories of the following artifacts contains source roots:\n" + info + "Do you want to continue and clear these directories?"[ FD ]
Line_3 $$ Set<VirtualFile> parents = new HashSet<VirtualFile>()-->Line_7 $$ while (parent != null && !parents.contains(parent)) [ FD ]
Line_12 $$ Map<String, String> outputPathContainingSourceRoots = new HashMap<String, String>()-->Line_25 $$ if (!outputPathContainingSourceRoots.isEmpty()) [ FD ]
Line_2 $$ public void run() -->Line_13 $$ final List<Pair<File, Artifact>> toClean = new ArrayList<Pair<File, Artifact>>()[ CD ]
Line_48 $$ File file = pair.getFirst()-->Line_50 $$ NOTIFICATION_GROUP.createNotification("Cannot clean '" + pair.getSecond().getName() + "' artifact", "cannot delete '" + file.getAbsolutePath() + "'", NotificationType.ERROR, null).notify(myProject)[ FD ]
Line_46 $$ for (Pair<File, Artifact> pair : toClean) -->Line_48 $$ File file = pair.getFirst()[ FD ]
Line_16 $$ String outputPath = artifact.getOutputFilePath()-->Line_19 $$ final VirtualFile outputFile = LocalFileSystem.getInstance().findFileByPath(outputPath)[ FD ]
Line_43 $$ new Task.Backgroundable(myProject, "Cleaning Artifacts", true) -->Line_45 $$ List<File> deleted = new ArrayList<File>()[ CD ]
Line_49 $$ if (!FileUtil.delete(file)) -->Line_52 $$ deleted.add(file)[ CD ]
Line_12 $$ Map<String, String> outputPathContainingSourceRoots = new HashMap<String, String>()-->Line_27 $$ if (outputPathContainingSourceRoots.size() == 1 && outputPathContainingSourceRoots.values().size() == 1) [ FD ]
Line_12 $$ Map<String, String> outputPathContainingSourceRoots = new HashMap<String, String>()-->Line_33 $$ for (String name : outputPathContainingSourceRoots.keySet()) [ FD ]
Line_36 $$ message = "The output directories of the following artifacts contains source roots:\n" + info + "Do you want to continue and clear these directories?"-->Line_38 $$ final int answer = Messages.showYesNoDialog(myProject, message, "Clean Artifacts", null)[ FD ]
Line_27 $$ if (outputPathContainingSourceRoots.size() == 1 && outputPathContainingSourceRoots.values().size() == 1) -->Line_28 $$ final String name = ContainerUtil.getFirstItem(outputPathContainingSourceRoots.keySet())[ CD ]
Line_45 $$ List<File> deleted = new ArrayList<File>()-->Line_52 $$ deleted.add(file)[ FD ]
Line_16 $$ String outputPath = artifact.getOutputFilePath()-->Line_21 $$ outputPathContainingSourceRoots.put(artifact.getName(), outputPath)[ FD ]
Line_26 $$ final String message-->Line_30 $$ message = "The output directory '" + output + "' of '" + name + "' artifact contains source roots of the project. Do you want to continue and clear it?"[ FD ]
Line_13 $$ final List<Pair<File, Artifact>> toClean = new ArrayList<Pair<File, Artifact>>()-->Line_18 $$ toClean.add(Pair.create(new File(FileUtil.toSystemDependentName(outputPath)), artifact))[ FD ]
Line_15 $$ for (Artifact artifact : artifacts) -->Line_21 $$ outputPathContainingSourceRoots.put(artifact.getName(), outputPath)[ FD ]
Line_16 $$ String outputPath = artifact.getOutputFilePath()-->Line_18 $$ toClean.add(Pair.create(new File(FileUtil.toSystemDependentName(outputPath)), artifact))[ FD ]
