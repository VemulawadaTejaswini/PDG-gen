Line_38 $$ if (this.variant == LAST) -->Line_39 $$ Map<Object, Object> resultMap = new HashMap<Object, Object>()[ CD ]
Line_25 $$ lastKey = entry.getKey()-->Line_40 $$ Object lastValue = result.get(lastKey)[ FD ]
Line_77 $$ if (operand instanceof Iterable) -->Line_78 $$ return new ValueRef.TypedValueHolderValueRef(new TypedValue(result), this)[ CD ]
Line_38 $$ if (this.variant == LAST) -->Line_41 $$ resultMap.put(lastKey, lastValue)[ CD ]
Line_46 $$ if (operand instanceof Iterable || ObjectUtils.isArray(operand)) -->Line_71 $$ if ((this.variant == FIRST || this.variant == LAST) && result.isEmpty()) [ CD ]
Line_7 $$ if (operand instanceof Map) -->Line_38 $$ if (this.variant == LAST) [ CD ]
Line_18 $$ if (val instanceof Boolean) -->Line_19 $$ if ((Boolean) val) [ CD ]
Line_20 $$ if (this.variant == FIRST) -->Line_21 $$ result.put(entry.getKey(), entry.getValue())[ CD ]
Line_12 $$ for (Map.Entry<?, ?> entry : mapdata.entrySet()) -->Line_24 $$ result.put(entry.getKey(), entry.getValue())[ FD ]
Line_6 $$ SpelNodeImpl selectionCriteria = this.children[0]-->Line_28 $$ throw new SpelEvaluationException(selectionCriteria.getStartPosition(), SpelMessage.RESULT_OF_SELECTION_CRITERIA_IS_NOT_BOOLEAN)[ FD ]
Line_4 $$ TypedValue op = state.getActiveContextObject()-->Line_5 $$ Object operand = op.getValue()[ FD ]
Line_7 $$ if (operand instanceof Map) -->Line_35 $$ if ((this.variant == FIRST || this.variant == LAST) && result.isEmpty()) [ CD ]
Line_56 $$ if ((Boolean) val) -->Line_60 $$ result.add(element)[ CD ]
Line_50 $$ for (Object element : data) -->Line_60 $$ result.add(element)[ FD ]
Line_6 $$ SpelNodeImpl selectionCriteria = this.children[0]-->Line_54 $$ Object val = selectionCriteria.getValueInternal(state).getValue()[ FD ]
Line_86 $$ if (this.nullSafe) -->Line_87 $$ return ValueRef.NullValueRef.INSTANCE[ CD ]
Line_11 $$ Object lastKey = null-->Line_40 $$ Object lastValue = result.get(lastKey)[ FD ]
Line_49 $$ int index = 0-->Line_53 $$ state.enterScope("index", index)[ FD ]
Line_17 $$ Object val = selectionCriteria.getValueInternal(state).getValue()-->Line_56 $$ if ((Boolean) val) [ FD ]
Line_7 $$ if (operand instanceof Map) -->Line_11 $$ Object lastKey = null[ CD ]
Line_56 $$ if ((Boolean) val) -->Line_57 $$ if (this.variant == FIRST) [ CD ]
Line_46 $$ if (operand instanceof Iterable || ObjectUtils.isArray(operand)) -->Line_74 $$ if (this.variant == LAST) [ CD ]
Line_40 $$ Object lastValue = result.get(lastKey)-->Line_41 $$ resultMap.put(lastKey, lastValue)[ FD ]
Line_46 $$ if (operand instanceof Iterable || ObjectUtils.isArray(operand)) -->Line_77 $$ if (operand instanceof Iterable) [ CD ]
Line_49 $$ int index = 0-->Line_65 $$ index++[ FD ]
Line_4 $$ TypedValue op = state.getActiveContextObject()-->Line_80 $$ Class<?> elementType = ClassUtils.resolvePrimitiveIfNecessary(op.getTypeDescriptor().getElementTypeDescriptor().getType())[ FD ]
Line_5 $$ Object operand = op.getValue()-->Line_91 $$ throw new SpelEvaluationException(getStartPosition(), SpelMessage.INVALID_TYPE_FOR_SELECTION, operand.getClass().getName())[ FD ]
Line_19 $$ if ((Boolean) val) -->Line_25 $$ lastKey = entry.getKey()[ CD ]
Line_39 $$ Map<Object, Object> resultMap = new HashMap<Object, Object>()-->Line_41 $$ resultMap.put(lastKey, lastValue)[ FD ]
Line_46 $$ if (operand instanceof Iterable || ObjectUtils.isArray(operand)) -->Line_47 $$ Iterable<?> data = (operand instanceof Iterable ? (Iterable<?>) operand : Arrays.asList(ObjectUtils.toObjectArray(operand)))[ CD ]
Line_17 $$ Object val = selectionCriteria.getValueInternal(state).getValue()-->Line_18 $$ if (val instanceof Boolean) [ FD ]
Line_19 $$ if ((Boolean) val) -->Line_24 $$ result.put(entry.getKey(), entry.getValue())[ CD ]
Line_80 $$ Class<?> elementType = ClassUtils.resolvePrimitiveIfNecessary(op.getTypeDescriptor().getElementTypeDescriptor().getType())-->Line_81 $$ Object resultArray = Array.newInstance(elementType, result.size())[ FD ]
Line_55 $$ if (val instanceof Boolean) -->Line_56 $$ if ((Boolean) val) [ CD ]
Line_11 $$ Object lastKey = null-->Line_41 $$ resultMap.put(lastKey, lastValue)[ FD ]
Line_57 $$ if (this.variant == FIRST) -->Line_58 $$ return new ValueRef.TypedValueHolderValueRef(new TypedValue(element), this)[ CD ]
Line_25 $$ lastKey = entry.getKey()-->Line_41 $$ resultMap.put(lastKey, lastValue)[ FD ]
Line_20 $$ if (this.variant == FIRST) -->Line_22 $$ return new ValueRef.TypedValueHolderValueRef(new TypedValue(result), this)[ CD ]
Line_35 $$ if ((this.variant == FIRST || this.variant == LAST) && result.isEmpty()) -->Line_36 $$ return new ValueRef.TypedValueHolderValueRef(new TypedValue(null), this)[ CD ]
Line_6 $$ SpelNodeImpl selectionCriteria = this.children[0]-->Line_63 $$ throw new SpelEvaluationException(selectionCriteria.getStartPosition(), SpelMessage.RESULT_OF_SELECTION_CRITERIA_IS_NOT_BOOLEAN)[ FD ]
Line_38 $$ if (this.variant == LAST) -->Line_40 $$ Object lastValue = result.get(lastKey)[ CD ]
Line_5 $$ Object operand = op.getValue()-->Line_77 $$ if (operand instanceof Iterable) [ FD ]
Line_81 $$ Object resultArray = Array.newInstance(elementType, result.size())-->Line_82 $$ System.arraycopy(result.toArray(), 0, resultArray, 0, result.size())[ FD ]
Line_46 $$ if (operand instanceof Iterable || ObjectUtils.isArray(operand)) -->Line_83 $$ return new ValueRef.TypedValueHolderValueRef(new TypedValue(resultArray), this)[ CD ]
Line_17 $$ Object val = selectionCriteria.getValueInternal(state).getValue()-->Line_19 $$ if ((Boolean) val) [ FD ]
Line_38 $$ if (this.variant == LAST) -->Line_42 $$ return new ValueRef.TypedValueHolderValueRef(new TypedValue(resultMap), this)[ CD ]
Line_5 $$ Object operand = op.getValue()-->Line_47 $$ Iterable<?> data = (operand instanceof Iterable ? (Iterable<?>) operand : Arrays.asList(ObjectUtils.toObjectArray(operand)))[ FD ]
Line_11 $$ Object lastKey = null-->Line_25 $$ lastKey = entry.getKey()[ FD ]
Line_12 $$ for (Map.Entry<?, ?> entry : mapdata.entrySet()) -->Line_25 $$ lastKey = entry.getKey()[ FD ]
Line_5 $$ Object operand = op.getValue()-->Line_46 $$ if (operand instanceof Iterable || ObjectUtils.isArray(operand)) [ FD ]
Line_71 $$ if ((this.variant == FIRST || this.variant == LAST) && result.isEmpty()) -->Line_72 $$ return ValueRef.NullValueRef.INSTANCE[ CD ]
Line_46 $$ if (operand instanceof Iterable || ObjectUtils.isArray(operand)) -->Line_81 $$ Object resultArray = Array.newInstance(elementType, result.size())[ CD ]
Line_85 $$ if (operand == null) -->Line_86 $$ if (this.nullSafe) [ CD ]
Line_5 $$ Object operand = op.getValue()-->Line_7 $$ if (operand instanceof Map) [ FD ]
Line_7 $$ if (operand instanceof Map) -->Line_44 $$ return new ValueRef.TypedValueHolderValueRef(new TypedValue(result), this)[ CD ]
Line_7 $$ if (operand instanceof Map) -->Line_8 $$ Map<?, ?> mapdata = (Map<?, ?>) operand[ CD ]
Line_12 $$ for (Map.Entry<?, ?> entry : mapdata.entrySet()) -->Line_21 $$ result.put(entry.getKey(), entry.getValue())[ FD ]
Line_14 $$ TypedValue kvPair = new TypedValue(entry)-->Line_15 $$ state.pushActiveContextObject(kvPair)[ FD ]
Line_46 $$ if (operand instanceof Iterable || ObjectUtils.isArray(operand)) -->Line_80 $$ Class<?> elementType = ClassUtils.resolvePrimitiveIfNecessary(op.getTypeDescriptor().getElementTypeDescriptor().getType())[ CD ]
Line_17 $$ Object val = selectionCriteria.getValueInternal(state).getValue()-->Line_55 $$ if (val instanceof Boolean) [ FD ]
Line_74 $$ if (this.variant == LAST) -->Line_75 $$ return new ValueRef.TypedValueHolderValueRef(new TypedValue(result.get(result.size() - 1)), this)[ CD ]
Line_6 $$ SpelNodeImpl selectionCriteria = this.children[0]-->Line_17 $$ Object val = selectionCriteria.getValueInternal(state).getValue()[ FD ]
Line_19 $$ if ((Boolean) val) -->Line_20 $$ if (this.variant == FIRST) [ CD ]
Line_46 $$ if (operand instanceof Iterable || ObjectUtils.isArray(operand)) -->Line_49 $$ int index = 0[ CD ]
Line_8 $$ Map<?, ?> mapdata = (Map<?, ?>) operand-->Line_12 $$ for (Map.Entry<?, ?> entry : mapdata.entrySet()) [ FD ]
Line_46 $$ if (operand instanceof Iterable || ObjectUtils.isArray(operand)) -->Line_82 $$ System.arraycopy(result.toArray(), 0, resultArray, 0, result.size())[ CD ]
Line_5 $$ Object operand = op.getValue()-->Line_85 $$ if (operand == null) [ FD ]
