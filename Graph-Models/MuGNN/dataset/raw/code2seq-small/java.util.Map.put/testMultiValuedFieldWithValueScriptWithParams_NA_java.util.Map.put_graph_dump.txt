Line_5 $$ SearchResponse searchResponse = client().prepareSearch("idx").setQuery(matchAllQuery()).addAggregation(max("max").field("values").script(new Script("_value + inc", ScriptType.INLINE, null, params))).execute().actionGet()-->Line_6 $$ assertHitCount(searchResponse, 10)[ FD ]
Line_2 $$ public void testMultiValuedFieldWithValueScriptWithParams() throws Exception -->Line_4 $$ params.put("inc", 1)[ CD ]
Line_2 $$ public void testMultiValuedFieldWithValueScriptWithParams() throws Exception -->Line_10 $$ assertThat(max.getValue(), equalTo(13.0))[ CD ]
Line_2 $$ public void testMultiValuedFieldWithValueScriptWithParams() throws Exception -->Line_8 $$ assertThat(max, notNullValue())[ CD ]
Line_2 $$ public void testMultiValuedFieldWithValueScriptWithParams() throws Exception -->Line_9 $$ assertThat(max.getName(), equalTo("max"))[ CD ]
Line_7 $$ Max max = searchResponse.getAggregations().get("max")-->Line_10 $$ assertThat(max.getValue(), equalTo(13.0))[ FD ]
Line_3 $$ Map<String, Object> params = new HashMap()-->Line_4 $$ params.put("inc", 1)[ FD ]
Line_2 $$ public void testMultiValuedFieldWithValueScriptWithParams() throws Exception -->Line_6 $$ assertHitCount(searchResponse, 10)[ CD ]
Line_5 $$ SearchResponse searchResponse = client().prepareSearch("idx").setQuery(matchAllQuery()).addAggregation(max("max").field("values").script(new Script("_value + inc", ScriptType.INLINE, null, params))).execute().actionGet()-->Line_7 $$ Max max = searchResponse.getAggregations().get("max")[ FD ]
Line_2 $$ public void testMultiValuedFieldWithValueScriptWithParams() throws Exception -->Line_7 $$ Max max = searchResponse.getAggregations().get("max")[ CD ]
Line_2 $$ public void testMultiValuedFieldWithValueScriptWithParams() throws Exception -->Line_5 $$ SearchResponse searchResponse = client().prepareSearch("idx").setQuery(matchAllQuery()).addAggregation(max("max").field("values").script(new Script("_value + inc", ScriptType.INLINE, null, params))).execute().actionGet()[ CD ]
Line_7 $$ Max max = searchResponse.getAggregations().get("max")-->Line_8 $$ assertThat(max, notNullValue())[ FD ]
Line_2 $$ public void testMultiValuedFieldWithValueScriptWithParams() throws Exception -->Line_3 $$ Map<String, Object> params = new HashMap()[ CD ]
Line_7 $$ Max max = searchResponse.getAggregations().get("max")-->Line_9 $$ assertThat(max.getName(), equalTo("max"))[ FD ]
