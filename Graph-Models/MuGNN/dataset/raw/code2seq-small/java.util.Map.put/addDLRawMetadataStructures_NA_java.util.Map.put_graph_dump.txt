Line_15 $$ if (ddmStructure != null) -->Line_16 $$ ddmStructure.setDDMForm(ddmForm)[ CD ]
Line_8 $$ for (Element structureElement : structureElements) -->Line_10 $$ String description = structureElement.elementText("description")[ FD ]
Line_2 $$ protected void addDLRawMetadataStructures(long userId, long groupId, ServiceContext serviceContext) throws Exception -->Line_13 $$ DDMStructure ddmStructure = _ddmStructureLocalService.fetchStructure(groupId, PortalUtil.getClassNameId(RawMetadataProcessor.class), name)[ FD ]
Line_15 $$ if (ddmStructure != null) -->Line_19 $$ Map<Locale, String> nameMap = new HashMap()[ CD ]
Line_5 $$ Document document = UnsecureSAXReaderUtil.read(new StringReader(xsd))-->Line_6 $$ Element rootElement = document.getRootElement()[ FD ]
Line_15 $$ if (ddmStructure != null) -->Line_17 $$ _ddmStructureLocalService.updateDDMStructure(ddmStructure)[ CD ]
Line_3 $$ Locale locale = PortalUtil.getSiteDefaultLocale(groupId)-->Line_22 $$ descriptionMap.put(locale, description)[ FD ]
Line_21 $$ Map<Locale, String> descriptionMap = new HashMap()-->Line_24 $$ _ddmStructureLocalService.addStructure(userId, groupId, DDMStructureConstants.DEFAULT_PARENT_STRUCTURE_ID, PortalUtil.getClassNameId(RawMetadataProcessor.class), name, nameMap, descriptionMap, ddmForm, ddmFormLayout, StorageType.JSON.toString(), DDMStructureConstants.TYPE_DEFAULT, serviceContext)[ FD ]
Line_14 $$ DDMForm ddmForm = _ddmFormXSDDeserializer.deserialize(structureElementRootXML)-->Line_16 $$ ddmStructure.setDDMForm(ddmForm)[ FD ]
Line_15 $$ if (ddmStructure != null) -->Line_24 $$ _ddmStructureLocalService.addStructure(userId, groupId, DDMStructureConstants.DEFAULT_PARENT_STRUCTURE_ID, PortalUtil.getClassNameId(RawMetadataProcessor.class), name, nameMap, descriptionMap, ddmForm, ddmFormLayout, StorageType.JSON.toString(), DDMStructureConstants.TYPE_DEFAULT, serviceContext)[ CD ]
Line_12 $$ String structureElementRootXML = structureElementRootElement.asXML()-->Line_14 $$ DDMForm ddmForm = _ddmFormXSDDeserializer.deserialize(structureElementRootXML)[ FD ]
Line_2 $$ protected void addDLRawMetadataStructures(long userId, long groupId, ServiceContext serviceContext) throws Exception -->Line_3 $$ Locale locale = PortalUtil.getSiteDefaultLocale(groupId)[ FD ]
Line_2 $$ protected void addDLRawMetadataStructures(long userId, long groupId, ServiceContext serviceContext) throws Exception -->Line_3 $$ Locale locale = PortalUtil.getSiteDefaultLocale(groupId)[ CD ]
Line_9 $$ String name = structureElement.elementText("name")-->Line_24 $$ _ddmStructureLocalService.addStructure(userId, groupId, DDMStructureConstants.DEFAULT_PARENT_STRUCTURE_ID, PortalUtil.getClassNameId(RawMetadataProcessor.class), name, nameMap, descriptionMap, ddmForm, ddmFormLayout, StorageType.JSON.toString(), DDMStructureConstants.TYPE_DEFAULT, serviceContext)[ FD ]
Line_21 $$ Map<Locale, String> descriptionMap = new HashMap()-->Line_22 $$ descriptionMap.put(locale, description)[ FD ]
Line_3 $$ Locale locale = PortalUtil.getSiteDefaultLocale(groupId)-->Line_20 $$ nameMap.put(locale, name)[ FD ]
Line_11 $$ Element structureElementRootElement = structureElement.element("root")-->Line_12 $$ String structureElementRootXML = structureElementRootElement.asXML()[ FD ]
Line_15 $$ if (ddmStructure != null) -->Line_21 $$ Map<Locale, String> descriptionMap = new HashMap()[ CD ]
Line_13 $$ DDMStructure ddmStructure = _ddmStructureLocalService.fetchStructure(groupId, PortalUtil.getClassNameId(RawMetadataProcessor.class), name)-->Line_15 $$ if (ddmStructure != null) [ FD ]
Line_14 $$ DDMForm ddmForm = _ddmFormXSDDeserializer.deserialize(structureElementRootXML)-->Line_24 $$ _ddmStructureLocalService.addStructure(userId, groupId, DDMStructureConstants.DEFAULT_PARENT_STRUCTURE_ID, PortalUtil.getClassNameId(RawMetadataProcessor.class), name, nameMap, descriptionMap, ddmForm, ddmFormLayout, StorageType.JSON.toString(), DDMStructureConstants.TYPE_DEFAULT, serviceContext)[ FD ]
Line_2 $$ protected void addDLRawMetadataStructures(long userId, long groupId, ServiceContext serviceContext) throws Exception -->Line_7 $$ List<Element> structureElements = rootElement.elements("structure")[ CD ]
Line_8 $$ for (Element structureElement : structureElements) -->Line_11 $$ Element structureElementRootElement = structureElement.element("root")[ FD ]
Line_9 $$ String name = structureElement.elementText("name")-->Line_20 $$ nameMap.put(locale, name)[ FD ]
Line_6 $$ Element rootElement = document.getRootElement()-->Line_7 $$ List<Element> structureElements = rootElement.elements("structure")[ FD ]
Line_8 $$ for (Element structureElement : structureElements) -->Line_9 $$ String name = structureElement.elementText("name")[ FD ]
Line_10 $$ String description = structureElement.elementText("description")-->Line_22 $$ descriptionMap.put(locale, description)[ FD ]
Line_13 $$ DDMStructure ddmStructure = _ddmStructureLocalService.fetchStructure(groupId, PortalUtil.getClassNameId(RawMetadataProcessor.class), name)-->Line_16 $$ ddmStructure.setDDMForm(ddmForm)[ FD ]
Line_3 $$ Locale locale = PortalUtil.getSiteDefaultLocale(groupId)-->Line_4 $$ String xsd = buildDLRawMetadataXML(RawMetadataProcessorUtil.getFields(), locale)[ FD ]
Line_15 $$ if (ddmStructure != null) -->Line_22 $$ descriptionMap.put(locale, description)[ CD ]
Line_9 $$ String name = structureElement.elementText("name")-->Line_13 $$ DDMStructure ddmStructure = _ddmStructureLocalService.fetchStructure(groupId, PortalUtil.getClassNameId(RawMetadataProcessor.class), name)[ FD ]
Line_14 $$ DDMForm ddmForm = _ddmFormXSDDeserializer.deserialize(structureElementRootXML)-->Line_23 $$ DDMFormLayout ddmFormLayout = _ddm.getDefaultDDMFormLayout(ddmForm)[ FD ]
Line_13 $$ DDMStructure ddmStructure = _ddmStructureLocalService.fetchStructure(groupId, PortalUtil.getClassNameId(RawMetadataProcessor.class), name)-->Line_17 $$ _ddmStructureLocalService.updateDDMStructure(ddmStructure)[ FD ]
Line_19 $$ Map<Locale, String> nameMap = new HashMap()-->Line_24 $$ _ddmStructureLocalService.addStructure(userId, groupId, DDMStructureConstants.DEFAULT_PARENT_STRUCTURE_ID, PortalUtil.getClassNameId(RawMetadataProcessor.class), name, nameMap, descriptionMap, ddmForm, ddmFormLayout, StorageType.JSON.toString(), DDMStructureConstants.TYPE_DEFAULT, serviceContext)[ FD ]
Line_23 $$ DDMFormLayout ddmFormLayout = _ddm.getDefaultDDMFormLayout(ddmForm)-->Line_24 $$ _ddmStructureLocalService.addStructure(userId, groupId, DDMStructureConstants.DEFAULT_PARENT_STRUCTURE_ID, PortalUtil.getClassNameId(RawMetadataProcessor.class), name, nameMap, descriptionMap, ddmForm, ddmFormLayout, StorageType.JSON.toString(), DDMStructureConstants.TYPE_DEFAULT, serviceContext)[ FD ]
Line_19 $$ Map<Locale, String> nameMap = new HashMap()-->Line_20 $$ nameMap.put(locale, name)[ FD ]
Line_2 $$ protected void addDLRawMetadataStructures(long userId, long groupId, ServiceContext serviceContext) throws Exception -->Line_6 $$ Element rootElement = document.getRootElement()[ CD ]
Line_15 $$ if (ddmStructure != null) -->Line_20 $$ nameMap.put(locale, name)[ CD ]
Line_15 $$ if (ddmStructure != null) -->Line_23 $$ DDMFormLayout ddmFormLayout = _ddm.getDefaultDDMFormLayout(ddmForm)[ CD ]
Line_2 $$ protected void addDLRawMetadataStructures(long userId, long groupId, ServiceContext serviceContext) throws Exception -->Line_24 $$ _ddmStructureLocalService.addStructure(userId, groupId, DDMStructureConstants.DEFAULT_PARENT_STRUCTURE_ID, PortalUtil.getClassNameId(RawMetadataProcessor.class), name, nameMap, descriptionMap, ddmForm, ddmFormLayout, StorageType.JSON.toString(), DDMStructureConstants.TYPE_DEFAULT, serviceContext)[ FD ]
Line_2 $$ protected void addDLRawMetadataStructures(long userId, long groupId, ServiceContext serviceContext) throws Exception -->Line_5 $$ Document document = UnsecureSAXReaderUtil.read(new StringReader(xsd))[ CD ]
Line_2 $$ protected void addDLRawMetadataStructures(long userId, long groupId, ServiceContext serviceContext) throws Exception -->Line_4 $$ String xsd = buildDLRawMetadataXML(RawMetadataProcessorUtil.getFields(), locale)[ CD ]
