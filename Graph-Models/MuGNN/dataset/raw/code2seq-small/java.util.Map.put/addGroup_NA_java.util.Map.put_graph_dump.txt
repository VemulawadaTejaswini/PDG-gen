Line_12 $$ long groupId = 0-->Line_25 $$ classPK = groupId[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_66 $$ validateFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyURL)[ FD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_82 $$ group.setType(type)[ FD ]
Line_36 $$ parentGroupId = layout.getGroupId()-->Line_65 $$ validateInheritContent(parentGroupId, inheritContent)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_86 $$ group.setInheritContent(inheritContent)[ FD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_85 $$ group.setFriendlyURL(friendlyURL)[ FD ]
Line_40 $$ groupKey = groupKey.concat("-staging")-->Line_63 $$ validateGroupKey(groupId, user.getCompanyId(), groupKey, site)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_88 $$ group.setActive(active)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_25 $$ classPK = groupId[ FD ]
Line_34 $$ if (className.equals(Layout.class.getName())) -->Line_35 $$ Layout layout = layoutLocalService.getLayout(classPK)[ CD ]
Line_6 $$ String groupKey = StringPool.BLANK-->Line_27 $$ groupKey = getOrgGroupName(groupKey)[ FD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_73 $$ group.setCreatorUserId(userId)[ FD ]
Line_6 $$ String groupKey = StringPool.BLANK-->Line_9 $$ groupKey = nameMap.get(LocaleUtil.getDefault())[ FD ]
Line_23 $$ className = Group.class.getName()-->Line_31 $$ if (className.equals(Organization.class.getName()) && staging) [ FD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_78 $$ group.setTreePath(group.buildTreePath())[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_54 $$ if (!site && (liveGroupId == 0) && !(groupKey.equals(GroupConstants.CONTROL_PANEL) || groupKey.equals(GroupConstants.FORMS))) [ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_94 $$ layoutSetLocalService.addLayoutSet(groupId, false)[ CD ]
Line_9 $$ groupKey = nameMap.get(LocaleUtil.getDefault())-->Line_79 $$ group.setGroupKey(groupKey)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_51 $$ membershipRestriction = GroupConstants.DEFAULT_MEMBERSHIP_RESTRICTION[ FD ]
Line_22 $$ if ((classNameId <= 0) || className.equals(Group.class.getName()) || (className.equals(Company.class.getName()) && staging)) -->Line_23 $$ className = Group.class.getName()[ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_26 $$ if (className.equals(Organization.class.getName())) [ FD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_72 $$ group.setCompanyId(user.getCompanyId())[ FD ]
Line_14 $$ groupId = counterLocalService.increment()-->Line_15 $$ User screenNameUser = userPersistence.fetchByC_SN(user.getCompanyId(), String.valueOf(groupId))[ FD ]
Line_42 $$ String name = nameMap.get(locale)-->Line_46 $$ nameMap.put(locale, name.concat(ORGANIZATION_STAGING_SUFFIX))[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_87 $$ group.setSite(site)[ CD ]
Line_57 $$ if (!className.equals(Company.class.getName()) && !className.equals(Organization.class.getName()) && className.startsWith("com.liferay.portal.model.")) -->Line_58 $$ if (site) [ CD ]
Line_29 $$ groupKey = String.valueOf(classPK)-->Line_63 $$ validateGroupKey(groupId, user.getCompanyId(), groupKey, site)[ FD ]
Line_13 $$ while (true) -->Line_14 $$ groupId = counterLocalService.increment()[ CD ]
Line_89 $$ if ((serviceContext != null) && (classNameId == groupClassNameId) && !user.isDefaultUser()) -->Line_90 $$ group.setExpandoBridgeAttributes(serviceContext)[ CD ]
Line_6 $$ String groupKey = StringPool.BLANK-->Line_54 $$ if (!site && (liveGroupId == 0) && !(groupKey.equals(GroupConstants.CONTROL_PANEL) || groupKey.equals(GroupConstants.FORMS))) [ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_3 $$ User user = userPersistence.findByPrimaryKey(userId)[ CD ]
Line_12 $$ long groupId = 0-->Line_15 $$ User screenNameUser = userPersistence.fetchByC_SN(user.getCompanyId(), String.valueOf(groupId))[ FD ]
Line_48 $$ friendlyURL = getFriendlyURL(friendlyURL.concat("-staging"))-->Line_66 $$ validateFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyURL)[ FD ]
Line_12 $$ long groupId = 0-->Line_68 $$ Group group = groupPersistence.create(groupId)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_65 $$ validateInheritContent(parentGroupId, inheritContent)[ CD ]
Line_9 $$ groupKey = nameMap.get(LocaleUtil.getDefault())-->Line_40 $$ groupKey = groupKey.concat("-staging")[ FD ]
Line_35 $$ Layout layout = layoutLocalService.getLayout(classPK)-->Line_36 $$ parentGroupId = layout.getGroupId()[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_21 $$ long groupClassNameId = classNameLocalService.getClassNameId(Group.class)[ CD ]
Line_20 $$ boolean staging = isStaging(serviceContext)-->Line_31 $$ if (className.equals(Organization.class.getName()) && staging) [ FD ]
Line_96 $$ if ((classNameId == groupClassNameId) && !user.isDefaultUser()) -->Line_100 $$ if (serviceContext != null) [ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_73 $$ group.setCreatorUserId(userId)[ CD ]
Line_29 $$ groupKey = String.valueOf(classPK)-->Line_40 $$ groupKey = groupKey.concat("-staging")[ FD ]
Line_6 $$ String groupKey = StringPool.BLANK-->Line_40 $$ groupKey = groupKey.concat("-staging")[ FD ]
Line_62 $$ if ((classNameId <= 0) || className.equals(Group.class.getName())) -->Line_63 $$ validateGroupKey(groupId, user.getCompanyId(), groupKey, site)[ CD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_90 $$ group.setExpandoBridgeAttributes(serviceContext)[ FD ]
Line_14 $$ groupId = counterLocalService.increment()-->Line_25 $$ classPK = groupId[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_20 $$ boolean staging = isStaging(serviceContext)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_81 $$ group.setDescriptionMap(descriptionMap)[ FD ]
Line_26 $$ if (className.equals(Organization.class.getName())) -->Line_27 $$ groupKey = getOrgGroupName(groupKey)[ CD ]
Line_22 $$ if ((classNameId <= 0) || className.equals(Group.class.getName()) || (className.equals(Company.class.getName()) && staging)) -->Line_24 $$ classNameId = groupClassNameId[ CD ]
Line_25 $$ classPK = groupId-->Line_32 $$ classPK = liveGroupId[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_65 $$ validateInheritContent(parentGroupId, inheritContent)[ FD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_77 $$ group.setLiveGroupId(liveGroupId)[ FD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_104 $$ addPortletDefaultData(group)[ FD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_99 $$ userLocalService.addGroupUsers(group.getGroupId(), new long[] [ FD ]
Line_4 $$ className = GetterUtil.getString(className)-->Line_53 $$ if (className.equals(Group.class.getName())) [ FD ]
Line_6 $$ String groupKey = StringPool.BLANK-->Line_79 $$ group.setGroupKey(groupKey)[ FD ]
Line_3 $$ User user = userPersistence.findByPrimaryKey(userId)-->Line_38 $$ friendlyURL = getFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyName, friendlyURL)[ FD ]
Line_7 $$ String friendlyName = StringPool.BLANK-->Line_10 $$ friendlyName = nameMap.get(LocaleUtil.getDefault())[ FD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_87 $$ group.setSite(site)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_62 $$ if ((classNameId <= 0) || className.equals(Group.class.getName())) [ FD ]
Line_27 $$ groupKey = getOrgGroupName(groupKey)-->Line_28 $$ if (!GroupConstants.USER_PERSONAL_SITE.equals(groupKey)) [ FD ]
Line_40 $$ groupKey = groupKey.concat("-staging")-->Line_54 $$ if (!site && (liveGroupId == 0) && !(groupKey.equals(GroupConstants.CONTROL_PANEL) || groupKey.equals(GroupConstants.FORMS))) [ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_73 $$ group.setCreatorUserId(userId)[ FD ]
Line_10 $$ friendlyName = nameMap.get(LocaleUtil.getDefault())-->Line_38 $$ friendlyURL = getFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyName, friendlyURL)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_12 $$ long groupId = 0[ CD ]
Line_4 $$ className = GetterUtil.getString(className)-->Line_31 $$ if (className.equals(Organization.class.getName()) && staging) [ FD ]
Line_14 $$ groupId = counterLocalService.increment()-->Line_67 $$ validateParentGroup(groupId, parentGroupId)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_104 $$ addPortletDefaultData(group)[ CD ]
Line_14 $$ groupId = counterLocalService.increment()-->Line_38 $$ friendlyURL = getFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyName, friendlyURL)[ FD ]
Line_23 $$ className = Group.class.getName()-->Line_34 $$ if (className.equals(Layout.class.getName())) [ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_76 $$ group.setParentGroupId(parentGroupId)[ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_87 $$ group.setSite(site)[ FD ]
Line_25 $$ classPK = groupId-->Line_38 $$ friendlyURL = getFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyName, friendlyURL)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_90 $$ group.setExpandoBridgeAttributes(serviceContext)[ FD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_92 $$ groupPersistence.update(group)[ FD ]
Line_12 $$ long groupId = 0-->Line_93 $$ layoutSetLocalService.addLayoutSet(groupId, true)[ FD ]
Line_41 $$ for (Locale locale : nameMap.keySet()) -->Line_46 $$ nameMap.put(locale, name.concat(ORGANIZATION_STAGING_SUFFIX))[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_68 $$ Group group = groupPersistence.create(groupId)[ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_83 $$ group.setManualMembership(manualMembership)[ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_93 $$ layoutSetLocalService.addLayoutSet(groupId, true)[ CD ]
Line_28 $$ if (!GroupConstants.USER_PERSONAL_SITE.equals(groupKey)) -->Line_29 $$ groupKey = String.valueOf(classPK)[ CD ]
Line_24 $$ classNameId = groupClassNameId-->Line_38 $$ friendlyURL = getFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyName, friendlyURL)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_53 $$ if (className.equals(Group.class.getName())) [ CD ]
Line_27 $$ groupKey = getOrgGroupName(groupKey)-->Line_29 $$ groupKey = String.valueOf(classPK)[ FD ]
Line_32 $$ classPK = liveGroupId-->Line_38 $$ friendlyURL = getFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyName, friendlyURL)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_85 $$ group.setFriendlyURL(friendlyURL)[ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_69 $$ if (serviceContext != null) [ FD ]
Line_3 $$ User user = userPersistence.findByPrimaryKey(userId)-->Line_63 $$ validateGroupKey(groupId, user.getCompanyId(), groupKey, site)[ FD ]
Line_96 $$ if ((classNameId == groupClassNameId) && !user.isDefaultUser()) -->Line_98 $$ userGroupRoleLocalService.addUserGroupRoles(userId, groupId, new long[] [ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_4 $$ className = GetterUtil.getString(className)[ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_29 $$ groupKey = String.valueOf(classPK)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_82 $$ group.setType(type)[ FD ]
Line_12 $$ long groupId = 0-->Line_98 $$ userGroupRoleLocalService.addUserGroupRoles(userId, groupId, new long[] [ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_13 $$ while (true) [ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_31 $$ if (className.equals(Organization.class.getName()) && staging) [ FD ]
Line_8 $$ if (nameMap != null) -->Line_10 $$ friendlyName = nameMap.get(LocaleUtil.getDefault())[ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_57 $$ if (!className.equals(Company.class.getName()) && !className.equals(Organization.class.getName()) && className.startsWith("com.liferay.portal.model.")) [ FD ]
Line_21 $$ long groupClassNameId = classNameLocalService.getClassNameId(Group.class)-->Line_24 $$ classNameId = groupClassNameId[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_105 $$ return group[ CD ]
Line_25 $$ classPK = groupId-->Line_66 $$ validateFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyURL)[ FD ]
Line_32 $$ classPK = liveGroupId-->Line_66 $$ validateFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyURL)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_23 $$ className = Group.class.getName()[ FD ]
Line_12 $$ long groupId = 0-->Line_14 $$ groupId = counterLocalService.increment()[ FD ]
Line_3 $$ User user = userPersistence.findByPrimaryKey(userId)-->Line_96 $$ if ((classNameId == groupClassNameId) && !user.isDefaultUser()) [ FD ]
Line_69 $$ if (serviceContext != null) -->Line_70 $$ group.setUuid(serviceContext.getUuid())[ CD ]
Line_24 $$ classNameId = groupClassNameId-->Line_66 $$ validateFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyURL)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_20 $$ boolean staging = isStaging(serviceContext)[ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_41 $$ for (Locale locale : nameMap.keySet()) [ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_82 $$ group.setType(type)[ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_75 $$ group.setClassPK(classPK)[ CD ]
Line_9 $$ groupKey = nameMap.get(LocaleUtil.getDefault())-->Line_54 $$ if (!site && (liveGroupId == 0) && !(groupKey.equals(GroupConstants.CONTROL_PANEL) || groupKey.equals(GroupConstants.FORMS))) [ FD ]
Line_4 $$ className = GetterUtil.getString(className)-->Line_34 $$ if (className.equals(Layout.class.getName())) [ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_100 $$ if (serviceContext != null) [ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_67 $$ validateParentGroup(groupId, parentGroupId)[ CD ]
Line_29 $$ groupKey = String.valueOf(classPK)-->Line_79 $$ group.setGroupKey(groupKey)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_72 $$ group.setCompanyId(user.getCompanyId())[ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_83 $$ group.setManualMembership(manualMembership)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_92 $$ groupPersistence.update(group)[ CD ]
Line_23 $$ className = Group.class.getName()-->Line_57 $$ if (!className.equals(Company.class.getName()) && !className.equals(Organization.class.getName()) && className.startsWith("com.liferay.portal.model.")) [ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_46 $$ nameMap.put(locale, name.concat(ORGANIZATION_STAGING_SUFFIX))[ FD ]
Line_38 $$ friendlyURL = getFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyName, friendlyURL)-->Line_48 $$ friendlyURL = getFriendlyURL(friendlyURL.concat("-staging"))[ FD ]
Line_12 $$ long groupId = 0-->Line_67 $$ validateParentGroup(groupId, parentGroupId)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_96 $$ if ((classNameId == groupClassNameId) && !user.isDefaultUser()) [ CD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_86 $$ group.setInheritContent(inheritContent)[ FD ]
Line_39 $$ if (staging) -->Line_40 $$ groupKey = groupKey.concat("-staging")[ CD ]
Line_27 $$ groupKey = getOrgGroupName(groupKey)-->Line_79 $$ group.setGroupKey(groupKey)[ FD ]
Line_4 $$ className = GetterUtil.getString(className)-->Line_23 $$ className = Group.class.getName()[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_32 $$ classPK = liveGroupId[ FD ]
Line_41 $$ for (Locale locale : nameMap.keySet()) -->Line_42 $$ String name = nameMap.get(locale)[ FD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_83 $$ group.setManualMembership(manualMembership)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_50 $$ if (parentGroupId == GroupConstants.DEFAULT_PARENT_GROUP_ID) [ CD ]
Line_3 $$ User user = userPersistence.findByPrimaryKey(userId)-->Line_15 $$ User screenNameUser = userPersistence.fetchByC_SN(user.getCompanyId(), String.valueOf(groupId))[ FD ]
Line_5 $$ long classNameId = classNameLocalService.getClassNameId(className)-->Line_66 $$ validateFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyURL)[ FD ]
Line_14 $$ groupId = counterLocalService.increment()-->Line_68 $$ Group group = groupPersistence.create(groupId)[ FD ]
Line_9 $$ groupKey = nameMap.get(LocaleUtil.getDefault())-->Line_63 $$ validateGroupKey(groupId, user.getCompanyId(), groupKey, site)[ FD ]
Line_15 $$ User screenNameUser = userPersistence.fetchByC_SN(user.getCompanyId(), String.valueOf(groupId))-->Line_16 $$ if (screenNameUser == null) [ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_86 $$ group.setInheritContent(inheritContent)[ CD ]
Line_6 $$ String groupKey = StringPool.BLANK-->Line_28 $$ if (!GroupConstants.USER_PERSONAL_SITE.equals(groupKey)) [ FD ]
Line_14 $$ groupId = counterLocalService.increment()-->Line_66 $$ validateFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyURL)[ FD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_70 $$ group.setUuid(serviceContext.getUuid())[ FD ]
Line_14 $$ groupId = counterLocalService.increment()-->Line_93 $$ layoutSetLocalService.addLayoutSet(groupId, true)[ FD ]
Line_100 $$ if (serviceContext != null) -->Line_101 $$ updateAsset(userId, group, serviceContext.getAssetCategoryIds(), serviceContext.getAssetTagNames())[ CD ]
Line_12 $$ long groupId = 0-->Line_38 $$ friendlyURL = getFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyName, friendlyURL)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_50 $$ if (parentGroupId == GroupConstants.DEFAULT_PARENT_GROUP_ID) [ FD ]
Line_14 $$ groupId = counterLocalService.increment()-->Line_63 $$ validateGroupKey(groupId, user.getCompanyId(), groupKey, site)[ FD ]
Line_6 $$ String groupKey = StringPool.BLANK-->Line_63 $$ validateGroupKey(groupId, user.getCompanyId(), groupKey, site)[ FD ]
Line_36 $$ parentGroupId = layout.getGroupId()-->Line_67 $$ validateParentGroup(groupId, parentGroupId)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_80 $$ group.setNameMap(nameMap)[ CD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_101 $$ updateAsset(userId, group, serviceContext.getAssetCategoryIds(), serviceContext.getAssetTagNames())[ FD ]
Line_25 $$ classPK = groupId-->Line_35 $$ Layout layout = layoutLocalService.getLayout(classPK)[ FD ]
Line_48 $$ friendlyURL = getFriendlyURL(friendlyURL.concat("-staging"))-->Line_85 $$ group.setFriendlyURL(friendlyURL)[ FD ]
Line_23 $$ className = Group.class.getName()-->Line_26 $$ if (className.equals(Organization.class.getName())) [ FD ]
Line_26 $$ if (className.equals(Organization.class.getName())) -->Line_28 $$ if (!GroupConstants.USER_PERSONAL_SITE.equals(groupKey)) [ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_6 $$ String groupKey = StringPool.BLANK[ CD ]
Line_27 $$ groupKey = getOrgGroupName(groupKey)-->Line_54 $$ if (!site && (liveGroupId == 0) && !(groupKey.equals(GroupConstants.CONTROL_PANEL) || groupKey.equals(GroupConstants.FORMS))) [ FD ]
Line_12 $$ long groupId = 0-->Line_63 $$ validateGroupKey(groupId, user.getCompanyId(), groupKey, site)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_76 $$ group.setParentGroupId(parentGroupId)[ FD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_80 $$ group.setNameMap(nameMap)[ FD ]
Line_32 $$ classPK = liveGroupId-->Line_75 $$ group.setClassPK(classPK)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_42 $$ String name = nameMap.get(locale)[ FD ]
Line_5 $$ long classNameId = classNameLocalService.getClassNameId(className)-->Line_38 $$ friendlyURL = getFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyName, friendlyURL)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_89 $$ if ((serviceContext != null) && (classNameId == groupClassNameId) && !user.isDefaultUser()) [ CD ]
Line_23 $$ className = Group.class.getName()-->Line_53 $$ if (className.equals(Group.class.getName())) [ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_4 $$ className = GetterUtil.getString(className)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_63 $$ validateGroupKey(groupId, user.getCompanyId(), groupKey, site)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_8 $$ if (nameMap != null) [ FD ]
Line_14 $$ groupId = counterLocalService.increment()-->Line_94 $$ layoutSetLocalService.addLayoutSet(groupId, false)[ FD ]
Line_50 $$ if (parentGroupId == GroupConstants.DEFAULT_PARENT_GROUP_ID) -->Line_51 $$ membershipRestriction = GroupConstants.DEFAULT_MEMBERSHIP_RESTRICTION[ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_8 $$ if (nameMap != null) [ CD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_75 $$ group.setClassPK(classPK)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_22 $$ if ((classNameId <= 0) || className.equals(Group.class.getName()) || (className.equals(Company.class.getName()) && staging)) [ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_22 $$ if ((classNameId <= 0) || className.equals(Group.class.getName()) || (className.equals(Company.class.getName()) && staging)) [ CD ]
Line_53 $$ if (className.equals(Group.class.getName())) -->Line_54 $$ if (!site && (liveGroupId == 0) && !(groupKey.equals(GroupConstants.CONTROL_PANEL) || groupKey.equals(GroupConstants.FORMS))) [ CD ]
Line_4 $$ className = GetterUtil.getString(className)-->Line_5 $$ long classNameId = classNameLocalService.getClassNameId(className)[ FD ]
Line_27 $$ groupKey = getOrgGroupName(groupKey)-->Line_40 $$ groupKey = groupKey.concat("-staging")[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_38 $$ friendlyURL = getFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyName, friendlyURL)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_5 $$ long classNameId = classNameLocalService.getClassNameId(className)[ FD ]
Line_36 $$ parentGroupId = layout.getGroupId()-->Line_50 $$ if (parentGroupId == GroupConstants.DEFAULT_PARENT_GROUP_ID) [ FD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_74 $$ group.setClassNameId(classNameId)[ FD ]
Line_31 $$ if (className.equals(Organization.class.getName()) && staging) -->Line_32 $$ classPK = liveGroupId[ CD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_97 $$ Role role = roleLocalService.getRole(group.getCompanyId(), RoleConstants.SITE_OWNER)[ FD ]
Line_51 $$ membershipRestriction = GroupConstants.DEFAULT_MEMBERSHIP_RESTRICTION-->Line_84 $$ group.setMembershipRestriction(membershipRestriction)[ FD ]
Line_9 $$ groupKey = nameMap.get(LocaleUtil.getDefault())-->Line_28 $$ if (!GroupConstants.USER_PERSONAL_SITE.equals(groupKey)) [ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_70 $$ group.setUuid(serviceContext.getUuid())[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_5 $$ long classNameId = classNameLocalService.getClassNameId(className)[ CD ]
Line_4 $$ className = GetterUtil.getString(className)-->Line_22 $$ if ((classNameId <= 0) || className.equals(Group.class.getName()) || (className.equals(Company.class.getName()) && staging)) [ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_67 $$ validateParentGroup(groupId, parentGroupId)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_79 $$ group.setGroupKey(groupKey)[ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_34 $$ if (className.equals(Layout.class.getName())) [ FD ]
Line_24 $$ classNameId = groupClassNameId-->Line_74 $$ group.setClassNameId(classNameId)[ FD ]
Line_8 $$ if (nameMap != null) -->Line_9 $$ groupKey = nameMap.get(LocaleUtil.getDefault())[ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_78 $$ group.setTreePath(group.buildTreePath())[ CD ]
Line_13 $$ while (true) -->Line_16 $$ if (screenNameUser == null) [ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_36 $$ parentGroupId = layout.getGroupId()[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_98 $$ userGroupRoleLocalService.addUserGroupRoles(userId, groupId, new long[] [ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_34 $$ if (className.equals(Layout.class.getName())) [ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_66 $$ validateFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyURL)[ CD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_76 $$ group.setParentGroupId(parentGroupId)[ FD ]
Line_12 $$ long groupId = 0-->Line_94 $$ layoutSetLocalService.addLayoutSet(groupId, false)[ FD ]
Line_96 $$ if ((classNameId == groupClassNameId) && !user.isDefaultUser()) -->Line_97 $$ Role role = roleLocalService.getRole(group.getCompanyId(), RoleConstants.SITE_OWNER)[ CD ]
Line_14 $$ groupId = counterLocalService.increment()-->Line_98 $$ userGroupRoleLocalService.addUserGroupRoles(userId, groupId, new long[] [ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_9 $$ groupKey = nameMap.get(LocaleUtil.getDefault())[ FD ]
Line_9 $$ groupKey = nameMap.get(LocaleUtil.getDefault())-->Line_29 $$ groupKey = String.valueOf(classPK)[ FD ]
Line_38 $$ friendlyURL = getFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyName, friendlyURL)-->Line_66 $$ validateFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyURL)[ FD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_81 $$ group.setDescriptionMap(descriptionMap)[ FD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_84 $$ group.setMembershipRestriction(membershipRestriction)[ FD ]
Line_22 $$ if ((classNameId <= 0) || className.equals(Group.class.getName()) || (className.equals(Company.class.getName()) && staging)) -->Line_25 $$ classPK = groupId[ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_80 $$ group.setNameMap(nameMap)[ FD ]
Line_12 $$ long groupId = 0-->Line_66 $$ validateFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyURL)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_74 $$ group.setClassNameId(classNameId)[ CD ]
Line_13 $$ while (true) -->Line_15 $$ User screenNameUser = userPersistence.fetchByC_SN(user.getCompanyId(), String.valueOf(groupId))[ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_3 $$ User user = userPersistence.findByPrimaryKey(userId)[ FD ]
Line_27 $$ groupKey = getOrgGroupName(groupKey)-->Line_63 $$ validateGroupKey(groupId, user.getCompanyId(), groupKey, site)[ FD ]
Line_34 $$ if (className.equals(Layout.class.getName())) -->Line_36 $$ parentGroupId = layout.getGroupId()[ CD ]
Line_9 $$ groupKey = nameMap.get(LocaleUtil.getDefault())-->Line_27 $$ groupKey = getOrgGroupName(groupKey)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_77 $$ group.setLiveGroupId(liveGroupId)[ FD ]
Line_3 $$ User user = userPersistence.findByPrimaryKey(userId)-->Line_89 $$ if ((serviceContext != null) && (classNameId == groupClassNameId) && !user.isDefaultUser()) [ FD ]
Line_25 $$ classPK = groupId-->Line_75 $$ group.setClassPK(classPK)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_35 $$ Layout layout = layoutLocalService.getLayout(classPK)[ FD ]
Line_53 $$ if (className.equals(Group.class.getName())) -->Line_57 $$ if (!className.equals(Company.class.getName()) && !className.equals(Organization.class.getName()) && className.startsWith("com.liferay.portal.model.")) [ CD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_88 $$ group.setActive(active)[ FD ]
Line_4 $$ className = GetterUtil.getString(className)-->Line_26 $$ if (className.equals(Organization.class.getName())) [ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_69 $$ if (serviceContext != null) [ CD ]
Line_96 $$ if ((classNameId == groupClassNameId) && !user.isDefaultUser()) -->Line_99 $$ userLocalService.addGroupUsers(group.getGroupId(), new long[] [ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_88 $$ group.setActive(active)[ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_7 $$ String friendlyName = StringPool.BLANK[ CD ]
Line_32 $$ classPK = liveGroupId-->Line_35 $$ Layout layout = layoutLocalService.getLayout(classPK)[ FD ]
Line_36 $$ parentGroupId = layout.getGroupId()-->Line_76 $$ group.setParentGroupId(parentGroupId)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_77 $$ group.setLiveGroupId(liveGroupId)[ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_85 $$ group.setFriendlyURL(friendlyURL)[ FD ]
Line_6 $$ String groupKey = StringPool.BLANK-->Line_29 $$ groupKey = String.valueOf(classPK)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_38 $$ friendlyURL = getFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyName, friendlyURL)[ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_75 $$ group.setClassPK(classPK)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_81 $$ group.setDescriptionMap(descriptionMap)[ CD ]
Line_42 $$ String name = nameMap.get(locale)-->Line_43 $$ if (Validator.isNull(name)) [ FD ]
Line_29 $$ groupKey = String.valueOf(classPK)-->Line_54 $$ if (!site && (liveGroupId == 0) && !(groupKey.equals(GroupConstants.CONTROL_PANEL) || groupKey.equals(GroupConstants.FORMS))) [ FD ]
Line_23 $$ className = Group.class.getName()-->Line_62 $$ if ((classNameId <= 0) || className.equals(Group.class.getName())) [ FD ]
Line_3 $$ User user = userPersistence.findByPrimaryKey(userId)-->Line_66 $$ validateFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyURL)[ FD ]
Line_4 $$ className = GetterUtil.getString(className)-->Line_57 $$ if (!className.equals(Company.class.getName()) && !className.equals(Organization.class.getName()) && className.startsWith("com.liferay.portal.model.")) [ FD ]
Line_3 $$ User user = userPersistence.findByPrimaryKey(userId)-->Line_72 $$ group.setCompanyId(user.getCompanyId())[ FD ]
Line_40 $$ groupKey = groupKey.concat("-staging")-->Line_79 $$ group.setGroupKey(groupKey)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_84 $$ group.setMembershipRestriction(membershipRestriction)[ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_101 $$ updateAsset(userId, group, serviceContext.getAssetCategoryIds(), serviceContext.getAssetTagNames())[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_95 $$ resourceLocalService.addResources(group.getCompanyId(), 0, 0, Group.class.getName(), group.getGroupId(), false, false, false)[ CD ]
Line_7 $$ String friendlyName = StringPool.BLANK-->Line_38 $$ friendlyURL = getFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyName, friendlyURL)[ FD ]
Line_4 $$ className = GetterUtil.getString(className)-->Line_62 $$ if ((classNameId <= 0) || className.equals(Group.class.getName())) [ FD ]
Line_22 $$ if ((classNameId <= 0) || className.equals(Group.class.getName()) || (className.equals(Company.class.getName()) && staging)) -->Line_26 $$ if (className.equals(Organization.class.getName())) [ CD ]
Line_5 $$ long classNameId = classNameLocalService.getClassNameId(className)-->Line_24 $$ classNameId = groupClassNameId[ FD ]
Line_39 $$ if (staging) -->Line_48 $$ friendlyURL = getFriendlyURL(friendlyURL.concat("-staging"))[ CD ]
Line_25 $$ classPK = groupId-->Line_29 $$ groupKey = String.valueOf(classPK)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_84 $$ group.setMembershipRestriction(membershipRestriction)[ FD ]
Line_38 $$ friendlyURL = getFriendlyURL(user.getCompanyId(), groupId, classNameId, classPK, friendlyName, friendlyURL)-->Line_85 $$ group.setFriendlyURL(friendlyURL)[ FD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_95 $$ resourceLocalService.addResources(group.getCompanyId(), 0, 0, Group.class.getName(), group.getGroupId(), false, false, false)[ FD ]
Line_5 $$ long classNameId = classNameLocalService.getClassNameId(className)-->Line_74 $$ group.setClassNameId(classNameId)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_48 $$ friendlyURL = getFriendlyURL(friendlyURL.concat("-staging"))[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_31 $$ if (className.equals(Organization.class.getName()) && staging) [ CD ]
Line_68 $$ Group group = groupPersistence.create(groupId)-->Line_79 $$ group.setGroupKey(groupKey)[ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_62 $$ if ((classNameId <= 0) || className.equals(Group.class.getName())) [ CD ]
Line_97 $$ Role role = roleLocalService.getRole(group.getCompanyId(), RoleConstants.SITE_OWNER)-->Line_98 $$ userGroupRoleLocalService.addUserGroupRoles(userId, groupId, new long[] [ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_39 $$ if (staging) [ CD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_53 $$ if (className.equals(Group.class.getName())) [ FD ]
Line_2 $$ public Group addGroup(long userId, long parentGroupId, String className, long classPK, long liveGroupId, Map<Locale, String> nameMap, Map<Locale, String> descriptionMap, int type, boolean manualMembership, int membershipRestriction, String friendlyURL, boolean site, boolean inheritContent, boolean active, ServiceContext serviceContext) throws PortalException -->Line_10 $$ friendlyName = nameMap.get(LocaleUtil.getDefault())[ FD ]
