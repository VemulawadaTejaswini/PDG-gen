Line_2 $$ public void testInlineScriptNamedVars() -->Line_7 $$ SearchResponse response = client().prepareSearch("idx").addAggregation(histogram("histo").field(FIELD_1_NAME).interval(interval).subAggregation(sum("field2Sum").field(FIELD_2_NAME)).subAggregation(sum("field3Sum").field(FIELD_3_NAME)).subAggregation(sum("field4Sum").field(FIELD_4_NAME)).subAggregation(bucketScript("seriesArithmetic").setBucketsPathsMap(bucketsPathsMap).script(new Script("foo + bar + baz", ScriptType.INLINE, null, null)))).execute().actionGet()[ CD ]
Line_15 $$ if (bucket.getDocCount() == 0) -->Line_21 $$ double field2SumValue = field2Sum.getValue()[ CD ]
Line_19 $$ Sum field2Sum = bucket.getAggregations().get("field2Sum")-->Line_21 $$ double field2SumValue = field2Sum.getValue()[ FD ]
Line_14 $$ Histogram.Bucket bucket = buckets.get(i)-->Line_28 $$ SimpleValue seriesArithmetic = bucket.getAggregations().get("seriesArithmetic")[ FD ]
Line_9 $$ InternalHistogram<Bucket> histo = response.getAggregations().get("histo")-->Line_12 $$ List<? extends Bucket> buckets = histo.getBuckets()[ FD ]
Line_30 $$ double seriesArithmeticValue = seriesArithmetic.value()-->Line_31 $$ assertThat(seriesArithmeticValue, equalTo(field2SumValue + field3SumValue + field4SumValue))[ FD ]
Line_15 $$ if (bucket.getDocCount() == 0) -->Line_20 $$ assertThat(field2Sum, notNullValue())[ CD ]
Line_15 $$ if (bucket.getDocCount() == 0) -->Line_19 $$ Sum field2Sum = bucket.getAggregations().get("field2Sum")[ CD ]
Line_13 $$ for (int i = 0; i < buckets.size(); ++i) -->Line_14 $$ Histogram.Bucket bucket = buckets.get(i)[ FD ]
Line_16 $$ SimpleValue seriesArithmetic = bucket.getAggregations().get("seriesArithmetic")-->Line_29 $$ assertThat(seriesArithmetic, notNullValue())[ FD ]
Line_2 $$ public void testInlineScriptNamedVars() -->Line_6 $$ bucketsPathsMap.put("baz", "field4Sum")[ CD ]
Line_15 $$ if (bucket.getDocCount() == 0) -->Line_25 $$ Sum field4Sum = bucket.getAggregations().get("field4Sum")[ CD ]
Line_14 $$ Histogram.Bucket bucket = buckets.get(i)-->Line_15 $$ if (bucket.getDocCount() == 0) [ FD ]
Line_14 $$ Histogram.Bucket bucket = buckets.get(i)-->Line_25 $$ Sum field4Sum = bucket.getAggregations().get("field4Sum")[ FD ]
Line_3 $$ Map<String, String> bucketsPathsMap = new HashMap()-->Line_4 $$ bucketsPathsMap.put("foo", "field2Sum")[ FD ]
Line_14 $$ Histogram.Bucket bucket = buckets.get(i)-->Line_22 $$ Sum field3Sum = bucket.getAggregations().get("field3Sum")[ FD ]
Line_2 $$ public void testInlineScriptNamedVars() -->Line_5 $$ bucketsPathsMap.put("bar", "field3Sum")[ CD ]
Line_2 $$ public void testInlineScriptNamedVars() -->Line_8 $$ assertSearchResponse(response)[ CD ]
Line_3 $$ Map<String, String> bucketsPathsMap = new HashMap()-->Line_7 $$ SearchResponse response = client().prepareSearch("idx").addAggregation(histogram("histo").field(FIELD_1_NAME).interval(interval).subAggregation(sum("field2Sum").field(FIELD_2_NAME)).subAggregation(sum("field3Sum").field(FIELD_3_NAME)).subAggregation(sum("field4Sum").field(FIELD_4_NAME)).subAggregation(bucketScript("seriesArithmetic").setBucketsPathsMap(bucketsPathsMap).script(new Script("foo + bar + baz", ScriptType.INLINE, null, null)))).execute().actionGet()[ FD ]
Line_3 $$ Map<String, String> bucketsPathsMap = new HashMap()-->Line_6 $$ bucketsPathsMap.put("baz", "field4Sum")[ FD ]
Line_13 $$ for (int i = 0; i < buckets.size(); ++i) -->Line_14 $$ Histogram.Bucket bucket = buckets.get(i)[ CD ]
Line_15 $$ if (bucket.getDocCount() == 0) -->Line_17 $$ assertThat(seriesArithmetic, nullValue())[ CD ]
Line_2 $$ public void testInlineScriptNamedVars() -->Line_4 $$ bucketsPathsMap.put("foo", "field2Sum")[ CD ]
Line_7 $$ SearchResponse response = client().prepareSearch("idx").addAggregation(histogram("histo").field(FIELD_1_NAME).interval(interval).subAggregation(sum("field2Sum").field(FIELD_2_NAME)).subAggregation(sum("field3Sum").field(FIELD_3_NAME)).subAggregation(sum("field4Sum").field(FIELD_4_NAME)).subAggregation(bucketScript("seriesArithmetic").setBucketsPathsMap(bucketsPathsMap).script(new Script("foo + bar + baz", ScriptType.INLINE, null, null)))).execute().actionGet()-->Line_8 $$ assertSearchResponse(response)[ FD ]
Line_19 $$ Sum field2Sum = bucket.getAggregations().get("field2Sum")-->Line_20 $$ assertThat(field2Sum, notNullValue())[ FD ]
Line_15 $$ if (bucket.getDocCount() == 0) -->Line_23 $$ assertThat(field3Sum, notNullValue())[ CD ]
Line_3 $$ Map<String, String> bucketsPathsMap = new HashMap()-->Line_5 $$ bucketsPathsMap.put("bar", "field3Sum")[ FD ]
Line_15 $$ if (bucket.getDocCount() == 0) -->Line_28 $$ SimpleValue seriesArithmetic = bucket.getAggregations().get("seriesArithmetic")[ CD ]
Line_15 $$ if (bucket.getDocCount() == 0) -->Line_30 $$ double seriesArithmeticValue = seriesArithmetic.value()[ CD ]
Line_15 $$ if (bucket.getDocCount() == 0) -->Line_29 $$ assertThat(seriesArithmetic, notNullValue())[ CD ]
Line_12 $$ List<? extends Bucket> buckets = histo.getBuckets()-->Line_14 $$ Histogram.Bucket bucket = buckets.get(i)[ FD ]
Line_12 $$ List<? extends Bucket> buckets = histo.getBuckets()-->Line_13 $$ for (int i = 0; i < buckets.size(); ++i) [ FD ]
Line_2 $$ public void testInlineScriptNamedVars() -->Line_13 $$ for (int i = 0; i < buckets.size(); ++i) [ CD ]
Line_15 $$ if (bucket.getDocCount() == 0) -->Line_27 $$ double field4SumValue = field4Sum.getValue()[ CD ]
Line_2 $$ public void testInlineScriptNamedVars() -->Line_9 $$ InternalHistogram<Bucket> histo = response.getAggregations().get("histo")[ CD ]
Line_15 $$ if (bucket.getDocCount() == 0) -->Line_16 $$ SimpleValue seriesArithmetic = bucket.getAggregations().get("seriesArithmetic")[ CD ]
Line_22 $$ Sum field3Sum = bucket.getAggregations().get("field3Sum")-->Line_23 $$ assertThat(field3Sum, notNullValue())[ FD ]
Line_9 $$ InternalHistogram<Bucket> histo = response.getAggregations().get("histo")-->Line_10 $$ assertThat(histo, notNullValue())[ FD ]
Line_2 $$ public void testInlineScriptNamedVars() -->Line_3 $$ Map<String, String> bucketsPathsMap = new HashMap()[ CD ]
Line_15 $$ if (bucket.getDocCount() == 0) -->Line_26 $$ assertThat(field4Sum, notNullValue())[ CD ]
Line_13 $$ for (int i = 0; i < buckets.size(); ++i) -->Line_15 $$ if (bucket.getDocCount() == 0) [ CD ]
Line_14 $$ Histogram.Bucket bucket = buckets.get(i)-->Line_16 $$ SimpleValue seriesArithmetic = bucket.getAggregations().get("seriesArithmetic")[ FD ]
Line_2 $$ public void testInlineScriptNamedVars() -->Line_10 $$ assertThat(histo, notNullValue())[ CD ]
Line_25 $$ Sum field4Sum = bucket.getAggregations().get("field4Sum")-->Line_26 $$ assertThat(field4Sum, notNullValue())[ FD ]
Line_15 $$ if (bucket.getDocCount() == 0) -->Line_31 $$ assertThat(seriesArithmeticValue, equalTo(field2SumValue + field3SumValue + field4SumValue))[ CD ]
Line_15 $$ if (bucket.getDocCount() == 0) -->Line_24 $$ double field3SumValue = field3Sum.getValue()[ CD ]
Line_2 $$ public void testInlineScriptNamedVars() -->Line_11 $$ assertThat(histo.getName(), equalTo("histo"))[ CD ]
Line_14 $$ Histogram.Bucket bucket = buckets.get(i)-->Line_19 $$ Sum field2Sum = bucket.getAggregations().get("field2Sum")[ FD ]
Line_22 $$ Sum field3Sum = bucket.getAggregations().get("field3Sum")-->Line_24 $$ double field3SumValue = field3Sum.getValue()[ FD ]
Line_2 $$ public void testInlineScriptNamedVars() -->Line_12 $$ List<? extends Bucket> buckets = histo.getBuckets()[ CD ]
Line_16 $$ SimpleValue seriesArithmetic = bucket.getAggregations().get("seriesArithmetic")-->Line_30 $$ double seriesArithmeticValue = seriesArithmetic.value()[ FD ]
Line_7 $$ SearchResponse response = client().prepareSearch("idx").addAggregation(histogram("histo").field(FIELD_1_NAME).interval(interval).subAggregation(sum("field2Sum").field(FIELD_2_NAME)).subAggregation(sum("field3Sum").field(FIELD_3_NAME)).subAggregation(sum("field4Sum").field(FIELD_4_NAME)).subAggregation(bucketScript("seriesArithmetic").setBucketsPathsMap(bucketsPathsMap).script(new Script("foo + bar + baz", ScriptType.INLINE, null, null)))).execute().actionGet()-->Line_9 $$ InternalHistogram<Bucket> histo = response.getAggregations().get("histo")[ FD ]
Line_9 $$ InternalHistogram<Bucket> histo = response.getAggregations().get("histo")-->Line_11 $$ assertThat(histo.getName(), equalTo("histo"))[ FD ]
Line_25 $$ Sum field4Sum = bucket.getAggregations().get("field4Sum")-->Line_27 $$ double field4SumValue = field4Sum.getValue()[ FD ]
Line_16 $$ SimpleValue seriesArithmetic = bucket.getAggregations().get("seriesArithmetic")-->Line_17 $$ assertThat(seriesArithmetic, nullValue())[ FD ]
Line_15 $$ if (bucket.getDocCount() == 0) -->Line_22 $$ Sum field3Sum = bucket.getAggregations().get("field3Sum")[ CD ]
