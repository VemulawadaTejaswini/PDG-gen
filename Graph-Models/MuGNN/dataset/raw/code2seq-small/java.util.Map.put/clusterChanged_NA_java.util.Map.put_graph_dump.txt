Line_12 $$ final int min-->Line_21 $$ min = Integer.parseInt(sMin)[ FD ]
Line_2 $$ public void clusterChanged(ClusterChangedEvent event) -->Line_7 $$ Map<Integer, List<String>> nrReplicasChanged = new HashMap()[ CD ]
Line_65 $$ for (String index : indices) -->Line_66 $$ logger.info("[[ FD ]
Line_37 $$ int numberOfReplicas = dataNodeCount - 1-->Line_39 $$ numberOfReplicas = min[ FD ]
Line_37 $$ int numberOfReplicas = dataNodeCount - 1-->Line_50 $$ nrReplicasChanged.get(numberOfReplicas).add(indexMetaData.getIndex())[ FD ]
Line_28 $$ max = dataNodeCount - 1-->Line_31 $$ max = Integer.parseInt(sMax)[ FD ]
Line_7 $$ Map<Integer, List<String>> nrReplicasChanged = new HashMap()-->Line_47 $$ if (!nrReplicasChanged.containsKey(numberOfReplicas)) [ FD ]
Line_7 $$ Map<Integer, List<String>> nrReplicasChanged = new HashMap()-->Line_60 $$ final List<String> indices = nrReplicasChanged.get(fNumberOfReplicas)[ FD ]
Line_7 $$ Map<Integer, List<String>> nrReplicasChanged = new HashMap()-->Line_50 $$ nrReplicasChanged.get(numberOfReplicas).add(indexMetaData.getIndex())[ FD ]
Line_39 $$ numberOfReplicas = min-->Line_47 $$ if (!nrReplicasChanged.containsKey(numberOfReplicas)) [ FD ]
Line_14 $$ final int dash = autoExpandReplicas.indexOf('-')-->Line_15 $$ if (-1 == dash) [ FD ]
Line_37 $$ int numberOfReplicas = dataNodeCount - 1-->Line_41 $$ numberOfReplicas = max[ FD ]
Line_21 $$ min = Integer.parseInt(sMin)-->Line_38 $$ if (numberOfReplicas < min) [ FD ]
Line_41 $$ numberOfReplicas = max-->Line_48 $$ nrReplicasChanged.put(numberOfReplicas, new ArrayList<String>())[ FD ]
Line_28 $$ max = dataNodeCount - 1-->Line_40 $$ if (numberOfReplicas > max) [ FD ]
Line_41 $$ numberOfReplicas = max-->Line_50 $$ nrReplicasChanged.get(numberOfReplicas).add(indexMetaData.getIndex())[ FD ]
Line_65 $$ for (String index : indices) -->Line_71 $$ logger.warn("[[ FD ]
Line_9 $$ String autoExpandReplicas = indexMetaData.getSettings().get(IndexMetaData.SETTING_AUTO_EXPAND_REPLICAS)-->Line_16 $$ logger.warn("failed to set [[ FD ]
Line_3 $$ if (!event.state().nodes().localNodeMaster()) -->Line_4 $$ return[ CD ]
Line_2 $$ public void clusterChanged(ClusterChangedEvent event) -->Line_57 $$ if (nrReplicasChanged.size() > 0) [ CD ]
Line_46 $$ if (numberOfReplicas >= min && numberOfReplicas <= max) -->Line_50 $$ nrReplicasChanged.get(numberOfReplicas).add(indexMetaData.getIndex())[ CD ]
Line_6 $$ final int dataNodeCount = event.state().nodes().dataNodes().size()-->Line_28 $$ max = dataNodeCount - 1[ FD ]
Line_58 $$ for (final Integer fNumberOfReplicas : nrReplicasChanged.keySet()) -->Line_59 $$ Settings settings = Settings.settingsBuilder().put(IndexMetaData.SETTING_NUMBER_OF_REPLICAS, fNumberOfReplicas).build()[ FD ]
Line_40 $$ if (numberOfReplicas > max) -->Line_41 $$ numberOfReplicas = max[ CD ]
Line_8 $$ for (final IndexMetaData indexMetaData : event.state().metaData()) -->Line_43 $$ if (numberOfReplicas == indexMetaData.getNumberOfReplicas()) [ FD ]
Line_12 $$ final int min-->Line_39 $$ numberOfReplicas = min[ FD ]
Line_28 $$ max = dataNodeCount - 1-->Line_41 $$ numberOfReplicas = max[ FD ]
Line_47 $$ if (!nrReplicasChanged.containsKey(numberOfReplicas)) -->Line_48 $$ nrReplicasChanged.put(numberOfReplicas, new ArrayList<String>())[ CD ]
Line_26 $$ String sMax = autoExpandReplicas.substring(dash + 1)-->Line_31 $$ max = Integer.parseInt(sMax)[ FD ]
Line_31 $$ max = Integer.parseInt(sMax)-->Line_41 $$ numberOfReplicas = max[ FD ]
Line_8 $$ for (final IndexMetaData indexMetaData : event.state().metaData()) -->Line_16 $$ logger.warn("failed to set [[ FD ]
Line_8 $$ for (final IndexMetaData indexMetaData : event.state().metaData()) -->Line_23 $$ logger.warn("failed to set [[ FD ]
Line_39 $$ numberOfReplicas = min-->Line_48 $$ nrReplicasChanged.put(numberOfReplicas, new ArrayList<String>())[ FD ]
Line_9 $$ String autoExpandReplicas = indexMetaData.getSettings().get(IndexMetaData.SETTING_AUTO_EXPAND_REPLICAS)-->Line_10 $$ if (autoExpandReplicas != null && Booleans.parseBoolean(autoExpandReplicas, true)) [ FD ]
Line_7 $$ Map<Integer, List<String>> nrReplicasChanged = new HashMap()-->Line_57 $$ if (nrReplicasChanged.size() > 0) [ FD ]
Line_8 $$ for (final IndexMetaData indexMetaData : event.state().metaData()) -->Line_53 $$ logger.warn("[[ FD ]
Line_7 $$ Map<Integer, List<String>> nrReplicasChanged = new HashMap()-->Line_48 $$ nrReplicasChanged.put(numberOfReplicas, new ArrayList<String>())[ FD ]
Line_26 $$ String sMax = autoExpandReplicas.substring(dash + 1)-->Line_27 $$ if (sMax.equals(ALL_NODES_VALUE)) [ FD ]
Line_14 $$ final int dash = autoExpandReplicas.indexOf('-')-->Line_19 $$ final String sMin = autoExpandReplicas.substring(0, dash)[ FD ]
Line_59 $$ Settings settings = Settings.settingsBuilder().put(IndexMetaData.SETTING_NUMBER_OF_REPLICAS, fNumberOfReplicas).build()-->Line_61 $$ UpdateSettingsClusterStateUpdateRequest updateRequest = new UpdateSettingsClusterStateUpdateRequest().indices(indices.toArray(new String[indices.size()])).settings(settings).ackTimeout(TimeValue.timeValueMillis(0)).masterNodeTimeout(TimeValue.timeValueMinutes(10))[ FD ]
Line_2 $$ public void clusterChanged(ClusterChangedEvent event) -->Line_3 $$ if (!event.state().nodes().localNodeMaster()) [ CD ]
Line_37 $$ int numberOfReplicas = dataNodeCount - 1-->Line_48 $$ nrReplicasChanged.put(numberOfReplicas, new ArrayList<String>())[ FD ]
Line_39 $$ numberOfReplicas = min-->Line_43 $$ if (numberOfReplicas == indexMetaData.getNumberOfReplicas()) [ FD ]
Line_8 $$ for (final IndexMetaData indexMetaData : event.state().metaData()) -->Line_33 $$ logger.warn("failed to set [[ FD ]
Line_58 $$ for (final Integer fNumberOfReplicas : nrReplicasChanged.keySet()) -->Line_66 $$ logger.info("[[ FD ]
Line_60 $$ final List<String> indices = nrReplicasChanged.get(fNumberOfReplicas)-->Line_61 $$ UpdateSettingsClusterStateUpdateRequest updateRequest = new UpdateSettingsClusterStateUpdateRequest().indices(indices.toArray(new String[indices.size()])).settings(settings).ackTimeout(TimeValue.timeValueMillis(0)).masterNodeTimeout(TimeValue.timeValueMinutes(10))[ FD ]
Line_12 $$ final int min-->Line_38 $$ if (numberOfReplicas < min) [ FD ]
Line_2 $$ public void clusterChanged(ClusterChangedEvent event) -->Line_6 $$ final int dataNodeCount = event.state().nodes().dataNodes().size()[ FD ]
Line_38 $$ if (numberOfReplicas < min) -->Line_40 $$ if (numberOfReplicas > max) [ CD ]
Line_21 $$ min = Integer.parseInt(sMin)-->Line_39 $$ numberOfReplicas = min[ FD ]
Line_9 $$ String autoExpandReplicas = indexMetaData.getSettings().get(IndexMetaData.SETTING_AUTO_EXPAND_REPLICAS)-->Line_26 $$ String sMax = autoExpandReplicas.substring(dash + 1)[ FD ]
Line_38 $$ if (numberOfReplicas < min) -->Line_39 $$ numberOfReplicas = min[ CD ]
Line_9 $$ String autoExpandReplicas = indexMetaData.getSettings().get(IndexMetaData.SETTING_AUTO_EXPAND_REPLICAS)-->Line_14 $$ final int dash = autoExpandReplicas.indexOf('-')[ FD ]
Line_13 $$ final int max-->Line_28 $$ max = dataNodeCount - 1[ FD ]
Line_26 $$ String sMax = autoExpandReplicas.substring(dash + 1)-->Line_33 $$ logger.warn("failed to set [[ FD ]
Line_41 $$ numberOfReplicas = max-->Line_43 $$ if (numberOfReplicas == indexMetaData.getNumberOfReplicas()) [ FD ]
Line_58 $$ for (final Integer fNumberOfReplicas : nrReplicasChanged.keySet()) -->Line_71 $$ logger.warn("[[ FD ]
Line_2 $$ public void clusterChanged(ClusterChangedEvent event) -->Line_8 $$ for (final IndexMetaData indexMetaData : event.state().metaData()) [ FD ]
Line_41 $$ numberOfReplicas = max-->Line_47 $$ if (!nrReplicasChanged.containsKey(numberOfReplicas)) [ FD ]
Line_8 $$ for (final IndexMetaData indexMetaData : event.state().metaData()) -->Line_50 $$ nrReplicasChanged.get(numberOfReplicas).add(indexMetaData.getIndex())[ FD ]
Line_13 $$ final int max-->Line_31 $$ max = Integer.parseInt(sMax)[ FD ]
Line_46 $$ if (numberOfReplicas >= min && numberOfReplicas <= max) -->Line_47 $$ if (!nrReplicasChanged.containsKey(numberOfReplicas)) [ CD ]
Line_2 $$ public void clusterChanged(ClusterChangedEvent event) -->Line_3 $$ if (!event.state().nodes().localNodeMaster()) [ FD ]
Line_70 $$ for (String index : indices) -->Line_71 $$ logger.warn("[[ FD ]
Line_7 $$ Map<Integer, List<String>> nrReplicasChanged = new HashMap()-->Line_58 $$ for (final Integer fNumberOfReplicas : nrReplicasChanged.keySet()) [ FD ]
Line_39 $$ numberOfReplicas = min-->Line_41 $$ numberOfReplicas = max[ FD ]
Line_19 $$ final String sMin = autoExpandReplicas.substring(0, dash)-->Line_21 $$ min = Integer.parseInt(sMin)[ FD ]
Line_13 $$ final int max-->Line_41 $$ numberOfReplicas = max[ FD ]
Line_39 $$ numberOfReplicas = min-->Line_50 $$ nrReplicasChanged.get(numberOfReplicas).add(indexMetaData.getIndex())[ FD ]
Line_58 $$ for (final Integer fNumberOfReplicas : nrReplicasChanged.keySet()) -->Line_60 $$ final List<String> indices = nrReplicasChanged.get(fNumberOfReplicas)[ FD ]
Line_37 $$ int numberOfReplicas = dataNodeCount - 1-->Line_43 $$ if (numberOfReplicas == indexMetaData.getNumberOfReplicas()) [ FD ]
Line_15 $$ if (-1 == dash) -->Line_16 $$ logger.warn("failed to set [[ CD ]
Line_39 $$ numberOfReplicas = min-->Line_40 $$ if (numberOfReplicas > max) [ FD ]
Line_37 $$ int numberOfReplicas = dataNodeCount - 1-->Line_47 $$ if (!nrReplicasChanged.containsKey(numberOfReplicas)) [ FD ]
Line_27 $$ if (sMax.equals(ALL_NODES_VALUE)) -->Line_28 $$ max = dataNodeCount - 1[ CD ]
Line_19 $$ final String sMin = autoExpandReplicas.substring(0, dash)-->Line_23 $$ logger.warn("failed to set [[ FD ]
Line_2 $$ public void clusterChanged(ClusterChangedEvent event) -->Line_6 $$ final int dataNodeCount = event.state().nodes().dataNodes().size()[ CD ]
Line_13 $$ final int max-->Line_40 $$ if (numberOfReplicas > max) [ FD ]
Line_61 $$ UpdateSettingsClusterStateUpdateRequest updateRequest = new UpdateSettingsClusterStateUpdateRequest().indices(indices.toArray(new String[indices.size()])).settings(settings).ackTimeout(TimeValue.timeValueMillis(0)).masterNodeTimeout(TimeValue.timeValueMinutes(10))-->Line_63 $$ updateSettings(updateRequest, new ActionListener<ClusterStateUpdateResponse>() [ FD ]
Line_37 $$ int numberOfReplicas = dataNodeCount - 1-->Line_40 $$ if (numberOfReplicas > max) [ FD ]
Line_9 $$ String autoExpandReplicas = indexMetaData.getSettings().get(IndexMetaData.SETTING_AUTO_EXPAND_REPLICAS)-->Line_19 $$ final String sMin = autoExpandReplicas.substring(0, dash)[ FD ]
Line_8 $$ for (final IndexMetaData indexMetaData : event.state().metaData()) -->Line_9 $$ String autoExpandReplicas = indexMetaData.getSettings().get(IndexMetaData.SETTING_AUTO_EXPAND_REPLICAS)[ FD ]
Line_37 $$ int numberOfReplicas = dataNodeCount - 1-->Line_38 $$ if (numberOfReplicas < min) [ FD ]
Line_31 $$ max = Integer.parseInt(sMax)-->Line_40 $$ if (numberOfReplicas > max) [ FD ]
