Line_3 $$ Set<Integer> liveDescriptors = new HashSet()-->Line_15 $$ assertTrue(d.toString(), liveDescriptors.contains(d.generation))[ FD ]
Line_2 $$ public static void validateCFS(ColumnFamilyStore cfs) -->Line_3 $$ Set<Integer> liveDescriptors = new HashSet()[ CD ]
Line_2 $$ public static void validateCFS(ColumnFamilyStore cfs) -->Line_19 $$ assertEquals(spaceUsed, cfs.metric.liveDiskSpaceUsed.getCount())[ CD ]
Line_2 $$ public static void validateCFS(ColumnFamilyStore cfs) -->Line_20 $$ assertEquals(spaceUsed, cfs.metric.totalDiskSpaceUsed.getCount())[ CD ]
Line_4 $$ long spaceUsed = 0-->Line_19 $$ assertEquals(spaceUsed, cfs.metric.liveDiskSpaceUsed.getCount())[ FD ]
Line_3 $$ Set<Integer> liveDescriptors = new HashSet()-->Line_8 $$ liveDescriptors.add(sstable.descriptor.generation)[ FD ]
Line_13 $$ if (f.getName().contains("Data")) -->Line_14 $$ Descriptor d = Descriptor.fromFilename(f.getAbsolutePath())[ CD ]
Line_11 $$ for (File dir : cfs.getDirectories().getCFDirectories()) -->Line_12 $$ for (File f : dir.listFiles()) [ FD ]
Line_13 $$ if (f.getName().contains("Data")) -->Line_15 $$ assertTrue(d.toString(), liveDescriptors.contains(d.generation))[ CD ]
Line_5 $$ for (SSTableReader sstable : cfs.getLiveSSTables()) -->Line_9 $$ spaceUsed += sstable.bytesOnDisk()[ FD ]
Line_4 $$ long spaceUsed = 0-->Line_9 $$ spaceUsed += sstable.bytesOnDisk()[ FD ]
Line_2 $$ public static void validateCFS(ColumnFamilyStore cfs) -->Line_21 $$ assertTrue(cfs.getTracker().getCompacting().isEmpty())[ FD ]
Line_2 $$ public static void validateCFS(ColumnFamilyStore cfs) -->Line_5 $$ for (SSTableReader sstable : cfs.getLiveSSTables()) [ FD ]
Line_2 $$ public static void validateCFS(ColumnFamilyStore cfs) -->Line_21 $$ assertTrue(cfs.getTracker().getCompacting().isEmpty())[ CD ]
Line_12 $$ for (File f : dir.listFiles()) -->Line_14 $$ Descriptor d = Descriptor.fromFilename(f.getAbsolutePath())[ FD ]
Line_4 $$ long spaceUsed = 0-->Line_20 $$ assertEquals(spaceUsed, cfs.metric.totalDiskSpaceUsed.getCount())[ FD ]
Line_2 $$ public static void validateCFS(ColumnFamilyStore cfs) -->Line_11 $$ for (File dir : cfs.getDirectories().getCFDirectories()) [ FD ]
Line_12 $$ for (File f : dir.listFiles()) -->Line_13 $$ if (f.getName().contains("Data")) [ FD ]
Line_5 $$ for (SSTableReader sstable : cfs.getLiveSSTables()) -->Line_7 $$ assertEquals(1, sstable.selfRef().globalCount())[ FD ]
Line_2 $$ public static void validateCFS(ColumnFamilyStore cfs) -->Line_4 $$ long spaceUsed = 0[ CD ]
Line_9 $$ spaceUsed += sstable.bytesOnDisk()-->Line_19 $$ assertEquals(spaceUsed, cfs.metric.liveDiskSpaceUsed.getCount())[ FD ]
Line_14 $$ Descriptor d = Descriptor.fromFilename(f.getAbsolutePath())-->Line_15 $$ assertTrue(d.toString(), liveDescriptors.contains(d.generation))[ FD ]
Line_5 $$ for (SSTableReader sstable : cfs.getLiveSSTables()) -->Line_6 $$ assertFalse(sstable.isMarkedCompacted())[ FD ]
Line_9 $$ spaceUsed += sstable.bytesOnDisk()-->Line_20 $$ assertEquals(spaceUsed, cfs.metric.totalDiskSpaceUsed.getCount())[ FD ]
