Line_20 $$ lastPublishDate = new Date(GetterUtil.getLong(lastPublishDateString))-->Line_30 $$ if (statusDate.after(layoutRevision.getStatusDate()) && ((lastPublishDate == null) || lastPublishDate.after(statusDate))) [ FD ]
Line_24 $$ LayoutRevision layoutRevision = layoutRevisions.get(headLayoutRevision.getPlid())-->Line_36 $$ updateLayoutWithLayoutRevision(layoutRevision)[ FD ]
Line_6 $$ for (LayoutSetBranch layoutSetBranch : layoutSetBranches) -->Line_22 $$ List<LayoutRevision> headLayoutRevisions = layoutRevisionLocalService.getLayoutRevisions(layoutSetBranch.getLayoutSetBranchId(), true)[ FD ]
Line_23 $$ for (LayoutRevision headLayoutRevision : headLayoutRevisions) -->Line_24 $$ LayoutRevision layoutRevision = layoutRevisions.get(headLayoutRevision.getPlid())[ FD ]
Line_24 $$ LayoutRevision layoutRevision = layoutRevisions.get(headLayoutRevision.getPlid())-->Line_30 $$ if (statusDate.after(layoutRevision.getStatusDate()) && ((lastPublishDate == null) || lastPublishDate.after(statusDate))) [ FD ]
Line_3 $$ Map<Long, LayoutRevision> layoutRevisions = new HashMap()-->Line_24 $$ LayoutRevision layoutRevision = layoutRevisions.get(headLayoutRevision.getPlid())[ FD ]
Line_2 $$ protected void deleteLayoutSetBranches(long groupId, boolean privateLayout) throws PortalException -->Line_4 $$ List<LayoutSetBranch> layoutSetBranches = layoutSetBranchLocalService.getLayoutSetBranches(groupId, privateLayout)[ FD ]
Line_29 $$ Date statusDate = headLayoutRevision.getStatusDate()-->Line_30 $$ if (statusDate.after(layoutRevision.getStatusDate()) && ((lastPublishDate == null) || lastPublishDate.after(statusDate))) [ FD ]
Line_19 $$ if (Validator.isNotNull(lastPublishDateString)) -->Line_20 $$ lastPublishDate = new Date(GetterUtil.getLong(lastPublishDateString))[ CD ]
Line_6 $$ for (LayoutSetBranch layoutSetBranch : layoutSetBranches) -->Line_7 $$ String lastPublishDateString = layoutSetBranch.getSettingsProperty("last-publish-date")[ FD ]
Line_18 $$ Date lastPublishDate = null-->Line_20 $$ lastPublishDate = new Date(GetterUtil.getLong(lastPublishDateString))[ FD ]
Line_5 $$ boolean publishedToLive = false-->Line_15 $$ if (Validator.isNull(lastPublishDateString) && publishedToLive) [ FD ]
Line_23 $$ for (LayoutRevision headLayoutRevision : headLayoutRevisions) -->Line_31 $$ layoutRevisions.put(headLayoutRevision.getPlid(), headLayoutRevision)[ FD ]
Line_2 $$ protected void deleteLayoutSetBranches(long groupId, boolean privateLayout) throws PortalException -->Line_5 $$ boolean publishedToLive = false[ CD ]
Line_7 $$ String lastPublishDateString = layoutSetBranch.getSettingsProperty("last-publish-date")-->Line_20 $$ lastPublishDate = new Date(GetterUtil.getLong(lastPublishDateString))[ FD ]
Line_3 $$ Map<Long, LayoutRevision> layoutRevisions = new HashMap()-->Line_26 $$ layoutRevisions.put(headLayoutRevision.getPlid(), headLayoutRevision)[ FD ]
Line_3 $$ Map<Long, LayoutRevision> layoutRevisions = new HashMap()-->Line_31 $$ layoutRevisions.put(headLayoutRevision.getPlid(), headLayoutRevision)[ FD ]
Line_23 $$ for (LayoutRevision headLayoutRevision : headLayoutRevisions) -->Line_29 $$ Date statusDate = headLayoutRevision.getStatusDate()[ FD ]
Line_5 $$ boolean publishedToLive = false-->Line_9 $$ publishedToLive = true[ FD ]
Line_2 $$ protected void deleteLayoutSetBranches(long groupId, boolean privateLayout) throws PortalException -->Line_4 $$ List<LayoutSetBranch> layoutSetBranches = layoutSetBranchLocalService.getLayoutSetBranches(groupId, privateLayout)[ CD ]
Line_7 $$ String lastPublishDateString = layoutSetBranch.getSettingsProperty("last-publish-date")-->Line_19 $$ if (Validator.isNotNull(lastPublishDateString)) [ FD ]
Line_7 $$ String lastPublishDateString = layoutSetBranch.getSettingsProperty("last-publish-date")-->Line_8 $$ if (Validator.isNotNull(lastPublishDateString)) [ FD ]
Line_3 $$ Map<Long, LayoutRevision> layoutRevisions = new HashMap()-->Line_35 $$ for (LayoutRevision layoutRevision : layoutRevisions.values()) [ FD ]
Line_2 $$ protected void deleteLayoutSetBranches(long groupId, boolean privateLayout) throws PortalException -->Line_3 $$ Map<Long, LayoutRevision> layoutRevisions = new HashMap()[ CD ]
Line_7 $$ String lastPublishDateString = layoutSetBranch.getSettingsProperty("last-publish-date")-->Line_15 $$ if (Validator.isNull(lastPublishDateString) && publishedToLive) [ FD ]
Line_30 $$ if (statusDate.after(layoutRevision.getStatusDate()) && ((lastPublishDate == null) || lastPublishDate.after(statusDate))) -->Line_31 $$ layoutRevisions.put(headLayoutRevision.getPlid(), headLayoutRevision)[ CD ]
Line_25 $$ if (layoutRevision == null) -->Line_26 $$ layoutRevisions.put(headLayoutRevision.getPlid(), headLayoutRevision)[ CD ]
Line_2 $$ protected void deleteLayoutSetBranches(long groupId, boolean privateLayout) throws PortalException -->Line_38 $$ layoutSetBranchLocalService.deleteLayoutSetBranches(groupId, privateLayout, true)[ CD ]
Line_24 $$ LayoutRevision layoutRevision = layoutRevisions.get(headLayoutRevision.getPlid())-->Line_25 $$ if (layoutRevision == null) [ FD ]
Line_23 $$ for (LayoutRevision headLayoutRevision : headLayoutRevisions) -->Line_26 $$ layoutRevisions.put(headLayoutRevision.getPlid(), headLayoutRevision)[ FD ]
Line_8 $$ if (Validator.isNotNull(lastPublishDateString)) -->Line_9 $$ publishedToLive = true[ CD ]
Line_18 $$ Date lastPublishDate = null-->Line_30 $$ if (statusDate.after(layoutRevision.getStatusDate()) && ((lastPublishDate == null) || lastPublishDate.after(statusDate))) [ FD ]
Line_9 $$ publishedToLive = true-->Line_15 $$ if (Validator.isNull(lastPublishDateString) && publishedToLive) [ FD ]
Line_2 $$ protected void deleteLayoutSetBranches(long groupId, boolean privateLayout) throws PortalException -->Line_38 $$ layoutSetBranchLocalService.deleteLayoutSetBranches(groupId, privateLayout, true)[ FD ]
Line_6 $$ for (LayoutSetBranch layoutSetBranch : layoutSetBranches) -->Line_14 $$ String lastPublishDateString = layoutSetBranch.getSettingsProperty("last-publish-date")[ FD ]
