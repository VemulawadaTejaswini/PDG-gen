Line_3 $$ long currentTime = new Date().getTime()-->Line_7 $$ servletRequest.addHeader(HttpHeaders.IF_MODIFIED_SINCE, dateFormat.format(currentTime))[ FD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_17 $$ assertTrue(mavContainer.isRequestHandled())[ CD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_8 $$ servletRequest.addHeader(HttpHeaders.IF_NONE_MATCH, etagValue)[ CD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_21 $$ assertEquals(1, servletResponse.getHeaderValues(HttpHeaders.ETAG).size())[ CD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_9 $$ HttpHeaders responseHeaders = new HttpHeaders()[ CD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_19 $$ assertEquals(1, servletResponse.getHeaderValues(HttpHeaders.LAST_MODIFIED).size())[ CD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_5 $$ String etagValue = "\"deadb33f8badf00d\""[ CD ]
Line_4 $$ long oneMinuteAgo = currentTime - (1000 * 60)-->Line_10 $$ responseHeaders.setDate(HttpHeaders.LAST_MODIFIED, oneMinuteAgo)[ FD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_11 $$ responseHeaders.set(HttpHeaders.ETAG, changedEtagValue)[ CD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_3 $$ long currentTime = new Date().getTime()[ CD ]
Line_9 $$ HttpHeaders responseHeaders = new HttpHeaders()-->Line_11 $$ responseHeaders.set(HttpHeaders.ETAG, changedEtagValue)[ FD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_4 $$ long oneMinuteAgo = currentTime - (1000 * 60)[ CD ]
Line_9 $$ HttpHeaders responseHeaders = new HttpHeaders()-->Line_10 $$ responseHeaders.setDate(HttpHeaders.LAST_MODIFIED, oneMinuteAgo)[ FD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_7 $$ servletRequest.addHeader(HttpHeaders.IF_MODIFIED_SINCE, dateFormat.format(currentTime))[ CD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_10 $$ responseHeaders.setDate(HttpHeaders.LAST_MODIFIED, oneMinuteAgo)[ CD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_23 $$ assertEquals(0, servletResponse.getContentAsByteArray().length)[ CD ]
Line_6 $$ String changedEtagValue = "\"changed-etag-value\""-->Line_11 $$ responseHeaders.set(HttpHeaders.ETAG, changedEtagValue)[ FD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_14 $$ given(messageConverter.getSupportedMediaTypes()).willReturn(Collections.singletonList(MediaType.TEXT_PLAIN))[ CD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_16 $$ processor.handleReturnValue(returnValue, returnTypeResponseEntity, mavContainer, webRequest)[ CD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_18 $$ assertEquals(HttpStatus.OK.value(), servletResponse.getStatus())[ CD ]
Line_12 $$ ResponseEntity<String> returnValue = new ResponseEntity<String>("body", responseHeaders, HttpStatus.OK)-->Line_16 $$ processor.handleReturnValue(returnValue, returnTypeResponseEntity, mavContainer, webRequest)[ FD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_15 $$ given(messageConverter.canWrite(String.class, MediaType.TEXT_PLAIN)).willReturn(true)[ CD ]
Line_4 $$ long oneMinuteAgo = currentTime - (1000 * 60)-->Line_20 $$ assertEquals(dateFormat.format(oneMinuteAgo), servletResponse.getHeader(HttpHeaders.LAST_MODIFIED))[ FD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_6 $$ String changedEtagValue = "\"changed-etag-value\""[ CD ]
Line_5 $$ String etagValue = "\"deadb33f8badf00d\""-->Line_8 $$ servletRequest.addHeader(HttpHeaders.IF_NONE_MATCH, etagValue)[ FD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_22 $$ assertEquals(changedEtagValue, servletResponse.getHeader(HttpHeaders.ETAG))[ CD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_20 $$ assertEquals(dateFormat.format(oneMinuteAgo), servletResponse.getHeader(HttpHeaders.LAST_MODIFIED))[ CD ]
Line_6 $$ String changedEtagValue = "\"changed-etag-value\""-->Line_22 $$ assertEquals(changedEtagValue, servletResponse.getHeader(HttpHeaders.ETAG))[ FD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_12 $$ ResponseEntity<String> returnValue = new ResponseEntity<String>("body", responseHeaders, HttpStatus.OK)[ CD ]
Line_2 $$ public void handleReturnTypeChangedETagAndLastModified() throws Exception -->Line_13 $$ given(messageConverter.canWrite(String.class, null)).willReturn(true)[ CD ]
