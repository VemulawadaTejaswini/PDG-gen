Line_67 $$ if (plan.exceptAfterCancel) -->Line_70 $$ assertThat(throwables[i].getSuppressed(), Matchers.emptyArray())[ CD ]
Line_10 $$ final TestPlan plan = new TestPlan(i)-->Line_23 $$ if (plan.exitBeforeCancel) [ FD ]
Line_59 $$ for (int i = 0; i < threads.length; i++) -->Line_73 $$ assertThat(interrupted[plan.id], Matchers.equalTo(plan.presetInterrupt))[ CD ]
Line_2 $$ public void testCancellableThreads() throws InterruptedException -->Line_7 $$ final CancellableThreads cancellableThreads = new CancellableThreads()[ CD ]
Line_2 $$ public void testCancellableThreads() throws InterruptedException -->Line_8 $$ final CountDownLatch readyForCancel = new CountDownLatch(threads.length)[ CD ]
Line_10 $$ final TestPlan plan = new TestPlan(i)-->Line_35 $$ if (plan.exceptAfterCancel) [ FD ]
Line_2 $$ public void testCancellableThreads() throws InterruptedException -->Line_5 $$ final Throwable[] throwables = new Throwable[threads.length][ CD ]
Line_28 $$ if (plan.busySpin) -->Line_29 $$ while (!Thread.currentThread().isInterrupted()) [ CD ]
Line_63 $$ if (plan.exitBeforeCancel) -->Line_66 $$ assertThat(throwables[i], Matchers.instanceOf(CancellableThreads.ExecutionCancelledException.class))[ CD ]
Line_9 $$ for (int i = 0; i < threads.length; i++) -->Line_51 $$ threads[i].start()[ CD ]
Line_59 $$ for (int i = 0; i < threads.length; i++) -->Line_61 $$ if (plan.exceptBeforeCancel) [ CD ]
Line_28 $$ if (plan.busySpin) -->Line_32 $$ Thread.sleep(50000)[ CD ]
Line_2 $$ public void testCancellableThreads() throws InterruptedException -->Line_9 $$ for (int i = 0; i < threads.length; i++) [ CD ]
Line_12 $$ threads[i] = new Thread(new Runnable() -->Line_47 $$ interrupted[plan.id] = Thread.currentThread().isInterrupted()[ CD ]
Line_15 $$ if (plan.presetInterrupt) -->Line_16 $$ Thread.currentThread().interrupt()[ CD ]
Line_2 $$ public void testCancellableThreads() throws InterruptedException -->Line_4 $$ final TestPlan[] plans = new TestPlan[threads.length][ CD ]
Line_9 $$ for (int i = 0; i < threads.length; i++) -->Line_10 $$ final TestPlan plan = new TestPlan(i)[ CD ]
Line_63 $$ if (plan.exitBeforeCancel) -->Line_64 $$ assertNull(throwables[i])[ CD ]
Line_67 $$ if (plan.exceptAfterCancel) -->Line_68 $$ assertThat(throwables[i].getSuppressed(), Matchers.arrayContaining(Matchers.instanceOf(CustomException.class)))[ CD ]
Line_8 $$ final CountDownLatch readyForCancel = new CountDownLatch(threads.length)-->Line_26 $$ readyForCancel.countDown()[ FD ]
Line_10 $$ final TestPlan plan = new TestPlan(i)-->Line_63 $$ if (plan.exitBeforeCancel) [ FD ]
Line_8 $$ final CountDownLatch readyForCancel = new CountDownLatch(threads.length)-->Line_45 $$ readyForCancel.countDown()[ FD ]
Line_21 $$ if (plan.exceptBeforeCancel) -->Line_23 $$ if (plan.exitBeforeCancel) [ CD ]
Line_10 $$ final TestPlan plan = new TestPlan(i)-->Line_21 $$ if (plan.exceptBeforeCancel) [ FD ]
Line_61 $$ if (plan.exceptBeforeCancel) -->Line_62 $$ assertThat(throwables[i], Matchers.instanceOf(CustomException.class))[ CD ]
Line_44 $$ if (plan.exceptBeforeCancel || plan.exitBeforeCancel) -->Line_45 $$ readyForCancel.countDown()[ CD ]
Line_60 $$ TestPlan plan = plans[i]-->Line_61 $$ if (plan.exceptBeforeCancel) [ FD ]
Line_10 $$ final TestPlan plan = new TestPlan(i)-->Line_61 $$ if (plan.exceptBeforeCancel) [ FD ]
Line_10 $$ final TestPlan plan = new TestPlan(i)-->Line_11 $$ plans[i] = plan[ FD ]
Line_60 $$ TestPlan plan = plans[i]-->Line_67 $$ if (plan.exceptAfterCancel) [ FD ]
Line_18 $$ cancellableThreads.execute(new Interruptable() -->Line_20 $$ assertFalse("interrupt thread should have been clear", Thread.currentThread().isInterrupted())[ CD ]
Line_61 $$ if (plan.exceptBeforeCancel) -->Line_63 $$ if (plan.exitBeforeCancel) [ CD ]
Line_10 $$ final TestPlan plan = new TestPlan(i)-->Line_67 $$ if (plan.exceptAfterCancel) [ FD ]
Line_7 $$ final CancellableThreads cancellableThreads = new CancellableThreads()-->Line_54 $$ cancellableThreads.cancel("test")[ FD ]
Line_10 $$ final TestPlan plan = new TestPlan(i)-->Line_15 $$ if (plan.presetInterrupt) [ FD ]
Line_12 $$ threads[i] = new Thread(new Runnable() -->Line_44 $$ if (plan.exceptBeforeCancel || plan.exitBeforeCancel) [ CD ]
Line_9 $$ for (int i = 0; i < threads.length; i++) -->Line_50 $$ threads[i].setDaemon(true)[ CD ]
Line_2 $$ public void testCancellableThreads() throws InterruptedException -->Line_53 $$ readyForCancel.await()[ CD ]
Line_8 $$ final CountDownLatch readyForCancel = new CountDownLatch(threads.length)-->Line_53 $$ readyForCancel.await()[ FD ]
Line_7 $$ final CancellableThreads cancellableThreads = new CancellableThreads()-->Line_18 $$ cancellableThreads.execute(new Interruptable() [ FD ]
Line_10 $$ final TestPlan plan = new TestPlan(i)-->Line_28 $$ if (plan.busySpin) [ FD ]
Line_9 $$ for (int i = 0; i < threads.length; i++) -->Line_12 $$ threads[i] = new Thread(new Runnable() [ CD ]
Line_9 $$ for (int i = 0; i < threads.length; i++) -->Line_59 $$ for (int i = 0; i < threads.length; i++) [ FD ]
Line_2 $$ public void testCancellableThreads() throws InterruptedException -->Line_6 $$ final boolean[] interrupted = new boolean[threads.length][ CD ]
Line_9 $$ for (int i = 0; i < threads.length; i++) -->Line_11 $$ plans[i] = plan[ CD ]
Line_60 $$ TestPlan plan = plans[i]-->Line_63 $$ if (plan.exitBeforeCancel) [ FD ]
Line_23 $$ if (plan.exitBeforeCancel) -->Line_24 $$ return[ CD ]
Line_2 $$ public void testCancellableThreads() throws InterruptedException -->Line_3 $$ Thread[] threads = new Thread[randomIntBetween(3, 10)][ CD ]
Line_18 $$ cancellableThreads.execute(new Interruptable() -->Line_26 $$ readyForCancel.countDown()[ CD ]
Line_2 $$ public void testCancellableThreads() throws InterruptedException -->Line_59 $$ for (int i = 0; i < threads.length; i++) [ CD ]
Line_18 $$ cancellableThreads.execute(new Interruptable() -->Line_21 $$ if (plan.exceptBeforeCancel) [ CD ]
Line_59 $$ for (int i = 0; i < threads.length; i++) -->Line_60 $$ TestPlan plan = plans[i][ CD ]
Line_2 $$ public void testCancellableThreads() throws InterruptedException -->Line_54 $$ cancellableThreads.cancel("test")[ CD ]
Line_63 $$ if (plan.exitBeforeCancel) -->Line_67 $$ if (plan.exceptAfterCancel) [ CD ]
