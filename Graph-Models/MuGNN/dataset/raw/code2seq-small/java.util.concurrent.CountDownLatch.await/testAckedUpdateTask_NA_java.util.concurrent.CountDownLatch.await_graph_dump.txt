Line_7 $$ final AtomicBoolean ackTimeout = new AtomicBoolean(false)-->Line_49 $$ assertThat(ackTimeout.get(), equalTo(false))[ FD ]
Line_2 $$ public void testAckedUpdateTask() throws Exception -->Line_52 $$ assertThat(processedLatch.await(1, TimeUnit.SECONDS), equalTo(true))[ CD ]
Line_2 $$ public void testAckedUpdateTask() throws Exception -->Line_46 $$ ensureGreen()[ CD ]
Line_2 $$ public void testAckedUpdateTask() throws Exception -->Line_49 $$ assertThat(ackTimeout.get(), equalTo(false))[ CD ]
Line_5 $$ ClusterService clusterService = internalCluster().getInstance(ClusterService.class)-->Line_12 $$ clusterService.submitStateUpdateTask("test", new AckedClusterStateUpdateTask<Void>(null, null) [ FD ]
Line_2 $$ public void testAckedUpdateTask() throws Exception -->Line_10 $$ final CountDownLatch latch = new CountDownLatch(1)[ CD ]
Line_2 $$ public void testAckedUpdateTask() throws Exception -->Line_9 $$ final AtomicBoolean executed = new AtomicBoolean(false)[ CD ]
Line_2 $$ public void testAckedUpdateTask() throws Exception -->Line_8 $$ final AtomicBoolean onFailure = new AtomicBoolean(false)[ CD ]
Line_8 $$ final AtomicBoolean onFailure = new AtomicBoolean(false)-->Line_42 $$ onFailure.set(true)[ FD ]
Line_12 $$ clusterService.submitStateUpdateTask("test", new AckedClusterStateUpdateTask<Void>(null, null) -->Line_24 $$ ackTimeout.set(true)[ CD ]
Line_2 $$ public void testAckedUpdateTask() throws Exception -->Line_11 $$ final CountDownLatch processedLatch = new CountDownLatch(1)[ CD ]
Line_9 $$ final AtomicBoolean executed = new AtomicBoolean(false)-->Line_37 $$ executed.set(true)[ FD ]
Line_2 $$ public void testAckedUpdateTask() throws Exception -->Line_6 $$ final AtomicBoolean allNodesAcked = new AtomicBoolean(false)[ CD ]
Line_8 $$ final AtomicBoolean onFailure = new AtomicBoolean(false)-->Line_51 $$ assertThat(onFailure.get(), equalTo(false))[ FD ]
Line_10 $$ final CountDownLatch latch = new CountDownLatch(1)-->Line_47 $$ assertThat(latch.await(1, TimeUnit.SECONDS), equalTo(true))[ FD ]
Line_12 $$ clusterService.submitStateUpdateTask("test", new AckedClusterStateUpdateTask<Void>(null, null) -->Line_20 $$ allNodesAcked.set(true)[ CD ]
Line_2 $$ public void testAckedUpdateTask() throws Exception -->Line_48 $$ assertThat(allNodesAcked.get(), equalTo(true))[ CD ]
Line_11 $$ final CountDownLatch processedLatch = new CountDownLatch(1)-->Line_52 $$ assertThat(processedLatch.await(1, TimeUnit.SECONDS), equalTo(true))[ FD ]
Line_12 $$ clusterService.submitStateUpdateTask("test", new AckedClusterStateUpdateTask<Void>(null, null) -->Line_38 $$ return ClusterState.builder(currentState).build()[ CD ]
Line_10 $$ final CountDownLatch latch = new CountDownLatch(1)-->Line_43 $$ latch.countDown()[ FD ]
Line_2 $$ public void testAckedUpdateTask() throws Exception -->Line_5 $$ ClusterService clusterService = internalCluster().getInstance(ClusterService.class)[ CD ]
Line_10 $$ final CountDownLatch latch = new CountDownLatch(1)-->Line_25 $$ latch.countDown()[ FD ]
Line_2 $$ public void testAckedUpdateTask() throws Exception -->Line_47 $$ assertThat(latch.await(1, TimeUnit.SECONDS), equalTo(true))[ CD ]
Line_12 $$ clusterService.submitStateUpdateTask("test", new AckedClusterStateUpdateTask<Void>(null, null) -->Line_43 $$ latch.countDown()[ CD ]
Line_11 $$ final CountDownLatch processedLatch = new CountDownLatch(1)-->Line_34 $$ processedLatch.countDown()[ FD ]
Line_2 $$ public void testAckedUpdateTask() throws Exception -->Line_4 $$ internalCluster().startNode(settings)[ CD ]
Line_7 $$ final AtomicBoolean ackTimeout = new AtomicBoolean(false)-->Line_24 $$ ackTimeout.set(true)[ FD ]
Line_2 $$ public void testAckedUpdateTask() throws Exception -->Line_7 $$ final AtomicBoolean ackTimeout = new AtomicBoolean(false)[ CD ]
Line_12 $$ clusterService.submitStateUpdateTask("test", new AckedClusterStateUpdateTask<Void>(null, null) -->Line_21 $$ latch.countDown()[ CD ]
Line_2 $$ public void testAckedUpdateTask() throws Exception -->Line_3 $$ Settings settings = settingsBuilder().put("discovery.type", "local").build()[ CD ]
Line_12 $$ clusterService.submitStateUpdateTask("test", new AckedClusterStateUpdateTask<Void>(null, null) -->Line_38 $$ return ClusterState.builder(currentState).build()[ FD ]
Line_9 $$ final AtomicBoolean executed = new AtomicBoolean(false)-->Line_50 $$ assertThat(executed.get(), equalTo(true))[ FD ]
Line_12 $$ clusterService.submitStateUpdateTask("test", new AckedClusterStateUpdateTask<Void>(null, null) -->Line_41 $$ logger.error("failed to execute callback in test [ FD ]
Line_2 $$ public void testAckedUpdateTask() throws Exception -->Line_50 $$ assertThat(executed.get(), equalTo(true))[ CD ]
Line_2 $$ public void testAckedUpdateTask() throws Exception -->Line_12 $$ clusterService.submitStateUpdateTask("test", new AckedClusterStateUpdateTask<Void>(null, null) [ CD ]
Line_12 $$ clusterService.submitStateUpdateTask("test", new AckedClusterStateUpdateTask<Void>(null, null) -->Line_17 $$ return true[ CD ]
Line_10 $$ final CountDownLatch latch = new CountDownLatch(1)-->Line_21 $$ latch.countDown()[ FD ]
Line_12 $$ clusterService.submitStateUpdateTask("test", new AckedClusterStateUpdateTask<Void>(null, null) -->Line_31 $$ return TimeValue.timeValueSeconds(10)[ CD ]
Line_12 $$ clusterService.submitStateUpdateTask("test", new AckedClusterStateUpdateTask<Void>(null, null) -->Line_41 $$ logger.error("failed to execute callback in test [ CD ]
Line_12 $$ clusterService.submitStateUpdateTask("test", new AckedClusterStateUpdateTask<Void>(null, null) -->Line_42 $$ onFailure.set(true)[ CD ]
Line_6 $$ final AtomicBoolean allNodesAcked = new AtomicBoolean(false)-->Line_48 $$ assertThat(allNodesAcked.get(), equalTo(true))[ FD ]
Line_12 $$ clusterService.submitStateUpdateTask("test", new AckedClusterStateUpdateTask<Void>(null, null) -->Line_25 $$ latch.countDown()[ CD ]
Line_12 $$ clusterService.submitStateUpdateTask("test", new AckedClusterStateUpdateTask<Void>(null, null) -->Line_34 $$ processedLatch.countDown()[ CD ]
Line_3 $$ Settings settings = settingsBuilder().put("discovery.type", "local").build()-->Line_4 $$ internalCluster().startNode(settings)[ FD ]
Line_12 $$ clusterService.submitStateUpdateTask("test", new AckedClusterStateUpdateTask<Void>(null, null) -->Line_14 $$ return null[ CD ]
Line_2 $$ public void testAckedUpdateTask() throws Exception -->Line_51 $$ assertThat(onFailure.get(), equalTo(false))[ CD ]
Line_12 $$ clusterService.submitStateUpdateTask("test", new AckedClusterStateUpdateTask<Void>(null, null) -->Line_28 $$ return TimeValue.timeValueSeconds(10)[ CD ]
Line_6 $$ final AtomicBoolean allNodesAcked = new AtomicBoolean(false)-->Line_20 $$ allNodesAcked.set(true)[ FD ]
Line_12 $$ clusterService.submitStateUpdateTask("test", new AckedClusterStateUpdateTask<Void>(null, null) -->Line_37 $$ executed.set(true)[ CD ]
