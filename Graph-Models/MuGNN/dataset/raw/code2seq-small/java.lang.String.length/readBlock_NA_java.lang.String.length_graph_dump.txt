Line_6 $$ DataOutputStream out = new DataOutputStream(new BufferedOutputStream(baseStream, HdfsConstants.SMALL_BUFFER_SIZE))-->Line_7 $$ checkAccess(out, true, block, blockToken, Op.READ_BLOCK, BlockTokenSecretManager.AccessMode.READ)[ FD ]
Line_15 $$ blockSender = new BlockSender(block, blockOffset, length, true, false, sendChecksum, datanode, clientTraceFmt, cachingStrategy)-->Line_26 $$ if (blockSender.didSendEntireByteRange()) [ FD ]
Line_26 $$ if (blockSender.didSendEntireByteRange()) -->Line_40 $$ IOUtils.closeStream(out)[ CD ]
Line_10 $$ DatanodeRegistration dnR = datanode.getDNRegistrationForBP(block.getBlockPoolId())-->Line_11 $$ final String clientTraceFmt = clientName.length() > 0 && ClientTraceLog.isInfoEnabled() ? String.format(DN_CLIENTTRACE_FORMAT, localAddress, remoteAddress, "%d", "HDFS_READ", clientName, "%d", dnR.getDatanodeUuid(), block, "%d") : dnR + " Served block " + block + " to " + remoteAddress[ FD ]
Line_31 $$ if (!stat.hasStatus()) -->Line_32 $$ LOG.warn("Client " + peer.getRemoteAddressString() + " did not send a valid status code after reading. " + "Will close connection.")[ CD ]
Line_17 $$ String msg = "opReadBlock " + block + " received exception " + e-->Line_19 $$ sendResponse(ERROR, msg)[ FD ]
Line_30 $$ ClientReadStatusProto stat = ClientReadStatusProto.parseFrom(PBHelper.vintPrefixed(in))-->Line_31 $$ if (!stat.hasStatus()) [ FD ]
Line_31 $$ if (!stat.hasStatus()) -->Line_33 $$ IOUtils.closeStream(out)[ CD ]
Line_45 $$ if (LOG.isTraceEnabled()) -->Line_46 $$ LOG.trace(dnR + ":Ignoring exception while serving " + block + " to " + remoteAddress, ignored)[ CD ]
Line_15 $$ blockSender = new BlockSender(block, blockOffset, length, true, false, sendChecksum, datanode, clientTraceFmt, cachingStrategy)-->Line_58 $$ IOUtils.closeStream(blockSender)[ FD ]
Line_6 $$ DataOutputStream out = new DataOutputStream(new BufferedOutputStream(baseStream, HdfsConstants.SMALL_BUFFER_SIZE))-->Line_37 $$ IOUtils.closeStream(out)[ FD ]
Line_6 $$ DataOutputStream out = new DataOutputStream(new BufferedOutputStream(baseStream, HdfsConstants.SMALL_BUFFER_SIZE))-->Line_40 $$ IOUtils.closeStream(out)[ FD ]
Line_6 $$ DataOutputStream out = new DataOutputStream(new BufferedOutputStream(baseStream, HdfsConstants.SMALL_BUFFER_SIZE))-->Line_50 $$ IOUtils.closeStream(out)[ FD ]
Line_6 $$ DataOutputStream out = new DataOutputStream(new BufferedOutputStream(baseStream, HdfsConstants.SMALL_BUFFER_SIZE))-->Line_33 $$ IOUtils.closeStream(out)[ FD ]
Line_17 $$ String msg = "opReadBlock " + block + " received exception " + e-->Line_18 $$ LOG.info(msg)[ FD ]
