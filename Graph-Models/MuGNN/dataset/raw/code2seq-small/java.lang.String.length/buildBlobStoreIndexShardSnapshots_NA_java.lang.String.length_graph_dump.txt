Line_4 $$ for (String name : blobs.keySet()) -->Line_12 $$ logger.warn("failed to parse index file name [[ FD ]
Line_3 $$ int latest = -1-->Line_16 $$ if (latest >= 0) [ FD ]
Line_2 $$ protected Tuple<BlobStoreIndexShardSnapshots, Integer> buildBlobStoreIndexShardSnapshots(Map<String, BlobMetaData> blobs) -->Line_23 $$ List<SnapshotFiles> snapshots = new ArrayList()[ CD ]
Line_30 $$ snapshot = indexShardSnapshotLegacyFormat.readBlob(blobContainer, name)-->Line_33 $$ snapshots.add(new SnapshotFiles(snapshot.snapshot(), snapshot.indexFiles()))[ FD ]
Line_3 $$ int latest = -1-->Line_9 $$ latest = gen[ FD ]
Line_7 $$ int gen = Integer.parseInt(name.substring(SNAPSHOT_INDEX_PREFIX.length()))-->Line_8 $$ if (gen > latest) [ FD ]
Line_28 $$ snapshot = indexShardSnapshotFormat.readBlob(blobContainer, name)-->Line_30 $$ snapshot = indexShardSnapshotLegacyFormat.readBlob(blobContainer, name)[ FD ]
Line_2 $$ protected Tuple<BlobStoreIndexShardSnapshots, Integer> buildBlobStoreIndexShardSnapshots(Map<String, BlobMetaData> blobs) -->Line_24 $$ for (String name : blobs.keySet()) [ FD ]
Line_28 $$ snapshot = indexShardSnapshotFormat.readBlob(blobContainer, name)-->Line_32 $$ if (snapshot != null) [ FD ]
Line_27 $$ if (name.startsWith(SNAPSHOT_PREFIX)) -->Line_29 $$ if (name.startsWith(LEGACY_SNAPSHOT_PREFIX)) [ CD ]
Line_26 $$ BlobStoreIndexShardSnapshot snapshot = null-->Line_32 $$ if (snapshot != null) [ FD ]
Line_30 $$ snapshot = indexShardSnapshotLegacyFormat.readBlob(blobContainer, name)-->Line_32 $$ if (snapshot != null) [ FD ]
Line_4 $$ for (String name : blobs.keySet()) -->Line_36 $$ logger.warn("failed to read commit point [[ FD ]
Line_9 $$ latest = gen-->Line_18 $$ return new Tuple(indexShardSnapshotsFormat.read(blobContainer, Integer.toString(latest)), latest)[ FD ]
Line_9 $$ latest = gen-->Line_16 $$ if (latest >= 0) [ FD ]
Line_29 $$ if (name.startsWith(LEGACY_SNAPSHOT_PREFIX)) -->Line_30 $$ snapshot = indexShardSnapshotLegacyFormat.readBlob(blobContainer, name)[ CD ]
Line_26 $$ BlobStoreIndexShardSnapshot snapshot = null-->Line_30 $$ snapshot = indexShardSnapshotLegacyFormat.readBlob(blobContainer, name)[ FD ]
Line_2 $$ protected Tuple<BlobStoreIndexShardSnapshots, Integer> buildBlobStoreIndexShardSnapshots(Map<String, BlobMetaData> blobs) -->Line_16 $$ if (latest >= 0) [ CD ]
Line_4 $$ for (String name : blobs.keySet()) -->Line_7 $$ int gen = Integer.parseInt(name.substring(SNAPSHOT_INDEX_PREFIX.length()))[ FD ]
Line_26 $$ BlobStoreIndexShardSnapshot snapshot = null-->Line_28 $$ snapshot = indexShardSnapshotFormat.readBlob(blobContainer, name)[ FD ]
Line_4 $$ for (String name : blobs.keySet()) -->Line_27 $$ if (name.startsWith(SNAPSHOT_PREFIX)) [ FD ]
Line_4 $$ for (String name : blobs.keySet()) -->Line_5 $$ if (name.startsWith(SNAPSHOT_INDEX_PREFIX)) [ FD ]
Line_3 $$ int latest = -1-->Line_8 $$ if (gen > latest) [ FD ]
Line_32 $$ if (snapshot != null) -->Line_33 $$ snapshots.add(new SnapshotFiles(snapshot.snapshot(), snapshot.indexFiles()))[ CD ]
Line_23 $$ List<SnapshotFiles> snapshots = new ArrayList()-->Line_33 $$ snapshots.add(new SnapshotFiles(snapshot.snapshot(), snapshot.indexFiles()))[ FD ]
Line_7 $$ int gen = Integer.parseInt(name.substring(SNAPSHOT_INDEX_PREFIX.length()))-->Line_9 $$ latest = gen[ FD ]
Line_4 $$ for (String name : blobs.keySet()) -->Line_30 $$ snapshot = indexShardSnapshotLegacyFormat.readBlob(blobContainer, name)[ FD ]
Line_27 $$ if (name.startsWith(SNAPSHOT_PREFIX)) -->Line_28 $$ snapshot = indexShardSnapshotFormat.readBlob(blobContainer, name)[ CD ]
Line_2 $$ protected Tuple<BlobStoreIndexShardSnapshots, Integer> buildBlobStoreIndexShardSnapshots(Map<String, BlobMetaData> blobs) -->Line_4 $$ for (String name : blobs.keySet()) [ FD ]
Line_3 $$ int latest = -1-->Line_18 $$ return new Tuple(indexShardSnapshotsFormat.read(blobContainer, Integer.toString(latest)), latest)[ FD ]
Line_28 $$ snapshot = indexShardSnapshotFormat.readBlob(blobContainer, name)-->Line_33 $$ snapshots.add(new SnapshotFiles(snapshot.snapshot(), snapshot.indexFiles()))[ FD ]
Line_8 $$ if (gen > latest) -->Line_9 $$ latest = gen[ CD ]
Line_2 $$ protected Tuple<BlobStoreIndexShardSnapshots, Integer> buildBlobStoreIndexShardSnapshots(Map<String, BlobMetaData> blobs) -->Line_39 $$ return new Tuple(new BlobStoreIndexShardSnapshots(snapshots), -1)[ CD ]
Line_26 $$ BlobStoreIndexShardSnapshot snapshot = null-->Line_33 $$ snapshots.add(new SnapshotFiles(snapshot.snapshot(), snapshot.indexFiles()))[ FD ]
Line_4 $$ for (String name : blobs.keySet()) -->Line_28 $$ snapshot = indexShardSnapshotFormat.readBlob(blobContainer, name)[ FD ]
Line_2 $$ protected Tuple<BlobStoreIndexShardSnapshots, Integer> buildBlobStoreIndexShardSnapshots(Map<String, BlobMetaData> blobs) -->Line_3 $$ int latest = -1[ CD ]
Line_4 $$ for (String name : blobs.keySet()) -->Line_29 $$ if (name.startsWith(LEGACY_SNAPSHOT_PREFIX)) [ FD ]
