Line_6 $$ Path testFile = new Path("/test/testOffsetPlusLengthParamsLongerThanFile")-->Line_8 $$ FSDataOutputStream testFileOut = webhdfs.create(testFile)[ FD ]
Line_2 $$ public void testOffsetPlusLengthParamsLongerThanFile() throws IOException -->Line_3 $$ WebHdfsFileSystem webhdfs = (WebHdfsFileSystem) fs[ CD ]
Line_25 $$ byte[] respBody = new byte[content.length() - 1]-->Line_27 $$ IOUtils.readFully(is, respBody, 0, content.length() - 1)[ FD ]
Line_2 $$ public void testOffsetPlusLengthParamsLongerThanFile() throws IOException -->Line_15 $$ URL url = webhdfs.toUrl(op, testFile, new LengthParam(Long.valueOf(content.length())), new OffsetParam(1L))[ CD ]
Line_19 $$ conn = (HttpURLConnection) url.openConnection()-->Line_31 $$ if (conn != null) [ FD ]
Line_19 $$ conn = (HttpURLConnection) url.openConnection()-->Line_24 $$ assertEquals(String.valueOf(content.length() - 1), conn.getHeaderField("Content-Length"))[ FD ]
Line_19 $$ conn = (HttpURLConnection) url.openConnection()-->Line_21 $$ conn.setDoOutput(op.getDoOutput())[ FD ]
Line_2 $$ public void testOffsetPlusLengthParamsLongerThanFile() throws IOException -->Line_16 $$ HttpURLConnection conn = null[ CD ]
Line_19 $$ conn = (HttpURLConnection) url.openConnection()-->Line_20 $$ conn.setRequestMethod(op.getType().toString())[ FD ]
Line_14 $$ HttpOpParam.Op op = GetOpParam.Op.OPEN-->Line_20 $$ conn.setRequestMethod(op.getType().toString())[ FD ]
Line_17 $$ InputStream is = null-->Line_27 $$ IOUtils.readFully(is, respBody, 0, content.length() - 1)[ FD ]
Line_26 $$ is = conn.getInputStream()-->Line_30 $$ IOUtils.closeStream(is)[ FD ]
Line_7 $$ String content = "testOffsetPlusLengthParamsLongerThanFile"-->Line_28 $$ assertEquals(content.substring(1), new String(respBody, "US-ASCII"))[ FD ]
Line_2 $$ public void testOffsetPlusLengthParamsLongerThanFile() throws IOException -->Line_4 $$ Path dir = new Path("/test")[ CD ]
Line_14 $$ HttpOpParam.Op op = GetOpParam.Op.OPEN-->Line_21 $$ conn.setDoOutput(op.getDoOutput())[ FD ]
Line_3 $$ WebHdfsFileSystem webhdfs = (WebHdfsFileSystem) fs-->Line_8 $$ FSDataOutputStream testFileOut = webhdfs.create(testFile)[ FD ]
Line_2 $$ public void testOffsetPlusLengthParamsLongerThanFile() throws IOException -->Line_8 $$ FSDataOutputStream testFileOut = webhdfs.create(testFile)[ CD ]
Line_2 $$ public void testOffsetPlusLengthParamsLongerThanFile() throws IOException -->Line_6 $$ Path testFile = new Path("/test/testOffsetPlusLengthParamsLongerThanFile")[ CD ]
Line_7 $$ String content = "testOffsetPlusLengthParamsLongerThanFile"-->Line_15 $$ URL url = webhdfs.toUrl(op, testFile, new LengthParam(Long.valueOf(content.length())), new OffsetParam(1L))[ FD ]
Line_16 $$ HttpURLConnection conn = null-->Line_31 $$ if (conn != null) [ FD ]
Line_16 $$ HttpURLConnection conn = null-->Line_20 $$ conn.setRequestMethod(op.getType().toString())[ FD ]
Line_16 $$ HttpURLConnection conn = null-->Line_26 $$ is = conn.getInputStream()[ FD ]
Line_14 $$ HttpOpParam.Op op = GetOpParam.Op.OPEN-->Line_15 $$ URL url = webhdfs.toUrl(op, testFile, new LengthParam(Long.valueOf(content.length())), new OffsetParam(1L))[ FD ]
Line_19 $$ conn = (HttpURLConnection) url.openConnection()-->Line_26 $$ is = conn.getInputStream()[ FD ]
Line_31 $$ if (conn != null) -->Line_32 $$ conn.disconnect()[ CD ]
Line_6 $$ Path testFile = new Path("/test/testOffsetPlusLengthParamsLongerThanFile")-->Line_15 $$ URL url = webhdfs.toUrl(op, testFile, new LengthParam(Long.valueOf(content.length())), new OffsetParam(1L))[ FD ]
Line_19 $$ conn = (HttpURLConnection) url.openConnection()-->Line_23 $$ assertEquals(HttpServletResponse.SC_OK, conn.getResponseCode())[ FD ]
Line_16 $$ HttpURLConnection conn = null-->Line_22 $$ conn.setInstanceFollowRedirects(true)[ FD ]
Line_7 $$ String content = "testOffsetPlusLengthParamsLongerThanFile"-->Line_10 $$ testFileOut.write(content.getBytes("US-ASCII"))[ FD ]
Line_26 $$ is = conn.getInputStream()-->Line_27 $$ IOUtils.readFully(is, respBody, 0, content.length() - 1)[ FD ]
Line_16 $$ HttpURLConnection conn = null-->Line_23 $$ assertEquals(HttpServletResponse.SC_OK, conn.getResponseCode())[ FD ]
Line_3 $$ WebHdfsFileSystem webhdfs = (WebHdfsFileSystem) fs-->Line_5 $$ assertTrue(webhdfs.mkdirs(dir))[ FD ]
Line_16 $$ HttpURLConnection conn = null-->Line_24 $$ assertEquals(String.valueOf(content.length() - 1), conn.getHeaderField("Content-Length"))[ FD ]
Line_15 $$ URL url = webhdfs.toUrl(op, testFile, new LengthParam(Long.valueOf(content.length())), new OffsetParam(1L))-->Line_19 $$ conn = (HttpURLConnection) url.openConnection()[ FD ]
Line_17 $$ InputStream is = null-->Line_26 $$ is = conn.getInputStream()[ FD ]
Line_16 $$ HttpURLConnection conn = null-->Line_32 $$ conn.disconnect()[ FD ]
Line_2 $$ public void testOffsetPlusLengthParamsLongerThanFile() throws IOException -->Line_7 $$ String content = "testOffsetPlusLengthParamsLongerThanFile"[ CD ]
Line_3 $$ WebHdfsFileSystem webhdfs = (WebHdfsFileSystem) fs-->Line_15 $$ URL url = webhdfs.toUrl(op, testFile, new LengthParam(Long.valueOf(content.length())), new OffsetParam(1L))[ FD ]
Line_7 $$ String content = "testOffsetPlusLengthParamsLongerThanFile"-->Line_27 $$ IOUtils.readFully(is, respBody, 0, content.length() - 1)[ FD ]
Line_16 $$ HttpURLConnection conn = null-->Line_19 $$ conn = (HttpURLConnection) url.openConnection()[ FD ]
Line_2 $$ public void testOffsetPlusLengthParamsLongerThanFile() throws IOException -->Line_17 $$ InputStream is = null[ CD ]
Line_16 $$ HttpURLConnection conn = null-->Line_21 $$ conn.setDoOutput(op.getDoOutput())[ FD ]
Line_17 $$ InputStream is = null-->Line_30 $$ IOUtils.closeStream(is)[ FD ]
Line_2 $$ public void testOffsetPlusLengthParamsLongerThanFile() throws IOException -->Line_5 $$ assertTrue(webhdfs.mkdirs(dir))[ CD ]
Line_8 $$ FSDataOutputStream testFileOut = webhdfs.create(testFile)-->Line_12 $$ IOUtils.closeStream(testFileOut)[ FD ]
Line_7 $$ String content = "testOffsetPlusLengthParamsLongerThanFile"-->Line_25 $$ byte[] respBody = new byte[content.length() - 1][ FD ]
Line_19 $$ conn = (HttpURLConnection) url.openConnection()-->Line_22 $$ conn.setInstanceFollowRedirects(true)[ FD ]
Line_8 $$ FSDataOutputStream testFileOut = webhdfs.create(testFile)-->Line_10 $$ testFileOut.write(content.getBytes("US-ASCII"))[ FD ]
Line_19 $$ conn = (HttpURLConnection) url.openConnection()-->Line_32 $$ conn.disconnect()[ FD ]
Line_7 $$ String content = "testOffsetPlusLengthParamsLongerThanFile"-->Line_24 $$ assertEquals(String.valueOf(content.length() - 1), conn.getHeaderField("Content-Length"))[ FD ]
Line_4 $$ Path dir = new Path("/test")-->Line_5 $$ assertTrue(webhdfs.mkdirs(dir))[ FD ]
Line_2 $$ public void testOffsetPlusLengthParamsLongerThanFile() throws IOException -->Line_14 $$ HttpOpParam.Op op = GetOpParam.Op.OPEN[ CD ]
