Line_3 $$ ByteArrayOutputStream baos = new ByteArrayOutputStream()-->Line_10 $$ String[] lines = baos.toString().split("\n")[ FD ]
Line_13 $$ for (String line : lines) -->Line_14 $$ if (line.startsWith("Decommissioning datanodes")) [ FD ]
Line_11 $$ Integer num = null-->Line_24 $$ assertEquals("Unexpected number of decomming DNs", expectedDecomm.size(), num.intValue())[ FD ]
Line_13 $$ for (String line : lines) -->Line_19 $$ if (line.contains("Decommission in progress")) [ FD ]
Line_2 $$ private void checkDFSAdminDecommissionStatus(List<DatanodeDescriptor> expectedDecomm, DistributedFileSystem dfs, DFSAdmin admin) throws IOException -->Line_5 $$ PrintStream oldOut = System.out[ CD ]
Line_2 $$ private void checkDFSAdminDecommissionStatus(List<DatanodeDescriptor> expectedDecomm, DistributedFileSystem dfs, DFSAdmin admin) throws IOException -->Line_3 $$ ByteArrayOutputStream baos = new ByteArrayOutputStream()[ CD ]
Line_14 $$ if (line.startsWith("Decommissioning datanodes")) -->Line_17 $$ num = Integer.parseInt((String) temp.subSequence(1, temp.length() - 2))[ CD ]
Line_2 $$ private void checkDFSAdminDecommissionStatus(List<DatanodeDescriptor> expectedDecomm, DistributedFileSystem dfs, DFSAdmin admin) throws IOException -->Line_6 $$ System.setOut(ps)[ CD ]
Line_2 $$ private void checkDFSAdminDecommissionStatus(List<DatanodeDescriptor> expectedDecomm, DistributedFileSystem dfs, DFSAdmin admin) throws IOException -->Line_24 $$ assertEquals("Unexpected number of decomming DNs", expectedDecomm.size(), num.intValue())[ FD ]
Line_4 $$ PrintStream ps = new PrintStream(baos)-->Line_6 $$ System.setOut(ps)[ FD ]
Line_11 $$ Integer num = null-->Line_17 $$ num = Integer.parseInt((String) temp.subSequence(1, temp.length() - 2))[ FD ]
Line_29 $$ for (DatanodeID id : expectedDecomm) -->Line_30 $$ assertTrue("Did not find expected decomming DN " + id, decomming.contains(id))[ FD ]
Line_12 $$ int count = 0-->Line_25 $$ assertEquals("Unexpected number of decomming DNs", expectedDecomm.size(), count)[ FD ]
Line_5 $$ PrintStream oldOut = System.out-->Line_33 $$ System.setOut(oldOut)[ FD ]
Line_2 $$ private void checkDFSAdminDecommissionStatus(List<DatanodeDescriptor> expectedDecomm, DistributedFileSystem dfs, DFSAdmin admin) throws IOException -->Line_25 $$ assertEquals("Unexpected number of decomming DNs", expectedDecomm.size(), count)[ FD ]
Line_12 $$ int count = 0-->Line_20 $$ count++[ FD ]
Line_17 $$ num = Integer.parseInt((String) temp.subSequence(1, temp.length() - 2))-->Line_24 $$ assertEquals("Unexpected number of decomming DNs", expectedDecomm.size(), num.intValue())[ FD ]
Line_2 $$ private void checkDFSAdminDecommissionStatus(List<DatanodeDescriptor> expectedDecomm, DistributedFileSystem dfs, DFSAdmin admin) throws IOException -->Line_4 $$ PrintStream ps = new PrintStream(baos)[ CD ]
Line_2 $$ private void checkDFSAdminDecommissionStatus(List<DatanodeDescriptor> expectedDecomm, DistributedFileSystem dfs, DFSAdmin admin) throws IOException -->Line_28 $$ assertEquals("Unexpected number of decomming DNs", expectedDecomm.size(), decomming.size())[ FD ]
Line_19 $$ if (line.contains("Decommission in progress")) -->Line_20 $$ count++[ CD ]
