Line_2 $$ public void getRestoreDirectoryForBlockFile(String fileName, int nestingLevel) -->Line_4 $$ final String blockFileSubdir = makeRandomBlockFileSubdir(nestingLevel)[ CD ]
Line_3 $$ BlockPoolSliceStorage storage = makeBlockPoolStorage()-->Line_7 $$ String expectedRestorePath = storage.getSingularStorageDir().getRoot() + File.separator + Storage.STORAGE_DIR_CURRENT + blockFileSubdir.substring(0, blockFileSubdir.length() - 1)[ FD ]
Line_2 $$ public void getRestoreDirectoryForBlockFile(String fileName, int nestingLevel) -->Line_6 $$ String deletedFilePath = storage.getSingularStorageDir().getRoot() + File.separator + BlockPoolSliceStorage.TRASH_ROOT_DIR + blockFileSubdir + blockFileName[ CD ]
Line_2 $$ public void getRestoreDirectoryForBlockFile(String fileName, int nestingLevel) -->Line_5 $$ final String blockFileName = fileName[ CD ]
Line_2 $$ public void getRestoreDirectoryForBlockFile(String fileName, int nestingLevel) -->Line_3 $$ BlockPoolSliceStorage storage = makeBlockPoolStorage()[ CD ]
Line_4 $$ final String blockFileSubdir = makeRandomBlockFileSubdir(nestingLevel)-->Line_7 $$ String expectedRestorePath = storage.getSingularStorageDir().getRoot() + File.separator + Storage.STORAGE_DIR_CURRENT + blockFileSubdir.substring(0, blockFileSubdir.length() - 1)[ FD ]
Line_3 $$ BlockPoolSliceStorage storage = makeBlockPoolStorage()-->Line_9 $$ assertThat(storage.getRestoreDirectory(new File(deletedFilePath)), is(expectedRestorePath))[ FD ]
Line_2 $$ public void getRestoreDirectoryForBlockFile(String fileName, int nestingLevel) -->Line_8 $$ LOG.info("Generated deleted file path " + deletedFilePath)[ CD ]
Line_2 $$ public void getRestoreDirectoryForBlockFile(String fileName, int nestingLevel) -->Line_7 $$ String expectedRestorePath = storage.getSingularStorageDir().getRoot() + File.separator + Storage.STORAGE_DIR_CURRENT + blockFileSubdir.substring(0, blockFileSubdir.length() - 1)[ CD ]
Line_2 $$ public void getRestoreDirectoryForBlockFile(String fileName, int nestingLevel) -->Line_4 $$ final String blockFileSubdir = makeRandomBlockFileSubdir(nestingLevel)[ FD ]
Line_7 $$ String expectedRestorePath = storage.getSingularStorageDir().getRoot() + File.separator + Storage.STORAGE_DIR_CURRENT + blockFileSubdir.substring(0, blockFileSubdir.length() - 1)-->Line_9 $$ assertThat(storage.getRestoreDirectory(new File(deletedFilePath)), is(expectedRestorePath))[ FD ]
Line_2 $$ public void getRestoreDirectoryForBlockFile(String fileName, int nestingLevel) -->Line_9 $$ assertThat(storage.getRestoreDirectory(new File(deletedFilePath)), is(expectedRestorePath))[ CD ]
Line_3 $$ BlockPoolSliceStorage storage = makeBlockPoolStorage()-->Line_6 $$ String deletedFilePath = storage.getSingularStorageDir().getRoot() + File.separator + BlockPoolSliceStorage.TRASH_ROOT_DIR + blockFileSubdir + blockFileName[ FD ]
