Line_8 $$ queryInfo = queryManager.getQueryInfo(queryId)-->Line_19 $$ if (queryInfo.getState().isDone()) [ FD ]
Line_4 $$ QueryInfo queryInfo = queryManager.getQueryInfo(queryId)-->Line_10 $$ if ((data != null) && (queryInfo.getUpdateType() != null) && (updateCount == null) && (columns.size() == 1) && (columns.get(0).getType().equals(StandardTypes.BIGINT))) [ FD ]
Line_8 $$ queryInfo = queryManager.getQueryInfo(queryId)-->Line_32 $$ setSessionProperties = queryInfo.getSetSessionProperties()[ FD ]
Line_2 $$ public synchronized QueryResults getNextResults(UriInfo uriInfo, Duration maxWaitTime) throws InterruptedException -->Line_30 $$ nextResultsUri = createNextResultsUri(uriInfo)[ FD ]
Line_4 $$ QueryInfo queryInfo = queryManager.getQueryInfo(queryId)-->Line_33 $$ resetSessionProperties = queryInfo.getResetSessionProperties()[ FD ]
Line_8 $$ queryInfo = queryManager.getQueryInfo(queryId)-->Line_22 $$ if (queryInfo.getOutputStage() == null) [ FD ]
Line_20 $$ if (queryInfo.getState() != QueryState.FINISHED) -->Line_22 $$ if (queryInfo.getOutputStage() == null) [ CD ]
Line_12 $$ if (iterator.hasNext()) -->Line_14 $$ if (number != null) [ CD ]
Line_11 $$ Iterator<List<Object>> iterator = data.iterator()-->Line_12 $$ if (iterator.hasNext()) [ FD ]
Line_13 $$ Number number = (Number) iterator.next().get(0)-->Line_14 $$ if (number != null) [ FD ]
Line_13 $$ Number number = (Number) iterator.next().get(0)-->Line_15 $$ updateCount = number.longValue()[ FD ]
Line_2 $$ public synchronized QueryResults getNextResults(UriInfo uriInfo, Duration maxWaitTime) throws InterruptedException -->Line_29 $$ if ((!queryInfo.getState().isDone()) || (!exchangeClient.isClosed())) [ CD ]
Line_2 $$ public synchronized QueryResults getNextResults(UriInfo uriInfo, Duration maxWaitTime) throws InterruptedException -->Line_4 $$ QueryInfo queryInfo = queryManager.getQueryInfo(queryId)[ CD ]
Line_4 $$ QueryInfo queryInfo = queryManager.getQueryInfo(queryId)-->Line_29 $$ if ((!queryInfo.getState().isDone()) || (!exchangeClient.isClosed())) [ FD ]
Line_2 $$ public synchronized QueryResults getNextResults(UriInfo uriInfo, Duration maxWaitTime) throws InterruptedException -->Line_35 $$ if (lastResult != null && lastResult.getNextUri() != null) [ CD ]
Line_6 $$ if (exchangeClient.isClosed() && !queryInfo.getState().isDone()) -->Line_7 $$ queryManager.waitForStateChange(queryId, queryInfo.getState(), maxWaitTime)[ CD ]
Line_19 $$ if (queryInfo.getState().isDone()) -->Line_20 $$ if (queryInfo.getState() != QueryState.FINISHED) [ CD ]
Line_2 $$ public synchronized QueryResults getNextResults(UriInfo uriInfo, Duration maxWaitTime) throws InterruptedException -->Line_3 $$ Iterable<List<Object>> data = getData(maxWaitTime)[ CD ]
Line_8 $$ queryInfo = queryManager.getQueryInfo(queryId)-->Line_10 $$ if ((data != null) && (queryInfo.getUpdateType() != null) && (updateCount == null) && (columns.size() == 1) && (columns.get(0).getType().equals(StandardTypes.BIGINT))) [ FD ]
Line_11 $$ Iterator<List<Object>> iterator = data.iterator()-->Line_13 $$ Number number = (Number) iterator.next().get(0)[ FD ]
Line_22 $$ if (queryInfo.getOutputStage() == null) -->Line_24 $$ columns = ImmutableList.of(new Column("result", "boolean", new ClientTypeSignature(StandardTypes.BOOLEAN, ImmutableList.<ClientTypeSignature>of(), ImmutableList.of())))[ CD ]
Line_2 $$ public synchronized QueryResults getNextResults(UriInfo uriInfo, Duration maxWaitTime) throws InterruptedException -->Line_41 $$ return queryResults[ CD ]
Line_10 $$ if ((data != null) && (queryInfo.getUpdateType() != null) && (updateCount == null) && (columns.size() == 1) && (columns.get(0).getType().equals(StandardTypes.BIGINT))) -->Line_11 $$ Iterator<List<Object>> iterator = data.iterator()[ CD ]
Line_2 $$ public synchronized QueryResults getNextResults(UriInfo uriInfo, Duration maxWaitTime) throws InterruptedException -->Line_32 $$ setSessionProperties = queryInfo.getSetSessionProperties()[ CD ]
Line_4 $$ QueryInfo queryInfo = queryManager.getQueryInfo(queryId)-->Line_19 $$ if (queryInfo.getState().isDone()) [ FD ]
Line_4 $$ QueryInfo queryInfo = queryManager.getQueryInfo(queryId)-->Line_20 $$ if (queryInfo.getState() != QueryState.FINISHED) [ FD ]
Line_14 $$ if (number != null) -->Line_15 $$ updateCount = number.longValue()[ CD ]
Line_8 $$ queryInfo = queryManager.getQueryInfo(queryId)-->Line_20 $$ if (queryInfo.getState() != QueryState.FINISHED) [ FD ]
Line_3 $$ Iterable<List<Object>> data = getData(maxWaitTime)-->Line_11 $$ Iterator<List<Object>> iterator = data.iterator()[ FD ]
Line_6 $$ if (exchangeClient.isClosed() && !queryInfo.getState().isDone()) -->Line_8 $$ queryInfo = queryManager.getQueryInfo(queryId)[ CD ]
Line_22 $$ if (queryInfo.getOutputStage() == null) -->Line_25 $$ data = ImmutableSet.<List<Object>>of(ImmutableList.<Object>of(true))[ CD ]
Line_2 $$ public synchronized QueryResults getNextResults(UriInfo uriInfo, Duration maxWaitTime) throws InterruptedException -->Line_34 $$ QueryResults queryResults = new QueryResults(queryId.toString(), uriInfo.getRequestUriBuilder().replaceQuery("").replacePath(queryInfo.getSelf().getPath()).build(), findCancelableLeafStage(queryInfo), nextResultsUri, columns, data, toStatementStats(queryInfo), toQueryError(queryInfo), queryInfo.getUpdateType(), updateCount)[ CD ]
Line_28 $$ URI nextResultsUri = null-->Line_30 $$ nextResultsUri = createNextResultsUri(uriInfo)[ FD ]
Line_22 $$ if (queryInfo.getOutputStage() == null) -->Line_23 $$ exchangeClient.close()[ CD ]
Line_10 $$ if ((data != null) && (queryInfo.getUpdateType() != null) && (updateCount == null) && (columns.size() == 1) && (columns.get(0).getType().equals(StandardTypes.BIGINT))) -->Line_12 $$ if (iterator.hasNext()) [ CD ]
Line_3 $$ Iterable<List<Object>> data = getData(maxWaitTime)-->Line_25 $$ data = ImmutableSet.<List<Object>>of(ImmutableList.<Object>of(true))[ FD ]
Line_2 $$ public synchronized QueryResults getNextResults(UriInfo uriInfo, Duration maxWaitTime) throws InterruptedException -->Line_6 $$ if (exchangeClient.isClosed() && !queryInfo.getState().isDone()) [ CD ]
Line_2 $$ public synchronized QueryResults getNextResults(UriInfo uriInfo, Duration maxWaitTime) throws InterruptedException -->Line_7 $$ queryManager.waitForStateChange(queryId, queryInfo.getState(), maxWaitTime)[ FD ]
Line_2 $$ public synchronized QueryResults getNextResults(UriInfo uriInfo, Duration maxWaitTime) throws InterruptedException -->Line_3 $$ Iterable<List<Object>> data = getData(maxWaitTime)[ FD ]
Line_4 $$ QueryInfo queryInfo = queryManager.getQueryInfo(queryId)-->Line_7 $$ queryManager.waitForStateChange(queryId, queryInfo.getState(), maxWaitTime)[ FD ]
Line_20 $$ if (queryInfo.getState() != QueryState.FINISHED) -->Line_21 $$ exchangeClient.close()[ CD ]
Line_2 $$ public synchronized QueryResults getNextResults(UriInfo uriInfo, Duration maxWaitTime) throws InterruptedException -->Line_33 $$ resetSessionProperties = queryInfo.getResetSessionProperties()[ CD ]
Line_2 $$ public synchronized QueryResults getNextResults(UriInfo uriInfo, Duration maxWaitTime) throws InterruptedException -->Line_19 $$ if (queryInfo.getState().isDone()) [ CD ]
Line_12 $$ if (iterator.hasNext()) -->Line_13 $$ Number number = (Number) iterator.next().get(0)[ CD ]
Line_2 $$ public synchronized QueryResults getNextResults(UriInfo uriInfo, Duration maxWaitTime) throws InterruptedException -->Line_10 $$ if ((data != null) && (queryInfo.getUpdateType() != null) && (updateCount == null) && (columns.size() == 1) && (columns.get(0).getType().equals(StandardTypes.BIGINT))) [ CD ]
Line_29 $$ if ((!queryInfo.getState().isDone()) || (!exchangeClient.isClosed())) -->Line_30 $$ nextResultsUri = createNextResultsUri(uriInfo)[ CD ]
Line_4 $$ QueryInfo queryInfo = queryManager.getQueryInfo(queryId)-->Line_6 $$ if (exchangeClient.isClosed() && !queryInfo.getState().isDone()) [ FD ]
Line_2 $$ public synchronized QueryResults getNextResults(UriInfo uriInfo, Duration maxWaitTime) throws InterruptedException -->Line_28 $$ URI nextResultsUri = null[ CD ]
Line_4 $$ QueryInfo queryInfo = queryManager.getQueryInfo(queryId)-->Line_32 $$ setSessionProperties = queryInfo.getSetSessionProperties()[ FD ]
Line_8 $$ queryInfo = queryManager.getQueryInfo(queryId)-->Line_33 $$ resetSessionProperties = queryInfo.getResetSessionProperties()[ FD ]
Line_4 $$ QueryInfo queryInfo = queryManager.getQueryInfo(queryId)-->Line_34 $$ QueryResults queryResults = new QueryResults(queryId.toString(), uriInfo.getRequestUriBuilder().replaceQuery("").replacePath(queryInfo.getSelf().getPath()).build(), findCancelableLeafStage(queryInfo), nextResultsUri, columns, data, toStatementStats(queryInfo), toQueryError(queryInfo), queryInfo.getUpdateType(), updateCount)[ FD ]
Line_2 $$ public synchronized QueryResults getNextResults(UriInfo uriInfo, Duration maxWaitTime) throws InterruptedException -->Line_34 $$ QueryResults queryResults = new QueryResults(queryId.toString(), uriInfo.getRequestUriBuilder().replaceQuery("").replacePath(queryInfo.getSelf().getPath()).build(), findCancelableLeafStage(queryInfo), nextResultsUri, columns, data, toStatementStats(queryInfo), toQueryError(queryInfo), queryInfo.getUpdateType(), updateCount)[ FD ]
Line_4 $$ QueryInfo queryInfo = queryManager.getQueryInfo(queryId)-->Line_8 $$ queryInfo = queryManager.getQueryInfo(queryId)[ FD ]
Line_8 $$ queryInfo = queryManager.getQueryInfo(queryId)-->Line_34 $$ QueryResults queryResults = new QueryResults(queryId.toString(), uriInfo.getRequestUriBuilder().replaceQuery("").replacePath(queryInfo.getSelf().getPath()).build(), findCancelableLeafStage(queryInfo), nextResultsUri, columns, data, toStatementStats(queryInfo), toQueryError(queryInfo), queryInfo.getUpdateType(), updateCount)[ FD ]
Line_35 $$ if (lastResult != null && lastResult.getNextUri() != null) -->Line_36 $$ lastResultPath = lastResult.getNextUri().getPath()[ CD ]
Line_8 $$ queryInfo = queryManager.getQueryInfo(queryId)-->Line_29 $$ if ((!queryInfo.getState().isDone()) || (!exchangeClient.isClosed())) [ FD ]
Line_2 $$ public synchronized QueryResults getNextResults(UriInfo uriInfo, Duration maxWaitTime) throws InterruptedException -->Line_5 $$ queryManager.recordHeartbeat(queryId)[ CD ]
Line_4 $$ QueryInfo queryInfo = queryManager.getQueryInfo(queryId)-->Line_22 $$ if (queryInfo.getOutputStage() == null) [ FD ]
