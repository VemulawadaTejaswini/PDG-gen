Line_3 $$ List<InetAddress> candidates = new ArrayList(StorageService.instance.getTokenMetadata().cloneAfterAllLeft().getAllEndpoints())-->Line_5 $$ for (Iterator<InetAddress> iter = candidates.iterator(); iter.hasNext(); ) [ FD ]
Line_10 $$ if (candidates.isEmpty()) -->Line_15 $$ InetAddress hintsDestinationHost = candidates.get(0)[ CD ]
Line_5 $$ for (Iterator<InetAddress> iter = candidates.iterator(); iter.hasNext(); ) -->Line_7 $$ if (!FailureDetector.instance.isAlive(address))[ CD ]
Line_5 $$ for (Iterator<InetAddress> iter = candidates.iterator(); iter.hasNext(); ) -->Line_6 $$ InetAddress address = iter.next()[ CD ]
Line_2 $$ private UUID getPreferredHintsStreamTarget() -->Line_10 $$ if (candidates.isEmpty()) [ CD ]
Line_3 $$ List<InetAddress> candidates = new ArrayList(StorageService.instance.getTokenMetadata().cloneAfterAllLeft().getAllEndpoints())-->Line_14 $$ DatabaseDescriptor.getEndpointSnitch().sortByProximity(FBUtilities.getBroadcastAddress(), candidates)[ FD ]
Line_3 $$ List<InetAddress> candidates = new ArrayList(StorageService.instance.getTokenMetadata().cloneAfterAllLeft().getAllEndpoints())-->Line_15 $$ InetAddress hintsDestinationHost = candidates.get(0)[ FD ]
Line_7 $$ if (!FailureDetector.instance.isAlive(address))-->Line_8 $$ iter.remove()[ CD ]
Line_15 $$ InetAddress hintsDestinationHost = candidates.get(0)-->Line_16 $$ InetAddress preferred = SystemKeyspace.getPreferredIP(hintsDestinationHost)[ FD ]
Line_2 $$ private UUID getPreferredHintsStreamTarget() -->Line_5 $$ for (Iterator<InetAddress> iter = candidates.iterator(); iter.hasNext(); ) [ CD ]
Line_5 $$ for (Iterator<InetAddress> iter = candidates.iterator(); iter.hasNext(); ) -->Line_6 $$ InetAddress address = iter.next()[ FD ]
Line_3 $$ List<InetAddress> candidates = new ArrayList(StorageService.instance.getTokenMetadata().cloneAfterAllLeft().getAllEndpoints())-->Line_4 $$ candidates.remove(FBUtilities.getBroadcastAddress())[ FD ]
Line_10 $$ if (candidates.isEmpty()) -->Line_16 $$ InetAddress preferred = SystemKeyspace.getPreferredIP(hintsDestinationHost)[ CD ]
Line_2 $$ private UUID getPreferredHintsStreamTarget() -->Line_4 $$ candidates.remove(FBUtilities.getBroadcastAddress())[ CD ]
Line_2 $$ private UUID getPreferredHintsStreamTarget() -->Line_3 $$ List<InetAddress> candidates = new ArrayList(StorageService.instance.getTokenMetadata().cloneAfterAllLeft().getAllEndpoints())[ CD ]
Line_5 $$ for (Iterator<InetAddress> iter = candidates.iterator(); iter.hasNext(); ) -->Line_8 $$ iter.remove()[ FD ]
Line_6 $$ InetAddress address = iter.next()-->Line_7 $$ if (!FailureDetector.instance.isAlive(address))[ FD ]
Line_10 $$ if (candidates.isEmpty()) -->Line_11 $$ logger.warn("Unable to stream hints since no live endpoints seen")[ CD ]
Line_3 $$ List<InetAddress> candidates = new ArrayList(StorageService.instance.getTokenMetadata().cloneAfterAllLeft().getAllEndpoints())-->Line_10 $$ if (candidates.isEmpty()) [ FD ]
Line_10 $$ if (candidates.isEmpty()) -->Line_17 $$ return tokenMetadata.getHostId(preferred)[ CD ]
Line_16 $$ InetAddress preferred = SystemKeyspace.getPreferredIP(hintsDestinationHost)-->Line_17 $$ return tokenMetadata.getHostId(preferred)[ FD ]
Line_10 $$ if (candidates.isEmpty()) -->Line_14 $$ DatabaseDescriptor.getEndpointSnitch().sortByProximity(FBUtilities.getBroadcastAddress(), candidates)[ CD ]
