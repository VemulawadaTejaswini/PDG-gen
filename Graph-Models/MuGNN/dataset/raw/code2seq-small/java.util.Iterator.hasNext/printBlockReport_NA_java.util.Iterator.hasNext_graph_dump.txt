Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_40 $$ double pctProgress = (totalBytesToScan == 0) ? 100 : (totalBytesToScan - bytesLeft) * 100.0 / totalBytesToScan[ CD ]
Line_10 $$ int inFourWeeks = 0-->Line_41 $$ buffer.append(String.format("%nTotal Blocks                 : %6d" + "%nVerified in last hour        : %6d" + "%nVerified in last day         : %6d" + "%nVerified in last week        : %6d" + "%nVerified in last four weeks  : %6d" + "%nVerified in SCAN_PERIOD      : %6d" + "%nNot yet verified             : %6d" + "%nVerified since restart       : %6d" + "%nScans since restart          : %6d" + "%nScan errors since restart    : %6d" + "%nTransient scan errors        : %6d" + "%nCurrent scan rate limit KBps : %6d" + "%nProgress this period         : %6.0f%%" + "%nTime left in cur period      : %6.2f%%" + "%n", total, inOneHour, inOneDay, inOneWeek, inFourWeeks, inScanPeriod, neverScanned, totalScans, totalScans, totalScanErrors, totalTransientErrors, Math.round(throttler.getBandwidth() / 1024.0), pctProgress, pctPeriodLeft))[ FD ]
Line_7 $$ int inOneHour = 0-->Line_41 $$ buffer.append(String.format("%nTotal Blocks                 : %6d" + "%nVerified in last hour        : %6d" + "%nVerified in last day         : %6d" + "%nVerified in last week        : %6d" + "%nVerified in last four weeks  : %6d" + "%nVerified in SCAN_PERIOD      : %6d" + "%nNot yet verified             : %6d" + "%nVerified since restart       : %6d" + "%nScans since restart          : %6d" + "%nScan errors since restart    : %6d" + "%nTransient scan errors        : %6d" + "%nCurrent scan rate limit KBps : %6d" + "%nProgress this period         : %6.0f%%" + "%nTime left in cur period      : %6.2f%%" + "%n", total, inOneHour, inOneDay, inOneWeek, inFourWeeks, inScanPeriod, neverScanned, totalScans, totalScans, totalScanErrors, totalTransientErrors, Math.round(throttler.getBandwidth() / 1024.0), pctProgress, pctPeriodLeft))[ FD ]
Line_3 $$ long oneHour = 3600 * 1000-->Line_21 $$ if (diff <= oneHour)[ FD ]
Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_17 $$ for (Iterator<BlockScanInfo> it = blockInfoSet.iterator(); it.hasNext(); ) [ CD ]
Line_8 $$ int inOneDay = 0-->Line_24 $$ inOneDay++[ FD ]
Line_10 $$ int inFourWeeks = 0-->Line_28 $$ inFourWeeks++[ FD ]
Line_23 $$ if (diff <= oneDay)-->Line_24 $$ inOneDay++[ CD ]
Line_19 $$ long scanTime = info.getLastScanTime()-->Line_34 $$ date.setTime(scanTime)[ FD ]
Line_27 $$ if (diff <= fourWeeks)-->Line_28 $$ inFourWeeks++[ CD ]
Line_21 $$ if (diff <= oneHour)-->Line_22 $$ inOneHour++[ CD ]
Line_29 $$ if (diff <= scanPeriod)-->Line_30 $$ inScanPeriod++[ CD ]
Line_33 $$ if (!summaryOnly) -->Line_34 $$ date.setTime(scanTime)[ CD ]
Line_17 $$ for (Iterator<BlockScanInfo> it = blockInfoSet.iterator(); it.hasNext(); ) -->Line_21 $$ if (diff <= oneHour)[ CD ]
Line_20 $$ long diff = now - scanTime-->Line_23 $$ if (diff <= oneDay)[ FD ]
Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_7 $$ int inOneHour = 0[ CD ]
Line_6 $$ long fourWeeks = 4 * oneWeek-->Line_27 $$ if (diff <= fourWeeks)[ FD ]
Line_9 $$ int inOneWeek = 0-->Line_26 $$ inOneWeek++[ FD ]
Line_16 $$ Date date = new Date()-->Line_34 $$ date.setTime(scanTime)[ FD ]
Line_5 $$ long oneWeek = 7 * oneDay-->Line_25 $$ if (diff <= oneWeek)[ FD ]
Line_12 $$ int neverScanned = 0-->Line_41 $$ buffer.append(String.format("%nTotal Blocks                 : %6d" + "%nVerified in last hour        : %6d" + "%nVerified in last day         : %6d" + "%nVerified in last week        : %6d" + "%nVerified in last four weeks  : %6d" + "%nVerified in SCAN_PERIOD      : %6d" + "%nNot yet verified             : %6d" + "%nVerified since restart       : %6d" + "%nScans since restart          : %6d" + "%nScan errors since restart    : %6d" + "%nTransient scan errors        : %6d" + "%nCurrent scan rate limit KBps : %6d" + "%nProgress this period         : %6.0f%%" + "%nTime left in cur period      : %6.2f%%" + "%n", total, inOneHour, inOneDay, inOneWeek, inFourWeeks, inScanPeriod, neverScanned, totalScans, totalScans, totalScanErrors, totalTransientErrors, Math.round(throttler.getBandwidth() / 1024.0), pctProgress, pctPeriodLeft))[ FD ]
Line_25 $$ if (diff <= oneWeek)-->Line_26 $$ inOneWeek++[ CD ]
Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_5 $$ long oneWeek = 7 * oneDay[ CD ]
Line_4 $$ long oneDay = 24 * oneHour-->Line_23 $$ if (diff <= oneDay)[ FD ]
Line_12 $$ int neverScanned = 0-->Line_32 $$ neverScanned++[ FD ]
Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_13 $$ DateFormat dateFormat = new SimpleDateFormat(DATA_FORMAT)[ CD ]
Line_17 $$ for (Iterator<BlockScanInfo> it = blockInfoSet.iterator(); it.hasNext(); ) -->Line_18 $$ BlockScanInfo info = it.next()[ FD ]
Line_31 $$ if (scanTime <= 0)-->Line_32 $$ neverScanned++[ CD ]
Line_18 $$ BlockScanInfo info = it.next()-->Line_36 $$ buffer.append(String.format("%-26s : status : %-6s type : %-6s" + " scan time : " + "%-15d %s%n", info, (info.lastScanOk ? "ok" : "failed"), scanType, scanTime, (scanTime <= 0) ? "not yet verified" : dateFormat.format(date)))[ FD ]
Line_17 $$ for (Iterator<BlockScanInfo> it = blockInfoSet.iterator(); it.hasNext(); ) -->Line_23 $$ if (diff <= oneDay)[ CD ]
Line_18 $$ BlockScanInfo info = it.next()-->Line_19 $$ long scanTime = info.getLastScanTime()[ FD ]
Line_20 $$ long diff = now - scanTime-->Line_27 $$ if (diff <= fourWeeks)[ FD ]
Line_40 $$ double pctProgress = (totalBytesToScan == 0) ? 100 : (totalBytesToScan - bytesLeft) * 100.0 / totalBytesToScan-->Line_41 $$ buffer.append(String.format("%nTotal Blocks                 : %6d" + "%nVerified in last hour        : %6d" + "%nVerified in last day         : %6d" + "%nVerified in last week        : %6d" + "%nVerified in last four weeks  : %6d" + "%nVerified in SCAN_PERIOD      : %6d" + "%nNot yet verified             : %6d" + "%nVerified since restart       : %6d" + "%nScans since restart          : %6d" + "%nScan errors since restart    : %6d" + "%nTransient scan errors        : %6d" + "%nCurrent scan rate limit KBps : %6d" + "%nProgress this period         : %6.0f%%" + "%nTime left in cur period      : %6.2f%%" + "%n", total, inOneHour, inOneDay, inOneWeek, inFourWeeks, inScanPeriod, neverScanned, totalScans, totalScans, totalScanErrors, totalTransientErrors, Math.round(throttler.getBandwidth() / 1024.0), pctProgress, pctPeriodLeft))[ FD ]
Line_20 $$ long diff = now - scanTime-->Line_25 $$ if (diff <= oneWeek)[ FD ]
Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_3 $$ long oneHour = 3600 * 1000[ CD ]
Line_33 $$ if (!summaryOnly) -->Line_36 $$ buffer.append(String.format("%-26s : status : %-6s type : %-6s" + " scan time : " + "%-15d %s%n", info, (info.lastScanOk ? "ok" : "failed"), scanType, scanTime, (scanTime <= 0) ? "not yet verified" : dateFormat.format(date)))[ CD ]
Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_12 $$ int neverScanned = 0[ CD ]
Line_9 $$ int inOneWeek = 0-->Line_41 $$ buffer.append(String.format("%nTotal Blocks                 : %6d" + "%nVerified in last hour        : %6d" + "%nVerified in last day         : %6d" + "%nVerified in last week        : %6d" + "%nVerified in last four weeks  : %6d" + "%nVerified in SCAN_PERIOD      : %6d" + "%nNot yet verified             : %6d" + "%nVerified since restart       : %6d" + "%nScans since restart          : %6d" + "%nScan errors since restart    : %6d" + "%nTransient scan errors        : %6d" + "%nCurrent scan rate limit KBps : %6d" + "%nProgress this period         : %6.0f%%" + "%nTime left in cur period      : %6.2f%%" + "%n", total, inOneHour, inOneDay, inOneWeek, inFourWeeks, inScanPeriod, neverScanned, totalScans, totalScans, totalScanErrors, totalTransientErrors, Math.round(throttler.getBandwidth() / 1024.0), pctProgress, pctPeriodLeft))[ FD ]
Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_9 $$ int inOneWeek = 0[ CD ]
Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_14 $$ int total = blockInfoSet.size()[ CD ]
Line_17 $$ for (Iterator<BlockScanInfo> it = blockInfoSet.iterator(); it.hasNext(); ) -->Line_19 $$ long scanTime = info.getLastScanTime()[ CD ]
Line_20 $$ long diff = now - scanTime-->Line_21 $$ if (diff <= oneHour)[ FD ]
Line_7 $$ int inOneHour = 0-->Line_22 $$ inOneHour++[ FD ]
Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_16 $$ Date date = new Date()[ CD ]
Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_10 $$ int inFourWeeks = 0[ CD ]
Line_11 $$ int inScanPeriod = 0-->Line_41 $$ buffer.append(String.format("%nTotal Blocks                 : %6d" + "%nVerified in last hour        : %6d" + "%nVerified in last day         : %6d" + "%nVerified in last week        : %6d" + "%nVerified in last four weeks  : %6d" + "%nVerified in SCAN_PERIOD      : %6d" + "%nNot yet verified             : %6d" + "%nVerified since restart       : %6d" + "%nScans since restart          : %6d" + "%nScan errors since restart    : %6d" + "%nTransient scan errors        : %6d" + "%nCurrent scan rate limit KBps : %6d" + "%nProgress this period         : %6.0f%%" + "%nTime left in cur period      : %6.2f%%" + "%n", total, inOneHour, inOneDay, inOneWeek, inFourWeeks, inScanPeriod, neverScanned, totalScans, totalScans, totalScanErrors, totalTransientErrors, Math.round(throttler.getBandwidth() / 1024.0), pctProgress, pctPeriodLeft))[ FD ]
Line_19 $$ long scanTime = info.getLastScanTime()-->Line_31 $$ if (scanTime <= 0)[ FD ]
Line_20 $$ long diff = now - scanTime-->Line_29 $$ if (diff <= scanPeriod)[ FD ]
Line_19 $$ long scanTime = info.getLastScanTime()-->Line_36 $$ buffer.append(String.format("%-26s : status : %-6s type : %-6s" + " scan time : " + "%-15d %s%n", info, (info.lastScanOk ? "ok" : "failed"), scanType, scanTime, (scanTime <= 0) ? "not yet verified" : dateFormat.format(date)))[ FD ]
Line_13 $$ DateFormat dateFormat = new SimpleDateFormat(DATA_FORMAT)-->Line_36 $$ buffer.append(String.format("%-26s : status : %-6s type : %-6s" + " scan time : " + "%-15d %s%n", info, (info.lastScanOk ? "ok" : "failed"), scanType, scanTime, (scanTime <= 0) ? "not yet verified" : dateFormat.format(date)))[ FD ]
Line_17 $$ for (Iterator<BlockScanInfo> it = blockInfoSet.iterator(); it.hasNext(); ) -->Line_20 $$ long diff = now - scanTime[ CD ]
Line_17 $$ for (Iterator<BlockScanInfo> it = blockInfoSet.iterator(); it.hasNext(); ) -->Line_27 $$ if (diff <= fourWeeks)[ CD ]
Line_16 $$ Date date = new Date()-->Line_36 $$ buffer.append(String.format("%-26s : status : %-6s type : %-6s" + " scan time : " + "%-15d %s%n", info, (info.lastScanOk ? "ok" : "failed"), scanType, scanTime, (scanTime <= 0) ? "not yet verified" : dateFormat.format(date)))[ FD ]
Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_6 $$ long fourWeeks = 4 * oneWeek[ CD ]
Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_41 $$ buffer.append(String.format("%nTotal Blocks                 : %6d" + "%nVerified in last hour        : %6d" + "%nVerified in last day         : %6d" + "%nVerified in last week        : %6d" + "%nVerified in last four weeks  : %6d" + "%nVerified in SCAN_PERIOD      : %6d" + "%nNot yet verified             : %6d" + "%nVerified since restart       : %6d" + "%nScans since restart          : %6d" + "%nScan errors since restart    : %6d" + "%nTransient scan errors        : %6d" + "%nCurrent scan rate limit KBps : %6d" + "%nProgress this period         : %6.0f%%" + "%nTime left in cur period      : %6.2f%%" + "%n", total, inOneHour, inOneDay, inOneWeek, inFourWeeks, inScanPeriod, neverScanned, totalScans, totalScans, totalScanErrors, totalTransientErrors, Math.round(throttler.getBandwidth() / 1024.0), pctProgress, pctPeriodLeft))[ CD ]
Line_14 $$ int total = blockInfoSet.size()-->Line_41 $$ buffer.append(String.format("%nTotal Blocks                 : %6d" + "%nVerified in last hour        : %6d" + "%nVerified in last day         : %6d" + "%nVerified in last week        : %6d" + "%nVerified in last four weeks  : %6d" + "%nVerified in SCAN_PERIOD      : %6d" + "%nNot yet verified             : %6d" + "%nVerified since restart       : %6d" + "%nScans since restart          : %6d" + "%nScan errors since restart    : %6d" + "%nTransient scan errors        : %6d" + "%nCurrent scan rate limit KBps : %6d" + "%nProgress this period         : %6.0f%%" + "%nTime left in cur period      : %6.2f%%" + "%n", total, inOneHour, inOneDay, inOneWeek, inFourWeeks, inScanPeriod, neverScanned, totalScans, totalScans, totalScanErrors, totalTransientErrors, Math.round(throttler.getBandwidth() / 1024.0), pctProgress, pctPeriodLeft))[ FD ]
Line_39 $$ double pctPeriodLeft = (scanPeriod + currentPeriodStart - now) * 100.0 / scanPeriod-->Line_41 $$ buffer.append(String.format("%nTotal Blocks                 : %6d" + "%nVerified in last hour        : %6d" + "%nVerified in last day         : %6d" + "%nVerified in last week        : %6d" + "%nVerified in last four weeks  : %6d" + "%nVerified in SCAN_PERIOD      : %6d" + "%nNot yet verified             : %6d" + "%nVerified since restart       : %6d" + "%nScans since restart          : %6d" + "%nScan errors since restart    : %6d" + "%nTransient scan errors        : %6d" + "%nCurrent scan rate limit KBps : %6d" + "%nProgress this period         : %6.0f%%" + "%nTime left in cur period      : %6.2f%%" + "%n", total, inOneHour, inOneDay, inOneWeek, inFourWeeks, inScanPeriod, neverScanned, totalScans, totalScans, totalScanErrors, totalTransientErrors, Math.round(throttler.getBandwidth() / 1024.0), pctProgress, pctPeriodLeft))[ FD ]
Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_15 $$ long now = Time.monotonicNow()[ CD ]
Line_17 $$ for (Iterator<BlockScanInfo> it = blockInfoSet.iterator(); it.hasNext(); ) -->Line_25 $$ if (diff <= oneWeek)[ CD ]
Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_33 $$ if (!summaryOnly) [ FD ]
Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_4 $$ long oneDay = 24 * oneHour[ CD ]
Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_36 $$ buffer.append(String.format("%-26s : status : %-6s type : %-6s" + " scan time : " + "%-15d %s%n", info, (info.lastScanOk ? "ok" : "failed"), scanType, scanTime, (scanTime <= 0) ? "not yet verified" : dateFormat.format(date)))[ FD ]
Line_35 $$ String scanType = (info.lastScanType == ScanType.VERIFICATION_SCAN) ? "local" : "none"-->Line_36 $$ buffer.append(String.format("%-26s : status : %-6s type : %-6s" + " scan time : " + "%-15d %s%n", info, (info.lastScanOk ? "ok" : "failed"), scanType, scanTime, (scanTime <= 0) ? "not yet verified" : dateFormat.format(date)))[ FD ]
Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_11 $$ int inScanPeriod = 0[ CD ]
Line_17 $$ for (Iterator<BlockScanInfo> it = blockInfoSet.iterator(); it.hasNext(); ) -->Line_29 $$ if (diff <= scanPeriod)[ CD ]
Line_11 $$ int inScanPeriod = 0-->Line_30 $$ inScanPeriod++[ FD ]
Line_17 $$ for (Iterator<BlockScanInfo> it = blockInfoSet.iterator(); it.hasNext(); ) -->Line_31 $$ if (scanTime <= 0)[ CD ]
Line_33 $$ if (!summaryOnly) -->Line_35 $$ String scanType = (info.lastScanType == ScanType.VERIFICATION_SCAN) ? "local" : "none"[ CD ]
Line_17 $$ for (Iterator<BlockScanInfo> it = blockInfoSet.iterator(); it.hasNext(); ) -->Line_33 $$ if (!summaryOnly) [ CD ]
Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_39 $$ double pctPeriodLeft = (scanPeriod + currentPeriodStart - now) * 100.0 / scanPeriod[ CD ]
Line_17 $$ for (Iterator<BlockScanInfo> it = blockInfoSet.iterator(); it.hasNext(); ) -->Line_18 $$ BlockScanInfo info = it.next()[ CD ]
Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_41 $$ buffer.append(String.format("%nTotal Blocks                 : %6d" + "%nVerified in last hour        : %6d" + "%nVerified in last day         : %6d" + "%nVerified in last week        : %6d" + "%nVerified in last four weeks  : %6d" + "%nVerified in SCAN_PERIOD      : %6d" + "%nNot yet verified             : %6d" + "%nVerified since restart       : %6d" + "%nScans since restart          : %6d" + "%nScan errors since restart    : %6d" + "%nTransient scan errors        : %6d" + "%nCurrent scan rate limit KBps : %6d" + "%nProgress this period         : %6.0f%%" + "%nTime left in cur period      : %6.2f%%" + "%n", total, inOneHour, inOneDay, inOneWeek, inFourWeeks, inScanPeriod, neverScanned, totalScans, totalScans, totalScanErrors, totalTransientErrors, Math.round(throttler.getBandwidth() / 1024.0), pctProgress, pctPeriodLeft))[ FD ]
Line_8 $$ int inOneDay = 0-->Line_41 $$ buffer.append(String.format("%nTotal Blocks                 : %6d" + "%nVerified in last hour        : %6d" + "%nVerified in last day         : %6d" + "%nVerified in last week        : %6d" + "%nVerified in last four weeks  : %6d" + "%nVerified in SCAN_PERIOD      : %6d" + "%nNot yet verified             : %6d" + "%nVerified since restart       : %6d" + "%nScans since restart          : %6d" + "%nScan errors since restart    : %6d" + "%nTransient scan errors        : %6d" + "%nCurrent scan rate limit KBps : %6d" + "%nProgress this period         : %6.0f%%" + "%nTime left in cur period      : %6.2f%%" + "%n", total, inOneHour, inOneDay, inOneWeek, inFourWeeks, inScanPeriod, neverScanned, totalScans, totalScans, totalScanErrors, totalTransientErrors, Math.round(throttler.getBandwidth() / 1024.0), pctProgress, pctPeriodLeft))[ FD ]
Line_2 $$ synchronized void printBlockReport(StringBuilder buffer, boolean summaryOnly) -->Line_8 $$ int inOneDay = 0[ CD ]
