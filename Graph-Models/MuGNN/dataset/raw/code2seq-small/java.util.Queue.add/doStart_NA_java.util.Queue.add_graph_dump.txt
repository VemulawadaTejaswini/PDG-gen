Line_57 $$ firstMaster.clusterService.submitStateUpdateTask("local-disco-receive(from node[" + localNode + "])", new ClusterStateUpdateTask() -->Line_67 $$ return ClusterState.builder(currentState).nodes(nodesBuilder).build()[ CD ]
Line_57 $$ firstMaster.clusterService.submitStateUpdateTask("local-disco-receive(from node[" + localNode + "])", new ClusterStateUpdateTask() -->Line_73 $$ sendInitialStateEventIfNeeded()[ CD ]
Line_6 $$ clusterGroup = new ClusterGroup()-->Line_11 $$ clusterGroup.members().add(this)[ FD ]
Line_22 $$ clusterService.submitStateUpdateTask("local-disco-initial_connect(master)", new ClusterStateUpdateTask() -->Line_39 $$ sendInitialStateEventIfNeeded()[ CD ]
Line_12 $$ LocalDiscovery firstMaster = null-->Line_15 $$ firstMaster = localDiscovery[ FD ]
Line_14 $$ if (localDiscovery.localNode().masterNode()) -->Line_15 $$ firstMaster = localDiscovery[ CD ]
Line_4 $$ ClusterGroup clusterGroup = clusterGroups.get(clusterName)-->Line_5 $$ if (clusterGroup == null) [ FD ]
Line_19 $$ if (firstMaster != null && firstMaster.equals(this)) -->Line_42 $$ if (firstMaster != null) [ CD ]
Line_42 $$ if (firstMaster != null) -->Line_43 $$ final ClusterState masterState = firstMaster.clusterService.state()[ CD ]
Line_27 $$ DiscoveryNodes.Builder nodesBuilder = DiscoveryNodes.builder()-->Line_67 $$ return ClusterState.builder(currentState).nodes(nodesBuilder).build()[ FD ]
Line_27 $$ DiscoveryNodes.Builder nodesBuilder = DiscoveryNodes.builder()-->Line_31 $$ nodesBuilder.localNodeId(master.localNode().id()).masterNodeId(master.localNode().id())[ FD ]
Line_42 $$ if (firstMaster != null) -->Line_44 $$ clusterService.submitStateUpdateTask("local-disco(detected_master)", new ClusterStateUpdateTask() [ CD ]
Line_22 $$ clusterService.submitStateUpdateTask("local-disco-initial_connect(master)", new ClusterStateUpdateTask() -->Line_49 $$ DiscoveryNodes.Builder nodesBuilder = DiscoveryNodes.builder(currentState.nodes()).put(localNode).localNodeId(localNode.id())[ FD ]
Line_57 $$ firstMaster.clusterService.submitStateUpdateTask("local-disco-receive(from node[" + localNode + "])", new ClusterStateUpdateTask() -->Line_70 $$ logger.error("unexpected failure during [[ FD ]
Line_49 $$ DiscoveryNodes.Builder nodesBuilder = DiscoveryNodes.builder(currentState.nodes()).put(localNode).localNodeId(localNode.id())-->Line_64 $$ nodesBuilder.put(discovery.localNode)[ FD ]
Line_22 $$ clusterService.submitStateUpdateTask("local-disco-initial_connect(master)", new ClusterStateUpdateTask() -->Line_50 $$ return ClusterState.builder(currentState).metaData(masterState.metaData()).nodes(nodesBuilder).build()[ FD ]
Line_21 $$ final LocalDiscovery master = firstMaster-->Line_66 $$ nodesBuilder.localNodeId(master.localNode().id()).masterNodeId(master.localNode().id())[ FD ]
Line_49 $$ DiscoveryNodes.Builder nodesBuilder = DiscoveryNodes.builder(currentState.nodes()).put(localNode).localNodeId(localNode.id())-->Line_50 $$ return ClusterState.builder(currentState).metaData(masterState.metaData()).nodes(nodesBuilder).build()[ FD ]
Line_44 $$ clusterService.submitStateUpdateTask("local-disco(detected_master)", new ClusterStateUpdateTask() -->Line_50 $$ return ClusterState.builder(currentState).metaData(masterState.metaData()).nodes(nodesBuilder).build()[ FD ]
Line_6 $$ clusterGroup = new ClusterGroup()-->Line_7 $$ clusterGroups.put(clusterName, clusterGroup)[ FD ]
Line_27 $$ DiscoveryNodes.Builder nodesBuilder = DiscoveryNodes.builder()-->Line_33 $$ return ClusterState.builder(currentState).nodes(nodesBuilder).blocks(blocks).build()[ FD ]
Line_27 $$ DiscoveryNodes.Builder nodesBuilder = DiscoveryNodes.builder()-->Line_29 $$ nodesBuilder.put(discovery.localNode)[ FD ]
Line_44 $$ clusterService.submitStateUpdateTask("local-disco(detected_master)", new ClusterStateUpdateTask() -->Line_46 $$ return false[ CD ]
Line_44 $$ clusterService.submitStateUpdateTask("local-disco(detected_master)", new ClusterStateUpdateTask() -->Line_49 $$ DiscoveryNodes.Builder nodesBuilder = DiscoveryNodes.builder(currentState.nodes()).put(localNode).localNodeId(localNode.id())[ CD ]
Line_57 $$ firstMaster.clusterService.submitStateUpdateTask("local-disco-receive(from node[" + localNode + "])", new ClusterStateUpdateTask() -->Line_62 $$ DiscoveryNodes.Builder nodesBuilder = DiscoveryNodes.builder()[ CD ]
Line_13 $$ for (LocalDiscovery localDiscovery : clusterGroup.members()) -->Line_14 $$ if (localDiscovery.localNode().masterNode()) [ FD ]
Line_19 $$ if (firstMaster != null && firstMaster.equals(this)) -->Line_22 $$ clusterService.submitStateUpdateTask("local-disco-initial_connect(master)", new ClusterStateUpdateTask() [ CD ]
Line_62 $$ DiscoveryNodes.Builder nodesBuilder = DiscoveryNodes.builder()-->Line_66 $$ nodesBuilder.localNodeId(master.localNode().id()).masterNodeId(master.localNode().id())[ FD ]
Line_19 $$ if (firstMaster != null && firstMaster.equals(this)) -->Line_21 $$ final LocalDiscovery master = firstMaster[ CD ]
Line_15 $$ firstMaster = localDiscovery-->Line_42 $$ if (firstMaster != null) [ FD ]
Line_62 $$ DiscoveryNodes.Builder nodesBuilder = DiscoveryNodes.builder()-->Line_64 $$ nodesBuilder.put(discovery.localNode)[ FD ]
Line_57 $$ firstMaster.clusterService.submitStateUpdateTask("local-disco-receive(from node[" + localNode + "])", new ClusterStateUpdateTask() -->Line_70 $$ logger.error("unexpected failure during [[ CD ]
Line_57 $$ firstMaster.clusterService.submitStateUpdateTask("local-disco-receive(from node[" + localNode + "])", new ClusterStateUpdateTask() -->Line_74 $$ master.routingService.reroute("post_node_add")[ CD ]
Line_44 $$ clusterService.submitStateUpdateTask("local-disco(detected_master)", new ClusterStateUpdateTask() -->Line_53 $$ logger.error("unexpected failure during [[ FD ]
Line_22 $$ clusterService.submitStateUpdateTask("local-disco-initial_connect(master)", new ClusterStateUpdateTask() -->Line_32 $$ ClusterBlocks.Builder blocks = ClusterBlocks.builder().blocks(currentState.blocks()).removeGlobalBlock(discoverySettings.getNoMasterBlock())[ CD ]
Line_13 $$ for (LocalDiscovery localDiscovery : clusterGroup.members()) -->Line_15 $$ firstMaster = localDiscovery[ FD ]
Line_4 $$ ClusterGroup clusterGroup = clusterGroups.get(clusterName)-->Line_13 $$ for (LocalDiscovery localDiscovery : clusterGroup.members()) [ FD ]
Line_22 $$ clusterService.submitStateUpdateTask("local-disco-initial_connect(master)", new ClusterStateUpdateTask() -->Line_33 $$ return ClusterState.builder(currentState).nodes(nodesBuilder).blocks(blocks).build()[ FD ]
Line_57 $$ firstMaster.clusterService.submitStateUpdateTask("local-disco-receive(from node[" + localNode + "])", new ClusterStateUpdateTask() -->Line_59 $$ return false[ CD ]
Line_62 $$ DiscoveryNodes.Builder nodesBuilder = DiscoveryNodes.builder()-->Line_67 $$ return ClusterState.builder(currentState).nodes(nodesBuilder).build()[ FD ]
Line_27 $$ DiscoveryNodes.Builder nodesBuilder = DiscoveryNodes.builder()-->Line_50 $$ return ClusterState.builder(currentState).metaData(masterState.metaData()).nodes(nodesBuilder).build()[ FD ]
Line_44 $$ clusterService.submitStateUpdateTask("local-disco(detected_master)", new ClusterStateUpdateTask() -->Line_53 $$ logger.error("unexpected failure during [[ CD ]
Line_12 $$ LocalDiscovery firstMaster = null-->Line_42 $$ if (firstMaster != null) [ FD ]
Line_44 $$ clusterService.submitStateUpdateTask("local-disco(detected_master)", new ClusterStateUpdateTask() -->Line_50 $$ return ClusterState.builder(currentState).metaData(masterState.metaData()).nodes(nodesBuilder).build()[ CD ]
Line_22 $$ clusterService.submitStateUpdateTask("local-disco-initial_connect(master)", new ClusterStateUpdateTask() -->Line_36 $$ logger.error("unexpected failure during [[ CD ]
Line_44 $$ clusterService.submitStateUpdateTask("local-disco(detected_master)", new ClusterStateUpdateTask() -->Line_70 $$ logger.error("unexpected failure during [[ FD ]
Line_21 $$ final LocalDiscovery master = firstMaster-->Line_31 $$ nodesBuilder.localNodeId(master.localNode().id()).masterNodeId(master.localNode().id())[ FD ]
Line_27 $$ DiscoveryNodes.Builder nodesBuilder = DiscoveryNodes.builder()-->Line_64 $$ nodesBuilder.put(discovery.localNode)[ FD ]
Line_44 $$ clusterService.submitStateUpdateTask("local-disco(detected_master)", new ClusterStateUpdateTask() -->Line_49 $$ DiscoveryNodes.Builder nodesBuilder = DiscoveryNodes.builder(currentState.nodes()).put(localNode).localNodeId(localNode.id())[ FD ]
Line_27 $$ DiscoveryNodes.Builder nodesBuilder = DiscoveryNodes.builder()-->Line_66 $$ nodesBuilder.localNodeId(master.localNode().id()).masterNodeId(master.localNode().id())[ FD ]
Line_22 $$ clusterService.submitStateUpdateTask("local-disco-initial_connect(master)", new ClusterStateUpdateTask() -->Line_33 $$ return ClusterState.builder(currentState).nodes(nodesBuilder).blocks(blocks).build()[ CD ]
Line_22 $$ clusterService.submitStateUpdateTask("local-disco-initial_connect(master)", new ClusterStateUpdateTask() -->Line_31 $$ nodesBuilder.localNodeId(master.localNode().id()).masterNodeId(master.localNode().id())[ CD ]
Line_5 $$ if (clusterGroup == null) -->Line_7 $$ clusterGroups.put(clusterName, clusterGroup)[ CD ]
Line_4 $$ ClusterGroup clusterGroup = clusterGroups.get(clusterName)-->Line_11 $$ clusterGroup.members().add(this)[ FD ]
Line_22 $$ clusterService.submitStateUpdateTask("local-disco-initial_connect(master)", new ClusterStateUpdateTask() -->Line_70 $$ logger.error("unexpected failure during [[ FD ]
Line_22 $$ clusterService.submitStateUpdateTask("local-disco-initial_connect(master)", new ClusterStateUpdateTask() -->Line_32 $$ ClusterBlocks.Builder blocks = ClusterBlocks.builder().blocks(currentState.blocks()).removeGlobalBlock(discoverySettings.getNoMasterBlock())[ FD ]
Line_12 $$ LocalDiscovery firstMaster = null-->Line_19 $$ if (firstMaster != null && firstMaster.equals(this)) [ FD ]
Line_6 $$ clusterGroup = new ClusterGroup()-->Line_13 $$ for (LocalDiscovery localDiscovery : clusterGroup.members()) [ FD ]
Line_57 $$ firstMaster.clusterService.submitStateUpdateTask("local-disco-receive(from node[" + localNode + "])", new ClusterStateUpdateTask() -->Line_67 $$ return ClusterState.builder(currentState).nodes(nodesBuilder).build()[ FD ]
Line_22 $$ clusterService.submitStateUpdateTask("local-disco-initial_connect(master)", new ClusterStateUpdateTask() -->Line_24 $$ return false[ CD ]
Line_5 $$ if (clusterGroup == null) -->Line_6 $$ clusterGroup = new ClusterGroup()[ CD ]
Line_44 $$ clusterService.submitStateUpdateTask("local-disco(detected_master)", new ClusterStateUpdateTask() -->Line_67 $$ return ClusterState.builder(currentState).nodes(nodesBuilder).build()[ FD ]
Line_22 $$ clusterService.submitStateUpdateTask("local-disco-initial_connect(master)", new ClusterStateUpdateTask() -->Line_67 $$ return ClusterState.builder(currentState).nodes(nodesBuilder).build()[ FD ]
Line_15 $$ firstMaster = localDiscovery-->Line_19 $$ if (firstMaster != null && firstMaster.equals(this)) [ FD ]
Line_4 $$ ClusterGroup clusterGroup = clusterGroups.get(clusterName)-->Line_7 $$ clusterGroups.put(clusterName, clusterGroup)[ FD ]
Line_57 $$ firstMaster.clusterService.submitStateUpdateTask("local-disco-receive(from node[" + localNode + "])", new ClusterStateUpdateTask() -->Line_66 $$ nodesBuilder.localNodeId(master.localNode().id()).masterNodeId(master.localNode().id())[ CD ]
Line_32 $$ ClusterBlocks.Builder blocks = ClusterBlocks.builder().blocks(currentState.blocks()).removeGlobalBlock(discoverySettings.getNoMasterBlock())-->Line_33 $$ return ClusterState.builder(currentState).nodes(nodesBuilder).blocks(blocks).build()[ FD ]
Line_22 $$ clusterService.submitStateUpdateTask("local-disco-initial_connect(master)", new ClusterStateUpdateTask() -->Line_27 $$ DiscoveryNodes.Builder nodesBuilder = DiscoveryNodes.builder()[ CD ]
Line_22 $$ clusterService.submitStateUpdateTask("local-disco-initial_connect(master)", new ClusterStateUpdateTask() -->Line_53 $$ logger.error("unexpected failure during [[ FD ]
Line_42 $$ if (firstMaster != null) -->Line_57 $$ firstMaster.clusterService.submitStateUpdateTask("local-disco-receive(from node[" + localNode + "])", new ClusterStateUpdateTask() [ CD ]
Line_22 $$ clusterService.submitStateUpdateTask("local-disco-initial_connect(master)", new ClusterStateUpdateTask() -->Line_36 $$ logger.error("unexpected failure during [[ FD ]
Line_49 $$ DiscoveryNodes.Builder nodesBuilder = DiscoveryNodes.builder(currentState.nodes()).put(localNode).localNodeId(localNode.id())-->Line_67 $$ return ClusterState.builder(currentState).nodes(nodesBuilder).build()[ FD ]
Line_49 $$ DiscoveryNodes.Builder nodesBuilder = DiscoveryNodes.builder(currentState.nodes()).put(localNode).localNodeId(localNode.id())-->Line_66 $$ nodesBuilder.localNodeId(master.localNode().id()).masterNodeId(master.localNode().id())[ FD ]
Line_4 $$ ClusterGroup clusterGroup = clusterGroups.get(clusterName)-->Line_6 $$ clusterGroup = new ClusterGroup()[ FD ]
