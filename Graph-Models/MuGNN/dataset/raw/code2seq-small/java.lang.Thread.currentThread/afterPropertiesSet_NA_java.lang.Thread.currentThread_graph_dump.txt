Line_16 $$ boolean validated = false-->Line_43 $$ if (!validated) [ FD ]
Line_19 $$ SQLException latestEx = null-->Line_29 $$ latestEx = ex[ FD ]
Line_24 $$ con = this.dataSource.getConnection()-->Line_37 $$ JdbcUtils.closeConnection(con)[ FD ]
Line_47 $$ if (logger.isInfoEnabled()) -->Line_48 $$ logger.info("Database startup detected after " + duration + " seconds")[ CD ]
Line_16 $$ boolean validated = false-->Line_20 $$ while (!validated && System.currentTimeMillis() < deadLine) [ FD ]
Line_16 $$ boolean validated = false-->Line_27 $$ validated = true[ FD ]
Line_20 $$ while (!validated && System.currentTimeMillis() < deadLine) -->Line_21 $$ Connection con = null[ CD ]
Line_21 $$ Connection con = null-->Line_24 $$ con = this.dataSource.getConnection()[ FD ]
Line_22 $$ Statement stmt = null-->Line_26 $$ stmt.execute(this.validationQuery)[ FD ]
Line_16 $$ boolean validated = false-->Line_39 $$ if (!validated) [ FD ]
Line_32 $$ if (rest > this.interval) -->Line_33 $$ logger.warn("Database has not started up yet - retrying in " + this.interval + " seconds (timeout in " + rest + " seconds)")[ CD ]
Line_21 $$ Connection con = null-->Line_25 $$ stmt = con.createStatement()[ FD ]
Line_21 $$ Connection con = null-->Line_37 $$ JdbcUtils.closeConnection(con)[ FD ]
Line_31 $$ float rest = ((float) (deadLine - System.currentTimeMillis())) / 1000-->Line_32 $$ if (rest > this.interval) [ FD ]
Line_25 $$ stmt = con.createStatement()-->Line_26 $$ stmt.execute(this.validationQuery)[ FD ]
Line_27 $$ validated = true-->Line_20 $$ while (!validated && System.currentTimeMillis() < deadLine) [ FD ]
Line_39 $$ if (!validated) -->Line_40 $$ Thread.sleep(this.interval * 1000)[ CD ]
Line_25 $$ stmt = con.createStatement()-->Line_36 $$ JdbcUtils.closeStatement(stmt)[ FD ]
Line_22 $$ Statement stmt = null-->Line_25 $$ stmt = con.createStatement()[ FD ]
Line_20 $$ while (!validated && System.currentTimeMillis() < deadLine) -->Line_22 $$ Statement stmt = null[ CD ]
Line_27 $$ validated = true-->Line_39 $$ if (!validated) [ FD ]
Line_20 $$ while (!validated && System.currentTimeMillis() < deadLine) -->Line_39 $$ if (!validated) [ CD ]
Line_24 $$ con = this.dataSource.getConnection()-->Line_25 $$ stmt = con.createStatement()[ FD ]
Line_27 $$ validated = true-->Line_43 $$ if (!validated) [ FD ]
Line_22 $$ Statement stmt = null-->Line_36 $$ JdbcUtils.closeStatement(stmt)[ FD ]
