Line_5 $$ if (fence) -->Line_6 $$ lh = bkc.openLedger(l.getLedgerId(), BookKeeper.DigestType.MAC, digestpw.getBytes())[ CD ]
Line_16 $$ BookKeeperEditLogInputStream in = null-->Line_29 $$ op = in.readOp()[ FD ]
Line_8 $$ lh = bkc.openLedgerNoRecovery(l.getLedgerId(), BookKeeper.DigestType.MAC, digestpw.getBytes())-->Line_18 $$ long lastAddConfirmed = lh.getLastAddConfirmed()[ FD ]
Line_23 $$ long endTxId = HdfsConstants.INVALID_TXID-->Line_27 $$ endTxId = op.getTransactionId()[ FD ]
Line_6 $$ lh = bkc.openLedger(l.getLedgerId(), BookKeeper.DigestType.MAC, digestpw.getBytes())-->Line_8 $$ lh = bkc.openLedgerNoRecovery(l.getLedgerId(), BookKeeper.DigestType.MAC, digestpw.getBytes())[ FD ]
Line_16 $$ BookKeeperEditLogInputStream in = null-->Line_24 $$ FSEditLogOp op = in.readOp()[ FD ]
Line_26 $$ if (endTxId == HdfsConstants.INVALID_TXID || op.getTransactionId() == endTxId + 1) -->Line_27 $$ endTxId = op.getTransactionId()[ CD ]
Line_24 $$ FSEditLogOp op = in.readOp()-->Line_27 $$ endTxId = op.getTransactionId()[ FD ]
Line_2 $$ private long recoverLastTxId(EditLogLedgerMetadata l, boolean fence) throws IOException, SegmentEmptyException -->Line_8 $$ lh = bkc.openLedgerNoRecovery(l.getLedgerId(), BookKeeper.DigestType.MAC, digestpw.getBytes())[ FD ]
Line_2 $$ private long recoverLastTxId(EditLogLedgerMetadata l, boolean fence) throws IOException, SegmentEmptyException -->Line_16 $$ BookKeeperEditLogInputStream in = null[ CD ]
Line_16 $$ BookKeeperEditLogInputStream in = null-->Line_34 $$ in.close()[ FD ]
Line_29 $$ op = in.readOp()-->Line_25 $$ while (op != null) [ FD ]
Line_29 $$ op = in.readOp()-->Line_27 $$ endTxId = op.getTransactionId()[ FD ]
Line_5 $$ if (fence) -->Line_8 $$ lh = bkc.openLedgerNoRecovery(l.getLedgerId(), BookKeeper.DigestType.MAC, digestpw.getBytes())[ CD ]
Line_16 $$ BookKeeperEditLogInputStream in = null-->Line_22 $$ in = new BookKeeperEditLogInputStream(lh, l, lastAddConfirmed)[ FD ]
Line_2 $$ private long recoverLastTxId(EditLogLedgerMetadata l, boolean fence) throws IOException, SegmentEmptyException -->Line_6 $$ lh = bkc.openLedger(l.getLedgerId(), BookKeeper.DigestType.MAC, digestpw.getBytes())[ FD ]
Line_22 $$ in = new BookKeeperEditLogInputStream(lh, l, lastAddConfirmed)-->Line_24 $$ FSEditLogOp op = in.readOp()[ FD ]
Line_25 $$ while (op != null) -->Line_26 $$ if (endTxId == HdfsConstants.INVALID_TXID || op.getTransactionId() == endTxId + 1) [ CD ]
Line_3 $$ LedgerHandle lh = null-->Line_18 $$ long lastAddConfirmed = lh.getLastAddConfirmed()[ FD ]
Line_24 $$ FSEditLogOp op = in.readOp()-->Line_26 $$ if (endTxId == HdfsConstants.INVALID_TXID || op.getTransactionId() == endTxId + 1) [ FD ]
Line_33 $$ if (in != null) -->Line_34 $$ in.close()[ CD ]
Line_3 $$ LedgerHandle lh = null-->Line_6 $$ lh = bkc.openLedger(l.getLedgerId(), BookKeeper.DigestType.MAC, digestpw.getBytes())[ FD ]
Line_3 $$ LedgerHandle lh = null-->Line_8 $$ lh = bkc.openLedgerNoRecovery(l.getLedgerId(), BookKeeper.DigestType.MAC, digestpw.getBytes())[ FD ]
Line_24 $$ FSEditLogOp op = in.readOp()-->Line_29 $$ op = in.readOp()[ FD ]
Line_24 $$ FSEditLogOp op = in.readOp()-->Line_25 $$ while (op != null) [ FD ]
Line_6 $$ lh = bkc.openLedger(l.getLedgerId(), BookKeeper.DigestType.MAC, digestpw.getBytes())-->Line_18 $$ long lastAddConfirmed = lh.getLastAddConfirmed()[ FD ]
Line_2 $$ private long recoverLastTxId(EditLogLedgerMetadata l, boolean fence) throws IOException, SegmentEmptyException -->Line_3 $$ LedgerHandle lh = null[ CD ]
Line_22 $$ in = new BookKeeperEditLogInputStream(lh, l, lastAddConfirmed)-->Line_33 $$ if (in != null) [ FD ]
Line_16 $$ BookKeeperEditLogInputStream in = null-->Line_33 $$ if (in != null) [ FD ]
Line_29 $$ op = in.readOp()-->Line_26 $$ if (endTxId == HdfsConstants.INVALID_TXID || op.getTransactionId() == endTxId + 1) [ FD ]
Line_22 $$ in = new BookKeeperEditLogInputStream(lh, l, lastAddConfirmed)-->Line_34 $$ in.close()[ FD ]
Line_18 $$ long lastAddConfirmed = lh.getLastAddConfirmed()-->Line_19 $$ if (lastAddConfirmed == -1) [ FD ]
Line_25 $$ while (op != null) -->Line_29 $$ op = in.readOp()[ CD ]
Line_22 $$ in = new BookKeeperEditLogInputStream(lh, l, lastAddConfirmed)-->Line_29 $$ op = in.readOp()[ FD ]
