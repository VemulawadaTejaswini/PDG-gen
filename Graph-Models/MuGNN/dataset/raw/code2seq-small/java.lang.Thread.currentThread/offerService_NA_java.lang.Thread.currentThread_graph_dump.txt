Line_45 $$ if (endProcessCommands - startProcessCommands > 2000) -->Line_46 $$ LOG.info("Took " + (endProcessCommands - startProcessCommands) + "ms to process " + resp.getCommands().length + " commands from NN")[ CD ]
Line_27 $$ HeartbeatResponse resp = sendHeartBeat()-->Line_37 $$ state = resp.getNameNodeHaState().getState()[ FD ]
Line_50 $$ if (sendImmediateIBR || (startTime - lastDeletedReport > dnConf.deleteReportInterval)) -->Line_51 $$ reportReceivedDeletedBlocks()[ CD ]
Line_26 $$ if (!dn.areHeartbeatsDisabledForTests()) -->Line_45 $$ if (endProcessCommands - startProcessCommands > 2000) [ CD ]
Line_27 $$ HeartbeatResponse resp = sendHeartBeat()-->Line_39 $$ handleRollingUpgradeStatus(resp)[ FD ]
Line_87 $$ long sleepTime = Math.min(1000, dnConf.heartBeatInterval)-->Line_88 $$ Thread.sleep(sleepTime)[ FD ]
Line_26 $$ if (!dn.areHeartbeatsDisabledForTests()) -->Line_29 $$ dn.getMetrics().addHeartbeat(now() - startTime)[ CD ]
Line_27 $$ HeartbeatResponse resp = sendHeartBeat()-->Line_42 $$ if (!processCommand(resp.getCommands()))[ FD ]
Line_26 $$ if (!dn.areHeartbeatsDisabledForTests()) -->Line_44 $$ long endProcessCommands = now()[ CD ]
Line_79 $$ String reClass = re.getClassName()-->Line_80 $$ if (UnregisteredNodeException.class.getName().equals(reClass) || DisallowedDatanodeException.class.getName().equals(reClass) || IncorrectVersionException.class.getName().equals(reClass)) [ FD ]
Line_80 $$ if (UnregisteredNodeException.class.getName().equals(reClass) || DisallowedDatanodeException.class.getName().equals(reClass) || IncorrectVersionException.class.getName().equals(reClass)) -->Line_83 $$ return[ CD ]
Line_54 $$ List<DatanodeCommand> cmds = blockReport()-->Line_55 $$ processCommand(cmds == null ? null : cmds.toArray(new DatanodeCommand[cmds.size()]))[ FD ]
Line_26 $$ if (!dn.areHeartbeatsDisabledForTests()) -->Line_37 $$ state = resp.getNameNodeHaState().getState()[ CD ]
Line_38 $$ if (state == HAServiceState.ACTIVE) -->Line_39 $$ handleRollingUpgradeStatus(resp)[ CD ]
Line_26 $$ if (!dn.areHeartbeatsDisabledForTests()) -->Line_38 $$ if (state == HAServiceState.ACTIVE) [ CD ]
Line_80 $$ if (UnregisteredNodeException.class.getName().equals(reClass) || DisallowedDatanodeException.class.getName().equals(reClass) || IncorrectVersionException.class.getName().equals(reClass)) -->Line_81 $$ LOG.warn(this + " is shutting down", re)[ CD ]
Line_26 $$ if (!dn.areHeartbeatsDisabledForTests()) -->Line_42 $$ if (!processCommand(resp.getCommands()))[ CD ]
Line_26 $$ if (!dn.areHeartbeatsDisabledForTests()) -->Line_27 $$ HeartbeatResponse resp = sendHeartBeat()[ CD ]
Line_26 $$ if (!dn.areHeartbeatsDisabledForTests()) -->Line_41 $$ long startProcessCommands = now()[ CD ]
Line_27 $$ HeartbeatResponse resp = sendHeartBeat()-->Line_46 $$ LOG.info("Took " + (endProcessCommands - startProcessCommands) + "ms to process " + resp.getCommands().length + " commands from NN")[ FD ]
