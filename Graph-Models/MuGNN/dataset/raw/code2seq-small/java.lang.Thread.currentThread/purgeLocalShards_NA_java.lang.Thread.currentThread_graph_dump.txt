Line_3 $$ while (!Thread.currentThread().isInterrupted()) -->Line_11 $$ dao.updatePurgedShardNodes(uuids, getCurrentNodeId())[ CD ]
Line_4 $$ List<UUID> uuids = dao.getPurgableShardNodesBatch(currentNode, maxTimestamp(localPurgeTime))-->Line_11 $$ dao.updatePurgedShardNodes(uuids, getCurrentNodeId())[ FD ]
Line_2 $$ void purgeLocalShards() -->Line_3 $$ while (!Thread.currentThread().isInterrupted()) [ CD ]
Line_4 $$ List<UUID> uuids = dao.getPurgableShardNodesBatch(currentNode, maxTimestamp(localPurgeTime))-->Line_5 $$ if (uuids.isEmpty()) [ FD ]
Line_3 $$ while (!Thread.currentThread().isInterrupted()) -->Line_5 $$ if (uuids.isEmpty()) [ CD ]
Line_3 $$ while (!Thread.currentThread().isInterrupted()) -->Line_4 $$ List<UUID> uuids = dao.getPurgableShardNodesBatch(currentNode, maxTimestamp(localPurgeTime))[ CD ]
Line_8 $$ for (UUID uuid : uuids) -->Line_9 $$ deleteFile(storageService.getStorageFile(uuid))[ FD ]
