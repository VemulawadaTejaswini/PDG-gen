Line_38 $$ if (!replica.purged) -->Line_48 $$ shouldTrimEvictionMaps = true[ CD ]
Line_31 $$ int newRefCount = --replica.refCount-->Line_36 $$ if (newRefCount == 1) [ FD ]
Line_36 $$ if (newRefCount == 1) -->Line_37 $$ Preconditions.checkState(null == replica.getEvictableTimeNs(), "Replica " + replica + " had a refCount higher than 1, " + "but was still evictable (evictableTimeNs = " + replica.getEvictableTimeNs() + ")")[ CD ]
Line_29 $$ String addedString = ""-->Line_46 $$ addedString = "added to evictable, "[ FD ]
Line_32 $$ if (newRefCount == 0) -->Line_36 $$ if (newRefCount == 1) [ CD ]
Line_20 $$ purgeReason = "purging replica because its meta channel is closed."-->Line_24 $$ if (purgeReason != null) [ FD ]
Line_24 $$ if (purgeReason != null) -->Line_26 $$ purge(replica)[ CD ]
Line_16 $$ String purgeReason = null-->Line_20 $$ purgeReason = "purging replica because its meta channel is closed."[ FD ]
Line_18 $$ purgeReason = "purging replica because its data channel is closed."-->Line_20 $$ purgeReason = "purging replica because its meta channel is closed."[ FD ]
Line_19 $$ if (!replica.getMetaStream().getChannel().isOpen()) -->Line_21 $$ if (replica.isStale()) [ CD ]
Line_30 $$ boolean shouldTrimEvictionMaps = false-->Line_48 $$ shouldTrimEvictionMaps = true[ FD ]
Line_20 $$ purgeReason = "purging replica because its meta channel is closed."-->Line_22 $$ purgeReason = "purging replica because it is stale."[ FD ]
Line_21 $$ if (replica.isStale()) -->Line_22 $$ purgeReason = "purging replica because it is stale."[ CD ]
Line_56 $$ if (shouldTrimEvictionMaps) -->Line_57 $$ trimEvictionMaps()[ CD ]
Line_17 $$ if (!replica.getDataStream().getChannel().isOpen()) -->Line_18 $$ purgeReason = "purging replica because its data channel is closed."[ CD ]
Line_18 $$ purgeReason = "purging replica because its data channel is closed."-->Line_22 $$ purgeReason = "purging replica because it is stale."[ FD ]
Line_24 $$ if (purgeReason != null) -->Line_25 $$ LOG.debug(this + ": " + purgeReason)[ CD ]
Line_29 $$ String addedString = ""-->Line_43 $$ addedString = "added to evictableMmapped, "[ FD ]
Line_31 $$ int newRefCount = --replica.refCount-->Line_32 $$ if (newRefCount == 0) [ FD ]
Line_36 $$ if (newRefCount == 1) -->Line_38 $$ if (!replica.purged) [ CD ]
Line_53 $$ if (LOG.isTraceEnabled()) -->Line_54 $$ LOG.trace(this + ": unref replica " + replica + ": " + addedString + " refCount " + (newRefCount + 1) + " -> " + newRefCount + StringUtils.getStackTrace(Thread.currentThread()))[ CD ]
Line_22 $$ purgeReason = "purging replica because it is stale."-->Line_24 $$ if (purgeReason != null) [ FD ]
Line_19 $$ if (!replica.getMetaStream().getChannel().isOpen()) -->Line_20 $$ purgeReason = "purging replica because its meta channel is closed."[ CD ]
Line_16 $$ String purgeReason = null-->Line_18 $$ purgeReason = "purging replica because its data channel is closed."[ FD ]
Line_36 $$ if (newRefCount == 1) -->Line_51 $$ Preconditions.checkArgument(replica.refCount >= 0, "replica's refCount went negative (refCount = " + replica.refCount + " for " + replica + ")")[ CD ]
Line_16 $$ String purgeReason = null-->Line_24 $$ if (purgeReason != null) [ FD ]
Line_43 $$ addedString = "added to evictableMmapped, "-->Line_46 $$ addedString = "added to evictable, "[ FD ]
Line_18 $$ purgeReason = "purging replica because its data channel is closed."-->Line_24 $$ if (purgeReason != null) [ FD ]
Line_16 $$ String purgeReason = null-->Line_22 $$ purgeReason = "purging replica because it is stale."[ FD ]
Line_32 $$ if (newRefCount == 0) -->Line_35 $$ replica.close()[ CD ]
Line_17 $$ if (!replica.getDataStream().getChannel().isOpen()) -->Line_19 $$ if (!replica.getMetaStream().getChannel().isOpen()) [ CD ]
