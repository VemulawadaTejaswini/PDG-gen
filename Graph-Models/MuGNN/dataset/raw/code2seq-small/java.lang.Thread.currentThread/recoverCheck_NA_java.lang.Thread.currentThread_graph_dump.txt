Line_12 $$ if (replicaInfo.getState() == ReplicaState.RBW) -->Line_15 $$ rbw.setWriter(Thread.currentThread())[ CD ]
Line_3 $$ ReplicaInfo replicaInfo = getReplicaInfo(b.getBlockPoolId(), b.getBlockId())-->Line_12 $$ if (replicaInfo.getState() == ReplicaState.RBW) [ FD ]
Line_2 $$ private ReplicaInfo recoverCheck(ExtendedBlock b, long newGS, long expectedBlockLen) throws IOException -->Line_3 $$ ReplicaInfo replicaInfo = getReplicaInfo(b.getBlockPoolId(), b.getBlockId())[ CD ]
Line_3 $$ ReplicaInfo replicaInfo = getReplicaInfo(b.getBlockPoolId(), b.getBlockId())-->Line_7 $$ long replicaGenerationStamp = replicaInfo.getGenerationStamp()[ FD ]
Line_3 $$ ReplicaInfo replicaInfo = getReplicaInfo(b.getBlockPoolId(), b.getBlockId())-->Line_11 $$ long replicaLen = replicaInfo.getNumBytes()[ FD ]
Line_13 $$ ReplicaBeingWritten rbw = (ReplicaBeingWritten) replicaInfo-->Line_17 $$ throw new ReplicaAlreadyExistsException("RBW replica " + replicaInfo + "bytesRcvd(" + rbw.getNumBytes() + "), bytesOnDisk(" + rbw.getBytesOnDisk() + "), and bytesAcked(" + rbw.getBytesAcked() + ") are not the same.")[ FD ]
Line_2 $$ private ReplicaInfo recoverCheck(ExtendedBlock b, long newGS, long expectedBlockLen) throws IOException -->Line_11 $$ long replicaLen = replicaInfo.getNumBytes()[ CD ]
Line_2 $$ private ReplicaInfo recoverCheck(ExtendedBlock b, long newGS, long expectedBlockLen) throws IOException -->Line_8 $$ if (replicaGenerationStamp < b.getGenerationStamp() || replicaGenerationStamp > newGS) [ CD ]
Line_2 $$ private ReplicaInfo recoverCheck(ExtendedBlock b, long newGS, long expectedBlockLen) throws IOException -->Line_3 $$ ReplicaInfo replicaInfo = getReplicaInfo(b.getBlockPoolId(), b.getBlockId())[ FD ]
Line_13 $$ ReplicaBeingWritten rbw = (ReplicaBeingWritten) replicaInfo-->Line_16 $$ if (replicaLen != rbw.getBytesOnDisk() || replicaLen != rbw.getBytesAcked()) [ FD ]
Line_12 $$ if (replicaInfo.getState() == ReplicaState.RBW) -->Line_13 $$ ReplicaBeingWritten rbw = (ReplicaBeingWritten) replicaInfo[ CD ]
Line_3 $$ ReplicaInfo replicaInfo = getReplicaInfo(b.getBlockPoolId(), b.getBlockId())-->Line_4 $$ if (replicaInfo.getState() != ReplicaState.FINALIZED && replicaInfo.getState() != ReplicaState.RBW) [ FD ]
Line_12 $$ if (replicaInfo.getState() == ReplicaState.RBW) -->Line_14 $$ rbw.stopWriter(datanode.getDnConf().getXceiverStopTimeout())[ CD ]
Line_13 $$ ReplicaBeingWritten rbw = (ReplicaBeingWritten) replicaInfo-->Line_15 $$ rbw.setWriter(Thread.currentThread())[ FD ]
Line_13 $$ ReplicaBeingWritten rbw = (ReplicaBeingWritten) replicaInfo-->Line_14 $$ rbw.stopWriter(datanode.getDnConf().getXceiverStopTimeout())[ FD ]
Line_2 $$ private ReplicaInfo recoverCheck(ExtendedBlock b, long newGS, long expectedBlockLen) throws IOException -->Line_23 $$ return replicaInfo[ CD ]
Line_2 $$ private ReplicaInfo recoverCheck(ExtendedBlock b, long newGS, long expectedBlockLen) throws IOException -->Line_8 $$ if (replicaGenerationStamp < b.getGenerationStamp() || replicaGenerationStamp > newGS) [ FD ]
Line_2 $$ private ReplicaInfo recoverCheck(ExtendedBlock b, long newGS, long expectedBlockLen) throws IOException -->Line_20 $$ if (replicaLen != expectedBlockLen) [ FD ]
Line_2 $$ private ReplicaInfo recoverCheck(ExtendedBlock b, long newGS, long expectedBlockLen) throws IOException -->Line_20 $$ if (replicaLen != expectedBlockLen) [ CD ]
Line_2 $$ private ReplicaInfo recoverCheck(ExtendedBlock b, long newGS, long expectedBlockLen) throws IOException -->Line_12 $$ if (replicaInfo.getState() == ReplicaState.RBW) [ CD ]
Line_2 $$ private ReplicaInfo recoverCheck(ExtendedBlock b, long newGS, long expectedBlockLen) throws IOException -->Line_4 $$ if (replicaInfo.getState() != ReplicaState.FINALIZED && replicaInfo.getState() != ReplicaState.RBW) [ CD ]
Line_2 $$ private ReplicaInfo recoverCheck(ExtendedBlock b, long newGS, long expectedBlockLen) throws IOException -->Line_7 $$ long replicaGenerationStamp = replicaInfo.getGenerationStamp()[ CD ]
Line_11 $$ long replicaLen = replicaInfo.getNumBytes()-->Line_20 $$ if (replicaLen != expectedBlockLen) [ FD ]
Line_2 $$ private ReplicaInfo recoverCheck(ExtendedBlock b, long newGS, long expectedBlockLen) throws IOException -->Line_9 $$ throw new ReplicaNotFoundException(ReplicaNotFoundException.UNEXPECTED_GS_REPLICA + replicaGenerationStamp + ". Expected GS range is [" + b.getGenerationStamp() + ", " + newGS + "].")[ FD ]
Line_12 $$ if (replicaInfo.getState() == ReplicaState.RBW) -->Line_16 $$ if (replicaLen != rbw.getBytesOnDisk() || replicaLen != rbw.getBytesAcked()) [ CD ]
