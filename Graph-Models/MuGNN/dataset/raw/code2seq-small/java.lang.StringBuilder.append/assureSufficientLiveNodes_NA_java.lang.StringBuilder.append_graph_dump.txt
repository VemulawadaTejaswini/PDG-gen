Line_12 $$ int localLive = countLocalEndpoints(liveEndpoints)-->Line_13 $$ if (localLive < blockFor) [ FD ]
Line_3 $$ int blockFor = blockFor(keyspace)-->Line_20 $$ builder.append("] are insufficient to satisfy LOCAL_QUORUM requirement of ").append(blockFor).append(" live nodes in '").append(DatabaseDescriptor.getLocalDataCenter()).append("'")[ FD ]
Line_14 $$ if (logger.isTraceEnabled()) -->Line_15 $$ StringBuilder builder = new StringBuilder("Local replicas [")[ CD ]
Line_16 $$ for (InetAddress endpoint : liveEndpoints) -->Line_17 $$ if (isLocal(endpoint))[ FD ]
Line_16 $$ for (InetAddress endpoint : liveEndpoints) -->Line_18 $$ builder.append(endpoint).append(",")[ FD ]
Line_2 $$ public void assureSufficientLiveNodes(Keyspace keyspace, Iterable<InetAddress> liveEndpoints) throws UnavailableException -->Line_12 $$ int localLive = countLocalEndpoints(liveEndpoints)[ FD ]
Line_3 $$ int blockFor = blockFor(keyspace)-->Line_39 $$ logger.trace("Live nodes [ FD ]
Line_15 $$ StringBuilder builder = new StringBuilder("Local replicas [")-->Line_21 $$ logger.trace(builder.toString())[ FD ]
Line_2 $$ public void assureSufficientLiveNodes(Keyspace keyspace, Iterable<InetAddress> liveEndpoints) throws UnavailableException -->Line_27 $$ if (keyspace.getReplicationStrategy() instanceof NetworkTopologyStrategy) [ FD ]
Line_3 $$ int blockFor = blockFor(keyspace)-->Line_38 $$ if (live < blockFor) [ FD ]
Line_15 $$ StringBuilder builder = new StringBuilder("Local replicas [")-->Line_18 $$ builder.append(endpoint).append(",")[ FD ]
Line_13 $$ if (localLive < blockFor) -->Line_14 $$ if (logger.isTraceEnabled()) [ CD ]
Line_28 $$ for (Map.Entry<String, Integer> entry : countPerDCEndpoints(keyspace, liveEndpoints).entrySet()) -->Line_30 $$ int dcLive = entry.getValue()[ FD ]
Line_14 $$ if (logger.isTraceEnabled()) -->Line_21 $$ logger.trace(builder.toString())[ CD ]
Line_2 $$ public void assureSufficientLiveNodes(Keyspace keyspace, Iterable<InetAddress> liveEndpoints) throws UnavailableException -->Line_3 $$ int blockFor = blockFor(keyspace)[ FD ]
Line_38 $$ if (live < blockFor) -->Line_39 $$ logger.trace("Live nodes [ CD ]
Line_37 $$ int live = Iterables.size(liveEndpoints)-->Line_38 $$ if (live < blockFor) [ FD ]
Line_30 $$ int dcLive = entry.getValue()-->Line_31 $$ if (dcLive < dcBlockFor)[ FD ]
Line_2 $$ public void assureSufficientLiveNodes(Keyspace keyspace, Iterable<InetAddress> liveEndpoints) throws UnavailableException -->Line_37 $$ int live = Iterables.size(liveEndpoints)[ FD ]
Line_2 $$ public void assureSufficientLiveNodes(Keyspace keyspace, Iterable<InetAddress> liveEndpoints) throws UnavailableException -->Line_28 $$ for (Map.Entry<String, Integer> entry : countPerDCEndpoints(keyspace, liveEndpoints).entrySet()) [ FD ]
Line_2 $$ public void assureSufficientLiveNodes(Keyspace keyspace, Iterable<InetAddress> liveEndpoints) throws UnavailableException -->Line_3 $$ int blockFor = blockFor(keyspace)[ CD ]
Line_3 $$ int blockFor = blockFor(keyspace)-->Line_13 $$ if (localLive < blockFor) [ FD ]
Line_2 $$ public void assureSufficientLiveNodes(Keyspace keyspace, Iterable<InetAddress> liveEndpoints) throws UnavailableException -->Line_8 $$ if (countLocalEndpoints(liveEndpoints) == 0)[ FD ]
Line_15 $$ StringBuilder builder = new StringBuilder("Local replicas [")-->Line_20 $$ builder.append("] are insufficient to satisfy LOCAL_QUORUM requirement of ").append(blockFor).append(" live nodes in '").append(DatabaseDescriptor.getLocalDataCenter()).append("'")[ FD ]
Line_2 $$ public void assureSufficientLiveNodes(Keyspace keyspace, Iterable<InetAddress> liveEndpoints) throws UnavailableException -->Line_29 $$ int dcBlockFor = localQuorumFor(keyspace, entry.getKey())[ FD ]
Line_28 $$ for (Map.Entry<String, Integer> entry : countPerDCEndpoints(keyspace, liveEndpoints).entrySet()) -->Line_29 $$ int dcBlockFor = localQuorumFor(keyspace, entry.getKey())[ FD ]
Line_29 $$ int dcBlockFor = localQuorumFor(keyspace, entry.getKey())-->Line_31 $$ if (dcLive < dcBlockFor)[ FD ]
Line_14 $$ if (logger.isTraceEnabled()) -->Line_20 $$ builder.append("] are insufficient to satisfy LOCAL_QUORUM requirement of ").append(blockFor).append(" live nodes in '").append(DatabaseDescriptor.getLocalDataCenter()).append("'")[ CD ]
Line_2 $$ public void assureSufficientLiveNodes(Keyspace keyspace, Iterable<InetAddress> liveEndpoints) throws UnavailableException -->Line_39 $$ logger.trace("Live nodes [ FD ]
Line_28 $$ for (Map.Entry<String, Integer> entry : countPerDCEndpoints(keyspace, liveEndpoints).entrySet()) -->Line_32 $$ throw new UnavailableException(this, entry.getKey(), dcBlockFor, dcLive)[ FD ]
Line_17 $$ if (isLocal(endpoint))-->Line_18 $$ builder.append(endpoint).append(",")[ CD ]
