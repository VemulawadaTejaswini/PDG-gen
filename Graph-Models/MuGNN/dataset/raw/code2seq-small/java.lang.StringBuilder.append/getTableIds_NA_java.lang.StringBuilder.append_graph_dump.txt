Line_6 $$ StringBuilder sql = new StringBuilder("SELECT table_id FROM tables ")-->Line_8 $$ sql.append("WHERE ")[ FD ]
Line_2 $$ static Iterator<Long> getTableIds(IDBI dbi, TupleDomain<Integer> tupleDomain) -->Line_18 $$ ImmutableList.Builder<Long> tableIds = ImmutableList.builder()[ CD ]
Line_18 $$ ImmutableList.Builder<Long> tableIds = ImmutableList.builder()-->Line_23 $$ tableIds.add(resultSet.getLong("table_id"))[ FD ]
Line_9 $$ List<String> predicates = new ArrayList()-->Line_16 $$ sql.append(Joiner.on(" AND ").join(predicates))[ FD ]
Line_7 $$ if (schemaNameDomain != null || tableNameDomain != null) -->Line_16 $$ sql.append(Joiner.on(" AND ").join(predicates))[ CD ]
Line_2 $$ static Iterator<Long> getTableIds(IDBI dbi, TupleDomain<Integer> tupleDomain) -->Line_28 $$ return tableIds.build().iterator()[ CD ]
Line_2 $$ static Iterator<Long> getTableIds(IDBI dbi, TupleDomain<Integer> tupleDomain) -->Line_5 $$ Domain tableNameDomain = domains.get(getColumnIndex(SHARD_METADATA, TABLE_NAME))[ CD ]
Line_3 $$ Map<Integer, Domain> domains = tupleDomain.getDomains().get()-->Line_5 $$ Domain tableNameDomain = domains.get(getColumnIndex(SHARD_METADATA, TABLE_NAME))[ FD ]
Line_4 $$ Domain schemaNameDomain = domains.get(getColumnIndex(SHARD_METADATA, SCHEMA_NAME))-->Line_13 $$ if (schemaNameDomain != null && schemaNameDomain.isSingleValue()) [ FD ]
Line_7 $$ if (schemaNameDomain != null || tableNameDomain != null) -->Line_10 $$ if (tableNameDomain != null && tableNameDomain.isSingleValue()) [ CD ]
Line_2 $$ static Iterator<Long> getTableIds(IDBI dbi, TupleDomain<Integer> tupleDomain) -->Line_3 $$ Map<Integer, Domain> domains = tupleDomain.getDomains().get()[ FD ]
Line_13 $$ if (schemaNameDomain != null && schemaNameDomain.isSingleValue()) -->Line_14 $$ predicates.add(format("schema_name = '%s'", getStringValue(schemaNameDomain.getSingleValue())))[ CD ]
Line_2 $$ static Iterator<Long> getTableIds(IDBI dbi, TupleDomain<Integer> tupleDomain) -->Line_6 $$ StringBuilder sql = new StringBuilder("SELECT table_id FROM tables ")[ CD ]
Line_2 $$ static Iterator<Long> getTableIds(IDBI dbi, TupleDomain<Integer> tupleDomain) -->Line_7 $$ if (schemaNameDomain != null || tableNameDomain != null) [ CD ]
Line_7 $$ if (schemaNameDomain != null || tableNameDomain != null) -->Line_13 $$ if (schemaNameDomain != null && schemaNameDomain.isSingleValue()) [ CD ]
Line_2 $$ static Iterator<Long> getTableIds(IDBI dbi, TupleDomain<Integer> tupleDomain) -->Line_4 $$ Domain schemaNameDomain = domains.get(getColumnIndex(SHARD_METADATA, SCHEMA_NAME))[ CD ]
Line_19 $$ try (Connection connection = dbi.open().getConnection();-->Line_23 $$ tableIds.add(resultSet.getLong("table_id"))[ FD ]
Line_9 $$ List<String> predicates = new ArrayList()-->Line_11 $$ predicates.add(format("table_name = '%s'", getStringValue(tableNameDomain.getSingleValue())))[ FD ]
Line_6 $$ StringBuilder sql = new StringBuilder("SELECT table_id FROM tables ")-->Line_19 $$ try (Connection connection = dbi.open().getConnection();[ FD ]
Line_22 $$ while (resultSet.next()) -->Line_23 $$ tableIds.add(resultSet.getLong("table_id"))[ CD ]
Line_4 $$ Domain schemaNameDomain = domains.get(getColumnIndex(SHARD_METADATA, SCHEMA_NAME))-->Line_14 $$ predicates.add(format("schema_name = '%s'", getStringValue(schemaNameDomain.getSingleValue())))[ FD ]
Line_19 $$ try (Connection connection = dbi.open().getConnection();-->Line_22 $$ while (resultSet.next()) [ FD ]
Line_7 $$ if (schemaNameDomain != null || tableNameDomain != null) -->Line_8 $$ sql.append("WHERE ")[ CD ]
Line_2 $$ static Iterator<Long> getTableIds(IDBI dbi, TupleDomain<Integer> tupleDomain) -->Line_19 $$ try (Connection connection = dbi.open().getConnection();[ FD ]
Line_2 $$ static Iterator<Long> getTableIds(IDBI dbi, TupleDomain<Integer> tupleDomain) -->Line_3 $$ Map<Integer, Domain> domains = tupleDomain.getDomains().get()[ CD ]
Line_7 $$ if (schemaNameDomain != null || tableNameDomain != null) -->Line_9 $$ List<String> predicates = new ArrayList()[ CD ]
Line_6 $$ StringBuilder sql = new StringBuilder("SELECT table_id FROM tables ")-->Line_16 $$ sql.append(Joiner.on(" AND ").join(predicates))[ FD ]
Line_18 $$ ImmutableList.Builder<Long> tableIds = ImmutableList.builder()-->Line_28 $$ return tableIds.build().iterator()[ FD ]
Line_5 $$ Domain tableNameDomain = domains.get(getColumnIndex(SHARD_METADATA, TABLE_NAME))-->Line_10 $$ if (tableNameDomain != null && tableNameDomain.isSingleValue()) [ FD ]
Line_10 $$ if (tableNameDomain != null && tableNameDomain.isSingleValue()) -->Line_11 $$ predicates.add(format("table_name = '%s'", getStringValue(tableNameDomain.getSingleValue())))[ CD ]
Line_5 $$ Domain tableNameDomain = domains.get(getColumnIndex(SHARD_METADATA, TABLE_NAME))-->Line_11 $$ predicates.add(format("table_name = '%s'", getStringValue(tableNameDomain.getSingleValue())))[ FD ]
Line_3 $$ Map<Integer, Domain> domains = tupleDomain.getDomains().get()-->Line_4 $$ Domain schemaNameDomain = domains.get(getColumnIndex(SHARD_METADATA, SCHEMA_NAME))[ FD ]
Line_9 $$ List<String> predicates = new ArrayList()-->Line_14 $$ predicates.add(format("schema_name = '%s'", getStringValue(schemaNameDomain.getSingleValue())))[ FD ]
