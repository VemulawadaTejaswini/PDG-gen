Line_30 $$ while (blocksScanned != 20) -->Line_33 $$ Thread.sleep(5000)[ CD ]
Line_7 $$ StringBuilder namenodesBuilder = new StringBuilder()-->Line_14 $$ conf.set(DFSConfigKeys.DFS_NAMESERVICES, namenodesBuilder.toString())[ FD ]
Line_18 $$ while (true) -->Line_20 $$ Thread.sleep(1000)[ CD ]
Line_7 $$ StringBuilder namenodesBuilder = new StringBuilder()-->Line_26 $$ conf.set(DFSConfigKeys.DFS_NAMESERVICES, namenodesBuilder.toString())[ FD ]
Line_9 $$ for (int i = 0; i < 2; i++) -->Line_28 $$ for (int i = 0; i < 3; i++) [ FD ]
Line_7 $$ StringBuilder namenodesBuilder = new StringBuilder()-->Line_25 $$ namenodesBuilder.append(DFSUtil.getNamenodeNameServiceId(cluster.getConfiguration(2)))[ FD ]
Line_31 $$ blocksScanned = dn.blockScanner.getBlocksScannedInLastRun(bpids[i])-->Line_30 $$ while (blocksScanned != 20) [ FD ]
Line_10 $$ String nsId = DFSUtil.getNamenodeNameServiceId(cluster.getConfiguration(i))-->Line_11 $$ namenodesBuilder.append(nsId)[ FD ]
Line_18 $$ while (true) -->Line_19 $$ dn.blockScanner.getBlocksScannedInLastRun(bpidToShutdown)[ CD ]
Line_8 $$ String bpidToShutdown = cluster.getNamesystem(2).getBlockPoolId()-->Line_19 $$ dn.blockScanner.getBlocksScannedInLastRun(bpidToShutdown)[ FD ]
Line_9 $$ for (int i = 0; i < 2; i++) -->Line_10 $$ String nsId = DFSUtil.getNamenodeNameServiceId(cluster.getConfiguration(i))[ FD ]
Line_6 $$ Configuration conf = new HdfsConfiguration(dnConf)-->Line_26 $$ conf.set(DFSConfigKeys.DFS_NAMESERVICES, namenodesBuilder.toString())[ FD ]
Line_6 $$ Configuration conf = new HdfsConfiguration(dnConf)-->Line_14 $$ conf.set(DFSConfigKeys.DFS_NAMESERVICES, namenodesBuilder.toString())[ FD ]
Line_30 $$ while (blocksScanned != 20) -->Line_31 $$ blocksScanned = dn.blockScanner.getBlocksScannedInLastRun(bpids[i])[ CD ]
Line_28 $$ for (int i = 0; i < 3; i++) -->Line_30 $$ while (blocksScanned != 20) [ CD ]
Line_6 $$ Configuration conf = new HdfsConfiguration(dnConf)-->Line_16 $$ dn.refreshNamenodes(conf)[ FD ]
Line_7 $$ StringBuilder namenodesBuilder = new StringBuilder()-->Line_11 $$ namenodesBuilder.append(nsId)[ FD ]
Line_7 $$ StringBuilder namenodesBuilder = new StringBuilder()-->Line_12 $$ namenodesBuilder.append(",")[ FD ]
Line_2 $$ public void testBlockScannerAfterRefresh() throws IOException, InterruptedException -->Line_3 $$ setUp()[ CD ]
Line_30 $$ while (blocksScanned != 20) -->Line_32 $$ LOG.info("Waiting for all blocks to be scanned for bpid=" + bpids[i] + "; Scanned so far=" + blocksScanned)[ CD ]
Line_29 $$ long blocksScanned = 0-->Line_30 $$ while (blocksScanned != 20) [ FD ]
Line_9 $$ for (int i = 0; i < 2; i++) -->Line_11 $$ namenodesBuilder.append(nsId)[ CD ]
Line_9 $$ for (int i = 0; i < 2; i++) -->Line_12 $$ namenodesBuilder.append(",")[ CD ]
Line_15 $$ DataNode dn = cluster.getDataNodes().get(0)-->Line_27 $$ dn.refreshNamenodes(conf)[ FD ]
Line_28 $$ for (int i = 0; i < 3; i++) -->Line_29 $$ long blocksScanned = 0[ CD ]
Line_15 $$ DataNode dn = cluster.getDataNodes().get(0)-->Line_16 $$ dn.refreshNamenodes(conf)[ FD ]
Line_6 $$ Configuration conf = new HdfsConfiguration(dnConf)-->Line_27 $$ dn.refreshNamenodes(conf)[ FD ]
Line_29 $$ long blocksScanned = 0-->Line_31 $$ blocksScanned = dn.blockScanner.getBlocksScannedInLastRun(bpids[i])[ FD ]
Line_9 $$ for (int i = 0; i < 2; i++) -->Line_10 $$ String nsId = DFSUtil.getNamenodeNameServiceId(cluster.getConfiguration(i))[ CD ]
