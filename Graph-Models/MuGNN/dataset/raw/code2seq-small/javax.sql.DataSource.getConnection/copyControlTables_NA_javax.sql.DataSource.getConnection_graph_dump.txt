Line_3 $$ Connection sourceConnection = DataAccess.getUpgradeOptimizedConnection()-->Line_12 $$ copyControlTable(sourceConnection, targetConnection, CountryTable.TABLE_NAME, CountryTable.TABLE_COLUMNS, CountryTable.TABLE_SQL_CREATE)[ FD ]
Line_4 $$ DataSourceFactoryBean dataSourceFactoryBean = new DataSourceFactoryBean()-->Line_6 $$ DataSource dataSource = dataSourceFactoryBean.createInstance()[ FD ]
Line_3 $$ Connection sourceConnection = DataAccess.getUpgradeOptimizedConnection()-->Line_14 $$ copyControlTable(sourceConnection, targetConnection, RegionTable.TABLE_NAME, RegionTable.TABLE_COLUMNS, RegionTable.TABLE_SQL_CREATE)[ FD ]
Line_6 $$ DataSource dataSource = dataSourceFactoryBean.createInstance()-->Line_7 $$ Connection targetConnection = dataSource.getConnection()[ FD ]
Line_3 $$ Connection sourceConnection = DataAccess.getUpgradeOptimizedConnection()-->Line_9 $$ copyControlTable(sourceConnection, targetConnection, ClassNameTable.TABLE_NAME, ClassNameTable.TABLE_COLUMNS, ClassNameTable.TABLE_SQL_CREATE)[ FD ]
Line_7 $$ Connection targetConnection = dataSource.getConnection()-->Line_13 $$ copyControlTable(sourceConnection, targetConnection, PortalPreferencesTable.TABLE_NAME, PortalPreferencesTable.TABLE_COLUMNS, PortalPreferencesTable.TABLE_SQL_CREATE)[ FD ]
Line_2 $$ protected void copyControlTables(String shardName) throws Exception -->Line_5 $$ dataSourceFactoryBean.setPropertyPrefix("jdbc." + shardName + ".")[ CD ]
Line_3 $$ Connection sourceConnection = DataAccess.getUpgradeOptimizedConnection()-->Line_22 $$ DataAccess.cleanUp(sourceConnection)[ FD ]
Line_3 $$ Connection sourceConnection = DataAccess.getUpgradeOptimizedConnection()-->Line_10 $$ copyControlTable(sourceConnection, targetConnection, ClusterGroupTable.TABLE_NAME, ClusterGroupTable.TABLE_COLUMNS, ClusterGroupTable.TABLE_SQL_CREATE)[ FD ]
Line_3 $$ Connection sourceConnection = DataAccess.getUpgradeOptimizedConnection()-->Line_15 $$ copyControlTable(sourceConnection, targetConnection, ReleaseTable.TABLE_NAME, ReleaseTable.TABLE_COLUMNS, ReleaseTable.TABLE_SQL_CREATE)[ FD ]
Line_2 $$ protected void copyControlTables(String shardName) throws Exception -->Line_3 $$ Connection sourceConnection = DataAccess.getUpgradeOptimizedConnection()[ CD ]
Line_7 $$ Connection targetConnection = dataSource.getConnection()-->Line_15 $$ copyControlTable(sourceConnection, targetConnection, ReleaseTable.TABLE_NAME, ReleaseTable.TABLE_COLUMNS, ReleaseTable.TABLE_SQL_CREATE)[ FD ]
Line_7 $$ Connection targetConnection = dataSource.getConnection()-->Line_12 $$ copyControlTable(sourceConnection, targetConnection, CountryTable.TABLE_NAME, CountryTable.TABLE_COLUMNS, CountryTable.TABLE_SQL_CREATE)[ FD ]
Line_3 $$ Connection sourceConnection = DataAccess.getUpgradeOptimizedConnection()-->Line_13 $$ copyControlTable(sourceConnection, targetConnection, PortalPreferencesTable.TABLE_NAME, PortalPreferencesTable.TABLE_COLUMNS, PortalPreferencesTable.TABLE_SQL_CREATE)[ FD ]
Line_3 $$ Connection sourceConnection = DataAccess.getUpgradeOptimizedConnection()-->Line_11 $$ copyControlTable(sourceConnection, targetConnection, CounterTable.TABLE_NAME, CounterTable.TABLE_COLUMNS, CounterTable.TABLE_SQL_CREATE)[ FD ]
Line_3 $$ Connection sourceConnection = DataAccess.getUpgradeOptimizedConnection()-->Line_17 $$ copyControlTable(sourceConnection, targetConnection, ServiceComponentTable.TABLE_NAME, ServiceComponentTable.TABLE_COLUMNS, ServiceComponentTable.TABLE_SQL_CREATE)[ FD ]
Line_2 $$ protected void copyControlTables(String shardName) throws Exception -->Line_7 $$ Connection targetConnection = dataSource.getConnection()[ CD ]
Line_7 $$ Connection targetConnection = dataSource.getConnection()-->Line_10 $$ copyControlTable(sourceConnection, targetConnection, ClusterGroupTable.TABLE_NAME, ClusterGroupTable.TABLE_COLUMNS, ClusterGroupTable.TABLE_SQL_CREATE)[ FD ]
Line_3 $$ Connection sourceConnection = DataAccess.getUpgradeOptimizedConnection()-->Line_16 $$ copyControlTable(sourceConnection, targetConnection, ResourceActionTable.TABLE_NAME, ResourceActionTable.TABLE_COLUMNS, ResourceActionTable.TABLE_SQL_CREATE)[ FD ]
Line_7 $$ Connection targetConnection = dataSource.getConnection()-->Line_23 $$ DataAccess.cleanUp(targetConnection)[ FD ]
Line_2 $$ protected void copyControlTables(String shardName) throws Exception -->Line_6 $$ DataSource dataSource = dataSourceFactoryBean.createInstance()[ CD ]
Line_3 $$ Connection sourceConnection = DataAccess.getUpgradeOptimizedConnection()-->Line_18 $$ copyControlTable(sourceConnection, targetConnection, VirtualHostTable.TABLE_NAME, VirtualHostTable.TABLE_COLUMNS, VirtualHostTable.TABLE_SQL_CREATE)[ FD ]
Line_7 $$ Connection targetConnection = dataSource.getConnection()-->Line_18 $$ copyControlTable(sourceConnection, targetConnection, VirtualHostTable.TABLE_NAME, VirtualHostTable.TABLE_COLUMNS, VirtualHostTable.TABLE_SQL_CREATE)[ FD ]
Line_7 $$ Connection targetConnection = dataSource.getConnection()-->Line_17 $$ copyControlTable(sourceConnection, targetConnection, ServiceComponentTable.TABLE_NAME, ServiceComponentTable.TABLE_COLUMNS, ServiceComponentTable.TABLE_SQL_CREATE)[ FD ]
Line_4 $$ DataSourceFactoryBean dataSourceFactoryBean = new DataSourceFactoryBean()-->Line_5 $$ dataSourceFactoryBean.setPropertyPrefix("jdbc." + shardName + ".")[ FD ]
Line_2 $$ protected void copyControlTables(String shardName) throws Exception -->Line_4 $$ DataSourceFactoryBean dataSourceFactoryBean = new DataSourceFactoryBean()[ CD ]
Line_7 $$ Connection targetConnection = dataSource.getConnection()-->Line_9 $$ copyControlTable(sourceConnection, targetConnection, ClassNameTable.TABLE_NAME, ClassNameTable.TABLE_COLUMNS, ClassNameTable.TABLE_SQL_CREATE)[ FD ]
Line_7 $$ Connection targetConnection = dataSource.getConnection()-->Line_16 $$ copyControlTable(sourceConnection, targetConnection, ResourceActionTable.TABLE_NAME, ResourceActionTable.TABLE_COLUMNS, ResourceActionTable.TABLE_SQL_CREATE)[ FD ]
Line_7 $$ Connection targetConnection = dataSource.getConnection()-->Line_14 $$ copyControlTable(sourceConnection, targetConnection, RegionTable.TABLE_NAME, RegionTable.TABLE_COLUMNS, RegionTable.TABLE_SQL_CREATE)[ FD ]
Line_7 $$ Connection targetConnection = dataSource.getConnection()-->Line_11 $$ copyControlTable(sourceConnection, targetConnection, CounterTable.TABLE_NAME, CounterTable.TABLE_COLUMNS, CounterTable.TABLE_SQL_CREATE)[ FD ]
