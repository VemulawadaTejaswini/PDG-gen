Line_15 $$ PreparedStatement ps = conn.prepareStatement("UPDATE account SET balance = ? WHERE id = ?")-->Line_20 $$ ps.setDouble(1, balance)[ FD ]
Line_12 $$ balance = rs.getDouble(1)-->Line_20 $$ ps.setDouble(1, balance)[ FD ]
Line_19 $$ balance -= a1-->Line_20 $$ ps.setDouble(1, balance)[ FD ]
Line_4 $$ Connection conn = ds.getConnection()-->Line_31 $$ conn = ds.getConnection()[ FD ]
Line_35 $$ balance -= a2-->Line_36 $$ ps.setDouble(1, balance)[ FD ]
Line_9 $$ ResultSet rs = psSelect.executeQuery()-->Line_12 $$ balance = rs.getDouble(1)[ FD ]
Line_31 $$ conn = ds.getConnection()-->Line_32 $$ ps = conn.prepareStatement("UPDATE account SET balance = ? WHERE id = ?")[ FD ]
Line_2 $$ public double withdrawTwiceWithRollback(long id, double a1, double a2) -->Line_19 $$ balance -= a1[ FD ]
Line_22 $$ int rows = ps.executeUpdate()-->Line_23 $$ if (rows != 1)[ FD ]
Line_31 $$ conn = ds.getConnection()-->Line_49 $$ conn.close()[ FD ]
Line_15 $$ PreparedStatement ps = conn.prepareStatement("UPDATE account SET balance = ? WHERE id = ?")-->Line_21 $$ ps.setLong(2, id)[ FD ]
Line_32 $$ ps = conn.prepareStatement("UPDATE account SET balance = ? WHERE id = ?")-->Line_37 $$ ps.setLong(2, id)[ FD ]
Line_19 $$ balance -= a1-->Line_36 $$ ps.setDouble(1, balance)[ FD ]
Line_22 $$ int rows = ps.executeUpdate()-->Line_39 $$ if (rows != 1)[ FD ]
Line_15 $$ PreparedStatement ps = conn.prepareStatement("UPDATE account SET balance = ? WHERE id = ?")-->Line_45 $$ ps.close()[ FD ]
Line_9 $$ ResultSet rs = psSelect.executeQuery()-->Line_10 $$ if (!rs.next())[ FD ]
Line_2 $$ public double withdrawTwiceWithRollback(long id, double a1, double a2) -->Line_21 $$ ps.setLong(2, id)[ FD ]
Line_19 $$ balance -= a1-->Line_35 $$ balance -= a2[ FD ]
Line_15 $$ PreparedStatement ps = conn.prepareStatement("UPDATE account SET balance = ? WHERE id = ?")-->Line_37 $$ ps.setLong(2, id)[ FD ]
Line_12 $$ balance = rs.getDouble(1)-->Line_19 $$ balance -= a1[ FD ]
Line_32 $$ ps = conn.prepareStatement("UPDATE account SET balance = ? WHERE id = ?")-->Line_36 $$ ps.setDouble(1, balance)[ FD ]
Line_6 $$ double balance-->Line_20 $$ ps.setDouble(1, balance)[ FD ]
Line_4 $$ Connection conn = ds.getConnection()-->Line_49 $$ conn.close()[ FD ]
Line_5 $$ PreparedStatement psSelect = conn.prepareStatement("SELECT balance FROM account WHERE id = ?")-->Line_9 $$ ResultSet rs = psSelect.executeQuery()[ FD ]
Line_6 $$ double balance-->Line_35 $$ balance -= a2[ FD ]
Line_32 $$ ps = conn.prepareStatement("UPDATE account SET balance = ? WHERE id = ?")-->Line_45 $$ ps.close()[ FD ]
Line_15 $$ PreparedStatement ps = conn.prepareStatement("UPDATE account SET balance = ? WHERE id = ?")-->Line_36 $$ ps.setDouble(1, balance)[ FD ]
Line_2 $$ public double withdrawTwiceWithRollback(long id, double a1, double a2) -->Line_35 $$ balance -= a2[ FD ]
Line_6 $$ double balance-->Line_36 $$ ps.setDouble(1, balance)[ FD ]
Line_4 $$ Connection conn = ds.getConnection()-->Line_26 $$ conn.close()[ FD ]
Line_15 $$ PreparedStatement ps = conn.prepareStatement("UPDATE account SET balance = ? WHERE id = ?")-->Line_22 $$ int rows = ps.executeUpdate()[ FD ]
Line_32 $$ ps = conn.prepareStatement("UPDATE account SET balance = ? WHERE id = ?")-->Line_38 $$ int rows = ps.executeUpdate()[ FD ]
Line_2 $$ public double withdrawTwiceWithRollback(long id, double a1, double a2) -->Line_8 $$ psSelect.setLong(1, id)[ FD ]
Line_15 $$ PreparedStatement ps = conn.prepareStatement("UPDATE account SET balance = ? WHERE id = ?")-->Line_38 $$ int rows = ps.executeUpdate()[ FD ]
Line_9 $$ ResultSet rs = psSelect.executeQuery()-->Line_13 $$ rs.close()[ FD ]
Line_6 $$ double balance-->Line_19 $$ balance -= a1[ FD ]
Line_12 $$ balance = rs.getDouble(1)-->Line_36 $$ ps.setDouble(1, balance)[ FD ]
Line_6 $$ double balance-->Line_12 $$ balance = rs.getDouble(1)[ FD ]
Line_5 $$ PreparedStatement psSelect = conn.prepareStatement("SELECT balance FROM account WHERE id = ?")-->Line_8 $$ psSelect.setLong(1, id)[ FD ]
Line_15 $$ PreparedStatement ps = conn.prepareStatement("UPDATE account SET balance = ? WHERE id = ?")-->Line_32 $$ ps = conn.prepareStatement("UPDATE account SET balance = ? WHERE id = ?")[ FD ]
Line_4 $$ Connection conn = ds.getConnection()-->Line_32 $$ ps = conn.prepareStatement("UPDATE account SET balance = ? WHERE id = ?")[ FD ]
Line_5 $$ PreparedStatement psSelect = conn.prepareStatement("SELECT balance FROM account WHERE id = ?")-->Line_14 $$ psSelect.close()[ FD ]
Line_12 $$ balance = rs.getDouble(1)-->Line_35 $$ balance -= a2[ FD ]
Line_4 $$ Connection conn = ds.getConnection()-->Line_15 $$ PreparedStatement ps = conn.prepareStatement("UPDATE account SET balance = ? WHERE id = ?")[ FD ]
Line_4 $$ Connection conn = ds.getConnection()-->Line_5 $$ PreparedStatement psSelect = conn.prepareStatement("SELECT balance FROM account WHERE id = ?")[ FD ]
Line_2 $$ public double withdrawTwiceWithRollback(long id, double a1, double a2) -->Line_37 $$ ps.setLong(2, id)[ FD ]
Line_15 $$ PreparedStatement ps = conn.prepareStatement("UPDATE account SET balance = ? WHERE id = ?")-->Line_25 $$ ps.close()[ FD ]
