Line_14 $$ Connection conn = ds.getConnection()-->Line_15 $$ int updated = conn.prepareStatement("update PLANET set galaxy_name='ANDROMEDA' where planetId=1").executeUpdate()[ FD ]
Line_12 $$ Planet s2 = sfsb.getPlanet(s1.getPlanetId())-->Line_21 $$ assertEquals("Galaxy for Planet " + s2.getPlanetName() + " was read from second level cache = " + s2.getGalaxy(), "MILKY WAY", s2.getGalaxy())[ FD ]
Line_23 $$ Statistics stats = sfsb.getStatistics()-->Line_26 $$ assertEquals(stats.getSecondLevelCacheHitCount(), 1)[ FD ]
Line_3 $$ SFSBHibernate2LcacheStats sfsb = lookup("SFSBHibernate2LcacheStats", SFSBHibernate2LcacheStats.class)-->Line_12 $$ Planet s2 = sfsb.getPlanet(s1.getPlanetId())[ FD ]
Line_7 $$ Satellite sat = new Satellite()-->Line_9 $$ sat.setName("MOON")[ FD ]
Line_18 $$ s2 = sfsb.getPlanet(s2.getPlanetId())-->Line_19 $$ System.out.println("get sfsb.getPlanet() returned planet with galaxy=" + s2.getGalaxy())[ FD ]
Line_3 $$ SFSBHibernate2LcacheStats sfsb = lookup("SFSBHibernate2LcacheStats", SFSBHibernate2LcacheStats.class)-->Line_11 $$ Planet s1 = sfsb.prepareData("EARTH", "MILKY WAY", "SUN", satellites1, new Integer(1))[ FD ]
Line_23 $$ Statistics stats = sfsb.getStatistics()-->Line_24 $$ assertEquals(stats.getCollectionLoadCount(), 1)[ FD ]
Line_3 $$ SFSBHibernate2LcacheStats sfsb = lookup("SFSBHibernate2LcacheStats", SFSBHibernate2LcacheStats.class)-->Line_29 $$ assertFalse(sfsb.isSatellitesPresentInCache(1))[ FD ]
Line_12 $$ Planet s2 = sfsb.getPlanet(s1.getPlanetId())-->Line_22 $$ assertEquals(s2.getSatellites().size(), 1)[ FD ]
Line_13 $$ DataSource ds = rawLookup("java:jboss/datasources/ExampleDS", DataSource.class)-->Line_14 $$ Connection conn = ds.getConnection()[ FD ]
Line_6 $$ Set<Satellite> satellites1 = new HashSet<Satellite>()-->Line_11 $$ Planet s1 = sfsb.prepareData("EARTH", "MILKY WAY", "SUN", satellites1, new Integer(1))[ FD ]
Line_2 $$ public void testHibernateStatistics() throws Exception -->Line_3 $$ SFSBHibernate2LcacheStats sfsb = lookup("SFSBHibernate2LcacheStats", SFSBHibernate2LcacheStats.class)[ CD ]
Line_7 $$ Satellite sat = new Satellite()-->Line_10 $$ satellites1.add(sat)[ FD ]
Line_18 $$ s2 = sfsb.getPlanet(s2.getPlanetId())-->Line_21 $$ assertEquals("Galaxy for Planet " + s2.getPlanetName() + " was read from second level cache = " + s2.getGalaxy(), "MILKY WAY", s2.getGalaxy())[ FD ]
Line_6 $$ Set<Satellite> satellites1 = new HashSet<Satellite>()-->Line_10 $$ satellites1.add(sat)[ FD ]
Line_3 $$ SFSBHibernate2LcacheStats sfsb = lookup("SFSBHibernate2LcacheStats", SFSBHibernate2LcacheStats.class)-->Line_4 $$ sfsb.setupConfig()[ FD ]
Line_2 $$ public void testHibernateStatistics() throws Exception -->Line_4 $$ sfsb.setupConfig()[ CD ]
Line_11 $$ Planet s1 = sfsb.prepareData("EARTH", "MILKY WAY", "SUN", satellites1, new Integer(1))-->Line_12 $$ Planet s2 = sfsb.getPlanet(s1.getPlanetId())[ FD ]
Line_18 $$ s2 = sfsb.getPlanet(s2.getPlanetId())-->Line_22 $$ assertEquals(s2.getSatellites().size(), 1)[ FD ]
Line_12 $$ Planet s2 = sfsb.getPlanet(s1.getPlanetId())-->Line_18 $$ s2 = sfsb.getPlanet(s2.getPlanetId())[ FD ]
Line_3 $$ SFSBHibernate2LcacheStats sfsb = lookup("SFSBHibernate2LcacheStats", SFSBHibernate2LcacheStats.class)-->Line_23 $$ Statistics stats = sfsb.getStatistics()[ FD ]
Line_3 $$ SFSBHibernate2LcacheStats sfsb = lookup("SFSBHibernate2LcacheStats", SFSBHibernate2LcacheStats.class)-->Line_28 $$ Statistics statsAfterEviction = sfsb.getStatisticsAfterEviction()[ FD ]
Line_12 $$ Planet s2 = sfsb.getPlanet(s1.getPlanetId())-->Line_19 $$ System.out.println("get sfsb.getPlanet() returned planet with galaxy=" + s2.getGalaxy())[ FD ]
Line_23 $$ Statistics stats = sfsb.getStatistics()-->Line_25 $$ assertEquals(stats.getEntityLoadCount(), 2)[ FD ]
Line_3 $$ SFSBHibernate2LcacheStats sfsb = lookup("SFSBHibernate2LcacheStats", SFSBHibernate2LcacheStats.class)-->Line_31 $$ sfsb.cleanup()[ FD ]
Line_3 $$ SFSBHibernate2LcacheStats sfsb = lookup("SFSBHibernate2LcacheStats", SFSBHibernate2LcacheStats.class)-->Line_27 $$ assertTrue(sfsb.isSatellitesPresentInCache(1))[ FD ]
Line_3 $$ SFSBHibernate2LcacheStats sfsb = lookup("SFSBHibernate2LcacheStats", SFSBHibernate2LcacheStats.class)-->Line_18 $$ s2 = sfsb.getPlanet(s2.getPlanetId())[ FD ]
Line_7 $$ Satellite sat = new Satellite()-->Line_8 $$ sat.setId(new Integer(1))[ FD ]
Line_14 $$ Connection conn = ds.getConnection()-->Line_17 $$ conn.close()[ FD ]
