Line_15 $$ Connection con = null-->Line_19 $$ stmt = con.createStatement()[ FD ]
Line_19 $$ stmt = con.createStatement()-->Line_30 $$ JdbcUtils.closeStatement(stmt)[ FD ]
Line_21 $$ validated = true-->Line_14 $$ while (!validated && System.currentTimeMillis() < deadLine) [ FD ]
Line_19 $$ stmt = con.createStatement()-->Line_20 $$ stmt.execute(this.validationQuery)[ FD ]
Line_21 $$ validated = true-->Line_37 $$ if (!validated) [ FD ]
Line_16 $$ Statement stmt = null-->Line_30 $$ JdbcUtils.closeStatement(stmt)[ FD ]
Line_18 $$ con = this.dataSource.getConnection()-->Line_31 $$ JdbcUtils.closeConnection(con)[ FD ]
Line_10 $$ boolean validated = false-->Line_33 $$ if (!validated) [ FD ]
Line_13 $$ SQLException latestEx = null-->Line_23 $$ latestEx = ex[ FD ]
Line_10 $$ boolean validated = false-->Line_21 $$ validated = true[ FD ]
Line_25 $$ float rest = ((float) (deadLine - System.currentTimeMillis())) / 1000-->Line_26 $$ if (rest > this.interval) [ FD ]
Line_10 $$ boolean validated = false-->Line_37 $$ if (!validated) [ FD ]
Line_10 $$ boolean validated = false-->Line_14 $$ while (!validated && System.currentTimeMillis() < deadLine) [ FD ]
Line_41 $$ if (logger.isInfoEnabled()) -->Line_42 $$ logger.info("Database startup detected after " + duration + " seconds")[ CD ]
Line_16 $$ Statement stmt = null-->Line_20 $$ stmt.execute(this.validationQuery)[ FD ]
Line_14 $$ while (!validated && System.currentTimeMillis() < deadLine) -->Line_33 $$ if (!validated) [ CD ]
Line_33 $$ if (!validated) -->Line_34 $$ Thread.sleep(this.interval * 1000)[ CD ]
Line_26 $$ if (rest > this.interval) -->Line_27 $$ logger.warn("Database has not started up yet - retrying in " + this.interval + " seconds (timeout in " + rest + " seconds)")[ CD ]
Line_15 $$ Connection con = null-->Line_18 $$ con = this.dataSource.getConnection()[ FD ]
Line_16 $$ Statement stmt = null-->Line_19 $$ stmt = con.createStatement()[ FD ]
Line_2 $$ public void afterPropertiesSet() -->Line_3 $$ if (this.dataSource == null) [ CD ]
Line_15 $$ Connection con = null-->Line_31 $$ JdbcUtils.closeConnection(con)[ FD ]
Line_21 $$ validated = true-->Line_33 $$ if (!validated) [ FD ]
Line_14 $$ while (!validated && System.currentTimeMillis() < deadLine) -->Line_15 $$ Connection con = null[ CD ]
Line_2 $$ public void afterPropertiesSet() -->Line_6 $$ if (this.validationQuery == null) [ CD ]
Line_14 $$ while (!validated && System.currentTimeMillis() < deadLine) -->Line_16 $$ Statement stmt = null[ CD ]
Line_18 $$ con = this.dataSource.getConnection()-->Line_19 $$ stmt = con.createStatement()[ FD ]
