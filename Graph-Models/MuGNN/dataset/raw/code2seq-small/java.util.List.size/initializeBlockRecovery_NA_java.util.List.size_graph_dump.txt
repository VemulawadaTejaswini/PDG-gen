Line_27 $$ ReplicaUnderConstruction primary = null-->Line_38 $$ primary = ruc[ FD ]
Line_14 $$ for (int i = 0; i < replicas.size(); i++) -->Line_34 $$ final ReplicaUnderConstruction ruc = replicas.get(i)[ FD ]
Line_14 $$ for (int i = 0; i < replicas.size(); i++) -->Line_17 $$ allLiveReplicasTriedAsPrimary = (allLiveReplicasTriedAsPrimary && replicas.get(i).getChosenAsPrimary())[ FD ]
Line_36 $$ if (lastUpdate > mostRecentLastUpdate) -->Line_38 $$ primary = ruc[ CD ]
Line_14 $$ for (int i = 0; i < replicas.size(); i++) -->Line_23 $$ replicas.get(i).setChosenAsPrimary(false)[ FD ]
Line_27 $$ ReplicaUnderConstruction primary = null-->Line_43 $$ primary.getExpectedStorageLocation().getDatanodeDescriptor().addBlockToBeRecovered(this)[ FD ]
Line_13 $$ boolean allLiveReplicasTriedAsPrimary = true-->Line_17 $$ allLiveReplicasTriedAsPrimary = (allLiveReplicasTriedAsPrimary && replicas.get(i).getChosenAsPrimary())[ FD ]
Line_10 $$ if (replicas.size() == 0) -->Line_11 $$ NameNode.blockStateChangeLog.warn("BLOCK*" + " BlockInfoUnderConstruction.initLeaseRecovery:" + " No blocks found, lease removed.")[ CD ]
Line_34 $$ final ReplicaUnderConstruction ruc = replicas.get(i)-->Line_38 $$ primary = ruc[ FD ]
Line_35 $$ final long lastUpdate = ruc.getExpectedStorageLocation().getDatanodeDescriptor().getLastUpdate()-->Line_39 $$ mostRecentLastUpdate = lastUpdate[ FD ]
Line_36 $$ if (lastUpdate > mostRecentLastUpdate) -->Line_39 $$ mostRecentLastUpdate = lastUpdate[ CD ]
Line_42 $$ if (primary != null) -->Line_43 $$ primary.getExpectedStorageLocation().getDatanodeDescriptor().addBlockToBeRecovered(this)[ CD ]
Line_29 $$ for (int i = 0; i < replicas.size(); i++) -->Line_35 $$ final long lastUpdate = ruc.getExpectedStorageLocation().getDatanodeDescriptor().getLastUpdate()[ CD ]
Line_38 $$ primary = ruc-->Line_42 $$ if (primary != null) [ FD ]
Line_39 $$ mostRecentLastUpdate = lastUpdate-->Line_36 $$ if (lastUpdate > mostRecentLastUpdate) [ FD ]
Line_38 $$ primary = ruc-->Line_44 $$ primary.setChosenAsPrimary(true)[ FD ]
Line_29 $$ for (int i = 0; i < replicas.size(); i++) -->Line_34 $$ final ReplicaUnderConstruction ruc = replicas.get(i)[ CD ]
Line_42 $$ if (primary != null) -->Line_44 $$ primary.setChosenAsPrimary(true)[ CD ]
Line_27 $$ ReplicaUnderConstruction primary = null-->Line_44 $$ primary.setChosenAsPrimary(true)[ FD ]
Line_27 $$ ReplicaUnderConstruction primary = null-->Line_42 $$ if (primary != null) [ FD ]
Line_42 $$ if (primary != null) -->Line_45 $$ NameNode.blockStateChangeLog.info("BLOCK* " + this + " recovery started, primary=" + primary)[ CD ]
Line_29 $$ for (int i = 0; i < replicas.size(); i++) -->Line_34 $$ final ReplicaUnderConstruction ruc = replicas.get(i)[ FD ]
Line_14 $$ for (int i = 0; i < replicas.size(); i++) -->Line_29 $$ for (int i = 0; i < replicas.size(); i++) [ FD ]
Line_38 $$ primary = ruc-->Line_43 $$ primary.getExpectedStorageLocation().getDatanodeDescriptor().addBlockToBeRecovered(this)[ FD ]
Line_34 $$ final ReplicaUnderConstruction ruc = replicas.get(i)-->Line_35 $$ final long lastUpdate = ruc.getExpectedStorageLocation().getDatanodeDescriptor().getLastUpdate()[ FD ]
Line_29 $$ for (int i = 0; i < replicas.size(); i++) -->Line_36 $$ if (lastUpdate > mostRecentLastUpdate) [ CD ]
Line_26 $$ long mostRecentLastUpdate = 0-->Line_36 $$ if (lastUpdate > mostRecentLastUpdate) [ FD ]
Line_26 $$ long mostRecentLastUpdate = 0-->Line_39 $$ mostRecentLastUpdate = lastUpdate[ FD ]
Line_35 $$ final long lastUpdate = ruc.getExpectedStorageLocation().getDatanodeDescriptor().getLastUpdate()-->Line_36 $$ if (lastUpdate > mostRecentLastUpdate) [ FD ]
