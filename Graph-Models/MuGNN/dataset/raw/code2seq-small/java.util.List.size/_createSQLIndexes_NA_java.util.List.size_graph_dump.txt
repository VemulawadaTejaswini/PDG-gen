Line_25 $$ indexMetadata = new IndexMetadata(indexMetadata.getIndexName(), indexMetadata.getTableName(), indexMetadata.isUnique(), indexMetadata.getColumnNames())-->Line_52 $$ _addIndexMetadata(indexMetadataMap, indexMetadata.getTableName(), indexMetadata)[ FD ]
Line_11 $$ Map<String, List<IndexMetadata>> indexMetadataMap = new TreeMap()-->Line_58 $$ _getCreateMappingTableIndex(entityMapping, indexMetadataMap)[ FD ]
Line_41 $$ if (finder.isDBIndex()) -->Line_43 $$ List<EntityColumn> finderColsList = finder.getColumns()[ CD ]
Line_69 $$ if (!indexMetadataMap.isEmpty()) -->Line_70 $$ sb.setIndex(sb.index() - 2)[ CD ]
Line_39 $$ for (int j = 0; j < finderList.size(); j++) -->Line_40 $$ EntityFinder finder = finderList.get(j)[ FD ]
Line_12 $$ try (UnsyncBufferedReader unsyncBufferedReader = new UnsyncBufferedReader(new FileReader(sqlFile))) -->Line_14 $$ String indexSQL = unsyncBufferedReader.readLine()[ FD ]
Line_2 $$ private void _createSQLIndexes() throws Exception -->Line_4 $$ if (!sqlDir.exists()) [ CD ]
Line_2 $$ private void _createSQLIndexes() throws Exception -->Line_74 $$ file.delete()[ CD ]
Line_7 $$ File sqlFile = new File(_sqlDirName + "/" + _sqlIndexesFileName)-->Line_9 $$ _touch(sqlFile)[ FD ]
Line_31 $$ Entity entity = _ejbList.get(i)-->Line_35 $$ if (!entity.isDefaultDataSource()) [ FD ]
Line_43 $$ List<EntityColumn> finderColsList = finder.getColumns()-->Line_44 $$ for (int k = 0; k < finderColsList.size(); k++) [ FD ]
Line_42 $$ List<String> finderColsNames = new ArrayList()-->Line_51 $$ IndexMetadata indexMetadata = IndexMetadataFactoryUtil.createIndexMetadata(finder.isUnique(), entity.getTable(), finderColsNames.toArray(new String[finderColsNames.size()]))[ FD ]
Line_39 $$ for (int j = 0; j < finderList.size(); j++) -->Line_40 $$ EntityFinder finder = finderList.get(j)[ CD ]
Line_8 $$ if (!sqlFile.exists()) -->Line_9 $$ _touch(sqlFile)[ CD ]
Line_73 $$ File file = new File(_sqlDirName, "indexes.properties")-->Line_74 $$ file.delete()[ FD ]
Line_2 $$ private void _createSQLIndexes() throws Exception -->Line_8 $$ if (!sqlFile.exists()) [ CD ]
Line_13 $$ while (true) -->Line_18 $$ indexSQL = indexSQL.trim()[ CD ]
Line_2 $$ private void _createSQLIndexes() throws Exception -->Line_69 $$ if (!indexMetadataMap.isEmpty()) [ CD ]
Line_2 $$ private void _createSQLIndexes() throws Exception -->Line_72 $$ ToolsUtil.writeFileRaw(sqlFile, sb.toString(), _modifiedFileNames)[ CD ]
Line_40 $$ EntityFinder finder = finderList.get(j)-->Line_43 $$ List<EntityColumn> finderColsList = finder.getColumns()[ FD ]
Line_41 $$ if (finder.isDBIndex()) -->Line_51 $$ IndexMetadata indexMetadata = IndexMetadataFactoryUtil.createIndexMetadata(finder.isUnique(), entity.getTable(), finderColsNames.toArray(new String[finderColsNames.size()]))[ CD ]
Line_3 $$ File sqlDir = new File(_sqlDirName)-->Line_5 $$ _mkdir(sqlDir)[ FD ]
Line_11 $$ Map<String, List<IndexMetadata>> indexMetadataMap = new TreeMap()-->Line_52 $$ _addIndexMetadata(indexMetadataMap, indexMetadata.getTableName(), indexMetadata)[ FD ]
Line_31 $$ Entity entity = _ejbList.get(i)-->Line_51 $$ IndexMetadata indexMetadata = IndexMetadataFactoryUtil.createIndexMetadata(finder.isUnique(), entity.getTable(), finderColsNames.toArray(new String[finderColsNames.size()]))[ FD ]
Line_11 $$ Map<String, List<IndexMetadata>> indexMetadataMap = new TreeMap()-->Line_61 $$ for (List<IndexMetadata> indexMetadataList : indexMetadataMap.values()) [ FD ]
Line_18 $$ indexSQL = indexSQL.trim()-->Line_22 $$ IndexMetadata indexMetadata = IndexMetadataFactoryUtil.createIndexMetadata(indexSQL)[ FD ]
Line_13 $$ while (true) -->Line_14 $$ String indexSQL = unsyncBufferedReader.readLine()[ CD ]
Line_7 $$ File sqlFile = new File(_sqlDirName + "/" + _sqlIndexesFileName)-->Line_8 $$ if (!sqlFile.exists()) [ FD ]
Line_14 $$ String indexSQL = unsyncBufferedReader.readLine()-->Line_19 $$ if (Validator.isNull(indexSQL)) [ FD ]
Line_41 $$ if (finder.isDBIndex()) -->Line_48 $$ if (finderColsNames.isEmpty()) [ CD ]
Line_13 $$ while (true) -->Line_27 $$ _addIndexMetadata(indexMetadataMap, indexMetadata.getTableName(), indexMetadata)[ CD ]
Line_60 $$ StringBundler sb = new StringBundler()-->Line_70 $$ sb.setIndex(sb.index() - 2)[ FD ]
Line_41 $$ if (finder.isDBIndex()) -->Line_42 $$ List<String> finderColsNames = new ArrayList()[ CD ]
Line_13 $$ while (true) -->Line_15 $$ if (indexSQL == null) [ CD ]
Line_13 $$ while (true) -->Line_23 $$ Entity entity = _getEntityByTableName(indexMetadata.getTableName())[ CD ]
Line_40 $$ EntityFinder finder = finderList.get(j)-->Line_51 $$ IndexMetadata indexMetadata = IndexMetadataFactoryUtil.createIndexMetadata(finder.isUnique(), entity.getTable(), finderColsNames.toArray(new String[finderColsNames.size()]))[ FD ]
Line_41 $$ if (finder.isDBIndex()) -->Line_52 $$ _addIndexMetadata(indexMetadataMap, indexMetadata.getTableName(), indexMetadata)[ CD ]
Line_11 $$ Map<String, List<IndexMetadata>> indexMetadataMap = new TreeMap()-->Line_27 $$ _addIndexMetadata(indexMetadataMap, indexMetadata.getTableName(), indexMetadata)[ FD ]
Line_43 $$ List<EntityColumn> finderColsList = finder.getColumns()-->Line_45 $$ EntityColumn col = finderColsList.get(k)[ FD ]
Line_60 $$ StringBundler sb = new StringBundler()-->Line_65 $$ sb.append(StringPool.NEW_LINE)[ FD ]
Line_2 $$ private void _createSQLIndexes() throws Exception -->Line_3 $$ File sqlDir = new File(_sqlDirName)[ CD ]
Line_39 $$ for (int j = 0; j < finderList.size(); j++) -->Line_41 $$ if (finder.isDBIndex()) [ CD ]
Line_30 $$ for (int i = 0; i < _ejbList.size(); i++) -->Line_39 $$ for (int j = 0; j < finderList.size(); j++) [ CD ]
Line_2 $$ private void _createSQLIndexes() throws Exception -->Line_30 $$ for (int i = 0; i < _ejbList.size(); i++) [ CD ]
Line_24 $$ if (entity != null) -->Line_25 $$ indexMetadata = new IndexMetadata(indexMetadata.getIndexName(), indexMetadata.getTableName(), indexMetadata.isUnique(), indexMetadata.getColumnNames())[ CD ]
Line_60 $$ StringBundler sb = new StringBundler()-->Line_72 $$ ToolsUtil.writeFileRaw(sqlFile, sb.toString(), _modifiedFileNames)[ FD ]
Line_60 $$ StringBundler sb = new StringBundler()-->Line_67 $$ sb.append(StringPool.NEW_LINE)[ FD ]
Line_31 $$ Entity entity = _ejbList.get(i)-->Line_32 $$ if (!_isTargetEntity(entity)) [ FD ]
Line_22 $$ IndexMetadata indexMetadata = IndexMetadataFactoryUtil.createIndexMetadata(indexSQL)-->Line_27 $$ _addIndexMetadata(indexMetadataMap, indexMetadata.getTableName(), indexMetadata)[ FD ]
Line_60 $$ StringBundler sb = new StringBundler()-->Line_64 $$ sb.append(indexMetadata.getCreateSQL(_getColumnLengths(indexMetadata)))[ FD ]
Line_25 $$ indexMetadata = new IndexMetadata(indexMetadata.getIndexName(), indexMetadata.getTableName(), indexMetadata.isUnique(), indexMetadata.getColumnNames())-->Line_27 $$ _addIndexMetadata(indexMetadataMap, indexMetadata.getTableName(), indexMetadata)[ FD ]
Line_23 $$ Entity entity = _getEntityByTableName(indexMetadata.getTableName())-->Line_35 $$ if (!entity.isDefaultDataSource()) [ FD ]
Line_38 $$ List<EntityFinder> finderList = entity.getFinderList()-->Line_39 $$ for (int j = 0; j < finderList.size(); j++) [ FD ]
Line_14 $$ String indexSQL = unsyncBufferedReader.readLine()-->Line_22 $$ IndexMetadata indexMetadata = IndexMetadataFactoryUtil.createIndexMetadata(indexSQL)[ FD ]
Line_23 $$ Entity entity = _getEntityByTableName(indexMetadata.getTableName())-->Line_32 $$ if (!_isTargetEntity(entity)) [ FD ]
Line_23 $$ Entity entity = _getEntityByTableName(indexMetadata.getTableName())-->Line_38 $$ List<EntityFinder> finderList = entity.getFinderList()[ FD ]
Line_30 $$ for (int i = 0; i < _ejbList.size(); i++) -->Line_31 $$ Entity entity = _ejbList.get(i)[ FD ]
Line_13 $$ while (true) -->Line_22 $$ IndexMetadata indexMetadata = IndexMetadataFactoryUtil.createIndexMetadata(indexSQL)[ CD ]
Line_23 $$ Entity entity = _getEntityByTableName(indexMetadata.getTableName())-->Line_51 $$ IndexMetadata indexMetadata = IndexMetadataFactoryUtil.createIndexMetadata(finder.isUnique(), entity.getTable(), finderColsNames.toArray(new String[finderColsNames.size()]))[ FD ]
Line_31 $$ Entity entity = _ejbList.get(i)-->Line_38 $$ List<EntityFinder> finderList = entity.getFinderList()[ FD ]
Line_63 $$ for (IndexMetadata indexMetadata : indexMetadataList) -->Line_64 $$ sb.append(indexMetadata.getCreateSQL(_getColumnLengths(indexMetadata)))[ FD ]
Line_42 $$ List<String> finderColsNames = new ArrayList()-->Line_46 $$ finderColsNames.add(col.getDBName())[ FD ]
Line_11 $$ Map<String, List<IndexMetadata>> indexMetadataMap = new TreeMap()-->Line_69 $$ if (!indexMetadataMap.isEmpty()) [ FD ]
Line_22 $$ IndexMetadata indexMetadata = IndexMetadataFactoryUtil.createIndexMetadata(indexSQL)-->Line_64 $$ sb.append(indexMetadata.getCreateSQL(_getColumnLengths(indexMetadata)))[ FD ]
Line_14 $$ String indexSQL = unsyncBufferedReader.readLine()-->Line_18 $$ indexSQL = indexSQL.trim()[ FD ]
Line_42 $$ List<String> finderColsNames = new ArrayList()-->Line_48 $$ if (finderColsNames.isEmpty()) [ FD ]
Line_30 $$ for (int i = 0; i < _ejbList.size(); i++) -->Line_38 $$ List<EntityFinder> finderList = entity.getFinderList()[ CD ]
Line_2 $$ private void _createSQLIndexes() throws Exception -->Line_60 $$ StringBundler sb = new StringBundler()[ CD ]
Line_14 $$ String indexSQL = unsyncBufferedReader.readLine()-->Line_15 $$ if (indexSQL == null) [ FD ]
Line_25 $$ indexMetadata = new IndexMetadata(indexMetadata.getIndexName(), indexMetadata.getTableName(), indexMetadata.isUnique(), indexMetadata.getColumnNames())-->Line_23 $$ Entity entity = _getEntityByTableName(indexMetadata.getTableName())[ FD ]
Line_3 $$ File sqlDir = new File(_sqlDirName)-->Line_4 $$ if (!sqlDir.exists()) [ FD ]
Line_18 $$ indexSQL = indexSQL.trim()-->Line_19 $$ if (Validator.isNull(indexSQL)) [ FD ]
Line_38 $$ List<EntityFinder> finderList = entity.getFinderList()-->Line_40 $$ EntityFinder finder = finderList.get(j)[ FD ]
Line_44 $$ for (int k = 0; k < finderColsList.size(); k++) -->Line_45 $$ EntityColumn col = finderColsList.get(k)[ CD ]
Line_4 $$ if (!sqlDir.exists()) -->Line_5 $$ _mkdir(sqlDir)[ CD ]
Line_22 $$ IndexMetadata indexMetadata = IndexMetadataFactoryUtil.createIndexMetadata(indexSQL)-->Line_25 $$ indexMetadata = new IndexMetadata(indexMetadata.getIndexName(), indexMetadata.getTableName(), indexMetadata.isUnique(), indexMetadata.getColumnNames())[ FD ]
Line_40 $$ EntityFinder finder = finderList.get(j)-->Line_41 $$ if (finder.isDBIndex()) [ FD ]
Line_22 $$ IndexMetadata indexMetadata = IndexMetadataFactoryUtil.createIndexMetadata(indexSQL)-->Line_52 $$ _addIndexMetadata(indexMetadataMap, indexMetadata.getTableName(), indexMetadata)[ FD ]
Line_25 $$ indexMetadata = new IndexMetadata(indexMetadata.getIndexName(), indexMetadata.getTableName(), indexMetadata.isUnique(), indexMetadata.getColumnNames())-->Line_64 $$ sb.append(indexMetadata.getCreateSQL(_getColumnLengths(indexMetadata)))[ FD ]
Line_2 $$ private void _createSQLIndexes() throws Exception -->Line_73 $$ File file = new File(_sqlDirName, "indexes.properties")[ CD ]
Line_61 $$ for (List<IndexMetadata> indexMetadataList : indexMetadataMap.values()) -->Line_62 $$ Collections.sort(indexMetadataList)[ FD ]
Line_30 $$ for (int i = 0; i < _ejbList.size(); i++) -->Line_35 $$ if (!entity.isDefaultDataSource()) [ CD ]
Line_18 $$ indexSQL = indexSQL.trim()-->Line_15 $$ if (indexSQL == null) [ FD ]
Line_57 $$ EntityMapping entityMapping = entry.getValue()-->Line_58 $$ _getCreateMappingTableIndex(entityMapping, indexMetadataMap)[ FD ]
Line_2 $$ private void _createSQLIndexes() throws Exception -->Line_7 $$ File sqlFile = new File(_sqlDirName + "/" + _sqlIndexesFileName)[ CD ]
Line_56 $$ for (Map.Entry<String, EntityMapping> entry : _entityMappings.entrySet()) -->Line_57 $$ EntityMapping entityMapping = entry.getValue()[ FD ]
Line_7 $$ File sqlFile = new File(_sqlDirName + "/" + _sqlIndexesFileName)-->Line_72 $$ ToolsUtil.writeFileRaw(sqlFile, sb.toString(), _modifiedFileNames)[ FD ]
Line_13 $$ while (true) -->Line_24 $$ if (entity != null) [ CD ]
Line_23 $$ Entity entity = _getEntityByTableName(indexMetadata.getTableName())-->Line_24 $$ if (entity != null) [ FD ]
Line_30 $$ for (int i = 0; i < _ejbList.size(); i++) -->Line_31 $$ Entity entity = _ejbList.get(i)[ CD ]
Line_44 $$ for (int k = 0; k < finderColsList.size(); k++) -->Line_46 $$ finderColsNames.add(col.getDBName())[ CD ]
Line_22 $$ IndexMetadata indexMetadata = IndexMetadataFactoryUtil.createIndexMetadata(indexSQL)-->Line_23 $$ Entity entity = _getEntityByTableName(indexMetadata.getTableName())[ FD ]
Line_13 $$ while (true) -->Line_19 $$ if (Validator.isNull(indexSQL)) [ CD ]
Line_44 $$ for (int k = 0; k < finderColsList.size(); k++) -->Line_45 $$ EntityColumn col = finderColsList.get(k)[ FD ]
Line_45 $$ EntityColumn col = finderColsList.get(k)-->Line_46 $$ finderColsNames.add(col.getDBName())[ FD ]
Line_2 $$ private void _createSQLIndexes() throws Exception -->Line_11 $$ Map<String, List<IndexMetadata>> indexMetadataMap = new TreeMap()[ CD ]
Line_30 $$ for (int i = 0; i < _ejbList.size(); i++) -->Line_32 $$ if (!_isTargetEntity(entity)) [ CD ]
Line_41 $$ if (finder.isDBIndex()) -->Line_44 $$ for (int k = 0; k < finderColsList.size(); k++) [ CD ]
