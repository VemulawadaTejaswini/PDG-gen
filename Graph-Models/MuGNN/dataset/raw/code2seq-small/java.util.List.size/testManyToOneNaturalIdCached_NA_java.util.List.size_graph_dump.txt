Line_5 $$ Citizen c1 = new Citizen()-->Line_8 $$ c1.setSsn("1234")[ FD ]
Line_21 $$ Statistics stats = sessionFactory().getStatistics()-->Line_22 $$ stats.setStatisticsEnabled(true)[ FD ]
Line_13 $$ Session s = openSession()-->Line_30 $$ Criteria criteria = s.createCriteria(NaturalIdOnManyToOne.class)[ FD ]
Line_13 $$ Session s = openSession()-->Line_15 $$ s.persist(france)[ FD ]
Line_13 $$ Session s = openSession()-->Line_29 $$ tx = s.beginTransaction()[ FD ]
Line_21 $$ Statistics stats = sessionFactory().getStatistics()-->Line_27 $$ assertEquals("NaturalId cache misses should be zero", 0, stats.getNaturalIdCacheMissCount())[ FD ]
Line_9 $$ State france = new State()-->Line_10 $$ france.setName("Ile de France")[ FD ]
Line_21 $$ Statistics stats = sessionFactory().getStatistics()-->Line_46 $$ assertEquals("NaturalId Cache Queries", 1, stats.getNaturalIdQueryExecutionCount())[ FD ]
Line_4 $$ NaturalIdOnManyToOne singleManyToOne = new NaturalIdOnManyToOne()-->Line_17 $$ s.persist(singleManyToOne)[ FD ]
Line_13 $$ Session s = openSession()-->Line_17 $$ s.persist(singleManyToOne)[ FD ]
Line_28 $$ s = openSession()-->Line_29 $$ tx = s.beginTransaction()[ FD ]
Line_5 $$ Citizen c1 = new Citizen()-->Line_12 $$ singleManyToOne.setCitizen(c1)[ FD ]
Line_13 $$ Session s = openSession()-->Line_14 $$ Transaction tx = s.beginTransaction()[ FD ]
Line_28 $$ s = openSession()-->Line_30 $$ Criteria criteria = s.createCriteria(NaturalIdOnManyToOne.class)[ FD ]
Line_30 $$ Criteria criteria = s.createCriteria(NaturalIdOnManyToOne.class)-->Line_31 $$ criteria.add(Restrictions.naturalId().set("citizen", c1))[ FD ]
Line_13 $$ Session s = openSession()-->Line_20 $$ s.getSessionFactory().getCache().evictNaturalIdRegions()[ FD ]
Line_21 $$ Statistics stats = sessionFactory().getStatistics()-->Line_36 $$ assertEquals("NaturalId Cache Hits", 0, stats.getNaturalIdCacheHitCount())[ FD ]
Line_21 $$ Statistics stats = sessionFactory().getStatistics()-->Line_23 $$ stats.clear()[ FD ]
Line_30 $$ Criteria criteria = s.createCriteria(NaturalIdOnManyToOne.class)-->Line_32 $$ criteria.setCacheable(true)[ FD ]
Line_13 $$ Session s = openSession()-->Line_28 $$ s = openSession()[ FD ]
Line_21 $$ Statistics stats = sessionFactory().getStatistics()-->Line_43 $$ assertEquals("NaturalId Cache Hits", 0, stats.getNaturalIdCacheHitCount())[ FD ]
Line_21 $$ Statistics stats = sessionFactory().getStatistics()-->Line_44 $$ assertEquals("NaturalId Cache Misses", 1, stats.getNaturalIdCacheMissCount())[ FD ]
Line_21 $$ Statistics stats = sessionFactory().getStatistics()-->Line_26 $$ assertEquals("NaturalId Cache Puts", 0, stats.getNaturalIdCachePutCount())[ FD ]
Line_21 $$ Statistics stats = sessionFactory().getStatistics()-->Line_25 $$ assertEquals("NaturalId cache hits should be zero", 0, stats.getNaturalIdCacheHitCount())[ FD ]
Line_5 $$ Citizen c1 = new Citizen()-->Line_11 $$ c1.setState(france)[ FD ]
Line_13 $$ Session s = openSession()-->Line_16 $$ s.persist(c1)[ FD ]
Line_5 $$ Citizen c1 = new Citizen()-->Line_31 $$ criteria.add(Restrictions.naturalId().set("citizen", c1))[ FD ]
Line_5 $$ Citizen c1 = new Citizen()-->Line_6 $$ c1.setFirstname("Emmanuel")[ FD ]
Line_21 $$ Statistics stats = sessionFactory().getStatistics()-->Line_45 $$ assertEquals("NaturalId Cache Puts", 2, stats.getNaturalIdCachePutCount())[ FD ]
Line_13 $$ Session s = openSession()-->Line_19 $$ s.close()[ FD ]
Line_4 $$ NaturalIdOnManyToOne singleManyToOne = new NaturalIdOnManyToOne()-->Line_12 $$ singleManyToOne.setCitizen(c1)[ FD ]
Line_14 $$ Transaction tx = s.beginTransaction()-->Line_29 $$ tx = s.beginTransaction()[ FD ]
Line_21 $$ Statistics stats = sessionFactory().getStatistics()-->Line_37 $$ assertEquals("NaturalId Cache Misses", 1, stats.getNaturalIdCacheMissCount())[ FD ]
Line_21 $$ Statistics stats = sessionFactory().getStatistics()-->Line_40 $$ assertEquals("NaturalId Cache Queries", 1, stats.getNaturalIdQueryExecutionCount())[ FD ]
Line_5 $$ Citizen c1 = new Citizen()-->Line_7 $$ c1.setLastname("Bernard")[ FD ]
Line_9 $$ State france = new State()-->Line_15 $$ s.persist(france)[ FD ]
Line_21 $$ Statistics stats = sessionFactory().getStatistics()-->Line_24 $$ assertEquals("NaturalId cache puts should be zero", 0, stats.getNaturalIdCachePutCount())[ FD ]
Line_28 $$ s = openSession()-->Line_49 $$ s.close()[ FD ]
Line_5 $$ Citizen c1 = new Citizen()-->Line_16 $$ s.persist(c1)[ FD ]
Line_13 $$ Session s = openSession()-->Line_49 $$ s.close()[ FD ]
Line_9 $$ State france = new State()-->Line_11 $$ c1.setState(france)[ FD ]
Line_14 $$ Transaction tx = s.beginTransaction()-->Line_18 $$ tx.commit()[ FD ]
