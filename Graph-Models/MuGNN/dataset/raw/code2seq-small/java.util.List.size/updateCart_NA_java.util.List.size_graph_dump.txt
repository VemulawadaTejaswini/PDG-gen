Line_46 $$ ShoppingCart cart = null-->Line_48 $$ cart = shoppingCartPersistence.create(0)[ FD ]
Line_47 $$ if (user.isDefaultUser()) -->Line_49 $$ cart.setGroupId(groupId)[ CD ]
Line_57 $$ cart = shoppingCartPersistence.create(cartId)-->Line_67 $$ cart.setInsure(insure)[ FD ]
Line_54 $$ cart = shoppingCartPersistence.fetchByG_U(groupId, userId)-->Line_58 $$ cart.setGroupId(groupId)[ FD ]
Line_47 $$ if (user.isDefaultUser()) -->Line_55 $$ if (cart == null) [ CD ]
Line_46 $$ ShoppingCart cart = null-->Line_64 $$ cart.setItemIds(checkItemIds(groupId, itemIds))[ FD ]
Line_9 $$ ShoppingItem item = cartItem.getItem()-->Line_10 $$ int minQuantity = ShoppingUtil.getMinQuantity(item)[ FD ]
Line_45 $$ User user = userPersistence.findByPrimaryKey(userId)-->Line_68 $$ if (!user.isDefaultUser()) [ FD ]
Line_4 $$ Map<ShoppingCartItem, Integer> items = getItems(groupId, itemIds)-->Line_6 $$ for (Map.Entry<ShoppingCartItem, Integer> entry : items.entrySet()) [ FD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_24 $$ if (!badItemIds.isEmpty()) [ CD ]
Line_30 $$ ShoppingCoupon coupon = shoppingCouponPersistence.findByCode(couponCodesArray[i])-->Line_35 $$ if (!coupon.hasValidStartDate()) [ FD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_49 $$ cart.setGroupId(groupId)[ FD ]
Line_45 $$ User user = userPersistence.findByPrimaryKey(userId)-->Line_61 $$ cart.setUserName(user.getFullName())[ FD ]
Line_3 $$ List<Long> badItemIds = new ArrayList()-->Line_25 $$ throw new CartMinQuantityException(StringUtil.merge(badItemIds.toArray(new Long[badItemIds.size()])))[ FD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_68 $$ if (!user.isDefaultUser()) [ CD ]
Line_45 $$ User user = userPersistence.findByPrimaryKey(userId)-->Line_59 $$ cart.setCompanyId(user.getCompanyId())[ FD ]
Line_9 $$ ShoppingItem item = cartItem.getItem()-->Line_16 $$ badItemIds.add(item.getItemId())[ FD ]
Line_46 $$ ShoppingCart cart = null-->Line_55 $$ if (cart == null) [ FD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_65 $$ cart.setCouponCodes(couponCodes)[ FD ]
Line_46 $$ ShoppingCart cart = null-->Line_59 $$ cart.setCompanyId(user.getCompanyId())[ FD ]
Line_46 $$ ShoppingCart cart = null-->Line_60 $$ cart.setUserId(userId)[ FD ]
Line_54 $$ cart = shoppingCartPersistence.fetchByG_U(groupId, userId)-->Line_65 $$ cart.setCouponCodes(couponCodes)[ FD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_66 $$ cart.setAltShipping(altShipping)[ CD ]
Line_57 $$ cart = shoppingCartPersistence.create(cartId)-->Line_64 $$ cart.setItemIds(checkItemIds(groupId, itemIds))[ FD ]
Line_48 $$ cart = shoppingCartPersistence.create(0)-->Line_64 $$ cart.setItemIds(checkItemIds(groupId, itemIds))[ FD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_64 $$ cart.setItemIds(checkItemIds(groupId, itemIds))[ CD ]
Line_55 $$ if (cart == null) -->Line_60 $$ cart.setUserId(userId)[ CD ]
Line_57 $$ cart = shoppingCartPersistence.create(cartId)-->Line_60 $$ cart.setUserId(userId)[ FD ]
Line_35 $$ if (!coupon.hasValidStartDate()) -->Line_37 $$ if (!coupon.hasValidEndDate()) [ CD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_51 $$ cart.setUserId(userId)[ FD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_66 $$ cart.setAltShipping(altShipping)[ FD ]
Line_46 $$ ShoppingCart cart = null-->Line_54 $$ cart = shoppingCartPersistence.fetchByG_U(groupId, userId)[ FD ]
Line_47 $$ if (user.isDefaultUser()) -->Line_50 $$ cart.setCompanyId(user.getCompanyId())[ CD ]
Line_46 $$ ShoppingCart cart = null-->Line_66 $$ cart.setAltShipping(altShipping)[ FD ]
Line_48 $$ cart = shoppingCartPersistence.create(0)-->Line_52 $$ cart.setUserName(user.getFullName())[ FD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_67 $$ cart.setInsure(insure)[ FD ]
Line_30 $$ ShoppingCoupon coupon = shoppingCouponPersistence.findByCode(couponCodesArray[i])-->Line_33 $$ if (!coupon.isActive()) [ FD ]
Line_57 $$ cart = shoppingCartPersistence.create(cartId)-->Line_66 $$ cart.setAltShipping(altShipping)[ FD ]
Line_47 $$ if (user.isDefaultUser()) -->Line_52 $$ cart.setUserName(user.getFullName())[ CD ]
Line_46 $$ ShoppingCart cart = null-->Line_58 $$ cart.setGroupId(groupId)[ FD ]
Line_54 $$ cart = shoppingCartPersistence.fetchByG_U(groupId, userId)-->Line_55 $$ if (cart == null) [ FD ]
Line_7 $$ ShoppingCartItem cartItem = entry.getKey()-->Line_9 $$ ShoppingItem item = cartItem.getItem()[ FD ]
Line_3 $$ List<Long> badItemIds = new ArrayList()-->Line_24 $$ if (!badItemIds.isEmpty()) [ FD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_31 $$ if (coupon.getGroupId() != groupId) [ FD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_4 $$ Map<ShoppingCartItem, Integer> items = getItems(groupId, itemIds)[ CD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_46 $$ ShoppingCart cart = null[ CD ]
Line_48 $$ cart = shoppingCartPersistence.create(0)-->Line_58 $$ cart.setGroupId(groupId)[ FD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_64 $$ cart.setItemIds(checkItemIds(groupId, itemIds))[ FD ]
Line_48 $$ cart = shoppingCartPersistence.create(0)-->Line_57 $$ cart = shoppingCartPersistence.create(cartId)[ FD ]
Line_48 $$ cart = shoppingCartPersistence.create(0)-->Line_69 $$ shoppingCartPersistence.update(cart)[ FD ]
Line_46 $$ ShoppingCart cart = null-->Line_67 $$ cart.setInsure(insure)[ FD ]
Line_45 $$ User user = userPersistence.findByPrimaryKey(userId)-->Line_52 $$ cart.setUserName(user.getFullName())[ FD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_27 $$ String[] couponCodesArray = StringUtil.split(couponCodes)[ CD ]
Line_55 $$ if (cart == null) -->Line_61 $$ cart.setUserName(user.getFullName())[ CD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_3 $$ List<Long> badItemIds = new ArrayList()[ CD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_71 $$ return cart[ CD ]
Line_48 $$ cart = shoppingCartPersistence.create(0)-->Line_59 $$ cart.setCompanyId(user.getCompanyId())[ FD ]
Line_48 $$ cart = shoppingCartPersistence.create(0)-->Line_55 $$ if (cart == null) [ FD ]
Line_48 $$ cart = shoppingCartPersistence.create(0)-->Line_54 $$ cart = shoppingCartPersistence.fetchByG_U(groupId, userId)[ FD ]
Line_47 $$ if (user.isDefaultUser()) -->Line_51 $$ cart.setUserId(userId)[ CD ]
Line_48 $$ cart = shoppingCartPersistence.create(0)-->Line_65 $$ cart.setCouponCodes(couponCodes)[ FD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_47 $$ if (user.isDefaultUser()) [ CD ]
Line_68 $$ if (!user.isDefaultUser()) -->Line_69 $$ shoppingCartPersistence.update(cart)[ CD ]
Line_45 $$ User user = userPersistence.findByPrimaryKey(userId)-->Line_50 $$ cart.setCompanyId(user.getCompanyId())[ FD ]
Line_54 $$ cart = shoppingCartPersistence.fetchByG_U(groupId, userId)-->Line_59 $$ cart.setCompanyId(user.getCompanyId())[ FD ]
Line_48 $$ cart = shoppingCartPersistence.create(0)-->Line_67 $$ cart.setInsure(insure)[ FD ]
Line_47 $$ if (user.isDefaultUser()) -->Line_48 $$ cart = shoppingCartPersistence.create(0)[ CD ]
Line_54 $$ cart = shoppingCartPersistence.fetchByG_U(groupId, userId)-->Line_67 $$ cart.setInsure(insure)[ FD ]
Line_57 $$ cart = shoppingCartPersistence.create(cartId)-->Line_59 $$ cart.setCompanyId(user.getCompanyId())[ FD ]
Line_57 $$ cart = shoppingCartPersistence.create(cartId)-->Line_61 $$ cart.setUserName(user.getFullName())[ FD ]
Line_48 $$ cart = shoppingCartPersistence.create(0)-->Line_51 $$ cart.setUserId(userId)[ FD ]
Line_10 $$ int minQuantity = ShoppingUtil.getMinQuantity(item)-->Line_11 $$ if (minQuantity <= 0) [ FD ]
Line_54 $$ cart = shoppingCartPersistence.fetchByG_U(groupId, userId)-->Line_60 $$ cart.setUserId(userId)[ FD ]
Line_54 $$ cart = shoppingCartPersistence.fetchByG_U(groupId, userId)-->Line_66 $$ cart.setAltShipping(altShipping)[ FD ]
Line_46 $$ ShoppingCart cart = null-->Line_49 $$ cart.setGroupId(groupId)[ FD ]
Line_10 $$ int minQuantity = ShoppingUtil.getMinQuantity(item)-->Line_19 $$ if (count.intValue() < minQuantity) [ FD ]
Line_56 $$ long cartId = counterLocalService.increment()-->Line_57 $$ cart = shoppingCartPersistence.create(cartId)[ FD ]
Line_45 $$ User user = userPersistence.findByPrimaryKey(userId)-->Line_47 $$ if (user.isDefaultUser()) [ FD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_65 $$ cart.setCouponCodes(couponCodes)[ CD ]
Line_55 $$ if (cart == null) -->Line_58 $$ cart.setGroupId(groupId)[ CD ]
Line_46 $$ ShoppingCart cart = null-->Line_69 $$ shoppingCartPersistence.update(cart)[ FD ]
Line_9 $$ ShoppingItem item = cartItem.getItem()-->Line_20 $$ badItemIds.add(item.getItemId())[ FD ]
Line_54 $$ cart = shoppingCartPersistence.fetchByG_U(groupId, userId)-->Line_61 $$ cart.setUserName(user.getFullName())[ FD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_45 $$ User user = userPersistence.findByPrimaryKey(userId)[ FD ]
Line_6 $$ for (Map.Entry<ShoppingCartItem, Integer> entry : items.entrySet()) -->Line_8 $$ Integer count = entry.getValue()[ FD ]
Line_48 $$ cart = shoppingCartPersistence.create(0)-->Line_60 $$ cart.setUserId(userId)[ FD ]
Line_19 $$ if (count.intValue() < minQuantity) -->Line_20 $$ badItemIds.add(item.getItemId())[ CD ]
Line_46 $$ ShoppingCart cart = null-->Line_57 $$ cart = shoppingCartPersistence.create(cartId)[ FD ]
Line_48 $$ cart = shoppingCartPersistence.create(0)-->Line_61 $$ cart.setUserName(user.getFullName())[ FD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_4 $$ Map<ShoppingCartItem, Integer> items = getItems(groupId, itemIds)[ FD ]
Line_55 $$ if (cart == null) -->Line_56 $$ long cartId = counterLocalService.increment()[ CD ]
Line_8 $$ Integer count = entry.getValue()-->Line_15 $$ if ((count.intValue() % minQuantity) > 0) [ FD ]
Line_15 $$ if ((count.intValue() % minQuantity) > 0) -->Line_16 $$ badItemIds.add(item.getItemId())[ CD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_67 $$ cart.setInsure(insure)[ CD ]
Line_31 $$ if (coupon.getGroupId() != groupId) -->Line_33 $$ if (!coupon.isActive()) [ CD ]
Line_48 $$ cart = shoppingCartPersistence.create(0)-->Line_49 $$ cart.setGroupId(groupId)[ FD ]
Line_54 $$ cart = shoppingCartPersistence.fetchByG_U(groupId, userId)-->Line_64 $$ cart.setItemIds(checkItemIds(groupId, itemIds))[ FD ]
Line_48 $$ cart = shoppingCartPersistence.create(0)-->Line_50 $$ cart.setCompanyId(user.getCompanyId())[ FD ]
Line_48 $$ cart = shoppingCartPersistence.create(0)-->Line_66 $$ cart.setAltShipping(altShipping)[ FD ]
Line_46 $$ ShoppingCart cart = null-->Line_51 $$ cart.setUserId(userId)[ FD ]
Line_14 $$ if (minQtyMultiple) -->Line_19 $$ if (count.intValue() < minQuantity) [ CD ]
Line_57 $$ cart = shoppingCartPersistence.create(cartId)-->Line_58 $$ cart.setGroupId(groupId)[ FD ]
Line_30 $$ ShoppingCoupon coupon = shoppingCouponPersistence.findByCode(couponCodesArray[i])-->Line_31 $$ if (coupon.getGroupId() != groupId) [ FD ]
Line_57 $$ cart = shoppingCartPersistence.create(cartId)-->Line_65 $$ cart.setCouponCodes(couponCodes)[ FD ]
Line_8 $$ Integer count = entry.getValue()-->Line_19 $$ if (count.intValue() < minQuantity) [ FD ]
Line_3 $$ List<Long> badItemIds = new ArrayList()-->Line_16 $$ badItemIds.add(item.getItemId())[ FD ]
Line_46 $$ ShoppingCart cart = null-->Line_61 $$ cart.setUserName(user.getFullName())[ FD ]
Line_3 $$ List<Long> badItemIds = new ArrayList()-->Line_20 $$ badItemIds.add(item.getItemId())[ FD ]
Line_54 $$ cart = shoppingCartPersistence.fetchByG_U(groupId, userId)-->Line_57 $$ cart = shoppingCartPersistence.create(cartId)[ FD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_28 $$ for (int i = 0; i < couponCodesArray.length; i++) [ CD ]
Line_30 $$ ShoppingCoupon coupon = shoppingCouponPersistence.findByCode(couponCodesArray[i])-->Line_37 $$ if (!coupon.hasValidEndDate()) [ FD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_5 $$ boolean minQtyMultiple = GetterUtil.getBoolean(PropsUtil.get(PropsKeys.SHOPPING_CART_MIN_QTY_MULTIPLE))[ CD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_45 $$ User user = userPersistence.findByPrimaryKey(userId)[ CD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_54 $$ cart = shoppingCartPersistence.fetchByG_U(groupId, userId)[ FD ]
Line_57 $$ cart = shoppingCartPersistence.create(cartId)-->Line_69 $$ shoppingCartPersistence.update(cart)[ FD ]
Line_55 $$ if (cart == null) -->Line_57 $$ cart = shoppingCartPersistence.create(cartId)[ CD ]
Line_55 $$ if (cart == null) -->Line_59 $$ cart.setCompanyId(user.getCompanyId())[ CD ]
Line_46 $$ ShoppingCart cart = null-->Line_52 $$ cart.setUserName(user.getFullName())[ FD ]
Line_54 $$ cart = shoppingCartPersistence.fetchByG_U(groupId, userId)-->Line_69 $$ shoppingCartPersistence.update(cart)[ FD ]
Line_6 $$ for (Map.Entry<ShoppingCartItem, Integer> entry : items.entrySet()) -->Line_7 $$ ShoppingCartItem cartItem = entry.getKey()[ FD ]
Line_46 $$ ShoppingCart cart = null-->Line_50 $$ cart.setCompanyId(user.getCompanyId())[ FD ]
Line_33 $$ if (!coupon.isActive()) -->Line_35 $$ if (!coupon.hasValidStartDate()) [ CD ]
Line_14 $$ if (minQtyMultiple) -->Line_15 $$ if ((count.intValue() % minQuantity) > 0) [ CD ]
Line_46 $$ ShoppingCart cart = null-->Line_65 $$ cart.setCouponCodes(couponCodes)[ FD ]
Line_47 $$ if (user.isDefaultUser()) -->Line_54 $$ cart = shoppingCartPersistence.fetchByG_U(groupId, userId)[ CD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_27 $$ String[] couponCodesArray = StringUtil.split(couponCodes)[ FD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_58 $$ cart.setGroupId(groupId)[ FD ]
Line_2 $$ public ShoppingCart updateCart(long userId, long groupId, String itemIds, String couponCodes, int altShipping, boolean insure) throws PortalException -->Line_60 $$ cart.setUserId(userId)[ FD ]
