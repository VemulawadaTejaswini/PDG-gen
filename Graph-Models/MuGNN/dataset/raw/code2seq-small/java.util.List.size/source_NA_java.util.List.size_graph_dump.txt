Line_22 $$ if ("upsert".equals(currentFieldName)) -->Line_23 $$ XContentBuilder builder = XContentFactory.contentBuilder(xContentType)[ CD ]
Line_35 $$ List<Object> values = parser.list()-->Line_36 $$ String[] fields = values.toArray(new String[values.size()])[ FD ]
Line_2 $$ public UpdateRequest source(BytesReference source) throws Exception -->Line_3 $$ ScriptParameterParser scriptParameterParser = new ScriptParameterParser()[ CD ]
Line_7 $$ try (XContentParser parser = XContentFactory.xContent(xContentType).createParser(source)) -->Line_13 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) [ FD ]
Line_45 $$ script = new Script(scriptValue.script(), scriptValue.scriptType(), scriptParameterParser.lang(), scriptParams)-->Line_48 $$ if (script != null) [ FD ]
Line_13 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) -->Line_39 $$ scriptParameterParser.token(currentFieldName, token, parser, ParseFieldMatcher.EMPTY)[ FD ]
Line_15 $$ currentFieldName = parser.currentName()-->Line_26 $$ if ("doc".equals(currentFieldName)) [ FD ]
Line_17 $$ script = Script.parse(parser, ParseFieldMatcher.EMPTY)-->Line_45 $$ script = new Script(scriptValue.script(), scriptValue.scriptType(), scriptParameterParser.lang(), scriptParams)[ FD ]
Line_4 $$ Map<String, Object> scriptParams = null-->Line_19 $$ scriptParams = parser.map()[ FD ]
Line_34 $$ if ("fields".equals(currentFieldName)) -->Line_36 $$ String[] fields = values.toArray(new String[values.size()])[ CD ]
Line_45 $$ script = new Script(scriptValue.script(), scriptValue.scriptType(), scriptParameterParser.lang(), scriptParams)-->Line_49 $$ this.script = script[ FD ]
Line_22 $$ if ("upsert".equals(currentFieldName)) -->Line_24 $$ builder.copyCurrentStructure(parser)[ CD ]
Line_2 $$ public UpdateRequest source(BytesReference source) throws Exception -->Line_4 $$ Map<String, Object> scriptParams = null[ CD ]
Line_48 $$ if (script != null) -->Line_49 $$ this.script = script[ CD ]
Line_8 $$ XContentParser.Token token = parser.nextToken()-->Line_9 $$ if (token == null) [ FD ]
Line_7 $$ try (XContentParser parser = XContentFactory.xContent(xContentType).createParser(source)) -->Line_17 $$ script = Script.parse(parser, ParseFieldMatcher.EMPTY)[ FD ]
Line_34 $$ if ("fields".equals(currentFieldName)) -->Line_37 $$ fields(fields)[ CD ]
Line_34 $$ if ("fields".equals(currentFieldName)) -->Line_39 $$ scriptParameterParser.token(currentFieldName, token, parser, ParseFieldMatcher.EMPTY)[ CD ]
Line_9 $$ if (token == null) -->Line_10 $$ return this[ CD ]
Line_26 $$ if ("doc".equals(currentFieldName)) -->Line_28 $$ docBuilder.copyCurrentStructure(parser)[ CD ]
Line_6 $$ XContentType xContentType = XContentFactory.xContentType(source)-->Line_27 $$ XContentBuilder docBuilder = XContentFactory.contentBuilder(xContentType)[ FD ]
Line_12 $$ String currentFieldName = null-->Line_20 $$ if ("scripted_upsert".equals(currentFieldName)) [ FD ]
Line_2 $$ public UpdateRequest source(BytesReference source) throws Exception -->Line_52 $$ return this[ CD ]
Line_8 $$ XContentParser.Token token = parser.nextToken()-->Line_39 $$ scriptParameterParser.token(currentFieldName, token, parser, ParseFieldMatcher.EMPTY)[ FD ]
Line_12 $$ String currentFieldName = null-->Line_22 $$ if ("upsert".equals(currentFieldName)) [ FD ]
Line_15 $$ currentFieldName = parser.currentName()-->Line_39 $$ scriptParameterParser.token(currentFieldName, token, parser, ParseFieldMatcher.EMPTY)[ FD ]
Line_14 $$ if (token == XContentParser.Token.FIELD_NAME) -->Line_16 $$ if ("script".equals(currentFieldName) && token == XContentParser.Token.START_OBJECT) [ CD ]
Line_3 $$ ScriptParameterParser scriptParameterParser = new ScriptParameterParser()-->Line_45 $$ script = new Script(scriptValue.script(), scriptValue.scriptType(), scriptParameterParser.lang(), scriptParams)[ FD ]
Line_22 $$ if ("upsert".equals(currentFieldName)) -->Line_25 $$ safeUpsertRequest().source(builder)[ CD ]
Line_16 $$ if ("script".equals(currentFieldName) && token == XContentParser.Token.START_OBJECT) -->Line_17 $$ script = Script.parse(parser, ParseFieldMatcher.EMPTY)[ CD ]
Line_7 $$ try (XContentParser parser = XContentFactory.xContent(xContentType).createParser(source)) -->Line_15 $$ currentFieldName = parser.currentName()[ FD ]
Line_3 $$ ScriptParameterParser scriptParameterParser = new ScriptParameterParser()-->Line_39 $$ scriptParameterParser.token(currentFieldName, token, parser, ParseFieldMatcher.EMPTY)[ FD ]
Line_15 $$ currentFieldName = parser.currentName()-->Line_16 $$ if ("script".equals(currentFieldName) && token == XContentParser.Token.START_OBJECT) [ FD ]
Line_12 $$ String currentFieldName = null-->Line_32 $$ if ("detect_noop".equals(currentFieldName)) [ FD ]
Line_7 $$ try (XContentParser parser = XContentFactory.xContent(xContentType).createParser(source)) -->Line_28 $$ docBuilder.copyCurrentStructure(parser)[ FD ]
Line_5 $$ Script script = null-->Line_45 $$ script = new Script(scriptValue.script(), scriptValue.scriptType(), scriptParameterParser.lang(), scriptParams)[ FD ]
Line_32 $$ if ("detect_noop".equals(currentFieldName)) -->Line_34 $$ if ("fields".equals(currentFieldName)) [ CD ]
Line_12 $$ String currentFieldName = null-->Line_30 $$ if ("doc_as_upsert".equals(currentFieldName)) [ FD ]
Line_17 $$ script = Script.parse(parser, ParseFieldMatcher.EMPTY)-->Line_42 $$ if (script == null) [ FD ]
Line_42 $$ if (script == null) -->Line_44 $$ if (scriptValue != null) [ CD ]
Line_23 $$ XContentBuilder builder = XContentFactory.contentBuilder(xContentType)-->Line_24 $$ builder.copyCurrentStructure(parser)[ FD ]
Line_15 $$ currentFieldName = parser.currentName()-->Line_30 $$ if ("doc_as_upsert".equals(currentFieldName)) [ FD ]
Line_2 $$ public UpdateRequest source(BytesReference source) throws Exception -->Line_5 $$ Script script = null[ CD ]
Line_27 $$ XContentBuilder docBuilder = XContentFactory.contentBuilder(xContentType)-->Line_28 $$ docBuilder.copyCurrentStructure(parser)[ FD ]
Line_23 $$ XContentBuilder builder = XContentFactory.contentBuilder(xContentType)-->Line_25 $$ safeUpsertRequest().source(builder)[ FD ]
Line_12 $$ String currentFieldName = null-->Line_39 $$ scriptParameterParser.token(currentFieldName, token, parser, ParseFieldMatcher.EMPTY)[ FD ]
Line_5 $$ Script script = null-->Line_17 $$ script = Script.parse(parser, ParseFieldMatcher.EMPTY)[ FD ]
Line_5 $$ Script script = null-->Line_48 $$ if (script != null) [ FD ]
Line_2 $$ public UpdateRequest source(BytesReference source) throws Exception -->Line_6 $$ XContentType xContentType = XContentFactory.xContentType(source)[ CD ]
Line_43 $$ ScriptParameterValue scriptValue = scriptParameterParser.getDefaultScriptParameterValue()-->Line_45 $$ script = new Script(scriptValue.script(), scriptValue.scriptType(), scriptParameterParser.lang(), scriptParams)[ FD ]
Line_18 $$ if ("params".equals(currentFieldName)) -->Line_20 $$ if ("scripted_upsert".equals(currentFieldName)) [ CD ]
Line_20 $$ if ("scripted_upsert".equals(currentFieldName)) -->Line_22 $$ if ("upsert".equals(currentFieldName)) [ CD ]
Line_7 $$ try (XContentParser parser = XContentFactory.xContent(xContentType).createParser(source)) -->Line_39 $$ scriptParameterParser.token(currentFieldName, token, parser, ParseFieldMatcher.EMPTY)[ FD ]
Line_32 $$ if ("detect_noop".equals(currentFieldName)) -->Line_33 $$ detectNoop(parser.booleanValue())[ CD ]
Line_30 $$ if ("doc_as_upsert".equals(currentFieldName)) -->Line_32 $$ if ("detect_noop".equals(currentFieldName)) [ CD ]
Line_6 $$ XContentType xContentType = XContentFactory.xContentType(source)-->Line_7 $$ try (XContentParser parser = XContentFactory.xContent(xContentType).createParser(source)) [ FD ]
Line_7 $$ try (XContentParser parser = XContentFactory.xContent(xContentType).createParser(source)) -->Line_19 $$ scriptParams = parser.map()[ FD ]
Line_15 $$ currentFieldName = parser.currentName()-->Line_22 $$ if ("upsert".equals(currentFieldName)) [ FD ]
Line_30 $$ if ("doc_as_upsert".equals(currentFieldName)) -->Line_31 $$ docAsUpsert(parser.booleanValue())[ CD ]
Line_15 $$ currentFieldName = parser.currentName()-->Line_32 $$ if ("detect_noop".equals(currentFieldName)) [ FD ]
Line_12 $$ String currentFieldName = null-->Line_16 $$ if ("script".equals(currentFieldName) && token == XContentParser.Token.START_OBJECT) [ FD ]
Line_16 $$ if ("script".equals(currentFieldName) && token == XContentParser.Token.START_OBJECT) -->Line_18 $$ if ("params".equals(currentFieldName)) [ CD ]
Line_26 $$ if ("doc".equals(currentFieldName)) -->Line_27 $$ XContentBuilder docBuilder = XContentFactory.contentBuilder(xContentType)[ CD ]
Line_13 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) -->Line_14 $$ if (token == XContentParser.Token.FIELD_NAME) [ CD ]
Line_26 $$ if ("doc".equals(currentFieldName)) -->Line_30 $$ if ("doc_as_upsert".equals(currentFieldName)) [ CD ]
Line_26 $$ if ("doc".equals(currentFieldName)) -->Line_29 $$ safeDoc().source(docBuilder)[ CD ]
Line_15 $$ currentFieldName = parser.currentName()-->Line_18 $$ if ("params".equals(currentFieldName)) [ FD ]
Line_36 $$ String[] fields = values.toArray(new String[values.size()])-->Line_37 $$ fields(fields)[ FD ]
Line_17 $$ script = Script.parse(parser, ParseFieldMatcher.EMPTY)-->Line_48 $$ if (script != null) [ FD ]
Line_7 $$ try (XContentParser parser = XContentFactory.xContent(xContentType).createParser(source)) -->Line_35 $$ List<Object> values = parser.list()[ FD ]
Line_17 $$ script = Script.parse(parser, ParseFieldMatcher.EMPTY)-->Line_49 $$ this.script = script[ FD ]
Line_6 $$ XContentType xContentType = XContentFactory.xContentType(source)-->Line_23 $$ XContentBuilder builder = XContentFactory.contentBuilder(xContentType)[ FD ]
Line_43 $$ ScriptParameterValue scriptValue = scriptParameterParser.getDefaultScriptParameterValue()-->Line_44 $$ if (scriptValue != null) [ FD ]
Line_12 $$ String currentFieldName = null-->Line_34 $$ if ("fields".equals(currentFieldName)) [ FD ]
Line_13 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) -->Line_14 $$ if (token == XContentParser.Token.FIELD_NAME) [ FD ]
Line_8 $$ XContentParser.Token token = parser.nextToken()-->Line_14 $$ if (token == XContentParser.Token.FIELD_NAME) [ FD ]
Line_2 $$ public UpdateRequest source(BytesReference source) throws Exception -->Line_7 $$ try (XContentParser parser = XContentFactory.xContent(xContentType).createParser(source)) [ FD ]
Line_12 $$ String currentFieldName = null-->Line_18 $$ if ("params".equals(currentFieldName)) [ FD ]
Line_22 $$ if ("upsert".equals(currentFieldName)) -->Line_26 $$ if ("doc".equals(currentFieldName)) [ CD ]
Line_15 $$ currentFieldName = parser.currentName()-->Line_34 $$ if ("fields".equals(currentFieldName)) [ FD ]
Line_14 $$ if (token == XContentParser.Token.FIELD_NAME) -->Line_15 $$ currentFieldName = parser.currentName()[ CD ]
Line_20 $$ if ("scripted_upsert".equals(currentFieldName)) -->Line_21 $$ scriptedUpsert = parser.booleanValue()[ CD ]
Line_15 $$ currentFieldName = parser.currentName()-->Line_20 $$ if ("scripted_upsert".equals(currentFieldName)) [ FD ]
Line_12 $$ String currentFieldName = null-->Line_15 $$ currentFieldName = parser.currentName()[ FD ]
Line_3 $$ ScriptParameterParser scriptParameterParser = new ScriptParameterParser()-->Line_43 $$ ScriptParameterValue scriptValue = scriptParameterParser.getDefaultScriptParameterValue()[ FD ]
Line_34 $$ if ("fields".equals(currentFieldName)) -->Line_35 $$ List<Object> values = parser.list()[ CD ]
Line_8 $$ XContentParser.Token token = parser.nextToken()-->Line_13 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) [ FD ]
Line_44 $$ if (scriptValue != null) -->Line_45 $$ script = new Script(scriptValue.script(), scriptValue.scriptType(), scriptParameterParser.lang(), scriptParams)[ CD ]
Line_27 $$ XContentBuilder docBuilder = XContentFactory.contentBuilder(xContentType)-->Line_29 $$ safeDoc().source(docBuilder)[ FD ]
Line_18 $$ if ("params".equals(currentFieldName)) -->Line_19 $$ scriptParams = parser.map()[ CD ]
Line_2 $$ public UpdateRequest source(BytesReference source) throws Exception -->Line_6 $$ XContentType xContentType = XContentFactory.xContentType(source)[ FD ]
Line_42 $$ if (script == null) -->Line_43 $$ ScriptParameterValue scriptValue = scriptParameterParser.getDefaultScriptParameterValue()[ CD ]
Line_5 $$ Script script = null-->Line_42 $$ if (script == null) [ FD ]
Line_7 $$ try (XContentParser parser = XContentFactory.xContent(xContentType).createParser(source)) -->Line_8 $$ XContentParser.Token token = parser.nextToken()[ FD ]
Line_7 $$ try (XContentParser parser = XContentFactory.xContent(xContentType).createParser(source)) -->Line_24 $$ builder.copyCurrentStructure(parser)[ FD ]
Line_5 $$ Script script = null-->Line_49 $$ this.script = script[ FD ]
Line_7 $$ try (XContentParser parser = XContentFactory.xContent(xContentType).createParser(source)) -->Line_33 $$ detectNoop(parser.booleanValue())[ FD ]
Line_7 $$ try (XContentParser parser = XContentFactory.xContent(xContentType).createParser(source)) -->Line_31 $$ docAsUpsert(parser.booleanValue())[ FD ]
Line_7 $$ try (XContentParser parser = XContentFactory.xContent(xContentType).createParser(source)) -->Line_21 $$ scriptedUpsert = parser.booleanValue()[ FD ]
Line_12 $$ String currentFieldName = null-->Line_26 $$ if ("doc".equals(currentFieldName)) [ FD ]
