Line_43 $$ if (exitCode != ExitCode.FORCE_KILLED.getExitCode() && exitCode != ExitCode.TERMINATED.getExitCode()) -->Line_44 $$ LOG.warn("Exception from container-launch with container ID: " + containerId + " and exit code: " + exitCode, e)[ CD ]
Line_9 $$ String resourcesOptions = resourcesHandler.getResourcesOption(containerId)-->Line_16 $$ command.addAll(Arrays.asList(containerExecutorExe, runAsUser, user, Integer.toString(Commands.LAUNCH_CONTAINER.getValue()), appId, containerIdStr, containerWorkDir.toString(), nmPrivateCotainerScriptPath.toUri().getPath().toString(), nmPrivateTokensPath.toUri().getPath().toString(), pidFilePath.toString(), StringUtils.join(",", localDirs), StringUtils.join(",", logDirs), resourcesOptions))[ FD ]
Line_43 $$ if (exitCode != ExitCode.FORCE_KILLED.getExitCode() && exitCode != ExitCode.TERMINATED.getExitCode()) -->Line_45 $$ StringBuilder builder = new StringBuilder()[ CD ]
Line_6 $$ ContainerId containerId = container.getContainerId()-->Line_9 $$ String resourcesOptions = resourcesHandler.getResourcesOption(containerId)[ FD ]
Line_18 $$ shExec = new // NM's cwd-->Line_53 $$ if (!shExec.getOutput().isEmpty()) [ FD ]
Line_45 $$ StringBuilder builder = new StringBuilder()-->Line_46 $$ builder.append("Exception from container-launch.\n")[ FD ]
Line_6 $$ ContainerId containerId = container.getContainerId()-->Line_12 $$ Path pidFilePath = getPidFilePath(containerId)[ FD ]
Line_14 $$ List<String> command = new ArrayList<String>()-->Line_17 $$ String[] commandArray = command.toArray(new String[command.size()])[ FD ]
Line_13 $$ if (pidFilePath != null) -->Line_18 $$ shExec = new // NM's cwd[ CD ]
Line_23 $$ if (LOG.isDebugEnabled()) -->Line_24 $$ LOG.debug("launchContainer: " + Arrays.toString(commandArray))[ CD ]
Line_43 $$ if (exitCode != ExitCode.FORCE_KILLED.getExitCode() && exitCode != ExitCode.TERMINATED.getExitCode()) -->Line_53 $$ if (!shExec.getOutput().isEmpty()) [ CD ]
Line_43 $$ if (exitCode != ExitCode.FORCE_KILLED.getExitCode() && exitCode != ExitCode.TERMINATED.getExitCode()) -->Line_57 $$ logOutput(diagnostics)[ CD ]
Line_43 $$ if (exitCode != ExitCode.FORCE_KILLED.getExitCode() && exitCode != ExitCode.TERMINATED.getExitCode()) -->Line_58 $$ container.handle(new ContainerDiagnosticsUpdateEvent(containerId, diagnostics))[ CD ]
Line_43 $$ if (exitCode != ExitCode.FORCE_KILLED.getExitCode() && exitCode != ExitCode.TERMINATED.getExitCode()) -->Line_56 $$ String diagnostics = builder.toString()[ CD ]
Line_43 $$ if (exitCode != ExitCode.FORCE_KILLED.getExitCode() && exitCode != ExitCode.TERMINATED.getExitCode()) -->Line_49 $$ if (!Optional.fromNullable(e.getMessage()).or("").isEmpty()) [ CD ]
Line_13 $$ if (pidFilePath != null) -->Line_15 $$ addSchedPriorityCommand(command)[ CD ]
Line_18 $$ shExec = new // NM's cwd-->Line_26 $$ shExec.execute()[ FD ]
Line_7 $$ String containerIdStr = ConverterUtils.toString(containerId)-->Line_16 $$ command.addAll(Arrays.asList(containerExecutorExe, runAsUser, user, Integer.toString(Commands.LAUNCH_CONTAINER.getValue()), appId, containerIdStr, containerWorkDir.toString(), nmPrivateCotainerScriptPath.toUri().getPath().toString(), nmPrivateTokensPath.toUri().getPath().toString(), pidFilePath.toString(), StringUtils.join(",", localDirs), StringUtils.join(",", logDirs), resourcesOptions))[ FD ]
Line_10 $$ ShellCommandExecutor shExec = null-->Line_28 $$ logOutput(shExec.getOutput())[ FD ]
Line_10 $$ ShellCommandExecutor shExec = null-->Line_26 $$ shExec.execute()[ FD ]
Line_18 $$ shExec = new // NM's cwd-->Line_28 $$ logOutput(shExec.getOutput())[ FD ]
Line_53 $$ if (!shExec.getOutput().isEmpty()) -->Line_54 $$ builder.append("Shell output: " + shExec.getOutput() + "\n")[ CD ]
Line_17 $$ String[] commandArray = command.toArray(new String[command.size()])-->Line_24 $$ LOG.debug("launchContainer: " + Arrays.toString(commandArray))[ FD ]
Line_6 $$ ContainerId containerId = container.getContainerId()-->Line_64 $$ resourcesHandler.postExecute(containerId)[ FD ]
Line_10 $$ ShellCommandExecutor shExec = null-->Line_68 $$ logOutput(shExec.getOutput())[ FD ]
Line_13 $$ if (pidFilePath != null) -->Line_32 $$ return ExitCode.TERMINATED.getExitCode()[ CD ]
Line_43 $$ if (exitCode != ExitCode.FORCE_KILLED.getExitCode() && exitCode != ExitCode.TERMINATED.getExitCode()) -->Line_47 $$ builder.append("Container id: " + containerId + "\n")[ CD ]
Line_13 $$ if (pidFilePath != null) -->Line_23 $$ if (LOG.isDebugEnabled()) [ CD ]
Line_10 $$ ShellCommandExecutor shExec = null-->Line_35 $$ if (null == shExec) [ FD ]
Line_43 $$ if (exitCode != ExitCode.FORCE_KILLED.getExitCode() && exitCode != ExitCode.TERMINATED.getExitCode()) -->Line_52 $$ builder.append("Stack trace: " + StringUtils.stringifyException(e) + "\n")[ CD ]
Line_45 $$ StringBuilder builder = new StringBuilder()-->Line_56 $$ String diagnostics = builder.toString()[ FD ]
Line_66 $$ if (LOG.isDebugEnabled()) -->Line_67 $$ LOG.debug("Output from LinuxContainerExecutor's launchContainer follows:")[ CD ]
Line_45 $$ StringBuilder builder = new StringBuilder()-->Line_54 $$ builder.append("Shell output: " + shExec.getOutput() + "\n")[ FD ]
Line_13 $$ if (pidFilePath != null) -->Line_31 $$ LOG.info("Container was marked as inactive. Returning terminated error")[ CD ]
Line_35 $$ if (null == shExec) -->Line_36 $$ return -1[ CD ]
Line_43 $$ if (exitCode != ExitCode.FORCE_KILLED.getExitCode() && exitCode != ExitCode.TERMINATED.getExitCode()) -->Line_46 $$ builder.append("Exception from container-launch.\n")[ CD ]
Line_18 $$ shExec = new // NM's cwd-->Line_35 $$ if (null == shExec) [ FD ]
Line_10 $$ ShellCommandExecutor shExec = null-->Line_18 $$ shExec = new // NM's cwd[ FD ]
Line_43 $$ if (exitCode != ExitCode.FORCE_KILLED.getExitCode() && exitCode != ExitCode.TERMINATED.getExitCode()) -->Line_48 $$ builder.append("Exit code: " + exitCode + "\n")[ CD ]
Line_10 $$ ShellCommandExecutor shExec = null-->Line_53 $$ if (!shExec.getOutput().isEmpty()) [ FD ]
Line_6 $$ ContainerId containerId = container.getContainerId()-->Line_8 $$ resourcesHandler.preExecute(containerId, container.getResource())[ FD ]
Line_18 $$ shExec = new // NM's cwd-->Line_54 $$ builder.append("Shell output: " + shExec.getOutput() + "\n")[ FD ]
Line_43 $$ if (exitCode != ExitCode.FORCE_KILLED.getExitCode() && exitCode != ExitCode.TERMINATED.getExitCode()) -->Line_60 $$ container.handle(new ContainerDiagnosticsUpdateEvent(containerId, "Container killed on request. Exit code is " + exitCode))[ CD ]
Line_14 $$ List<String> command = new ArrayList<String>()-->Line_15 $$ addSchedPriorityCommand(command)[ FD ]
Line_27 $$ if (LOG.isDebugEnabled()) -->Line_28 $$ logOutput(shExec.getOutput())[ CD ]
Line_45 $$ StringBuilder builder = new StringBuilder()-->Line_52 $$ builder.append("Stack trace: " + StringUtils.stringifyException(e) + "\n")[ FD ]
Line_13 $$ if (pidFilePath != null) -->Line_17 $$ String[] commandArray = command.toArray(new String[command.size()])[ CD ]
Line_13 $$ if (pidFilePath != null) -->Line_26 $$ shExec.execute()[ CD ]
Line_49 $$ if (!Optional.fromNullable(e.getMessage()).or("").isEmpty()) -->Line_50 $$ builder.append("Exception message: " + e.getMessage() + "\n")[ CD ]
Line_45 $$ StringBuilder builder = new StringBuilder()-->Line_47 $$ builder.append("Container id: " + containerId + "\n")[ FD ]
Line_56 $$ String diagnostics = builder.toString()-->Line_57 $$ logOutput(diagnostics)[ FD ]
Line_45 $$ StringBuilder builder = new StringBuilder()-->Line_48 $$ builder.append("Exit code: " + exitCode + "\n")[ FD ]
Line_14 $$ List<String> command = new ArrayList<String>()-->Line_16 $$ command.addAll(Arrays.asList(containerExecutorExe, runAsUser, user, Integer.toString(Commands.LAUNCH_CONTAINER.getValue()), appId, containerIdStr, containerWorkDir.toString(), nmPrivateCotainerScriptPath.toUri().getPath().toString(), nmPrivateTokensPath.toUri().getPath().toString(), pidFilePath.toString(), StringUtils.join(",", localDirs), StringUtils.join(",", logDirs), resourcesOptions))[ FD ]
Line_18 $$ shExec = new // NM's cwd-->Line_38 $$ int exitCode = shExec.getExitCode()[ FD ]
Line_10 $$ ShellCommandExecutor shExec = null-->Line_54 $$ builder.append("Shell output: " + shExec.getOutput() + "\n")[ FD ]
Line_10 $$ ShellCommandExecutor shExec = null-->Line_38 $$ int exitCode = shExec.getExitCode()[ FD ]
Line_18 $$ shExec = new // NM's cwd-->Line_68 $$ logOutput(shExec.getOutput())[ FD ]
Line_13 $$ if (pidFilePath != null) -->Line_14 $$ List<String> command = new ArrayList<String>()[ CD ]
Line_13 $$ if (pidFilePath != null) -->Line_16 $$ command.addAll(Arrays.asList(containerExecutorExe, runAsUser, user, Integer.toString(Commands.LAUNCH_CONTAINER.getValue()), appId, containerIdStr, containerWorkDir.toString(), nmPrivateCotainerScriptPath.toUri().getPath().toString(), nmPrivateTokensPath.toUri().getPath().toString(), pidFilePath.toString(), StringUtils.join(",", localDirs), StringUtils.join(",", logDirs), resourcesOptions))[ CD ]
Line_13 $$ if (pidFilePath != null) -->Line_27 $$ if (LOG.isDebugEnabled()) [ CD ]
Line_6 $$ ContainerId containerId = container.getContainerId()-->Line_7 $$ String containerIdStr = ConverterUtils.toString(containerId)[ FD ]
Line_12 $$ Path pidFilePath = getPidFilePath(containerId)-->Line_13 $$ if (pidFilePath != null) [ FD ]
Line_45 $$ StringBuilder builder = new StringBuilder()-->Line_50 $$ builder.append("Exception message: " + e.getMessage() + "\n")[ FD ]
Line_66 $$ if (LOG.isDebugEnabled()) -->Line_68 $$ logOutput(shExec.getOutput())[ CD ]
Line_5 $$ String runAsUser = getRunAsUser(user)-->Line_16 $$ command.addAll(Arrays.asList(containerExecutorExe, runAsUser, user, Integer.toString(Commands.LAUNCH_CONTAINER.getValue()), appId, containerIdStr, containerWorkDir.toString(), nmPrivateCotainerScriptPath.toUri().getPath().toString(), nmPrivateTokensPath.toUri().getPath().toString(), pidFilePath.toString(), StringUtils.join(",", localDirs), StringUtils.join(",", logDirs), resourcesOptions))[ FD ]
Line_12 $$ Path pidFilePath = getPidFilePath(containerId)-->Line_16 $$ command.addAll(Arrays.asList(containerExecutorExe, runAsUser, user, Integer.toString(Commands.LAUNCH_CONTAINER.getValue()), appId, containerIdStr, containerWorkDir.toString(), nmPrivateCotainerScriptPath.toUri().getPath().toString(), nmPrivateTokensPath.toUri().getPath().toString(), pidFilePath.toString(), StringUtils.join(",", localDirs), StringUtils.join(",", logDirs), resourcesOptions))[ FD ]
