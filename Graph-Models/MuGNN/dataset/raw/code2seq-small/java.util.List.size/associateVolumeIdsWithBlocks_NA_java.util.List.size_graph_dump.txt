Line_38 $$ for (int k = 0; k < dnInfos.length; k++) -->Line_39 $$ if (dnInfos[k].equals(datanode)) [ CD ]
Line_40 $$ index = k-->Line_44 $$ if (index < 0) [ FD ]
Line_9 $$ ArrayList<VolumeId> l = new ArrayList<VolumeId>(b.getLocations().length)-->Line_11 $$ l.add(null)[ FD ]
Line_17 $$ HdfsBlocksMetadata metadata = entry.getValue()-->Line_18 $$ if (metadata == null) [ FD ]
Line_35 $$ LocatedBlock locBlock = blockIdToLocBlock.get(blockId)-->Line_36 $$ DatanodeInfo[] dnInfos = locBlock.getLocations()[ FD ]
Line_45 $$ if (LOG.isDebugEnabled()) -->Line_46 $$ LOG.debug("Datanode responded with a block volume id we did" + " not request, omitting.")[ CD ]
Line_7 $$ Map<LocatedBlock, List<VolumeId>> blockVolumeIds = new HashMap<LocatedBlock, List<VolumeId>>()-->Line_13 $$ blockVolumeIds.put(b, l)[ FD ]
Line_40 $$ index = k-->Line_51 $$ volumeIds.set(index, id)[ FD ]
Line_24 $$ for (int j = 0; j < metaBlockIds.length; j++) -->Line_26 $$ long blockId = metaBlockIds[j][ CD ]
Line_15 $$ for (Map.Entry<DatanodeInfo, HdfsBlocksMetadata> entry : metadatas.entrySet()) -->Line_17 $$ HdfsBlocksMetadata metadata = entry.getValue()[ FD ]
Line_22 $$ List<byte[]> metaVolumeIds = metadata.getVolumeIds()-->Line_33 $$ byte[] volumeId = metaVolumeIds.get(volumeIndex)[ FD ]
Line_24 $$ for (int j = 0; j < metaBlockIds.length; j++) -->Line_44 $$ if (index < 0) [ CD ]
Line_4 $$ for (LocatedBlock b : blocks) -->Line_9 $$ ArrayList<VolumeId> l = new ArrayList<VolumeId>(b.getLocations().length)[ FD ]
Line_24 $$ for (int j = 0; j < metaBlockIds.length; j++) -->Line_36 $$ DatanodeInfo[] dnInfos = locBlock.getLocations()[ CD ]
Line_35 $$ LocatedBlock locBlock = blockIdToLocBlock.get(blockId)-->Line_50 $$ List<VolumeId> volumeIds = blockVolumeIds.get(locBlock)[ FD ]
Line_3 $$ Map<Long, LocatedBlock> blockIdToLocBlock = new HashMap<Long, LocatedBlock>()-->Line_35 $$ LocatedBlock locBlock = blockIdToLocBlock.get(blockId)[ FD ]
Line_38 $$ for (int k = 0; k < dnInfos.length; k++) -->Line_40 $$ index = k[ FD ]
Line_24 $$ for (int j = 0; j < metaBlockIds.length; j++) -->Line_25 $$ int volumeIndex = metaVolumeIndexes.get(j)[ FD ]
Line_37 $$ int index = -1-->Line_44 $$ if (index < 0) [ FD ]
Line_4 $$ for (LocatedBlock b : blocks) -->Line_10 $$ for (int i = 0; i < b.getLocations().length; i++) [ FD ]
Line_25 $$ int volumeIndex = metaVolumeIndexes.get(j)-->Line_33 $$ byte[] volumeId = metaVolumeIds.get(volumeIndex)[ FD ]
Line_3 $$ Map<Long, LocatedBlock> blockIdToLocBlock = new HashMap<Long, LocatedBlock>()-->Line_5 $$ blockIdToLocBlock.put(b.getBlock().getBlockId(), b)[ FD ]
Line_24 $$ for (int j = 0; j < metaBlockIds.length; j++) -->Line_27 $$ if (volumeIndex == Integer.MAX_VALUE || volumeIndex >= metaVolumeIds.size() || !blockIdToLocBlock.containsKey(blockId)) [ CD ]
Line_28 $$ if (LOG.isDebugEnabled()) -->Line_29 $$ LOG.debug("No data for block " + blockId)[ CD ]
Line_22 $$ List<byte[]> metaVolumeIds = metadata.getVolumeIds()-->Line_27 $$ if (volumeIndex == Integer.MAX_VALUE || volumeIndex >= metaVolumeIds.size() || !blockIdToLocBlock.containsKey(blockId)) [ FD ]
Line_17 $$ HdfsBlocksMetadata metadata = entry.getValue()-->Line_23 $$ List<Integer> metaVolumeIndexes = metadata.getVolumeIndexes()[ FD ]
Line_37 $$ int index = -1-->Line_51 $$ volumeIds.set(index, id)[ FD ]
Line_2 $$ static Map<LocatedBlock, List<VolumeId>> associateVolumeIdsWithBlocks(List<LocatedBlock> blocks, Map<DatanodeInfo, HdfsBlocksMetadata> metadatas) -->Line_7 $$ Map<LocatedBlock, List<VolumeId>> blockVolumeIds = new HashMap<LocatedBlock, List<VolumeId>>()[ CD ]
Line_24 $$ for (int j = 0; j < metaBlockIds.length; j++) -->Line_35 $$ LocatedBlock locBlock = blockIdToLocBlock.get(blockId)[ CD ]
Line_7 $$ Map<LocatedBlock, List<VolumeId>> blockVolumeIds = new HashMap<LocatedBlock, List<VolumeId>>()-->Line_50 $$ List<VolumeId> volumeIds = blockVolumeIds.get(locBlock)[ FD ]
Line_26 $$ long blockId = metaBlockIds[j]-->Line_27 $$ if (volumeIndex == Integer.MAX_VALUE || volumeIndex >= metaVolumeIds.size() || !blockIdToLocBlock.containsKey(blockId)) [ FD ]
Line_39 $$ if (dnInfos[k].equals(datanode)) -->Line_40 $$ index = k[ CD ]
Line_16 $$ DatanodeInfo datanode = entry.getKey()-->Line_39 $$ if (dnInfos[k].equals(datanode)) [ FD ]
Line_2 $$ static Map<LocatedBlock, List<VolumeId>> associateVolumeIdsWithBlocks(List<LocatedBlock> blocks, Map<DatanodeInfo, HdfsBlocksMetadata> metadatas) -->Line_15 $$ for (Map.Entry<DatanodeInfo, HdfsBlocksMetadata> entry : metadatas.entrySet()) [ FD ]
Line_24 $$ for (int j = 0; j < metaBlockIds.length; j++) -->Line_33 $$ byte[] volumeId = metaVolumeIds.get(volumeIndex)[ CD ]
Line_23 $$ List<Integer> metaVolumeIndexes = metadata.getVolumeIndexes()-->Line_25 $$ int volumeIndex = metaVolumeIndexes.get(j)[ FD ]
Line_24 $$ for (int j = 0; j < metaBlockIds.length; j++) -->Line_38 $$ for (int k = 0; k < dnInfos.length; k++) [ CD ]
Line_2 $$ static Map<LocatedBlock, List<VolumeId>> associateVolumeIdsWithBlocks(List<LocatedBlock> blocks, Map<DatanodeInfo, HdfsBlocksMetadata> metadatas) -->Line_54 $$ return blockVolumeIds[ CD ]
Line_15 $$ for (Map.Entry<DatanodeInfo, HdfsBlocksMetadata> entry : metadatas.entrySet()) -->Line_16 $$ DatanodeInfo datanode = entry.getKey()[ FD ]
Line_17 $$ HdfsBlocksMetadata metadata = entry.getValue()-->Line_21 $$ long[] metaBlockIds = metadata.getBlockIds()[ FD ]
Line_24 $$ for (int j = 0; j < metaBlockIds.length; j++) -->Line_37 $$ int index = -1[ CD ]
Line_9 $$ ArrayList<VolumeId> l = new ArrayList<VolumeId>(b.getLocations().length)-->Line_13 $$ blockVolumeIds.put(b, l)[ FD ]
Line_17 $$ HdfsBlocksMetadata metadata = entry.getValue()-->Line_22 $$ List<byte[]> metaVolumeIds = metadata.getVolumeIds()[ FD ]
Line_24 $$ for (int j = 0; j < metaBlockIds.length; j++) -->Line_25 $$ int volumeIndex = metaVolumeIndexes.get(j)[ CD ]
Line_2 $$ static Map<LocatedBlock, List<VolumeId>> associateVolumeIdsWithBlocks(List<LocatedBlock> blocks, Map<DatanodeInfo, HdfsBlocksMetadata> metadatas) -->Line_3 $$ Map<Long, LocatedBlock> blockIdToLocBlock = new HashMap<Long, LocatedBlock>()[ CD ]
Line_10 $$ for (int i = 0; i < b.getLocations().length; i++) -->Line_11 $$ l.add(null)[ CD ]
Line_44 $$ if (index < 0) -->Line_45 $$ if (LOG.isDebugEnabled()) [ CD ]
Line_4 $$ for (LocatedBlock b : blocks) -->Line_13 $$ blockVolumeIds.put(b, l)[ FD ]
Line_26 $$ long blockId = metaBlockIds[j]-->Line_35 $$ LocatedBlock locBlock = blockIdToLocBlock.get(blockId)[ FD ]
Line_24 $$ for (int j = 0; j < metaBlockIds.length; j++) -->Line_51 $$ volumeIds.set(index, id)[ CD ]
Line_27 $$ if (volumeIndex == Integer.MAX_VALUE || volumeIndex >= metaVolumeIds.size() || !blockIdToLocBlock.containsKey(blockId)) -->Line_28 $$ if (LOG.isDebugEnabled()) [ CD ]
Line_3 $$ Map<Long, LocatedBlock> blockIdToLocBlock = new HashMap<Long, LocatedBlock>()-->Line_27 $$ if (volumeIndex == Integer.MAX_VALUE || volumeIndex >= metaVolumeIds.size() || !blockIdToLocBlock.containsKey(blockId)) [ FD ]
Line_37 $$ int index = -1-->Line_40 $$ index = k[ FD ]
Line_24 $$ for (int j = 0; j < metaBlockIds.length; j++) -->Line_34 $$ HdfsVolumeId id = new HdfsVolumeId(volumeId)[ CD ]
Line_24 $$ for (int j = 0; j < metaBlockIds.length; j++) -->Line_50 $$ List<VolumeId> volumeIds = blockVolumeIds.get(locBlock)[ CD ]
Line_34 $$ HdfsVolumeId id = new HdfsVolumeId(volumeId)-->Line_51 $$ volumeIds.set(index, id)[ FD ]
Line_4 $$ for (LocatedBlock b : blocks) -->Line_5 $$ blockIdToLocBlock.put(b.getBlock().getBlockId(), b)[ FD ]
