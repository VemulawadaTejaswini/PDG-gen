Line_16 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) -->Line_17 $$ if (token == XContentParser.Token.FIELD_NAME) [ CD ]
Line_25 $$ filterBuilder = XContentFactory.contentBuilder(parser.contentType())-->Line_26 $$ filterBuilder.copyCurrentStructure(parser)[ FD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_5 $$ int numTerms = randomInt(20000) + 1[ CD ]
Line_16 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) -->Line_40 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_ARRAY) [ FD ]
Line_11 $$ XContentParser parser = XContentFactory.xContent(XContentType.JSON).createParser(builder.bytes())-->Line_40 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_ARRAY) [ FD ]
Line_18 $$ currentFieldName = parser.currentName()-->Line_24 $$ if ("filter".equals(currentFieldName)) [ FD ]
Line_39 $$ int i = 0-->Line_41 $$ assertThat(parser.text(), equalTo(terms.get(i++)))[ FD ]
Line_3 $$ XContentBuilder builder = XContentFactory.contentBuilder(XContentType.JSON)-->Line_10 $$ builder.field("fakefield", terms).endObject().endObject().endObject()[ FD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_13 $$ XContentParser.Token token[ CD ]
Line_19 $$ if (token.isValue()) -->Line_23 $$ if (token == XContentParser.Token.START_OBJECT) [ CD ]
Line_6 $$ List<String> terms = new ArrayList(numTerms)-->Line_41 $$ assertThat(parser.text(), equalTo(terms.get(i++)))[ FD ]
Line_11 $$ XContentParser parser = XContentFactory.xContent(XContentType.JSON).createParser(builder.bytes())-->Line_33 $$ assertThat(parser.nextToken(), equalTo(XContentParser.Token.FIELD_NAME))[ FD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_34 $$ assertThat(parser.currentName(), equalTo("terms"))[ CD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_30 $$ assertNotNull(filterBuilder)[ CD ]
Line_11 $$ XContentParser parser = XContentFactory.xContent(XContentType.JSON).createParser(builder.bytes())-->Line_34 $$ assertThat(parser.currentName(), equalTo("terms"))[ FD ]
Line_6 $$ List<String> terms = new ArrayList(numTerms)-->Line_10 $$ builder.field("fakefield", terms).endObject().endObject().endObject()[ FD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_32 $$ assertThat(parser.nextToken(), equalTo(XContentParser.Token.START_OBJECT))[ CD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_43 $$ assertThat(i, equalTo(terms.size()))[ CD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_12 $$ XContentBuilder filterBuilder = null[ CD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_31 $$ parser = XContentFactory.xContent(XContentType.JSON).createParser(filterBuilder.bytes())[ CD ]
Line_31 $$ parser = XContentFactory.xContent(XContentType.JSON).createParser(filterBuilder.bytes())-->Line_33 $$ assertThat(parser.nextToken(), equalTo(XContentParser.Token.FIELD_NAME))[ FD ]
Line_11 $$ XContentParser parser = XContentFactory.xContent(XContentType.JSON).createParser(builder.bytes())-->Line_25 $$ filterBuilder = XContentFactory.contentBuilder(parser.contentType())[ FD ]
Line_19 $$ if (token.isValue()) -->Line_20 $$ if ("test".equals(currentFieldName)) [ CD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_3 $$ XContentBuilder builder = XContentFactory.contentBuilder(XContentType.JSON)[ CD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_4 $$ builder.startObject().field("test", "test field").startObject("filter").startObject("terms")[ CD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_40 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_ARRAY) [ CD ]
Line_16 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) -->Line_19 $$ if (token.isValue()) [ FD ]
Line_13 $$ XContentParser.Token token-->Line_19 $$ if (token.isValue()) [ FD ]
Line_6 $$ List<String> terms = new ArrayList(numTerms)-->Line_43 $$ assertThat(i, equalTo(terms.size()))[ FD ]
Line_31 $$ parser = XContentFactory.xContent(XContentType.JSON).createParser(filterBuilder.bytes())-->Line_41 $$ assertThat(parser.text(), equalTo(terms.get(i++)))[ FD ]
Line_3 $$ XContentBuilder builder = XContentFactory.contentBuilder(XContentType.JSON)-->Line_11 $$ XContentParser parser = XContentFactory.xContent(XContentType.JSON).createParser(builder.bytes())[ FD ]
Line_31 $$ parser = XContentFactory.xContent(XContentType.JSON).createParser(filterBuilder.bytes())-->Line_40 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_ARRAY) [ FD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_38 $$ assertThat(parser.nextToken(), equalTo(XContentParser.Token.START_ARRAY))[ CD ]
Line_11 $$ XContentParser parser = XContentFactory.xContent(XContentType.JSON).createParser(builder.bytes())-->Line_26 $$ filterBuilder.copyCurrentStructure(parser)[ FD ]
Line_14 $$ String currentFieldName = null-->Line_18 $$ currentFieldName = parser.currentName()[ FD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_11 $$ XContentParser parser = XContentFactory.xContent(XContentType.JSON).createParser(builder.bytes())[ CD ]
Line_11 $$ XContentParser parser = XContentFactory.xContent(XContentType.JSON).createParser(builder.bytes())-->Line_21 $$ assertThat(parser.text(), equalTo("test field"))[ FD ]
Line_12 $$ XContentBuilder filterBuilder = null-->Line_31 $$ parser = XContentFactory.xContent(XContentType.JSON).createParser(filterBuilder.bytes())[ FD ]
Line_11 $$ XContentParser parser = XContentFactory.xContent(XContentType.JSON).createParser(builder.bytes())-->Line_36 $$ assertThat(parser.nextToken(), equalTo(XContentParser.Token.FIELD_NAME))[ FD ]
Line_13 $$ XContentParser.Token token-->Line_17 $$ if (token == XContentParser.Token.FIELD_NAME) [ FD ]
Line_12 $$ XContentBuilder filterBuilder = null-->Line_25 $$ filterBuilder = XContentFactory.contentBuilder(parser.contentType())[ FD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_37 $$ assertThat(parser.currentName(), equalTo("fakefield"))[ CD ]
Line_31 $$ parser = XContentFactory.xContent(XContentType.JSON).createParser(filterBuilder.bytes())-->Line_34 $$ assertThat(parser.currentName(), equalTo("terms"))[ FD ]
Line_13 $$ XContentParser.Token token-->Line_16 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) [ FD ]
Line_31 $$ parser = XContentFactory.xContent(XContentType.JSON).createParser(filterBuilder.bytes())-->Line_35 $$ assertThat(parser.nextToken(), equalTo(XContentParser.Token.START_OBJECT))[ FD ]
Line_13 $$ XContentParser.Token token-->Line_40 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_ARRAY) [ FD ]
Line_11 $$ XContentParser parser = XContentFactory.xContent(XContentType.JSON).createParser(builder.bytes())-->Line_18 $$ currentFieldName = parser.currentName()[ FD ]
Line_12 $$ XContentBuilder filterBuilder = null-->Line_30 $$ assertNotNull(filterBuilder)[ FD ]
Line_11 $$ XContentParser parser = XContentFactory.xContent(XContentType.JSON).createParser(builder.bytes())-->Line_32 $$ assertThat(parser.nextToken(), equalTo(XContentParser.Token.START_OBJECT))[ FD ]
Line_39 $$ int i = 0-->Line_43 $$ assertThat(i, equalTo(terms.size()))[ FD ]
Line_16 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) -->Line_17 $$ if (token == XContentParser.Token.FIELD_NAME) [ FD ]
Line_31 $$ parser = XContentFactory.xContent(XContentType.JSON).createParser(filterBuilder.bytes())-->Line_37 $$ assertThat(parser.currentName(), equalTo("fakefield"))[ FD ]
Line_11 $$ XContentParser parser = XContentFactory.xContent(XContentType.JSON).createParser(builder.bytes())-->Line_31 $$ parser = XContentFactory.xContent(XContentType.JSON).createParser(filterBuilder.bytes())[ FD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_33 $$ assertThat(parser.nextToken(), equalTo(XContentParser.Token.FIELD_NAME))[ CD ]
Line_11 $$ XContentParser parser = XContentFactory.xContent(XContentType.JSON).createParser(builder.bytes())-->Line_41 $$ assertThat(parser.text(), equalTo(terms.get(i++)))[ FD ]
Line_24 $$ if ("filter".equals(currentFieldName)) -->Line_26 $$ filterBuilder.copyCurrentStructure(parser)[ CD ]
Line_7 $$ for (int i = 0; i < numTerms; i++) -->Line_41 $$ assertThat(parser.text(), equalTo(terms.get(i++)))[ FD ]
Line_11 $$ XContentParser parser = XContentFactory.xContent(XContentType.JSON).createParser(builder.bytes())-->Line_37 $$ assertThat(parser.currentName(), equalTo("fakefield"))[ FD ]
Line_11 $$ XContentParser parser = XContentFactory.xContent(XContentType.JSON).createParser(builder.bytes())-->Line_16 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) [ FD ]
Line_6 $$ List<String> terms = new ArrayList(numTerms)-->Line_8 $$ terms.add("test" + i)[ FD ]
Line_11 $$ XContentParser parser = XContentFactory.xContent(XContentType.JSON).createParser(builder.bytes())-->Line_35 $$ assertThat(parser.nextToken(), equalTo(XContentParser.Token.START_OBJECT))[ FD ]
Line_31 $$ parser = XContentFactory.xContent(XContentType.JSON).createParser(filterBuilder.bytes())-->Line_36 $$ assertThat(parser.nextToken(), equalTo(XContentParser.Token.FIELD_NAME))[ FD ]
Line_11 $$ XContentParser parser = XContentFactory.xContent(XContentType.JSON).createParser(builder.bytes())-->Line_38 $$ assertThat(parser.nextToken(), equalTo(XContentParser.Token.START_ARRAY))[ FD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_39 $$ int i = 0[ CD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_7 $$ for (int i = 0; i < numTerms; i++) [ CD ]
Line_5 $$ int numTerms = randomInt(20000) + 1-->Line_7 $$ for (int i = 0; i < numTerms; i++) [ FD ]
Line_18 $$ currentFieldName = parser.currentName()-->Line_20 $$ if ("test".equals(currentFieldName)) [ FD ]
Line_7 $$ for (int i = 0; i < numTerms; i++) -->Line_8 $$ terms.add("test" + i)[ CD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_15 $$ assertThat(parser.nextToken(), equalTo(XContentParser.Token.START_OBJECT))[ CD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_36 $$ assertThat(parser.nextToken(), equalTo(XContentParser.Token.FIELD_NAME))[ CD ]
Line_14 $$ String currentFieldName = null-->Line_24 $$ if ("filter".equals(currentFieldName)) [ FD ]
Line_31 $$ parser = XContentFactory.xContent(XContentType.JSON).createParser(filterBuilder.bytes())-->Line_32 $$ assertThat(parser.nextToken(), equalTo(XContentParser.Token.START_OBJECT))[ FD ]
Line_24 $$ if ("filter".equals(currentFieldName)) -->Line_25 $$ filterBuilder = XContentFactory.contentBuilder(parser.contentType())[ CD ]
Line_13 $$ XContentParser.Token token-->Line_23 $$ if (token == XContentParser.Token.START_OBJECT) [ FD ]
Line_7 $$ for (int i = 0; i < numTerms; i++) -->Line_43 $$ assertThat(i, equalTo(terms.size()))[ FD ]
Line_12 $$ XContentBuilder filterBuilder = null-->Line_26 $$ filterBuilder.copyCurrentStructure(parser)[ FD ]
Line_20 $$ if ("test".equals(currentFieldName)) -->Line_21 $$ assertThat(parser.text(), equalTo("test field"))[ CD ]
Line_16 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) -->Line_23 $$ if (token == XContentParser.Token.START_OBJECT) [ FD ]
Line_25 $$ filterBuilder = XContentFactory.contentBuilder(parser.contentType())-->Line_31 $$ parser = XContentFactory.xContent(XContentType.JSON).createParser(filterBuilder.bytes())[ FD ]
Line_23 $$ if (token == XContentParser.Token.START_OBJECT) -->Line_24 $$ if ("filter".equals(currentFieldName)) [ CD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_35 $$ assertThat(parser.nextToken(), equalTo(XContentParser.Token.START_OBJECT))[ CD ]
Line_17 $$ if (token == XContentParser.Token.FIELD_NAME) -->Line_19 $$ if (token.isValue()) [ CD ]
Line_3 $$ XContentBuilder builder = XContentFactory.contentBuilder(XContentType.JSON)-->Line_4 $$ builder.startObject().field("test", "test field").startObject("filter").startObject("terms")[ FD ]
Line_14 $$ String currentFieldName = null-->Line_20 $$ if ("test".equals(currentFieldName)) [ FD ]
Line_17 $$ if (token == XContentParser.Token.FIELD_NAME) -->Line_18 $$ currentFieldName = parser.currentName()[ CD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_14 $$ String currentFieldName = null[ CD ]
Line_31 $$ parser = XContentFactory.xContent(XContentType.JSON).createParser(filterBuilder.bytes())-->Line_38 $$ assertThat(parser.nextToken(), equalTo(XContentParser.Token.START_ARRAY))[ FD ]
Line_40 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_ARRAY) -->Line_41 $$ assertThat(parser.text(), equalTo(terms.get(i++)))[ CD ]
Line_11 $$ XContentParser parser = XContentFactory.xContent(XContentType.JSON).createParser(builder.bytes())-->Line_15 $$ assertThat(parser.nextToken(), equalTo(XContentParser.Token.START_OBJECT))[ FD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_6 $$ List<String> terms = new ArrayList(numTerms)[ CD ]
Line_25 $$ filterBuilder = XContentFactory.contentBuilder(parser.contentType())-->Line_30 $$ assertNotNull(filterBuilder)[ FD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_16 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) [ CD ]
Line_2 $$ public void testCopyCurrentStructure() throws Exception -->Line_10 $$ builder.field("fakefield", terms).endObject().endObject().endObject()[ CD ]
