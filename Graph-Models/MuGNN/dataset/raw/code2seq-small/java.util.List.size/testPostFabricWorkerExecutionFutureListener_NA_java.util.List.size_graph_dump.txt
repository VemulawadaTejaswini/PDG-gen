Line_5 $$ DefaultPromise<FabricWorker<Serializable>> defaultPromise = new DefaultPromise(_embeddedChannel.eventLoop())-->Line_28 $$ defaultPromise.addListener(postFabricWorkerExecutionFutureListener)[ FD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_39 $$ FutureListener<Serializable> futureListener = iterator.next()[ CD ]
Line_39 $$ FutureListener<Serializable> futureListener = iterator.next()-->Line_40 $$ futureListener = ReflectionTestUtil.getFieldValue(futureListener, "_futureListener")[ FD ]
Line_29 $$ List<LogRecord> logRecords = captureHandler.getLogRecords()-->Line_30 $$ Assert.assertEquals(1, logRecords.size())[ FD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_35 $$ Set<FutureListener<Serializable>> futureListeners = ReflectionTestUtil.getFieldValue(processNoticeableFuture, "_futureListeners")[ CD ]
Line_29 $$ List<LogRecord> logRecords = captureHandler.getLogRecords()-->Line_31 $$ LogRecord logRecord = logRecords.get(0)[ FD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_7 $$ defaultPromise.setFailure(throwable)[ CD ]
Line_6 $$ Throwable throwable = new Throwable()-->Line_17 $$ Assert.assertEquals(throwable, ee.getCause())[ FD ]
Line_39 $$ FutureListener<Serializable> futureListener = iterator.next()-->Line_41 $$ Assert.assertSame(PostFabricWorkerFinishFutureListener.class, futureListener.getClass())[ FD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_3 $$ NettyFabricWorkerExecutionChannelHandler nettyFabricWorkerExecutionChannelHandler = new NettyFabricWorkerExecutionChannelHandler(new MockRepository<Channel>(), new LocalFabricAgent(new EmbeddedProcessExecutor()), Long.MAX_VALUE)[ CD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_4 $$ PostFabricWorkerExecutionFutureListener postFabricWorkerExecutionFutureListener = nettyFabricWorkerExecutionChannelHandler.new PostFabricWorkerExecutionFutureListener(_embeddedChannel, null, createNettyFabricWorkerConfig())[ CD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_25 $$ nettyFabricWorkerStub = installNettyFabricWorkerStub()[ CD ]
Line_4 $$ PostFabricWorkerExecutionFutureListener postFabricWorkerExecutionFutureListener = nettyFabricWorkerExecutionChannelHandler.new PostFabricWorkerExecutionFutureListener(_embeddedChannel, null, createNettyFabricWorkerConfig())-->Line_28 $$ defaultPromise.addListener(postFabricWorkerExecutionFutureListener)[ FD ]
Line_40 $$ futureListener = ReflectionTestUtil.getFieldValue(futureListener, "_futureListener")-->Line_41 $$ Assert.assertSame(PostFabricWorkerFinishFutureListener.class, futureListener.getClass())[ FD ]
Line_22 $$ DefaultNoticeableFuture<Serializable> processNoticeableFuture = new DefaultNoticeableFuture()-->Line_35 $$ Set<FutureListener<Serializable>> futureListeners = ReflectionTestUtil.getFieldValue(processNoticeableFuture, "_futureListeners")[ FD ]
Line_35 $$ Set<FutureListener<Serializable>> futureListeners = ReflectionTestUtil.getFieldValue(processNoticeableFuture, "_futureListeners")-->Line_37 $$ Iterator<FutureListener<Serializable>> iterator = futureListeners.iterator()[ FD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_38 $$ iterator.next()[ CD ]
Line_25 $$ nettyFabricWorkerStub = installNettyFabricWorkerStub()-->Line_26 $$ noticeableFuture = nettyFabricWorkerStub.getProcessNoticeableFuture()[ FD ]
Line_37 $$ Iterator<FutureListener<Serializable>> iterator = futureListeners.iterator()-->Line_38 $$ iterator.next()[ FD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_11 $$ defaultPromise.addListener(postFabricWorkerExecutionFutureListener)[ CD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_37 $$ Iterator<FutureListener<Serializable>> iterator = futureListeners.iterator()[ CD ]
Line_35 $$ Set<FutureListener<Serializable>> futureListeners = ReflectionTestUtil.getFieldValue(processNoticeableFuture, "_futureListeners")-->Line_36 $$ Assert.assertEquals(2, futureListeners.size())[ FD ]
Line_27 $$ try (CaptureHandler captureHandler = JDKLoggerTestUtil.configureJDKLogger(NettyFabricWorkerExecutionChannelHandler.class.getName(), Level.SEVERE)) -->Line_29 $$ List<LogRecord> logRecords = captureHandler.getLogRecords()[ FD ]
Line_9 $$ NettyFabricWorkerStub<Serializable> nettyFabricWorkerStub = installNettyFabricWorkerStub()-->Line_26 $$ noticeableFuture = nettyFabricWorkerStub.getProcessNoticeableFuture()[ FD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_24 $$ defaultPromise.setSuccess(fabricWorker)[ CD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_12 $$ invokeRPC()[ CD ]
Line_5 $$ DefaultPromise<FabricWorker<Serializable>> defaultPromise = new DefaultPromise(_embeddedChannel.eventLoop())-->Line_21 $$ defaultPromise = new DefaultPromise(_embeddedChannel.eventLoop())[ FD ]
Line_10 $$ NoticeableFuture<Serializable> noticeableFuture = nettyFabricWorkerStub.getProcessNoticeableFuture()-->Line_14 $$ noticeableFuture.get()[ FD ]
Line_37 $$ Iterator<FutureListener<Serializable>> iterator = futureListeners.iterator()-->Line_39 $$ FutureListener<Serializable> futureListener = iterator.next()[ FD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_40 $$ futureListener = ReflectionTestUtil.getFieldValue(futureListener, "_futureListener")[ CD ]
Line_10 $$ NoticeableFuture<Serializable> noticeableFuture = nettyFabricWorkerStub.getProcessNoticeableFuture()-->Line_26 $$ noticeableFuture = nettyFabricWorkerStub.getProcessNoticeableFuture()[ FD ]
Line_5 $$ DefaultPromise<FabricWorker<Serializable>> defaultPromise = new DefaultPromise(_embeddedChannel.eventLoop())-->Line_11 $$ defaultPromise.addListener(postFabricWorkerExecutionFutureListener)[ FD ]
Line_5 $$ DefaultPromise<FabricWorker<Serializable>> defaultPromise = new DefaultPromise(_embeddedChannel.eventLoop())-->Line_7 $$ defaultPromise.setFailure(throwable)[ FD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_5 $$ DefaultPromise<FabricWorker<Serializable>> defaultPromise = new DefaultPromise(_embeddedChannel.eventLoop())[ CD ]
Line_23 $$ FabricWorker<Serializable> fabricWorker = new LocalFabricWorker<Serializable>(new EmbeddedProcessChannel<Serializable>(processNoticeableFuture))-->Line_34 $$ Assert.assertSame(fabricWorker, NettyChannelAttributes.getFabricWorker(_embeddedChannel, 0))[ FD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_36 $$ Assert.assertEquals(2, futureListeners.size())[ CD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_8 $$ installNettyFabricAgentStub()[ CD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_21 $$ defaultPromise = new DefaultPromise(_embeddedChannel.eventLoop())[ CD ]
Line_4 $$ PostFabricWorkerExecutionFutureListener postFabricWorkerExecutionFutureListener = nettyFabricWorkerExecutionChannelHandler.new PostFabricWorkerExecutionFutureListener(_embeddedChannel, null, createNettyFabricWorkerConfig())-->Line_20 $$ postFabricWorkerExecutionFutureListener = nettyFabricWorkerExecutionChannelHandler.new PostFabricWorkerExecutionFutureListener(_embeddedChannel, null, createNettyFabricWorkerConfig())[ FD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_26 $$ noticeableFuture = nettyFabricWorkerStub.getProcessNoticeableFuture()[ CD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_20 $$ postFabricWorkerExecutionFutureListener = nettyFabricWorkerExecutionChannelHandler.new PostFabricWorkerExecutionFutureListener(_embeddedChannel, null, createNettyFabricWorkerConfig())[ CD ]
Line_9 $$ NettyFabricWorkerStub<Serializable> nettyFabricWorkerStub = installNettyFabricWorkerStub()-->Line_10 $$ NoticeableFuture<Serializable> noticeableFuture = nettyFabricWorkerStub.getProcessNoticeableFuture()[ FD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_41 $$ Assert.assertSame(PostFabricWorkerFinishFutureListener.class, futureListener.getClass())[ CD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_10 $$ NoticeableFuture<Serializable> noticeableFuture = nettyFabricWorkerStub.getProcessNoticeableFuture()[ CD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_9 $$ NettyFabricWorkerStub<Serializable> nettyFabricWorkerStub = installNettyFabricWorkerStub()[ CD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_6 $$ Throwable throwable = new Throwable()[ CD ]
Line_23 $$ FabricWorker<Serializable> fabricWorker = new LocalFabricWorker<Serializable>(new EmbeddedProcessChannel<Serializable>(processNoticeableFuture))-->Line_24 $$ defaultPromise.setSuccess(fabricWorker)[ FD ]
Line_31 $$ LogRecord logRecord = logRecords.get(0)-->Line_32 $$ Assert.assertEquals("Unable to finish fabric worker startup", logRecord.getMessage())[ FD ]
Line_6 $$ Throwable throwable = new Throwable()-->Line_7 $$ defaultPromise.setFailure(throwable)[ FD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_19 $$ _embeddedChannel.close()[ CD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_23 $$ FabricWorker<Serializable> fabricWorker = new LocalFabricWorker<Serializable>(new EmbeddedProcessChannel<Serializable>(processNoticeableFuture))[ CD ]
Line_9 $$ NettyFabricWorkerStub<Serializable> nettyFabricWorkerStub = installNettyFabricWorkerStub()-->Line_25 $$ nettyFabricWorkerStub = installNettyFabricWorkerStub()[ FD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_22 $$ DefaultNoticeableFuture<Serializable> processNoticeableFuture = new DefaultNoticeableFuture()[ CD ]
Line_20 $$ postFabricWorkerExecutionFutureListener = nettyFabricWorkerExecutionChannelHandler.new PostFabricWorkerExecutionFutureListener(_embeddedChannel, null, createNettyFabricWorkerConfig())-->Line_28 $$ defaultPromise.addListener(postFabricWorkerExecutionFutureListener)[ FD ]
Line_21 $$ defaultPromise = new DefaultPromise(_embeddedChannel.eventLoop())-->Line_24 $$ defaultPromise.setSuccess(fabricWorker)[ FD ]
Line_2 $$ public void testPostFabricWorkerExecutionFutureListener() throws Exception -->Line_34 $$ Assert.assertSame(fabricWorker, NettyChannelAttributes.getFabricWorker(_embeddedChannel, 0))[ CD ]
Line_5 $$ DefaultPromise<FabricWorker<Serializable>> defaultPromise = new DefaultPromise(_embeddedChannel.eventLoop())-->Line_24 $$ defaultPromise.setSuccess(fabricWorker)[ FD ]
Line_21 $$ defaultPromise = new DefaultPromise(_embeddedChannel.eventLoop())-->Line_28 $$ defaultPromise.addListener(postFabricWorkerExecutionFutureListener)[ FD ]
Line_4 $$ PostFabricWorkerExecutionFutureListener postFabricWorkerExecutionFutureListener = nettyFabricWorkerExecutionChannelHandler.new PostFabricWorkerExecutionFutureListener(_embeddedChannel, null, createNettyFabricWorkerConfig())-->Line_11 $$ defaultPromise.addListener(postFabricWorkerExecutionFutureListener)[ FD ]
