Line_49 $$ if (hasUserPreferences()) -->Line_50 $$ columnValue = getUserPreference(columnId)[ CD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_69 $$ setUserPreference(columnId, columnValue)[ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_34 $$ columnId = columns.get(0)[ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_7 $$ portlet = PortletLocalServiceUtil.getPortletById(layout.getCompanyId(), portletId)[ FD ]
Line_3 $$ portletId = JS.getSafeName(portletId)-->Line_60 $$ portletIds.add(columnPos, portletId)[ FD ]
Line_48 $$ String columnValue = StringPool.BLANK-->Line_66 $$ columnValue = StringUtil.add(columnValue, portletId)[ FD ]
Line_7 $$ portlet = PortletLocalServiceUtil.getPortletById(layout.getCompanyId(), portletId)-->Line_75 $$ PortletLayoutListener portletLayoutListener = portlet.getPortletLayoutListenerInstance()[ FD ]
Line_40 $$ if (isCustomizable()) -->Line_41 $$ if (isColumnDisabled(columnId)) [ CD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_83 $$ return portletId[ CD ]
Line_4 $$ Layout layout = getLayout()-->Line_15 $$ if (checkPermission && !PortletPermissionUtil.contains(permissionChecker, layout, portlet, ActionKeys.ADD_TO_PAGE)) [ FD ]
Line_48 $$ String columnValue = StringPool.BLANK-->Line_50 $$ columnValue = getUserPreference(columnId)[ FD ]
Line_30 $$ if (columnId == null) -->Line_32 $$ List<String> columns = layoutTemplate.getColumns()[ CD ]
Line_50 $$ columnValue = getUserPreference(columnId)-->Line_69 $$ setUserPreference(columnId, columnValue)[ FD ]
Line_48 $$ String columnValue = StringPool.BLANK-->Line_52 $$ columnValue = getTypeSettingsProperty(columnId)[ FD ]
Line_48 $$ String columnValue = StringPool.BLANK-->Line_69 $$ setUserPreference(columnId, columnValue)[ FD ]
Line_50 $$ columnValue = getUserPreference(columnId)-->Line_64 $$ columnValue = StringUtil.merge(portletIds)[ FD ]
Line_3 $$ portletId = JS.getSafeName(portletId)-->Line_7 $$ portlet = PortletLocalServiceUtil.getPortletById(layout.getCompanyId(), portletId)[ FD ]
Line_15 $$ if (checkPermission && !PortletPermissionUtil.contains(permissionChecker, layout, portlet, ActionKeys.ADD_TO_PAGE)) -->Line_16 $$ return null[ CD ]
Line_52 $$ columnValue = getTypeSettingsProperty(columnId)-->Line_71 $$ setTypeSettingsProperty(columnId, columnValue)[ FD ]
Line_57 $$ if (columnPos >= 0) -->Line_59 $$ if (columnPos <= portletIds.size()) [ CD ]
Line_27 $$ if (hasPortletId(portletId, strictHasPortlet)) -->Line_28 $$ return null[ CD ]
Line_3 $$ portletId = JS.getSafeName(portletId)-->Line_27 $$ if (hasPortletId(portletId, strictHasPortlet)) [ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_50 $$ columnValue = getUserPreference(columnId)[ FD ]
Line_25 $$ portletId = PortletConstants.assemblePortletId(portletId, PortletConstants.generateInstanceId())-->Line_27 $$ if (hasPortletId(portletId, strictHasPortlet)) [ FD ]
Line_40 $$ if (isCustomizable()) -->Line_44 $$ if ((PortletConstants.hasInstanceId(portletId) || portlet.isPreferencesUniquePerLayout()) && hasUserPreferences()) [ CD ]
Line_21 $$ if (portlet.isSystem()) -->Line_22 $$ return null[ CD ]
Line_75 $$ PortletLayoutListener portletLayoutListener = portlet.getPortletLayoutListenerInstance()-->Line_76 $$ if (portletLayoutListener != null) [ FD ]
Line_57 $$ if (columnPos >= 0) -->Line_64 $$ columnValue = StringUtil.merge(portletIds)[ CD ]
Line_57 $$ if (columnPos >= 0) -->Line_58 $$ List<String> portletIds = ListUtil.fromArray(StringUtil.split(columnValue))[ CD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_55 $$ addNestedColumn(columnId)[ FD ]
Line_45 $$ portletId = PortletConstants.assemblePortletId(portletId, userId)-->Line_60 $$ portletIds.add(columnPos, portletId)[ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_57 $$ if (columnPos >= 0) [ FD ]
Line_45 $$ portletId = PortletConstants.assemblePortletId(portletId, userId)-->Line_77 $$ portletLayoutListener.onAddToLayout(portletId, layout.getPlid())[ FD ]
Line_48 $$ String columnValue = StringPool.BLANK-->Line_64 $$ columnValue = StringUtil.merge(portletIds)[ FD ]
Line_25 $$ portletId = PortletConstants.assemblePortletId(portletId, PortletConstants.generateInstanceId())-->Line_45 $$ portletId = PortletConstants.assemblePortletId(portletId, userId)[ FD ]
Line_76 $$ if (portletLayoutListener != null) -->Line_77 $$ portletLayoutListener.onAddToLayout(portletId, layout.getPlid())[ CD ]
Line_7 $$ portlet = PortletLocalServiceUtil.getPortletById(layout.getCompanyId(), portletId)-->Line_44 $$ if ((PortletConstants.hasInstanceId(portletId) || portlet.isPreferencesUniquePerLayout()) && hasUserPreferences()) [ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_27 $$ if (hasPortletId(portletId, strictHasPortlet)) [ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_59 $$ if (columnPos <= portletIds.size()) [ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_27 $$ if (hasPortletId(portletId, strictHasPortlet)) [ CD ]
Line_64 $$ columnValue = StringUtil.merge(portletIds)-->Line_66 $$ columnValue = StringUtil.add(columnValue, portletId)[ FD ]
Line_52 $$ columnValue = getTypeSettingsProperty(columnId)-->Line_66 $$ columnValue = StringUtil.add(columnValue, portletId)[ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_60 $$ portletIds.add(columnPos, portletId)[ FD ]
Line_54 $$ if ((columnValue == null) && columnId.startsWith(_NESTED_PORTLETS_NAMESPACE)) -->Line_55 $$ addNestedColumn(columnId)[ CD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_71 $$ setTypeSettingsProperty(columnId, columnValue)[ FD ]
Line_25 $$ portletId = PortletConstants.assemblePortletId(portletId, PortletConstants.generateInstanceId())-->Line_66 $$ columnValue = StringUtil.add(columnValue, portletId)[ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_77 $$ portletLayoutListener.onAddToLayout(portletId, layout.getPlid())[ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_44 $$ if ((PortletConstants.hasInstanceId(portletId) || portlet.isPreferencesUniquePerLayout()) && hasUserPreferences()) [ FD ]
Line_64 $$ columnValue = StringUtil.merge(portletIds)-->Line_71 $$ setTypeSettingsProperty(columnId, columnValue)[ FD ]
Line_48 $$ String columnValue = StringPool.BLANK-->Line_71 $$ setTypeSettingsProperty(columnId, columnValue)[ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_41 $$ if (isColumnDisabled(columnId)) [ FD ]
Line_8 $$ if (portlet == null) -->Line_12 $$ return null[ CD ]
Line_45 $$ portletId = PortletConstants.assemblePortletId(portletId, userId)-->Line_62 $$ portletIds.add(portletId)[ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_24 $$ if (portlet.isInstanceable() && !PortletConstants.hasInstanceId(portletId)) [ FD ]
Line_48 $$ String columnValue = StringPool.BLANK-->Line_58 $$ List<String> portletIds = ListUtil.fromArray(StringUtil.split(columnValue))[ FD ]
Line_32 $$ List<String> columns = layoutTemplate.getColumns()-->Line_33 $$ if (!columns.isEmpty()) [ FD ]
Line_52 $$ columnValue = getTypeSettingsProperty(columnId)-->Line_69 $$ setUserPreference(columnId, columnValue)[ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_15 $$ if (checkPermission && !PortletPermissionUtil.contains(permissionChecker, layout, portlet, ActionKeys.ADD_TO_PAGE)) [ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_68 $$ if (hasUserPreferences()) [ CD ]
Line_5 $$ Portlet portlet = null-->Line_75 $$ PortletLayoutListener portletLayoutListener = portlet.getPortletLayoutListenerInstance()[ FD ]
Line_34 $$ columnId = columns.get(0)-->Line_52 $$ columnValue = getTypeSettingsProperty(columnId)[ FD ]
Line_66 $$ columnValue = StringUtil.add(columnValue, portletId)-->Line_71 $$ setTypeSettingsProperty(columnId, columnValue)[ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_3 $$ portletId = JS.getSafeName(portletId)[ FD ]
Line_34 $$ columnId = columns.get(0)-->Line_69 $$ setUserPreference(columnId, columnValue)[ FD ]
Line_58 $$ List<String> portletIds = ListUtil.fromArray(StringUtil.split(columnValue))-->Line_62 $$ portletIds.add(portletId)[ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_52 $$ columnValue = getTypeSettingsProperty(columnId)[ FD ]
Line_3 $$ portletId = JS.getSafeName(portletId)-->Line_77 $$ portletLayoutListener.onAddToLayout(portletId, layout.getPlid())[ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_45 $$ portletId = PortletConstants.assemblePortletId(portletId, userId)[ FD ]
Line_57 $$ if (columnPos >= 0) -->Line_66 $$ columnValue = StringUtil.add(columnValue, portletId)[ CD ]
Line_50 $$ columnValue = getUserPreference(columnId)-->Line_71 $$ setTypeSettingsProperty(columnId, columnValue)[ FD ]
Line_44 $$ if ((PortletConstants.hasInstanceId(portletId) || portlet.isPreferencesUniquePerLayout()) && hasUserPreferences()) -->Line_45 $$ portletId = PortletConstants.assemblePortletId(portletId, userId)[ CD ]
Line_3 $$ portletId = JS.getSafeName(portletId)-->Line_25 $$ portletId = PortletConstants.assemblePortletId(portletId, PortletConstants.generateInstanceId())[ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_54 $$ if ((columnValue == null) && columnId.startsWith(_NESTED_PORTLETS_NAMESPACE)) [ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_54 $$ if ((columnValue == null) && columnId.startsWith(_NESTED_PORTLETS_NAMESPACE)) [ CD ]
Line_25 $$ portletId = PortletConstants.assemblePortletId(portletId, PortletConstants.generateInstanceId())-->Line_77 $$ portletLayoutListener.onAddToLayout(portletId, layout.getPlid())[ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_5 $$ Portlet portlet = null[ CD ]
Line_30 $$ if (columnId == null) -->Line_31 $$ LayoutTemplate layoutTemplate = getLayoutTemplate()[ CD ]
Line_7 $$ portlet = PortletLocalServiceUtil.getPortletById(layout.getCompanyId(), portletId)-->Line_21 $$ if (portlet.isSystem()) [ FD ]
Line_7 $$ portlet = PortletLocalServiceUtil.getPortletById(layout.getCompanyId(), portletId)-->Line_24 $$ if (portlet.isInstanceable() && !PortletConstants.hasInstanceId(portletId)) [ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_66 $$ columnValue = StringUtil.add(columnValue, portletId)[ FD ]
Line_30 $$ if (columnId == null) -->Line_33 $$ if (!columns.isEmpty()) [ CD ]
Line_3 $$ portletId = JS.getSafeName(portletId)-->Line_45 $$ portletId = PortletConstants.assemblePortletId(portletId, userId)[ FD ]
Line_25 $$ portletId = PortletConstants.assemblePortletId(portletId, PortletConstants.generateInstanceId())-->Line_62 $$ portletIds.add(portletId)[ FD ]
Line_32 $$ List<String> columns = layoutTemplate.getColumns()-->Line_34 $$ columnId = columns.get(0)[ FD ]
Line_52 $$ columnValue = getTypeSettingsProperty(columnId)-->Line_64 $$ columnValue = StringUtil.merge(portletIds)[ FD ]
Line_34 $$ columnId = columns.get(0)-->Line_54 $$ if ((columnValue == null) && columnId.startsWith(_NESTED_PORTLETS_NAMESPACE)) [ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_30 $$ if (columnId == null) [ CD ]
Line_4 $$ Layout layout = getLayout()-->Line_77 $$ portletLayoutListener.onAddToLayout(portletId, layout.getPlid())[ FD ]
Line_34 $$ columnId = columns.get(0)-->Line_41 $$ if (isColumnDisabled(columnId)) [ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_40 $$ if (isCustomizable()) [ CD ]
Line_34 $$ columnId = columns.get(0)-->Line_71 $$ setTypeSettingsProperty(columnId, columnValue)[ FD ]
Line_74 $$ if (_enablePortletLayoutListener && !portlet.isUndeployedPortlet()) -->Line_75 $$ PortletLayoutListener portletLayoutListener = portlet.getPortletLayoutListenerInstance()[ CD ]
Line_34 $$ columnId = columns.get(0)-->Line_37 $$ if (columnId == null) [ FD ]
Line_14 $$ PermissionChecker permissionChecker = PermissionThreadLocal.getPermissionChecker()-->Line_15 $$ if (checkPermission && !PortletPermissionUtil.contains(permissionChecker, layout, portlet, ActionKeys.ADD_TO_PAGE)) [ FD ]
Line_58 $$ List<String> portletIds = ListUtil.fromArray(StringUtil.split(columnValue))-->Line_59 $$ if (columnPos <= portletIds.size()) [ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_62 $$ portletIds.add(portletId)[ FD ]
Line_3 $$ portletId = JS.getSafeName(portletId)-->Line_24 $$ if (portlet.isInstanceable() && !PortletConstants.hasInstanceId(portletId)) [ FD ]
Line_45 $$ portletId = PortletConstants.assemblePortletId(portletId, userId)-->Line_66 $$ columnValue = StringUtil.add(columnValue, portletId)[ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_48 $$ String columnValue = StringPool.BLANK[ CD ]
Line_34 $$ columnId = columns.get(0)-->Line_55 $$ addNestedColumn(columnId)[ FD ]
Line_59 $$ if (columnPos <= portletIds.size()) -->Line_60 $$ portletIds.add(columnPos, portletId)[ CD ]
Line_41 $$ if (isColumnDisabled(columnId)) -->Line_42 $$ return null[ CD ]
Line_3 $$ portletId = JS.getSafeName(portletId)-->Line_44 $$ if ((PortletConstants.hasInstanceId(portletId) || portlet.isPreferencesUniquePerLayout()) && hasUserPreferences()) [ FD ]
Line_66 $$ columnValue = StringUtil.add(columnValue, portletId)-->Line_69 $$ setUserPreference(columnId, columnValue)[ FD ]
Line_8 $$ if (portlet == null) -->Line_9 $$ if (_log.isWarnEnabled()) [ CD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_21 $$ if (portlet.isSystem()) [ CD ]
Line_49 $$ if (hasUserPreferences()) -->Line_52 $$ columnValue = getTypeSettingsProperty(columnId)[ CD ]
Line_5 $$ Portlet portlet = null-->Line_15 $$ if (checkPermission && !PortletPermissionUtil.contains(permissionChecker, layout, portlet, ActionKeys.ADD_TO_PAGE)) [ FD ]
Line_50 $$ columnValue = getUserPreference(columnId)-->Line_58 $$ List<String> portletIds = ListUtil.fromArray(StringUtil.split(columnValue))[ FD ]
Line_9 $$ if (_log.isWarnEnabled()) -->Line_10 $$ _log.warn("Portlet " + portletId + " cannot be added because it is not registered")[ CD ]
Line_74 $$ if (_enablePortletLayoutListener && !portlet.isUndeployedPortlet()) -->Line_76 $$ if (portletLayoutListener != null) [ CD ]
Line_75 $$ PortletLayoutListener portletLayoutListener = portlet.getPortletLayoutListenerInstance()-->Line_77 $$ portletLayoutListener.onAddToLayout(portletId, layout.getPlid())[ FD ]
Line_24 $$ if (portlet.isInstanceable() && !PortletConstants.hasInstanceId(portletId)) -->Line_25 $$ portletId = PortletConstants.assemblePortletId(portletId, PortletConstants.generateInstanceId())[ CD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_49 $$ if (hasUserPreferences()) [ CD ]
Line_50 $$ columnValue = getUserPreference(columnId)-->Line_66 $$ columnValue = StringUtil.add(columnValue, portletId)[ FD ]
Line_31 $$ LayoutTemplate layoutTemplate = getLayoutTemplate()-->Line_32 $$ List<String> columns = layoutTemplate.getColumns()[ FD ]
Line_50 $$ columnValue = getUserPreference(columnId)-->Line_52 $$ columnValue = getTypeSettingsProperty(columnId)[ FD ]
Line_7 $$ portlet = PortletLocalServiceUtil.getPortletById(layout.getCompanyId(), portletId)-->Line_15 $$ if (checkPermission && !PortletPermissionUtil.contains(permissionChecker, layout, portlet, ActionKeys.ADD_TO_PAGE)) [ FD ]
Line_68 $$ if (hasUserPreferences()) -->Line_71 $$ setTypeSettingsProperty(columnId, columnValue)[ CD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_57 $$ if (columnPos >= 0) [ CD ]
Line_5 $$ Portlet portlet = null-->Line_8 $$ if (portlet == null) [ FD ]
Line_58 $$ List<String> portletIds = ListUtil.fromArray(StringUtil.split(columnValue))-->Line_64 $$ columnValue = StringUtil.merge(portletIds)[ FD ]
Line_59 $$ if (columnPos <= portletIds.size()) -->Line_62 $$ portletIds.add(portletId)[ CD ]
Line_33 $$ if (!columns.isEmpty()) -->Line_34 $$ columnId = columns.get(0)[ CD ]
Line_68 $$ if (hasUserPreferences()) -->Line_69 $$ setUserPreference(columnId, columnValue)[ CD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_25 $$ portletId = PortletConstants.assemblePortletId(portletId, PortletConstants.generateInstanceId())[ FD ]
Line_4 $$ Layout layout = getLayout()-->Line_7 $$ portlet = PortletLocalServiceUtil.getPortletById(layout.getCompanyId(), portletId)[ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_30 $$ if (columnId == null) [ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_37 $$ if (columnId == null) [ CD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_37 $$ if (columnId == null) [ FD ]
Line_5 $$ Portlet portlet = null-->Line_44 $$ if ((PortletConstants.hasInstanceId(portletId) || portlet.isPreferencesUniquePerLayout()) && hasUserPreferences()) [ FD ]
Line_7 $$ portlet = PortletLocalServiceUtil.getPortletById(layout.getCompanyId(), portletId)-->Line_8 $$ if (portlet == null) [ FD ]
Line_58 $$ List<String> portletIds = ListUtil.fromArray(StringUtil.split(columnValue))-->Line_60 $$ portletIds.add(columnPos, portletId)[ FD ]
Line_5 $$ Portlet portlet = null-->Line_21 $$ if (portlet.isSystem()) [ FD ]
Line_34 $$ columnId = columns.get(0)-->Line_50 $$ columnValue = getUserPreference(columnId)[ FD ]
Line_3 $$ portletId = JS.getSafeName(portletId)-->Line_66 $$ columnValue = StringUtil.add(columnValue, portletId)[ FD ]
Line_25 $$ portletId = PortletConstants.assemblePortletId(portletId, PortletConstants.generateInstanceId())-->Line_44 $$ if ((PortletConstants.hasInstanceId(portletId) || portlet.isPreferencesUniquePerLayout()) && hasUserPreferences()) [ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_24 $$ if (portlet.isInstanceable() && !PortletConstants.hasInstanceId(portletId)) [ CD ]
Line_5 $$ Portlet portlet = null-->Line_74 $$ if (_enablePortletLayoutListener && !portlet.isUndeployedPortlet()) [ FD ]
Line_5 $$ Portlet portlet = null-->Line_24 $$ if (portlet.isInstanceable() && !PortletConstants.hasInstanceId(portletId)) [ FD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_3 $$ portletId = JS.getSafeName(portletId)[ CD ]
Line_2 $$ protected String addPortletId(long userId, String portletId, String columnId, int columnPos, boolean checkPermission, boolean strictHasPortlet) -->Line_4 $$ Layout layout = getLayout()[ CD ]
Line_64 $$ columnValue = StringUtil.merge(portletIds)-->Line_69 $$ setUserPreference(columnId, columnValue)[ FD ]
Line_52 $$ columnValue = getTypeSettingsProperty(columnId)-->Line_58 $$ List<String> portletIds = ListUtil.fromArray(StringUtil.split(columnValue))[ FD ]
Line_7 $$ portlet = PortletLocalServiceUtil.getPortletById(layout.getCompanyId(), portletId)-->Line_74 $$ if (_enablePortletLayoutListener && !portlet.isUndeployedPortlet()) [ FD ]
Line_5 $$ Portlet portlet = null-->Line_7 $$ portlet = PortletLocalServiceUtil.getPortletById(layout.getCompanyId(), portletId)[ FD ]
Line_37 $$ if (columnId == null) -->Line_38 $$ return null[ CD ]
Line_3 $$ portletId = JS.getSafeName(portletId)-->Line_62 $$ portletIds.add(portletId)[ FD ]
Line_25 $$ portletId = PortletConstants.assemblePortletId(portletId, PortletConstants.generateInstanceId())-->Line_60 $$ portletIds.add(columnPos, portletId)[ FD ]
