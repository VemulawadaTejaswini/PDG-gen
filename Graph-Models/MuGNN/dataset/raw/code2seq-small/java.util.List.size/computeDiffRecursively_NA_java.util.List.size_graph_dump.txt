Line_26 $$ for (INode child : children) -->Line_33 $$ diffReport.setRenameTarget(child.getId(), renameTargetPath)[ FD ]
Line_29 $$ if (!toProcess && child instanceof INodeReference.WithName) -->Line_31 $$ if (renameTargetPath != null) [ CD ]
Line_17 $$ INodeDirectory dir = node.asDirectory()-->Line_20 $$ boolean change = sf.computeDiffBetweenSnapshots(earlierSnapshot, laterSnapshot, diff, dir)[ FD ]
Line_13 $$ final Snapshot laterSnapshot = diffReport.isFromEarlier() ? diffReport.getTo() : diffReport.getFrom()-->Line_44 $$ boolean change = file.getFileWithSnapshotFeature().changedBetweenSnapshots(file, earlierSnapshot, laterSnapshot)[ FD ]
Line_17 $$ INodeDirectory dir = node.asDirectory()-->Line_18 $$ DirectoryWithSnapshotFeature sf = dir.getDirectoryWithSnapshotFeature()[ FD ]
Line_13 $$ final Snapshot laterSnapshot = diffReport.isFromEarlier() ? diffReport.getTo() : diffReport.getFrom()-->Line_20 $$ boolean change = sf.computeDiffBetweenSnapshots(earlierSnapshot, laterSnapshot, diff, dir)[ FD ]
Line_36 $$ if (toProcess) -->Line_39 $$ parentPath.remove(parentPath.size() - 1)[ CD ]
Line_19 $$ if (sf != null) -->Line_20 $$ boolean change = sf.computeDiffBetweenSnapshots(earlierSnapshot, laterSnapshot, diff, dir)[ CD ]
Line_19 $$ if (sf != null) -->Line_21 $$ if (change) [ CD ]
Line_12 $$ final Snapshot earlierSnapshot = diffReport.isFromEarlier() ? diffReport.getFrom() : diffReport.getTo()-->Line_25 $$ ReadOnlyList<INode> children = dir.getChildrenList(earlierSnapshot.getId())[ FD ]
Line_27 $$ final byte[] name = child.getLocalNameBytes()-->Line_37 $$ parentPath.add(name)[ FD ]
Line_43 $$ INodeFile file = node.asFile()-->Line_46 $$ diffReport.addFileDiff(file, relativePath)[ FD ]
Line_15 $$ if (node.isDirectory()) -->Line_16 $$ final ChildrenDiff diff = new ChildrenDiff()[ CD ]
Line_27 $$ final byte[] name = child.getLocalNameBytes()-->Line_28 $$ boolean toProcess = diff.searchIndex(ListType.DELETED, name) < 0[ FD ]
Line_17 $$ INodeDirectory dir = node.asDirectory()-->Line_22 $$ diffReport.addDirDiff(dir, relativePath, diff)[ FD ]
Line_31 $$ if (renameTargetPath != null) -->Line_33 $$ diffReport.setRenameTarget(child.getId(), renameTargetPath)[ CD ]
Line_28 $$ boolean toProcess = diff.searchIndex(ListType.DELETED, name) < 0-->Line_29 $$ if (!toProcess && child instanceof INodeReference.WithName) [ FD ]
Line_16 $$ final ChildrenDiff diff = new ChildrenDiff()-->Line_20 $$ boolean change = sf.computeDiffBetweenSnapshots(earlierSnapshot, laterSnapshot, diff, dir)[ FD ]
Line_26 $$ for (INode child : children) -->Line_27 $$ final byte[] name = child.getLocalNameBytes()[ FD ]
Line_12 $$ final Snapshot earlierSnapshot = diffReport.isFromEarlier() ? diffReport.getFrom() : diffReport.getTo()-->Line_44 $$ boolean change = file.getFileWithSnapshotFeature().changedBetweenSnapshots(file, earlierSnapshot, laterSnapshot)[ FD ]
Line_18 $$ DirectoryWithSnapshotFeature sf = dir.getDirectoryWithSnapshotFeature()-->Line_19 $$ if (sf != null) [ FD ]
Line_15 $$ if (node.isDirectory()) -->Line_18 $$ DirectoryWithSnapshotFeature sf = dir.getDirectoryWithSnapshotFeature()[ CD ]
Line_15 $$ if (node.isDirectory()) -->Line_17 $$ INodeDirectory dir = node.asDirectory()[ CD ]
Line_30 $$ byte[][] renameTargetPath = findRenameTargetPath(snapshotRoot, (WithName) child, laterSnapshot == null ? Snapshot.CURRENT_STATE_ID : laterSnapshot.getId())-->Line_31 $$ if (renameTargetPath != null) [ FD ]
Line_31 $$ if (renameTargetPath != null) -->Line_32 $$ toProcess = true[ CD ]
Line_28 $$ boolean toProcess = diff.searchIndex(ListType.DELETED, name) < 0-->Line_32 $$ toProcess = true[ FD ]
Line_29 $$ if (!toProcess && child instanceof INodeReference.WithName) -->Line_30 $$ byte[][] renameTargetPath = findRenameTargetPath(snapshotRoot, (WithName) child, laterSnapshot == null ? Snapshot.CURRENT_STATE_ID : laterSnapshot.getId())[ CD ]
Line_30 $$ byte[][] renameTargetPath = findRenameTargetPath(snapshotRoot, (WithName) child, laterSnapshot == null ? Snapshot.CURRENT_STATE_ID : laterSnapshot.getId())-->Line_33 $$ diffReport.setRenameTarget(child.getId(), renameTargetPath)[ FD ]
Line_16 $$ final ChildrenDiff diff = new ChildrenDiff()-->Line_28 $$ boolean toProcess = diff.searchIndex(ListType.DELETED, name) < 0[ FD ]
Line_14 $$ byte[][] relativePath = parentPath.toArray(new byte[parentPath.size()][])-->Line_46 $$ diffReport.addFileDiff(file, relativePath)[ FD ]
Line_45 $$ if (change) -->Line_46 $$ diffReport.addFileDiff(file, relativePath)[ CD ]
Line_15 $$ if (node.isDirectory()) -->Line_19 $$ if (sf != null) [ CD ]
Line_15 $$ if (node.isDirectory()) -->Line_42 $$ if (node.isFile() && node.asFile().isWithSnapshot()) [ CD ]
Line_21 $$ if (change) -->Line_22 $$ diffReport.addDirDiff(dir, relativePath, diff)[ CD ]
Line_17 $$ INodeDirectory dir = node.asDirectory()-->Line_25 $$ ReadOnlyList<INode> children = dir.getChildrenList(earlierSnapshot.getId())[ FD ]
Line_15 $$ if (node.isDirectory()) -->Line_25 $$ ReadOnlyList<INode> children = dir.getChildrenList(earlierSnapshot.getId())[ CD ]
Line_14 $$ byte[][] relativePath = parentPath.toArray(new byte[parentPath.size()][])-->Line_22 $$ diffReport.addDirDiff(dir, relativePath, diff)[ FD ]
Line_16 $$ final ChildrenDiff diff = new ChildrenDiff()-->Line_22 $$ diffReport.addDirDiff(dir, relativePath, diff)[ FD ]
Line_26 $$ for (INode child : children) -->Line_38 $$ computeDiffRecursively(snapshotRoot, child, parentPath, diffReport)[ FD ]
Line_42 $$ if (node.isFile() && node.asFile().isWithSnapshot()) -->Line_44 $$ boolean change = file.getFileWithSnapshotFeature().changedBetweenSnapshots(file, earlierSnapshot, laterSnapshot)[ CD ]
Line_12 $$ final Snapshot earlierSnapshot = diffReport.isFromEarlier() ? diffReport.getFrom() : diffReport.getTo()-->Line_20 $$ boolean change = sf.computeDiffBetweenSnapshots(earlierSnapshot, laterSnapshot, diff, dir)[ FD ]
Line_43 $$ INodeFile file = node.asFile()-->Line_44 $$ boolean change = file.getFileWithSnapshotFeature().changedBetweenSnapshots(file, earlierSnapshot, laterSnapshot)[ FD ]
Line_42 $$ if (node.isFile() && node.asFile().isWithSnapshot()) -->Line_45 $$ if (change) [ CD ]
Line_36 $$ if (toProcess) -->Line_37 $$ parentPath.add(name)[ CD ]
Line_42 $$ if (node.isFile() && node.asFile().isWithSnapshot()) -->Line_43 $$ INodeFile file = node.asFile()[ CD ]
Line_18 $$ DirectoryWithSnapshotFeature sf = dir.getDirectoryWithSnapshotFeature()-->Line_20 $$ boolean change = sf.computeDiffBetweenSnapshots(earlierSnapshot, laterSnapshot, diff, dir)[ FD ]
Line_36 $$ if (toProcess) -->Line_38 $$ computeDiffRecursively(snapshotRoot, child, parentPath, diffReport)[ CD ]
Line_13 $$ final Snapshot laterSnapshot = diffReport.isFromEarlier() ? diffReport.getTo() : diffReport.getFrom()-->Line_30 $$ byte[][] renameTargetPath = findRenameTargetPath(snapshotRoot, (WithName) child, laterSnapshot == null ? Snapshot.CURRENT_STATE_ID : laterSnapshot.getId())[ FD ]
