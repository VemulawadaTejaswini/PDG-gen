Line_11 $$ for (File dir : dirs) -->Line_12 $$ FSImageTransactionalStorageInspector inspector = inspectStorageDirectory(dir, NameNodeDirType.IMAGE)[ FD ]
Line_15 $$ long thisTxId = latestImages.get(0).getCheckpointTxId()-->Line_19 $$ imageTxId = thisTxId[ FD ]
Line_10 $$ List<File> imageFiles = new ArrayList<File>()-->Line_20 $$ imageFiles.add(inspector.getLatestImages().get(0).getFile())[ FD ]
Line_12 $$ FSImageTransactionalStorageInspector inspector = inspectStorageDirectory(dir, NameNodeDirType.IMAGE)-->Line_13 $$ List<FSImageFile> latestImages = inspector.getLatestImages()[ FD ]
Line_13 $$ List<FSImageFile> latestImages = inspector.getLatestImages()-->Line_15 $$ long thisTxId = latestImages.get(0).getCheckpointTxId()[ FD ]
Line_12 $$ FSImageTransactionalStorageInspector inspector = inspectStorageDirectory(dir, NameNodeDirType.IMAGE)-->Line_20 $$ imageFiles.add(inspector.getLatestImages().get(0).getFile())[ FD ]
Line_9 $$ long imageTxId = -1-->Line_19 $$ imageTxId = thisTxId[ FD ]
Line_7 $$ if (dirs.size() < 2)-->Line_8 $$ return[ CD ]
Line_13 $$ List<FSImageFile> latestImages = inspector.getLatestImages()-->Line_14 $$ assert (!latestImages.isEmpty())[ FD ]
Line_10 $$ List<File> imageFiles = new ArrayList<File>()-->Line_22 $$ assertFileContentsSame(imageFiles.toArray(new File[0]))[ FD ]
Line_16 $$ if (imageTxId != -1 && thisTxId != imageTxId) -->Line_17 $$ fail("Storage directory " + dir + " does not have the same " + "last image index " + imageTxId + " as another")[ CD ]
