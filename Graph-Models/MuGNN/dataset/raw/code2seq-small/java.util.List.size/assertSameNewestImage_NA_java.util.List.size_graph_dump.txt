Line_12 $$ if (imageTxId != -1 && thisTxId != imageTxId) -->Line_13 $$ fail("Storage directory " + dir + " does not have the same " + "last image index " + imageTxId + " as another")[ CD ]
Line_2 $$ public static void assertSameNewestImage(List<File> dirs) throws Exception -->Line_3 $$ if (dirs.size() < 2)[ CD ]
Line_9 $$ List<FSImageFile> latestImages = inspector.getLatestImages()-->Line_11 $$ long thisTxId = latestImages.get(0).getCheckpointTxId()[ FD ]
Line_2 $$ public static void assertSameNewestImage(List<File> dirs) throws Exception -->Line_5 $$ long imageTxId = -1[ CD ]
Line_8 $$ FSImageTransactionalStorageInspector inspector = inspectStorageDirectory(dir, NameNodeDirType.IMAGE)-->Line_16 $$ imageFiles.add(inspector.getLatestImages().get(0).getFile())[ FD ]
Line_8 $$ FSImageTransactionalStorageInspector inspector = inspectStorageDirectory(dir, NameNodeDirType.IMAGE)-->Line_9 $$ List<FSImageFile> latestImages = inspector.getLatestImages()[ FD ]
Line_9 $$ List<FSImageFile> latestImages = inspector.getLatestImages()-->Line_10 $$ assert (!latestImages.isEmpty())[ FD ]
Line_2 $$ public static void assertSameNewestImage(List<File> dirs) throws Exception -->Line_6 $$ List<File> imageFiles = new ArrayList<File>()[ CD ]
Line_5 $$ long imageTxId = -1-->Line_15 $$ imageTxId = thisTxId[ FD ]
Line_2 $$ public static void assertSameNewestImage(List<File> dirs) throws Exception -->Line_18 $$ assertFileContentsSame(imageFiles.toArray(new File[0]))[ CD ]
Line_6 $$ List<File> imageFiles = new ArrayList<File>()-->Line_18 $$ assertFileContentsSame(imageFiles.toArray(new File[0]))[ FD ]
Line_7 $$ for (File dir : dirs) -->Line_8 $$ FSImageTransactionalStorageInspector inspector = inspectStorageDirectory(dir, NameNodeDirType.IMAGE)[ FD ]
Line_3 $$ if (dirs.size() < 2)-->Line_4 $$ return[ CD ]
Line_6 $$ List<File> imageFiles = new ArrayList<File>()-->Line_16 $$ imageFiles.add(inspector.getLatestImages().get(0).getFile())[ FD ]
Line_2 $$ public static void assertSameNewestImage(List<File> dirs) throws Exception -->Line_3 $$ if (dirs.size() < 2)[ FD ]
Line_11 $$ long thisTxId = latestImages.get(0).getCheckpointTxId()-->Line_15 $$ imageTxId = thisTxId[ FD ]
