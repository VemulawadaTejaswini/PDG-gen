Line_6 $$ tmd = new TokenMetadata()-->Line_7 $$ strategy = getStrategy(keyspaceName, tmd)[ FD ]
Line_3 $$ TokenMetadata tmd-->Line_7 $$ strategy = getStrategy(keyspaceName, tmd)[ FD ]
Line_9 $$ for (int i = 0; i < endpointTokens.length; i++) -->Line_10 $$ InetAddress ep = InetAddress.getByName("127.0.0." + String.valueOf(i + 1))[ CD ]
Line_4 $$ AbstractReplicationStrategy strategy-->Line_16 $$ assertEquals(strategy.getReplicationFactor(), endpoints.size())[ FD ]
Line_10 $$ InetAddress ep = InetAddress.getByName("127.0.0." + String.valueOf(i + 1))-->Line_11 $$ tmd.updateNormalToken(endpointTokens[i], ep)[ FD ]
Line_5 $$ for (String keyspaceName : Schema.instance.getNonSystemKeyspaces()) -->Line_7 $$ strategy = getStrategy(keyspaceName, tmd)[ FD ]
Line_15 $$ List<InetAddress> endpoints = strategy.getNaturalEndpoints(keyTokens[i])-->Line_16 $$ assertEquals(strategy.getReplicationFactor(), endpoints.size())[ FD ]
Line_14 $$ for (int i = 0; i < keyTokens.length; i++) -->Line_18 $$ for (int j = 0; j < endpoints.size(); j++) correctEndpoints.add(hosts.get((i + j + 1) % hosts.size()))[ CD ]
Line_9 $$ for (int i = 0; i < endpointTokens.length; i++) -->Line_12 $$ hosts.add(ep)[ CD ]
Line_3 $$ TokenMetadata tmd-->Line_11 $$ tmd.updateNormalToken(endpointTokens[i], ep)[ FD ]
Line_6 $$ tmd = new TokenMetadata()-->Line_11 $$ tmd.updateNormalToken(endpointTokens[i], ep)[ FD ]
Line_14 $$ for (int i = 0; i < keyTokens.length; i++) -->Line_16 $$ assertEquals(strategy.getReplicationFactor(), endpoints.size())[ CD ]
Line_9 $$ for (int i = 0; i < endpointTokens.length; i++) -->Line_11 $$ tmd.updateNormalToken(endpointTokens[i], ep)[ CD ]
Line_15 $$ List<InetAddress> endpoints = strategy.getNaturalEndpoints(keyTokens[i])-->Line_18 $$ for (int j = 0; j < endpoints.size(); j++) correctEndpoints.add(hosts.get((i + j + 1) % hosts.size()))[ FD ]
Line_4 $$ AbstractReplicationStrategy strategy-->Line_15 $$ List<InetAddress> endpoints = strategy.getNaturalEndpoints(keyTokens[i])[ FD ]
Line_3 $$ TokenMetadata tmd-->Line_6 $$ tmd = new TokenMetadata()[ FD ]
Line_14 $$ for (int i = 0; i < keyTokens.length; i++) -->Line_19 $$ assertEquals(new HashSet<InetAddress>(correctEndpoints), new HashSet<InetAddress>(endpoints))[ CD ]
Line_8 $$ List<InetAddress> hosts = new ArrayList<InetAddress>()-->Line_18 $$ correctEndpoints.add(hosts.get((i + j + 1) % hosts.size()))[ FD ]
Line_8 $$ List<InetAddress> hosts = new ArrayList<InetAddress>()-->Line_12 $$ hosts.add(ep)[ FD ]
Line_17 $$ List<InetAddress> correctEndpoints = new ArrayList<InetAddress>()-->Line_18 $$ correctEndpoints.add(hosts.get((i + j + 1) % hosts.size()))[ FD ]
Line_2 $$ private void verifyGetNaturalEndpoints(Token[] endpointTokens, Token[] keyTokens) throws UnknownHostException -->Line_4 $$ AbstractReplicationStrategy strategy[ CD ]
Line_14 $$ for (int i = 0; i < keyTokens.length; i++) -->Line_15 $$ List<InetAddress> endpoints = strategy.getNaturalEndpoints(keyTokens[i])[ CD ]
Line_9 $$ for (int i = 0; i < endpointTokens.length; i++) -->Line_14 $$ for (int i = 0; i < keyTokens.length; i++) [ FD ]
Line_2 $$ private void verifyGetNaturalEndpoints(Token[] endpointTokens, Token[] keyTokens) throws UnknownHostException -->Line_3 $$ TokenMetadata tmd[ CD ]
Line_14 $$ for (int i = 0; i < keyTokens.length; i++) -->Line_17 $$ List<InetAddress> correctEndpoints = new ArrayList<InetAddress>()[ CD ]
Line_4 $$ AbstractReplicationStrategy strategy-->Line_7 $$ strategy = getStrategy(keyspaceName, tmd)[ FD ]
Line_7 $$ strategy = getStrategy(keyspaceName, tmd)-->Line_15 $$ List<InetAddress> endpoints = strategy.getNaturalEndpoints(keyTokens[i])[ FD ]
Line_7 $$ strategy = getStrategy(keyspaceName, tmd)-->Line_16 $$ assertEquals(strategy.getReplicationFactor(), endpoints.size())[ FD ]
Line_10 $$ InetAddress ep = InetAddress.getByName("127.0.0." + String.valueOf(i + 1))-->Line_12 $$ hosts.add(ep)[ FD ]
