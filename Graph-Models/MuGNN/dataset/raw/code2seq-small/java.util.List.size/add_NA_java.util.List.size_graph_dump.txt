Line_16 $$ XContentParser.Token token = parser.nextToken()-->Line_40 $$ if (token == XContentParser.Token.FIELD_NAME) [ FD ]
Line_67 $$ version = parser.longValue()-->Line_123 $$ doc.version(version)[ FD ]
Line_38 $$ String currentFieldName = null-->Line_60 $$ ttl = TimeValue.parseTimeValue(parser.text(), null, currentFieldName)[ FD ]
Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) -->Line_69 $$ versionType = VersionType.fromString(parser.text())[ FD ]
Line_34 $$ VersionType versionType = VersionType.INTERNAL-->Line_92 $$ add(new DeleteRequest(index, type, id).routing(routing).parent(parent).version(version).versionType(versionType), payload)[ FD ]
Line_107 $$ if ("update".equals(action)) -->Line_109 $$ if (fields != null) [ CD ]
Line_107 $$ if ("update".equals(action)) -->Line_119 $$ IndexRequest doc = updateRequest.doc()[ CD ]
Line_50 $$ if ("_id".equals(currentFieldName)) -->Line_51 $$ id = parser.text()[ CD ]
Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) -->Line_60 $$ ttl = TimeValue.parseTimeValue(parser.text(), null, currentFieldName)[ FD ]
Line_4 $$ int line = 0-->Line_13 $$ line++[ FD ]
Line_91 $$ if ("delete".equals(action)) -->Line_99 $$ if ("index".equals(action)) [ CD ]
Line_67 $$ version = parser.longValue()-->Line_103 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create("create".equals(opType)).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_36 $$ token = parser.nextToken()-->Line_77 $$ if (token == XContentParser.Token.START_ARRAY) [ FD ]
Line_15 $$ from = nextMarker + 1-->Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) [ FD ]
Line_55 $$ parent = parser.text()-->Line_108 $$ UpdateRequest updateRequest = new UpdateRequest(index, type, id).routing(routing).parent(parent).retryOnConflict(retryOnConflict).version(version).versionType(versionType).routing(routing).parent(parent).source(data.slice(from, nextMarker - from))[ FD ]
Line_2 $$ public BulkRequest add(BytesReference data, @Nullable String defaultIndex, @Nullable String defaultType, @Nullable String defaultRouting, @Nullable String[] defaultFields, @Nullable Object payload, boolean allowExplicitIndex) throws Exception -->Line_9 $$ int nextMarker = findNextMarker(marker, from, data, length)[ FD ]
Line_94 $$ nextMarker = findNextMarker(marker, from, data, length)-->Line_95 $$ if (nextMarker == -1) [ FD ]
Line_34 $$ VersionType versionType = VersionType.INTERNAL-->Line_124 $$ doc.versionType(versionType)[ FD ]
Line_41 $$ currentFieldName = parser.currentName()-->Line_70 $$ if ("_retry_on_conflict".equals(currentFieldName) || "_retryOnConflict".equals(currentFieldName)) [ FD ]
Line_69 $$ versionType = VersionType.fromString(parser.text())-->Line_101 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_30 $$ String timestamp = null-->Line_57 $$ timestamp = parser.text()[ FD ]
Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) -->Line_23 $$ String action = parser.currentName()[ FD ]
Line_28 $$ String parent = null-->Line_101 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_34 $$ VersionType versionType = VersionType.INTERNAL-->Line_101 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_79 $$ List<Object> values = parser.list()-->Line_80 $$ fields = values.toArray(new String[values.size()])[ FD ]
Line_27 $$ String routing = defaultRouting-->Line_103 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create("create".equals(opType)).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_54 $$ if ("_parent".equals(currentFieldName) || "parent".equals(currentFieldName)) -->Line_55 $$ parent = parser.text()[ CD ]
Line_53 $$ routing = parser.text()-->Line_103 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create("create".equals(opType)).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) -->Line_41 $$ currentFieldName = parser.currentName()[ FD ]
Line_41 $$ currentFieldName = parser.currentName()-->Line_72 $$ if ("fields".equals(currentFieldName)) [ FD ]
Line_69 $$ versionType = VersionType.fromString(parser.text())-->Line_124 $$ doc.versionType(versionType)[ FD ]
Line_34 $$ VersionType versionType = VersionType.INTERNAL-->Line_69 $$ versionType = VersionType.fromString(parser.text())[ FD ]
Line_4 $$ int line = 0-->Line_98 $$ line++[ FD ]
Line_77 $$ if (token == XContentParser.Token.START_ARRAY) -->Line_84 $$ if (token != XContentParser.Token.VALUE_NULL) [ CD ]
Line_38 $$ String currentFieldName = null-->Line_66 $$ if ("_version".equals(currentFieldName) || "version".equals(currentFieldName)) [ FD ]
Line_2 $$ public BulkRequest add(BytesReference data, @Nullable String defaultIndex, @Nullable String defaultType, @Nullable String defaultRouting, @Nullable String[] defaultFields, @Nullable Object payload, boolean allowExplicitIndex) throws Exception -->Line_126 $$ internalAdd(updateRequest, payload)[ FD ]
Line_68 $$ if ("_version_type".equals(currentFieldName) || "_versionType".equals(currentFieldName) || "version_type".equals(currentFieldName) || "versionType".equals(currentFieldName)) -->Line_70 $$ if ("_retry_on_conflict".equals(currentFieldName) || "_retryOnConflict".equals(currentFieldName)) [ CD ]
Line_57 $$ timestamp = parser.text()-->Line_103 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create("create".equals(opType)).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_80 $$ fields = values.toArray(new String[values.size()])-->Line_109 $$ if (fields != null) [ FD ]
Line_31 $$ TimeValue ttl = null-->Line_62 $$ ttl = new TimeValue(parser.longValue())[ FD ]
Line_15 $$ from = nextMarker + 1-->Line_101 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_16 $$ XContentParser.Token token = parser.nextToken()-->Line_39 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) [ FD ]
Line_5 $$ int from = 0-->Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) [ FD ]
Line_21 $$ token = parser.nextToken()-->Line_42 $$ if (token.isValue()) [ FD ]
Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) -->Line_79 $$ List<Object> values = parser.list()[ FD ]
Line_40 $$ if (token == XContentParser.Token.FIELD_NAME) -->Line_41 $$ currentFieldName = parser.currentName()[ CD ]
Line_53 $$ routing = parser.text()-->Line_108 $$ UpdateRequest updateRequest = new UpdateRequest(index, type, id).routing(routing).parent(parent).retryOnConflict(retryOnConflict).version(version).versionType(versionType).routing(routing).parent(parent).source(data.slice(from, nextMarker - from))[ FD ]
Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) -->Line_47 $$ index = parser.text()[ FD ]
Line_54 $$ if ("_parent".equals(currentFieldName) || "parent".equals(currentFieldName)) -->Line_56 $$ if ("_timestamp".equals(currentFieldName) || "timestamp".equals(currentFieldName)) [ CD ]
Line_109 $$ if (fields != null) -->Line_110 $$ updateRequest.fields(fields)[ CD ]
Line_105 $$ if ("create".equals(action)) -->Line_107 $$ if ("update".equals(action)) [ CD ]
Line_24 $$ String index = defaultIndex-->Line_47 $$ index = parser.text()[ FD ]
Line_57 $$ timestamp = parser.text()-->Line_106 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create(true).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_41 $$ currentFieldName = parser.currentName()-->Line_78 $$ if ("fields".equals(currentFieldName)) [ FD ]
Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) -->Line_62 $$ ttl = new TimeValue(parser.longValue())[ FD ]
Line_64 $$ if ("op_type".equals(currentFieldName) || "opType".equals(currentFieldName)) -->Line_65 $$ opType = parser.text()[ CD ]
Line_15 $$ from = nextMarker + 1-->Line_106 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create(true).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_50 $$ if ("_id".equals(currentFieldName)) -->Line_52 $$ if ("_routing".equals(currentFieldName) || "routing".equals(currentFieldName)) [ CD ]
Line_15 $$ from = nextMarker + 1-->Line_108 $$ UpdateRequest updateRequest = new UpdateRequest(index, type, id).routing(routing).parent(parent).retryOnConflict(retryOnConflict).version(version).versionType(versionType).routing(routing).parent(parent).source(data.slice(from, nextMarker - from))[ FD ]
Line_32 $$ String opType = null-->Line_65 $$ opType = parser.text()[ FD ]
Line_39 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) -->Line_42 $$ if (token.isValue()) [ FD ]
Line_2 $$ public BulkRequest add(BytesReference data, @Nullable String defaultIndex, @Nullable String defaultType, @Nullable String defaultRouting, @Nullable String[] defaultFields, @Nullable Object payload, boolean allowExplicitIndex) throws Exception -->Line_6 $$ int length = data.length()[ CD ]
Line_107 $$ if ("update".equals(action)) -->Line_113 $$ if (upsertRequest != null) [ CD ]
Line_41 $$ currentFieldName = parser.currentName()-->Line_58 $$ if ("_ttl".equals(currentFieldName) || "ttl".equals(currentFieldName)) [ FD ]
Line_94 $$ nextMarker = findNextMarker(marker, from, data, length)-->Line_15 $$ from = nextMarker + 1[ FD ]
Line_107 $$ if ("update".equals(action)) -->Line_126 $$ internalAdd(updateRequest, payload)[ CD ]
Line_23 $$ String action = parser.currentName()-->Line_91 $$ if ("delete".equals(action)) [ FD ]
Line_120 $$ if (doc != null) -->Line_124 $$ doc.versionType(versionType)[ CD ]
Line_31 $$ TimeValue ttl = null-->Line_106 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create(true).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_21 $$ token = parser.nextToken()-->Line_88 $$ if (token != XContentParser.Token.END_OBJECT) [ FD ]
Line_71 $$ retryOnConflict = parser.intValue()-->Line_108 $$ UpdateRequest updateRequest = new UpdateRequest(index, type, id).routing(routing).parent(parent).retryOnConflict(retryOnConflict).version(version).versionType(versionType).routing(routing).parent(parent).source(data.slice(from, nextMarker - from))[ FD ]
Line_69 $$ versionType = VersionType.fromString(parser.text())-->Line_108 $$ UpdateRequest updateRequest = new UpdateRequest(index, type, id).routing(routing).parent(parent).retryOnConflict(retryOnConflict).version(version).versionType(versionType).routing(routing).parent(parent).source(data.slice(from, nextMarker - from))[ FD ]
Line_57 $$ timestamp = parser.text()-->Line_114 $$ upsertRequest.timestamp(timestamp)[ FD ]
Line_34 $$ VersionType versionType = VersionType.INTERNAL-->Line_106 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create(true).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_128 $$ from = nextMarker + 1-->Line_9 $$ int nextMarker = findNextMarker(marker, from, data, length)[ FD ]
Line_34 $$ VersionType versionType = VersionType.INTERNAL-->Line_117 $$ upsertRequest.versionType(versionType)[ FD ]
Line_38 $$ String currentFieldName = null-->Line_72 $$ if ("fields".equals(currentFieldName)) [ FD ]
Line_2 $$ public BulkRequest add(BytesReference data, @Nullable String defaultIndex, @Nullable String defaultType, @Nullable String defaultRouting, @Nullable String[] defaultFields, @Nullable Object payload, boolean allowExplicitIndex) throws Exception -->Line_7 $$ byte marker = xContent.streamSeparator()[ CD ]
Line_33 $$ long version = Versions.MATCH_ANY-->Line_123 $$ doc.version(version)[ FD ]
Line_52 $$ if ("_routing".equals(currentFieldName) || "routing".equals(currentFieldName)) -->Line_54 $$ if ("_parent".equals(currentFieldName) || "parent".equals(currentFieldName)) [ CD ]
Line_26 $$ String id = null-->Line_51 $$ id = parser.text()[ FD ]
Line_31 $$ TimeValue ttl = null-->Line_101 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_32 $$ String opType = null-->Line_103 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create("create".equals(opType)).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_59 $$ if (parser.currentToken() == XContentParser.Token.VALUE_STRING) -->Line_62 $$ ttl = new TimeValue(parser.longValue())[ CD ]
Line_23 $$ String action = parser.currentName()-->Line_107 $$ if ("update".equals(action)) [ FD ]
Line_16 $$ XContentParser.Token token = parser.nextToken()-->Line_88 $$ if (token != XContentParser.Token.END_OBJECT) [ FD ]
Line_38 $$ String currentFieldName = null-->Line_52 $$ if ("_routing".equals(currentFieldName) || "routing".equals(currentFieldName)) [ FD ]
Line_91 $$ if ("delete".equals(action)) -->Line_92 $$ add(new DeleteRequest(index, type, id).routing(routing).parent(parent).version(version).versionType(versionType), payload)[ CD ]
Line_15 $$ from = nextMarker + 1-->Line_103 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create("create".equals(opType)).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_41 $$ currentFieldName = parser.currentName()-->Line_66 $$ if ("_version".equals(currentFieldName) || "version".equals(currentFieldName)) [ FD ]
Line_38 $$ String currentFieldName = null-->Line_48 $$ if ("_type".equals(currentFieldName)) [ FD ]
Line_16 $$ XContentParser.Token token = parser.nextToken()-->Line_21 $$ token = parser.nextToken()[ FD ]
Line_21 $$ token = parser.nextToken()-->Line_40 $$ if (token == XContentParser.Token.FIELD_NAME) [ FD ]
Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) -->Line_21 $$ token = parser.nextToken()[ FD ]
Line_113 $$ if (upsertRequest != null) -->Line_116 $$ upsertRequest.version(version)[ CD ]
Line_2 $$ public BulkRequest add(BytesReference data, @Nullable String defaultIndex, @Nullable String defaultType, @Nullable String defaultRouting, @Nullable String[] defaultFields, @Nullable Object payload, boolean allowExplicitIndex) throws Exception -->Line_132 $$ return this[ CD ]
Line_21 $$ token = parser.nextToken()-->Line_17 $$ if (token == null) [ FD ]
Line_27 $$ String routing = defaultRouting-->Line_106 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create(true).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_16 $$ XContentParser.Token token = parser.nextToken()-->Line_84 $$ if (token != XContentParser.Token.VALUE_NULL) [ FD ]
Line_38 $$ String currentFieldName = null-->Line_43 $$ if ("_index".equals(currentFieldName)) [ FD ]
Line_53 $$ routing = parser.text()-->Line_106 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create(true).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_38 $$ String currentFieldName = null-->Line_78 $$ if ("fields".equals(currentFieldName)) [ FD ]
Line_5 $$ int from = 0-->Line_9 $$ int nextMarker = findNextMarker(marker, from, data, length)[ FD ]
Line_6 $$ int length = data.length()-->Line_9 $$ int nextMarker = findNextMarker(marker, from, data, length)[ FD ]
Line_41 $$ currentFieldName = parser.currentName()-->Line_50 $$ if ("_id".equals(currentFieldName)) [ FD ]
Line_9 $$ int nextMarker = findNextMarker(marker, from, data, length)-->Line_94 $$ nextMarker = findNextMarker(marker, from, data, length)[ FD ]
Line_5 $$ int from = 0-->Line_108 $$ UpdateRequest updateRequest = new UpdateRequest(index, type, id).routing(routing).parent(parent).retryOnConflict(retryOnConflict).version(version).versionType(versionType).routing(routing).parent(parent).source(data.slice(from, nextMarker - from))[ FD ]
Line_33 $$ long version = Versions.MATCH_ANY-->Line_92 $$ add(new DeleteRequest(index, type, id).routing(routing).parent(parent).version(version).versionType(versionType), payload)[ FD ]
Line_27 $$ String routing = defaultRouting-->Line_92 $$ add(new DeleteRequest(index, type, id).routing(routing).parent(parent).version(version).versionType(versionType), payload)[ FD ]
Line_69 $$ versionType = VersionType.fromString(parser.text())-->Line_92 $$ add(new DeleteRequest(index, type, id).routing(routing).parent(parent).version(version).versionType(versionType), payload)[ FD ]
Line_48 $$ if ("_type".equals(currentFieldName)) -->Line_50 $$ if ("_id".equals(currentFieldName)) [ CD ]
Line_59 $$ if (parser.currentToken() == XContentParser.Token.VALUE_STRING) -->Line_60 $$ ttl = TimeValue.parseTimeValue(parser.text(), null, currentFieldName)[ CD ]
Line_60 $$ ttl = TimeValue.parseTimeValue(parser.text(), null, currentFieldName)-->Line_103 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create("create".equals(opType)).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_37 $$ if (token == XContentParser.Token.START_OBJECT) -->Line_38 $$ String currentFieldName = null[ CD ]
Line_42 $$ if (token.isValue()) -->Line_77 $$ if (token == XContentParser.Token.START_ARRAY) [ CD ]
Line_33 $$ long version = Versions.MATCH_ANY-->Line_108 $$ UpdateRequest updateRequest = new UpdateRequest(index, type, id).routing(routing).parent(parent).retryOnConflict(retryOnConflict).version(version).versionType(versionType).routing(routing).parent(parent).source(data.slice(from, nextMarker - from))[ FD ]
Line_56 $$ if ("_timestamp".equals(currentFieldName) || "timestamp".equals(currentFieldName)) -->Line_58 $$ if ("_ttl".equals(currentFieldName) || "ttl".equals(currentFieldName)) [ CD ]
Line_33 $$ long version = Versions.MATCH_ANY-->Line_67 $$ version = parser.longValue()[ FD ]
Line_91 $$ if ("delete".equals(action)) -->Line_95 $$ if (nextMarker == -1) [ CD ]
Line_30 $$ String timestamp = null-->Line_114 $$ upsertRequest.timestamp(timestamp)[ FD ]
Line_28 $$ String parent = null-->Line_106 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create(true).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_62 $$ ttl = new TimeValue(parser.longValue())-->Line_101 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_41 $$ currentFieldName = parser.currentName()-->Line_60 $$ ttl = TimeValue.parseTimeValue(parser.text(), null, currentFieldName)[ FD ]
Line_128 $$ from = nextMarker + 1-->Line_101 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_2 $$ public BulkRequest add(BytesReference data, @Nullable String defaultIndex, @Nullable String defaultType, @Nullable String defaultRouting, @Nullable String[] defaultFields, @Nullable Object payload, boolean allowExplicitIndex) throws Exception -->Line_4 $$ int line = 0[ CD ]
Line_23 $$ String action = parser.currentName()-->Line_99 $$ if ("index".equals(action)) [ FD ]
Line_36 $$ token = parser.nextToken()-->Line_40 $$ if (token == XContentParser.Token.FIELD_NAME) [ FD ]
Line_66 $$ if ("_version".equals(currentFieldName) || "version".equals(currentFieldName)) -->Line_68 $$ if ("_version_type".equals(currentFieldName) || "_versionType".equals(currentFieldName) || "version_type".equals(currentFieldName) || "versionType".equals(currentFieldName)) [ CD ]
Line_57 $$ timestamp = parser.text()-->Line_101 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_39 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) -->Line_77 $$ if (token == XContentParser.Token.START_ARRAY) [ FD ]
Line_38 $$ String currentFieldName = null-->Line_41 $$ currentFieldName = parser.currentName()[ FD ]
Line_60 $$ ttl = TimeValue.parseTimeValue(parser.text(), null, currentFieldName)-->Line_115 $$ upsertRequest.ttl(ttl)[ FD ]
Line_27 $$ String routing = defaultRouting-->Line_53 $$ routing = parser.text()[ FD ]
Line_58 $$ if ("_ttl".equals(currentFieldName) || "ttl".equals(currentFieldName)) -->Line_59 $$ if (parser.currentToken() == XContentParser.Token.VALUE_STRING) [ CD ]
Line_100 $$ if (opType == null) -->Line_103 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create("create".equals(opType)).source(data.slice(from, nextMarker - from)), payload)[ CD ]
Line_41 $$ currentFieldName = parser.currentName()-->Line_68 $$ if ("_version_type".equals(currentFieldName) || "_versionType".equals(currentFieldName) || "version_type".equals(currentFieldName) || "versionType".equals(currentFieldName)) [ FD ]
Line_52 $$ if ("_routing".equals(currentFieldName) || "routing".equals(currentFieldName)) -->Line_53 $$ routing = parser.text()[ CD ]
Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) -->Line_59 $$ if (parser.currentToken() == XContentParser.Token.VALUE_STRING) [ FD ]
Line_41 $$ currentFieldName = parser.currentName()-->Line_56 $$ if ("_timestamp".equals(currentFieldName) || "timestamp".equals(currentFieldName)) [ FD ]
Line_113 $$ if (upsertRequest != null) -->Line_115 $$ upsertRequest.ttl(ttl)[ CD ]
Line_67 $$ version = parser.longValue()-->Line_101 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_55 $$ parent = parser.text()-->Line_92 $$ add(new DeleteRequest(index, type, id).routing(routing).parent(parent).version(version).versionType(versionType), payload)[ FD ]
Line_30 $$ String timestamp = null-->Line_103 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create("create".equals(opType)).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_39 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) -->Line_88 $$ if (token != XContentParser.Token.END_OBJECT) [ FD ]
Line_9 $$ int nextMarker = findNextMarker(marker, from, data, length)-->Line_10 $$ if (nextMarker == -1) [ FD ]
Line_33 $$ long version = Versions.MATCH_ANY-->Line_116 $$ upsertRequest.version(version)[ FD ]
Line_15 $$ from = nextMarker + 1-->Line_128 $$ from = nextMarker + 1[ FD ]
Line_28 $$ String parent = null-->Line_103 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create("create".equals(opType)).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_69 $$ versionType = VersionType.fromString(parser.text())-->Line_117 $$ upsertRequest.versionType(versionType)[ FD ]
Line_57 $$ timestamp = parser.text()-->Line_121 $$ doc.timestamp(timestamp)[ FD ]
Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) -->Line_51 $$ id = parser.text()[ FD ]
Line_16 $$ XContentParser.Token token = parser.nextToken()-->Line_77 $$ if (token == XContentParser.Token.START_ARRAY) [ FD ]
Line_29 $$ String[] fields = defaultFields-->Line_109 $$ if (fields != null) [ FD ]
Line_62 $$ ttl = new TimeValue(parser.longValue())-->Line_106 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create(true).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_5 $$ int from = 0-->Line_101 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_31 $$ TimeValue ttl = null-->Line_103 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create("create".equals(opType)).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_120 $$ if (doc != null) -->Line_123 $$ doc.version(version)[ CD ]
Line_107 $$ if ("update".equals(action)) -->Line_108 $$ UpdateRequest updateRequest = new UpdateRequest(index, type, id).routing(routing).parent(parent).retryOnConflict(retryOnConflict).version(version).versionType(versionType).routing(routing).parent(parent).source(data.slice(from, nextMarker - from))[ CD ]
Line_128 $$ from = nextMarker + 1-->Line_103 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create("create".equals(opType)).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_48 $$ if ("_type".equals(currentFieldName)) -->Line_49 $$ type = parser.text()[ CD ]
Line_77 $$ if (token == XContentParser.Token.START_ARRAY) -->Line_78 $$ if ("fields".equals(currentFieldName)) [ CD ]
Line_42 $$ if (token.isValue()) -->Line_43 $$ if ("_index".equals(currentFieldName)) [ CD ]
Line_38 $$ String currentFieldName = null-->Line_56 $$ if ("_timestamp".equals(currentFieldName) || "timestamp".equals(currentFieldName)) [ FD ]
Line_21 $$ token = parser.nextToken()-->Line_37 $$ if (token == XContentParser.Token.START_OBJECT) [ FD ]
Line_107 $$ if ("update".equals(action)) -->Line_120 $$ if (doc != null) [ CD ]
Line_36 $$ token = parser.nextToken()-->Line_39 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) [ FD ]
Line_2 $$ public BulkRequest add(BytesReference data, @Nullable String defaultIndex, @Nullable String defaultType, @Nullable String defaultRouting, @Nullable String[] defaultFields, @Nullable Object payload, boolean allowExplicitIndex) throws Exception -->Line_6 $$ int length = data.length()[ FD ]
Line_41 $$ currentFieldName = parser.currentName()-->Line_54 $$ if ("_parent".equals(currentFieldName) || "parent".equals(currentFieldName)) [ FD ]
Line_21 $$ token = parser.nextToken()-->Line_77 $$ if (token == XContentParser.Token.START_ARRAY) [ FD ]
Line_31 $$ TimeValue ttl = null-->Line_115 $$ upsertRequest.ttl(ttl)[ FD ]
Line_94 $$ nextMarker = findNextMarker(marker, from, data, length)-->Line_10 $$ if (nextMarker == -1) [ FD ]
Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) -->Line_36 $$ token = parser.nextToken()[ FD ]
Line_8 $$ while (true) -->Line_9 $$ int nextMarker = findNextMarker(marker, from, data, length)[ CD ]
Line_33 $$ long version = Versions.MATCH_ANY-->Line_106 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create(true).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_55 $$ parent = parser.text()-->Line_103 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create("create".equals(opType)).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_21 $$ token = parser.nextToken()-->Line_84 $$ if (token != XContentParser.Token.VALUE_NULL) [ FD ]
Line_36 $$ token = parser.nextToken()-->Line_42 $$ if (token.isValue()) [ FD ]
Line_60 $$ ttl = TimeValue.parseTimeValue(parser.text(), null, currentFieldName)-->Line_101 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) -->Line_16 $$ XContentParser.Token token = parser.nextToken()[ FD ]
Line_41 $$ currentFieldName = parser.currentName()-->Line_43 $$ if ("_index".equals(currentFieldName)) [ FD ]
Line_120 $$ if (doc != null) -->Line_121 $$ doc.timestamp(timestamp)[ CD ]
Line_8 $$ while (true) -->Line_10 $$ if (nextMarker == -1) [ CD ]
Line_36 $$ token = parser.nextToken()-->Line_17 $$ if (token == null) [ FD ]
Line_31 $$ TimeValue ttl = null-->Line_60 $$ ttl = TimeValue.parseTimeValue(parser.text(), null, currentFieldName)[ FD ]
Line_5 $$ int from = 0-->Line_128 $$ from = nextMarker + 1[ FD ]
Line_34 $$ VersionType versionType = VersionType.INTERNAL-->Line_108 $$ UpdateRequest updateRequest = new UpdateRequest(index, type, id).routing(routing).parent(parent).retryOnConflict(retryOnConflict).version(version).versionType(versionType).routing(routing).parent(parent).source(data.slice(from, nextMarker - from))[ FD ]
Line_21 $$ token = parser.nextToken()-->Line_39 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) [ FD ]
Line_128 $$ from = nextMarker + 1-->Line_94 $$ nextMarker = findNextMarker(marker, from, data, length)[ FD ]
Line_67 $$ version = parser.longValue()-->Line_108 $$ UpdateRequest updateRequest = new UpdateRequest(index, type, id).routing(routing).parent(parent).retryOnConflict(retryOnConflict).version(version).versionType(versionType).routing(routing).parent(parent).source(data.slice(from, nextMarker - from))[ FD ]
Line_43 $$ if ("_index".equals(currentFieldName)) -->Line_47 $$ index = parser.text()[ CD ]
Line_34 $$ VersionType versionType = VersionType.INTERNAL-->Line_103 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create("create".equals(opType)).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_69 $$ versionType = VersionType.fromString(parser.text())-->Line_106 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create(true).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_68 $$ if ("_version_type".equals(currentFieldName) || "_versionType".equals(currentFieldName) || "version_type".equals(currentFieldName) || "versionType".equals(currentFieldName)) -->Line_69 $$ versionType = VersionType.fromString(parser.text())[ CD ]
Line_2 $$ public BulkRequest add(BytesReference data, @Nullable String defaultIndex, @Nullable String defaultType, @Nullable String defaultRouting, @Nullable String[] defaultFields, @Nullable Object payload, boolean allowExplicitIndex) throws Exception -->Line_108 $$ UpdateRequest updateRequest = new UpdateRequest(index, type, id).routing(routing).parent(parent).retryOnConflict(retryOnConflict).version(version).versionType(versionType).routing(routing).parent(parent).source(data.slice(from, nextMarker - from))[ FD ]
Line_5 $$ int from = 0-->Line_94 $$ nextMarker = findNextMarker(marker, from, data, length)[ FD ]
Line_2 $$ public BulkRequest add(BytesReference data, @Nullable String defaultIndex, @Nullable String defaultType, @Nullable String defaultRouting, @Nullable String[] defaultFields, @Nullable Object payload, boolean allowExplicitIndex) throws Exception -->Line_92 $$ add(new DeleteRequest(index, type, id).routing(routing).parent(parent).version(version).versionType(versionType), payload)[ FD ]
Line_36 $$ token = parser.nextToken()-->Line_37 $$ if (token == XContentParser.Token.START_OBJECT) [ FD ]
Line_7 $$ byte marker = xContent.streamSeparator()-->Line_94 $$ nextMarker = findNextMarker(marker, from, data, length)[ FD ]
Line_65 $$ opType = parser.text()-->Line_100 $$ if (opType == null) [ FD ]
Line_62 $$ ttl = new TimeValue(parser.longValue())-->Line_115 $$ upsertRequest.ttl(ttl)[ FD ]
Line_40 $$ if (token == XContentParser.Token.FIELD_NAME) -->Line_42 $$ if (token.isValue()) [ CD ]
Line_27 $$ String routing = defaultRouting-->Line_108 $$ UpdateRequest updateRequest = new UpdateRequest(index, type, id).routing(routing).parent(parent).retryOnConflict(retryOnConflict).version(version).versionType(versionType).routing(routing).parent(parent).source(data.slice(from, nextMarker - from))[ FD ]
Line_100 $$ if (opType == null) -->Line_101 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).source(data.slice(from, nextMarker - from)), payload)[ CD ]
Line_2 $$ public BulkRequest add(BytesReference data, @Nullable String defaultIndex, @Nullable String defaultType, @Nullable String defaultRouting, @Nullable String[] defaultFields, @Nullable Object payload, boolean allowExplicitIndex) throws Exception -->Line_101 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_41 $$ currentFieldName = parser.currentName()-->Line_52 $$ if ("_routing".equals(currentFieldName) || "routing".equals(currentFieldName)) [ FD ]
Line_2 $$ public BulkRequest add(BytesReference data, @Nullable String defaultIndex, @Nullable String defaultType, @Nullable String defaultRouting, @Nullable String[] defaultFields, @Nullable Object payload, boolean allowExplicitIndex) throws Exception -->Line_44 $$ if (!allowExplicitIndex) [ FD ]
Line_33 $$ long version = Versions.MATCH_ANY-->Line_101 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_38 $$ String currentFieldName = null-->Line_68 $$ if ("_version_type".equals(currentFieldName) || "_versionType".equals(currentFieldName) || "version_type".equals(currentFieldName) || "versionType".equals(currentFieldName)) [ FD ]
Line_67 $$ version = parser.longValue()-->Line_116 $$ upsertRequest.version(version)[ FD ]
Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) -->Line_55 $$ parent = parser.text()[ FD ]
Line_35 $$ int retryOnConflict = 0-->Line_108 $$ UpdateRequest updateRequest = new UpdateRequest(index, type, id).routing(routing).parent(parent).retryOnConflict(retryOnConflict).version(version).versionType(versionType).routing(routing).parent(parent).source(data.slice(from, nextMarker - from))[ FD ]
Line_31 $$ TimeValue ttl = null-->Line_122 $$ doc.ttl(ttl)[ FD ]
Line_35 $$ int retryOnConflict = 0-->Line_71 $$ retryOnConflict = parser.intValue()[ FD ]
Line_65 $$ opType = parser.text()-->Line_103 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create("create".equals(opType)).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_99 $$ if ("index".equals(action)) -->Line_105 $$ if ("create".equals(action)) [ CD ]
Line_38 $$ String currentFieldName = null-->Line_70 $$ if ("_retry_on_conflict".equals(currentFieldName) || "_retryOnConflict".equals(currentFieldName)) [ FD ]
Line_55 $$ parent = parser.text()-->Line_101 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_36 $$ token = parser.nextToken()-->Line_84 $$ if (token != XContentParser.Token.VALUE_NULL) [ FD ]
Line_9 $$ int nextMarker = findNextMarker(marker, from, data, length)-->Line_15 $$ from = nextMarker + 1[ FD ]
Line_60 $$ ttl = TimeValue.parseTimeValue(parser.text(), null, currentFieldName)-->Line_62 $$ ttl = new TimeValue(parser.longValue())[ FD ]
Line_58 $$ if ("_ttl".equals(currentFieldName) || "ttl".equals(currentFieldName)) -->Line_64 $$ if ("op_type".equals(currentFieldName) || "opType".equals(currentFieldName)) [ CD ]
Line_70 $$ if ("_retry_on_conflict".equals(currentFieldName) || "_retryOnConflict".equals(currentFieldName)) -->Line_72 $$ if ("fields".equals(currentFieldName)) [ CD ]
Line_94 $$ nextMarker = findNextMarker(marker, from, data, length)-->Line_128 $$ from = nextMarker + 1[ FD ]
Line_38 $$ String currentFieldName = null-->Line_64 $$ if ("op_type".equals(currentFieldName) || "opType".equals(currentFieldName)) [ FD ]
Line_8 $$ while (true) -->Line_13 $$ line++[ CD ]
Line_91 $$ if ("delete".equals(action)) -->Line_128 $$ from = nextMarker + 1[ CD ]
Line_39 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) -->Line_40 $$ if (token == XContentParser.Token.FIELD_NAME) [ CD ]
Line_9 $$ int nextMarker = findNextMarker(marker, from, data, length)-->Line_95 $$ if (nextMarker == -1) [ FD ]
Line_37 $$ if (token == XContentParser.Token.START_OBJECT) -->Line_39 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) [ CD ]
Line_107 $$ if ("update".equals(action)) -->Line_112 $$ IndexRequest upsertRequest = updateRequest.upsertRequest()[ CD ]
Line_2 $$ public BulkRequest add(BytesReference data, @Nullable String defaultIndex, @Nullable String defaultType, @Nullable String defaultRouting, @Nullable String[] defaultFields, @Nullable Object payload, boolean allowExplicitIndex) throws Exception -->Line_8 $$ while (true) [ CD ]
Line_69 $$ versionType = VersionType.fromString(parser.text())-->Line_103 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create("create".equals(opType)).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_67 $$ version = parser.longValue()-->Line_106 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create(true).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_29 $$ String[] fields = defaultFields-->Line_110 $$ updateRequest.fields(fields)[ FD ]
Line_67 $$ version = parser.longValue()-->Line_92 $$ add(new DeleteRequest(index, type, id).routing(routing).parent(parent).version(version).versionType(versionType), payload)[ FD ]
Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) -->Line_57 $$ timestamp = parser.text()[ FD ]
Line_41 $$ currentFieldName = parser.currentName()-->Line_64 $$ if ("op_type".equals(currentFieldName) || "opType".equals(currentFieldName)) [ FD ]
Line_30 $$ String timestamp = null-->Line_106 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create(true).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_105 $$ if ("create".equals(action)) -->Line_106 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create(true).source(data.slice(from, nextMarker - from)), payload)[ CD ]
Line_2 $$ public BulkRequest add(BytesReference data, @Nullable String defaultIndex, @Nullable String defaultType, @Nullable String defaultRouting, @Nullable String[] defaultFields, @Nullable Object payload, boolean allowExplicitIndex) throws Exception -->Line_94 $$ nextMarker = findNextMarker(marker, from, data, length)[ FD ]
Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) -->Line_67 $$ version = parser.longValue()[ FD ]
Line_16 $$ XContentParser.Token token = parser.nextToken()-->Line_36 $$ token = parser.nextToken()[ FD ]
Line_16 $$ XContentParser.Token token = parser.nextToken()-->Line_42 $$ if (token.isValue()) [ FD ]
Line_80 $$ fields = values.toArray(new String[values.size()])-->Line_110 $$ updateRequest.fields(fields)[ FD ]
Line_27 $$ String routing = defaultRouting-->Line_101 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_128 $$ from = nextMarker + 1-->Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) [ FD ]
Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) -->Line_49 $$ type = parser.text()[ FD ]
Line_120 $$ if (doc != null) -->Line_122 $$ doc.ttl(ttl)[ CD ]
Line_3 $$ XContent xContent = XContentFactory.xContent(data)-->Line_7 $$ byte marker = xContent.streamSeparator()[ FD ]
Line_70 $$ if ("_retry_on_conflict".equals(currentFieldName) || "_retryOnConflict".equals(currentFieldName)) -->Line_71 $$ retryOnConflict = parser.intValue()[ CD ]
Line_6 $$ int length = data.length()-->Line_94 $$ nextMarker = findNextMarker(marker, from, data, length)[ FD ]
Line_53 $$ routing = parser.text()-->Line_101 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_5 $$ int from = 0-->Line_15 $$ from = nextMarker + 1[ FD ]
Line_28 $$ String parent = null-->Line_92 $$ add(new DeleteRequest(index, type, id).routing(routing).parent(parent).version(version).versionType(versionType), payload)[ FD ]
Line_33 $$ long version = Versions.MATCH_ANY-->Line_103 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create("create".equals(opType)).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_128 $$ from = nextMarker + 1-->Line_108 $$ UpdateRequest updateRequest = new UpdateRequest(index, type, id).routing(routing).parent(parent).retryOnConflict(retryOnConflict).version(version).versionType(versionType).routing(routing).parent(parent).source(data.slice(from, nextMarker - from))[ FD ]
Line_30 $$ String timestamp = null-->Line_121 $$ doc.timestamp(timestamp)[ FD ]
Line_29 $$ String[] fields = defaultFields-->Line_80 $$ fields = values.toArray(new String[values.size()])[ FD ]
Line_16 $$ XContentParser.Token token = parser.nextToken()-->Line_17 $$ if (token == null) [ FD ]
Line_66 $$ if ("_version".equals(currentFieldName) || "version".equals(currentFieldName)) -->Line_67 $$ version = parser.longValue()[ CD ]
Line_78 $$ if ("fields".equals(currentFieldName)) -->Line_80 $$ fields = values.toArray(new String[values.size()])[ CD ]
Line_2 $$ public BulkRequest add(BytesReference data, @Nullable String defaultIndex, @Nullable String defaultType, @Nullable String defaultRouting, @Nullable String[] defaultFields, @Nullable Object payload, boolean allowExplicitIndex) throws Exception -->Line_106 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create(true).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_28 $$ String parent = null-->Line_55 $$ parent = parser.text()[ FD ]
Line_91 $$ if ("delete".equals(action)) -->Line_94 $$ nextMarker = findNextMarker(marker, from, data, length)[ CD ]
Line_62 $$ ttl = new TimeValue(parser.longValue())-->Line_103 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create("create".equals(opType)).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_55 $$ parent = parser.text()-->Line_106 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create(true).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_30 $$ String timestamp = null-->Line_101 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_2 $$ public BulkRequest add(BytesReference data, @Nullable String defaultIndex, @Nullable String defaultType, @Nullable String defaultRouting, @Nullable String[] defaultFields, @Nullable Object payload, boolean allowExplicitIndex) throws Exception -->Line_3 $$ XContent xContent = XContentFactory.xContent(data)[ FD ]
Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) -->Line_53 $$ routing = parser.text()[ FD ]
Line_32 $$ String opType = null-->Line_100 $$ if (opType == null) [ FD ]
Line_5 $$ int from = 0-->Line_106 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create(true).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_15 $$ from = nextMarker + 1-->Line_9 $$ int nextMarker = findNextMarker(marker, from, data, length)[ FD ]
Line_28 $$ String parent = null-->Line_108 $$ UpdateRequest updateRequest = new UpdateRequest(index, type, id).routing(routing).parent(parent).retryOnConflict(retryOnConflict).version(version).versionType(versionType).routing(routing).parent(parent).source(data.slice(from, nextMarker - from))[ FD ]
Line_2 $$ public BulkRequest add(BytesReference data, @Nullable String defaultIndex, @Nullable String defaultType, @Nullable String defaultRouting, @Nullable String[] defaultFields, @Nullable Object payload, boolean allowExplicitIndex) throws Exception -->Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) [ FD ]
Line_38 $$ String currentFieldName = null-->Line_58 $$ if ("_ttl".equals(currentFieldName) || "ttl".equals(currentFieldName)) [ FD ]
Line_99 $$ if ("index".equals(action)) -->Line_100 $$ if (opType == null) [ CD ]
Line_64 $$ if ("op_type".equals(currentFieldName) || "opType".equals(currentFieldName)) -->Line_66 $$ if ("_version".equals(currentFieldName) || "version".equals(currentFieldName)) [ CD ]
Line_39 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) -->Line_40 $$ if (token == XContentParser.Token.FIELD_NAME) [ FD ]
Line_5 $$ int from = 0-->Line_103 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create("create".equals(opType)).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_7 $$ byte marker = xContent.streamSeparator()-->Line_9 $$ int nextMarker = findNextMarker(marker, from, data, length)[ FD ]
Line_38 $$ String currentFieldName = null-->Line_50 $$ if ("_id".equals(currentFieldName)) [ FD ]
Line_60 $$ ttl = TimeValue.parseTimeValue(parser.text(), null, currentFieldName)-->Line_122 $$ doc.ttl(ttl)[ FD ]
Line_60 $$ ttl = TimeValue.parseTimeValue(parser.text(), null, currentFieldName)-->Line_106 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create(true).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_91 $$ if ("delete".equals(action)) -->Line_98 $$ line++[ CD ]
Line_62 $$ ttl = new TimeValue(parser.longValue())-->Line_122 $$ doc.ttl(ttl)[ FD ]
Line_16 $$ XContentParser.Token token = parser.nextToken()-->Line_37 $$ if (token == XContentParser.Token.START_OBJECT) [ FD ]
Line_15 $$ from = nextMarker + 1-->Line_94 $$ nextMarker = findNextMarker(marker, from, data, length)[ FD ]
Line_78 $$ if ("fields".equals(currentFieldName)) -->Line_79 $$ List<Object> values = parser.list()[ CD ]
Line_23 $$ String action = parser.currentName()-->Line_105 $$ if ("create".equals(action)) [ FD ]
Line_2 $$ public BulkRequest add(BytesReference data, @Nullable String defaultIndex, @Nullable String defaultType, @Nullable String defaultRouting, @Nullable String[] defaultFields, @Nullable Object payload, boolean allowExplicitIndex) throws Exception -->Line_5 $$ int from = 0[ CD ]
Line_36 $$ token = parser.nextToken()-->Line_88 $$ if (token != XContentParser.Token.END_OBJECT) [ FD ]
Line_113 $$ if (upsertRequest != null) -->Line_117 $$ upsertRequest.versionType(versionType)[ CD ]
Line_9 $$ int nextMarker = findNextMarker(marker, from, data, length)-->Line_128 $$ from = nextMarker + 1[ FD ]
Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) -->Line_71 $$ retryOnConflict = parser.intValue()[ FD ]
Line_43 $$ if ("_index".equals(currentFieldName)) -->Line_48 $$ if ("_type".equals(currentFieldName)) [ CD ]
Line_43 $$ if ("_index".equals(currentFieldName)) -->Line_44 $$ if (!allowExplicitIndex) [ CD ]
Line_2 $$ public BulkRequest add(BytesReference data, @Nullable String defaultIndex, @Nullable String defaultType, @Nullable String defaultRouting, @Nullable String[] defaultFields, @Nullable Object payload, boolean allowExplicitIndex) throws Exception -->Line_3 $$ XContent xContent = XContentFactory.xContent(data)[ CD ]
Line_39 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) -->Line_84 $$ if (token != XContentParser.Token.VALUE_NULL) [ FD ]
Line_56 $$ if ("_timestamp".equals(currentFieldName) || "timestamp".equals(currentFieldName)) -->Line_57 $$ timestamp = parser.text()[ CD ]
Line_128 $$ from = nextMarker + 1-->Line_106 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create(true).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) -->Line_65 $$ opType = parser.text()[ FD ]
Line_2 $$ public BulkRequest add(BytesReference data, @Nullable String defaultIndex, @Nullable String defaultType, @Nullable String defaultRouting, @Nullable String[] defaultFields, @Nullable Object payload, boolean allowExplicitIndex) throws Exception -->Line_103 $$ internalAdd(new IndexRequest(index, type, id).routing(routing).parent(parent).timestamp(timestamp).ttl(ttl).version(version).versionType(versionType).create("create".equals(opType)).source(data.slice(from, nextMarker - from)), payload)[ FD ]
Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) -->Line_39 $$ while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) [ FD ]
Line_53 $$ routing = parser.text()-->Line_92 $$ add(new DeleteRequest(index, type, id).routing(routing).parent(parent).version(version).versionType(versionType), payload)[ FD ]
Line_113 $$ if (upsertRequest != null) -->Line_114 $$ upsertRequest.timestamp(timestamp)[ CD ]
Line_38 $$ String currentFieldName = null-->Line_54 $$ if ("_parent".equals(currentFieldName) || "parent".equals(currentFieldName)) [ FD ]
Line_37 $$ if (token == XContentParser.Token.START_OBJECT) -->Line_88 $$ if (token != XContentParser.Token.END_OBJECT) [ CD ]
Line_25 $$ String type = defaultType-->Line_49 $$ type = parser.text()[ FD ]
Line_41 $$ currentFieldName = parser.currentName()-->Line_48 $$ if ("_type".equals(currentFieldName)) [ FD ]
Line_21 $$ token = parser.nextToken()-->Line_36 $$ token = parser.nextToken()[ FD ]
Line_3 $$ XContent xContent = XContentFactory.xContent(data)-->Line_14 $$ try (XContentParser parser = xContent.createParser(data.slice(from, nextMarker - from))) [ FD ]
