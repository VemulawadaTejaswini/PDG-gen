Line_4 $$ TreeSet<Long> imageTxIds = Sets.newTreeSet()-->Line_8 $$ List<Long> imageTxIdsList = Lists.newArrayList(imageTxIds)[ FD ]
Line_2 $$ private long getImageTxIdToRetain(FSImageTransactionalStorageInspector inspector) -->Line_9 $$ if (imageTxIdsList.isEmpty()) [ CD ]
Line_8 $$ List<Long> imageTxIdsList = Lists.newArrayList(imageTxIds)-->Line_13 $$ int toRetain = Math.min(numCheckpointsToRetain, imageTxIdsList.size())[ FD ]
Line_5 $$ for (FSImageFile image : images) -->Line_6 $$ imageTxIds.add(image.getCheckpointTxId())[ FD ]
Line_4 $$ TreeSet<Long> imageTxIds = Sets.newTreeSet()-->Line_6 $$ imageTxIds.add(image.getCheckpointTxId())[ FD ]
Line_8 $$ List<Long> imageTxIdsList = Lists.newArrayList(imageTxIds)-->Line_12 $$ Collections.reverse(imageTxIdsList)[ FD ]
Line_2 $$ private long getImageTxIdToRetain(FSImageTransactionalStorageInspector inspector) -->Line_15 $$ LOG.info("Going to retain " + toRetain + " images with txid >= " + minTxId)[ CD ]
Line_2 $$ private long getImageTxIdToRetain(FSImageTransactionalStorageInspector inspector) -->Line_13 $$ int toRetain = Math.min(numCheckpointsToRetain, imageTxIdsList.size())[ CD ]
Line_8 $$ List<Long> imageTxIdsList = Lists.newArrayList(imageTxIds)-->Line_9 $$ if (imageTxIdsList.isEmpty()) [ FD ]
Line_2 $$ private long getImageTxIdToRetain(FSImageTransactionalStorageInspector inspector) -->Line_16 $$ return minTxId[ CD ]
Line_2 $$ private long getImageTxIdToRetain(FSImageTransactionalStorageInspector inspector) -->Line_4 $$ TreeSet<Long> imageTxIds = Sets.newTreeSet()[ CD ]
Line_2 $$ private long getImageTxIdToRetain(FSImageTransactionalStorageInspector inspector) -->Line_8 $$ List<Long> imageTxIdsList = Lists.newArrayList(imageTxIds)[ CD ]
Line_9 $$ if (imageTxIdsList.isEmpty()) -->Line_10 $$ return 0[ CD ]
Line_2 $$ private long getImageTxIdToRetain(FSImageTransactionalStorageInspector inspector) -->Line_3 $$ List<FSImageFile> images = inspector.getFoundImages()[ FD ]
Line_2 $$ private long getImageTxIdToRetain(FSImageTransactionalStorageInspector inspector) -->Line_14 $$ long minTxId = imageTxIdsList.get(toRetain - 1)[ CD ]
Line_2 $$ private long getImageTxIdToRetain(FSImageTransactionalStorageInspector inspector) -->Line_3 $$ List<FSImageFile> images = inspector.getFoundImages()[ CD ]
Line_8 $$ List<Long> imageTxIdsList = Lists.newArrayList(imageTxIds)-->Line_14 $$ long minTxId = imageTxIdsList.get(toRetain - 1)[ FD ]
Line_2 $$ private long getImageTxIdToRetain(FSImageTransactionalStorageInspector inspector) -->Line_12 $$ Collections.reverse(imageTxIdsList)[ CD ]
