Line_43 $$ if (childAttributes != null) -->Line_47 $$ scheduleDeletion(child)[ CD ]
Line_5 $$ List<String> wanted-->Line_35 $$ if (!cached.equals(dir.getCachedChildren()) || !wanted.equals(dir.getSuspiciousNames())) [ FD ]
Line_14 $$ if (!fs.isCaseSensitive()) -->Line_15 $$ actualNames = new OpenTHashSet<String>(strategy, VfsUtil.filterNames(fs.list(dir)))[ CD ]
Line_3 $$ while (true) -->Line_17 $$ if (LOG.isTraceEnabled()) [ CD ]
Line_4 $$ List<VirtualFile> cached-->Line_21 $$ List<Pair<VirtualFile, FileAttributes>> existingMap = ContainerUtil.newArrayListWithCapacity(cached.size())[ FD ]
Line_9 $$ wanted = dir.getSuspiciousNames()-->Line_26 $$ List<Pair<String, FileAttributes>> wantedMap = ContainerUtil.newArrayListWithCapacity(wanted.size())[ FD ]
Line_3 $$ while (true) -->Line_13 $$ OpenTHashSet<String> actualNames = null[ CD ]
Line_2 $$ private void partialDirRefresh(NewVirtualFileSystem fs, TObjectHashingStrategy<String> strategy, VirtualDirectoryImpl dir) -->Line_15 $$ actualNames = new OpenTHashSet<String>(strategy, VfsUtil.filterNames(fs.list(dir)))[ FD ]
Line_2 $$ private void partialDirRefresh(NewVirtualFileSystem fs, TObjectHashingStrategy<String> strategy, VirtualDirectoryImpl dir) -->Line_31 $$ wantedMap.add(pair(name, fs.getAttributes(new FakeVirtualFile(dir, name))))[ FD ]
Line_3 $$ while (true) -->Line_5 $$ List<String> wanted[ CD ]
Line_5 $$ List<String> wanted-->Line_9 $$ wanted = dir.getSuspiciousNames()[ FD ]
Line_2 $$ private void partialDirRefresh(NewVirtualFileSystem fs, TObjectHashingStrategy<String> strategy, VirtualDirectoryImpl dir) -->Line_24 $$ existingMap.add(pair(child, fs.getAttributes(child)))[ FD ]
Line_43 $$ if (childAttributes != null) -->Line_44 $$ checkAndScheduleChildRefresh(dir, child, childAttributes)[ CD ]
Line_8 $$ cached = dir.getCachedChildren()-->Line_35 $$ if (!cached.equals(dir.getCachedChildren()) || !wanted.equals(dir.getSuspiciousNames())) [ FD ]
Line_27 $$ for (String name : wanted) -->Line_31 $$ wantedMap.add(pair(name, fs.getAttributes(new FakeVirtualFile(dir, name))))[ FD ]
Line_22 $$ for (VirtualFile child : cached) -->Line_44 $$ checkAndScheduleChildRefresh(dir, child, childAttributes)[ FD ]
Line_27 $$ for (String name : wanted) -->Line_54 $$ scheduleCreation(dir, name, childAttributes.isDirectory(), false)[ FD ]
Line_2 $$ private void partialDirRefresh(NewVirtualFileSystem fs, TObjectHashingStrategy<String> strategy, VirtualDirectoryImpl dir) -->Line_30 $$ checkCancelled(dir)[ FD ]
Line_6 $$ AccessToken token = ApplicationManager.getApplication().acquireReadActionLock()-->Line_33 $$ token = ApplicationManager.getApplication().acquireReadActionLock()[ FD ]
Line_13 $$ OpenTHashSet<String> actualNames = null-->Line_15 $$ actualNames = new OpenTHashSet<String>(strategy, VfsUtil.filterNames(fs.list(dir)))[ FD ]
Line_2 $$ private void partialDirRefresh(NewVirtualFileSystem fs, TObjectHashingStrategy<String> strategy, VirtualDirectoryImpl dir) -->Line_14 $$ if (!fs.isCaseSensitive()) [ FD ]
Line_22 $$ for (VirtualFile child : cached) -->Line_45 $$ checkAndScheduleFileNameChange(actualNames, child)[ FD ]
Line_15 $$ actualNames = new OpenTHashSet<String>(strategy, VfsUtil.filterNames(fs.list(dir)))-->Line_45 $$ checkAndScheduleFileNameChange(actualNames, child)[ FD ]
Line_13 $$ OpenTHashSet<String> actualNames = null-->Line_45 $$ checkAndScheduleFileNameChange(actualNames, child)[ FD ]
Line_33 $$ token = ApplicationManager.getApplication().acquireReadActionLock()-->Line_11 $$ token.finish()[ FD ]
Line_2 $$ private void partialDirRefresh(NewVirtualFileSystem fs, TObjectHashingStrategy<String> strategy, VirtualDirectoryImpl dir) -->Line_9 $$ wanted = dir.getSuspiciousNames()[ FD ]
Line_3 $$ while (true) -->Line_6 $$ AccessToken token = ApplicationManager.getApplication().acquireReadActionLock()[ CD ]
Line_22 $$ for (VirtualFile child : cached) -->Line_24 $$ existingMap.add(pair(child, fs.getAttributes(child)))[ FD ]
Line_2 $$ private void partialDirRefresh(NewVirtualFileSystem fs, TObjectHashingStrategy<String> strategy, VirtualDirectoryImpl dir) -->Line_3 $$ while (true) [ CD ]
Line_3 $$ while (true) -->Line_26 $$ List<Pair<String, FileAttributes>> wantedMap = ContainerUtil.newArrayListWithCapacity(wanted.size())[ CD ]
Line_53 $$ if (childAttributes != null) -->Line_54 $$ scheduleCreation(dir, name, childAttributes.isDirectory(), false)[ CD ]
Line_3 $$ while (true) -->Line_14 $$ if (!fs.isCaseSensitive()) [ CD ]
Line_8 $$ cached = dir.getCachedChildren()-->Line_21 $$ List<Pair<VirtualFile, FileAttributes>> existingMap = ContainerUtil.newArrayListWithCapacity(cached.size())[ FD ]
Line_17 $$ if (LOG.isTraceEnabled()) -->Line_19 $$ LOG.trace("suspicious=" + wanted)[ CD ]
Line_42 $$ FileAttributes childAttributes = pair.second-->Line_43 $$ if (childAttributes != null) [ FD ]
Line_9 $$ wanted = dir.getSuspiciousNames()-->Line_35 $$ if (!cached.equals(dir.getCachedChildren()) || !wanted.equals(dir.getSuspiciousNames())) [ FD ]
Line_6 $$ AccessToken token = ApplicationManager.getApplication().acquireReadActionLock()-->Line_59 $$ token.finish()[ FD ]
Line_33 $$ token = ApplicationManager.getApplication().acquireReadActionLock()-->Line_59 $$ token.finish()[ FD ]
Line_3 $$ while (true) -->Line_21 $$ List<Pair<VirtualFile, FileAttributes>> existingMap = ContainerUtil.newArrayListWithCapacity(cached.size())[ CD ]
Line_2 $$ private void partialDirRefresh(NewVirtualFileSystem fs, TObjectHashingStrategy<String> strategy, VirtualDirectoryImpl dir) -->Line_44 $$ checkAndScheduleChildRefresh(dir, child, childAttributes)[ FD ]
Line_2 $$ private void partialDirRefresh(NewVirtualFileSystem fs, TObjectHashingStrategy<String> strategy, VirtualDirectoryImpl dir) -->Line_8 $$ cached = dir.getCachedChildren()[ FD ]
Line_36 $$ if (LOG.isDebugEnabled())-->Line_37 $$ LOG.debug("retry: " + dir)[ CD ]
Line_5 $$ List<String> wanted-->Line_26 $$ List<Pair<String, FileAttributes>> wantedMap = ContainerUtil.newArrayListWithCapacity(wanted.size())[ FD ]
Line_6 $$ AccessToken token = ApplicationManager.getApplication().acquireReadActionLock()-->Line_11 $$ token.finish()[ FD ]
Line_22 $$ for (VirtualFile child : cached) -->Line_47 $$ scheduleDeletion(child)[ FD ]
Line_27 $$ for (String name : wanted) -->Line_28 $$ if (name.isEmpty())[ FD ]
Line_35 $$ if (!cached.equals(dir.getCachedChildren()) || !wanted.equals(dir.getSuspiciousNames())) -->Line_36 $$ if (LOG.isDebugEnabled())[ CD ]
Line_17 $$ if (LOG.isTraceEnabled()) -->Line_18 $$ LOG.trace("cached=" + cached + " actual=" + actualNames)[ CD ]
Line_21 $$ List<Pair<VirtualFile, FileAttributes>> existingMap = ContainerUtil.newArrayListWithCapacity(cached.size())-->Line_24 $$ existingMap.add(pair(child, fs.getAttributes(child)))[ FD ]
Line_43 $$ if (childAttributes != null) -->Line_45 $$ checkAndScheduleFileNameChange(actualNames, child)[ CD ]
Line_2 $$ private void partialDirRefresh(NewVirtualFileSystem fs, TObjectHashingStrategy<String> strategy, VirtualDirectoryImpl dir) -->Line_35 $$ if (!cached.equals(dir.getCachedChildren()) || !wanted.equals(dir.getSuspiciousNames())) [ FD ]
Line_42 $$ FileAttributes childAttributes = pair.second-->Line_53 $$ if (childAttributes != null) [ FD ]
Line_3 $$ while (true) -->Line_4 $$ List<VirtualFile> cached[ CD ]
Line_42 $$ FileAttributes childAttributes = pair.second-->Line_44 $$ checkAndScheduleChildRefresh(dir, child, childAttributes)[ FD ]
Line_42 $$ FileAttributes childAttributes = pair.second-->Line_54 $$ scheduleCreation(dir, name, childAttributes.isDirectory(), false)[ FD ]
Line_26 $$ List<Pair<String, FileAttributes>> wantedMap = ContainerUtil.newArrayListWithCapacity(wanted.size())-->Line_31 $$ wantedMap.add(pair(name, fs.getAttributes(new FakeVirtualFile(dir, name))))[ FD ]
Line_3 $$ while (true) -->Line_33 $$ token = ApplicationManager.getApplication().acquireReadActionLock()[ CD ]
Line_2 $$ private void partialDirRefresh(NewVirtualFileSystem fs, TObjectHashingStrategy<String> strategy, VirtualDirectoryImpl dir) -->Line_54 $$ scheduleCreation(dir, name, childAttributes.isDirectory(), false)[ FD ]
Line_4 $$ List<VirtualFile> cached-->Line_8 $$ cached = dir.getCachedChildren()[ FD ]
Line_4 $$ List<VirtualFile> cached-->Line_35 $$ if (!cached.equals(dir.getCachedChildren()) || !wanted.equals(dir.getSuspiciousNames())) [ FD ]
Line_2 $$ private void partialDirRefresh(NewVirtualFileSystem fs, TObjectHashingStrategy<String> strategy, VirtualDirectoryImpl dir) -->Line_23 $$ checkCancelled(dir)[ FD ]
