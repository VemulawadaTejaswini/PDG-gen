Line_3 $$ final File f = File.createTempFile("testMark", "1")-->Line_13 $$ assert f.exists()[ FD ]
Line_2 $$ private static void testSeek(int numThreads) throws IOException, InterruptedException -->Line_43 $$ ExecutorService executor = Executors.newFixedThreadPool(numThreads)[ FD ]
Line_2 $$ private static void testSeek(int numThreads) throws IOException, InterruptedException -->Line_6 $$ logger.info("Seed [ CD ]
Line_9 $$ try (SequentialWriter writer = SequentialWriter.open(f)) -->Line_11 $$ writer.finish()[ FD ]
Line_18 $$ ByteBuffer b = ByteBufferUtil.read(reader, expected.length)-->Line_23 $$ b = ByteBufferUtil.read(reader, expected.length)[ FD ]
Line_18 $$ ByteBuffer b = ByteBufferUtil.read(reader, expected.length)-->Line_19 $$ assertTrue(Arrays.equals(expected, b.array()))[ FD ]
Line_28 $$ int pos = r.nextInt(expected.length)-->Line_29 $$ reader.seek(pos)[ FD ]
Line_27 $$ for (int i = 0; i < 10; i++) -->Line_31 $$ ByteBuffer buf = ByteBuffer.wrap(expected, pos, expected.length - pos).order(ByteOrder.BIG_ENDIAN)[ CD ]
Line_16 $$ try (RandomAccessReader reader = new RandomAccessReader.Builder(channel).build()) -->Line_18 $$ ByteBuffer b = ByteBufferUtil.read(reader, expected.length)[ FD ]
Line_3 $$ final File f = File.createTempFile("testMark", "1")-->Line_9 $$ try (SequentialWriter writer = SequentialWriter.open(f)) [ FD ]
Line_2 $$ private static void testSeek(int numThreads) throws IOException, InterruptedException -->Line_3 $$ final File f = File.createTempFile("testMark", "1")[ CD ]
Line_27 $$ for (int i = 0; i < 10; i++) -->Line_28 $$ int pos = r.nextInt(expected.length)[ CD ]
Line_40 $$ if (numThreads == 1) -->Line_43 $$ ExecutorService executor = Executors.newFixedThreadPool(numThreads)[ CD ]
Line_40 $$ if (numThreads == 1) -->Line_46 $$ executor.awaitTermination(1, TimeUnit.MINUTES)[ CD ]
Line_16 $$ try (RandomAccessReader reader = new RandomAccessReader.Builder(channel).build()) -->Line_21 $$ assertEquals(0, reader.bytesRemaining())[ FD ]
Line_7 $$ Random r = new Random(seed)-->Line_8 $$ r.nextBytes(expected)[ FD ]
Line_16 $$ try (RandomAccessReader reader = new RandomAccessReader.Builder(channel).build()) -->Line_22 $$ reader.seek(0)[ FD ]
Line_16 $$ try (RandomAccessReader reader = new RandomAccessReader.Builder(channel).build()) -->Line_29 $$ reader.seek(pos)[ FD ]
Line_15 $$ final Runnable worker = () -> -->Line_41 $$ worker.run()[ FD ]
Line_2 $$ private static void testSeek(int numThreads) throws IOException, InterruptedException -->Line_44 $$ for (int i = 0; i < numThreads; i++) executor.submit(worker)[ FD ]
Line_43 $$ ExecutorService executor = Executors.newFixedThreadPool(numThreads)-->Line_46 $$ executor.awaitTermination(1, TimeUnit.MINUTES)[ FD ]
Line_40 $$ if (numThreads == 1) -->Line_41 $$ worker.run()[ CD ]
Line_4 $$ final byte[] expected = new byte[1 << 16]-->Line_8 $$ r.nextBytes(expected)[ FD ]
Line_16 $$ try (RandomAccessReader reader = new RandomAccessReader.Builder(channel).build()) -->Line_32 $$ assertEquals(buf.getInt(), reader.readInt())[ FD ]
Line_40 $$ if (numThreads == 1) -->Line_45 $$ executor.shutdown()[ CD ]
Line_16 $$ try (RandomAccessReader reader = new RandomAccessReader.Builder(channel).build()) -->Line_20 $$ assertTrue(reader.isEOF())[ FD ]
Line_16 $$ try (RandomAccessReader reader = new RandomAccessReader.Builder(channel).build()) -->Line_30 $$ assertEquals(pos, reader.getPosition())[ FD ]
Line_28 $$ int pos = r.nextInt(expected.length)-->Line_31 $$ ByteBuffer buf = ByteBuffer.wrap(expected, pos, expected.length - pos).order(ByteOrder.BIG_ENDIAN)[ FD ]
Line_40 $$ if (numThreads == 1) -->Line_44 $$ for (int i = 0; i < numThreads; i++) executor.submit(worker)[ CD ]
Line_2 $$ private static void testSeek(int numThreads) throws IOException, InterruptedException -->Line_40 $$ if (numThreads == 1) [ FD ]
Line_27 $$ for (int i = 0; i < 10; i++) -->Line_30 $$ assertEquals(pos, reader.getPosition())[ CD ]
Line_5 $$ long seed = System.nanoTime()-->Line_6 $$ logger.info("Seed [ FD ]
Line_2 $$ private static void testSeek(int numThreads) throws IOException, InterruptedException -->Line_8 $$ r.nextBytes(expected)[ CD ]
Line_31 $$ ByteBuffer buf = ByteBuffer.wrap(expected, pos, expected.length - pos).order(ByteOrder.BIG_ENDIAN)-->Line_32 $$ assertEquals(buf.getInt(), reader.readInt())[ FD ]
Line_16 $$ try (RandomAccessReader reader = new RandomAccessReader.Builder(channel).build()) -->Line_25 $$ assertTrue(reader.isEOF())[ FD ]
Line_2 $$ private static void testSeek(int numThreads) throws IOException, InterruptedException -->Line_7 $$ Random r = new Random(seed)[ CD ]
Line_16 $$ try (RandomAccessReader reader = new RandomAccessReader.Builder(channel).build()) -->Line_23 $$ b = ByteBufferUtil.read(reader, expected.length)[ FD ]
Line_28 $$ int pos = r.nextInt(expected.length)-->Line_30 $$ assertEquals(pos, reader.getPosition())[ FD ]
Line_2 $$ private static void testSeek(int numThreads) throws IOException, InterruptedException -->Line_5 $$ long seed = System.nanoTime()[ CD ]
Line_4 $$ final byte[] expected = new byte[1 << 16]-->Line_31 $$ ByteBuffer buf = ByteBuffer.wrap(expected, pos, expected.length - pos).order(ByteOrder.BIG_ENDIAN)[ FD ]
Line_16 $$ try (RandomAccessReader reader = new RandomAccessReader.Builder(channel).build()) -->Line_17 $$ assertEquals(expected.length, reader.length())[ FD ]
Line_4 $$ final byte[] expected = new byte[1 << 16]-->Line_24 $$ assertTrue(Arrays.equals(expected, b.array()))[ FD ]
Line_27 $$ for (int i = 0; i < 10; i++) -->Line_32 $$ while (reader.bytesRemaining() > 4) assertEquals(buf.getInt(), reader.readInt())[ CD ]
Line_23 $$ b = ByteBufferUtil.read(reader, expected.length)-->Line_24 $$ assertTrue(Arrays.equals(expected, b.array()))[ FD ]
Line_43 $$ ExecutorService executor = Executors.newFixedThreadPool(numThreads)-->Line_44 $$ executor.submit(worker)[ FD ]
Line_15 $$ final Runnable worker = () -> -->Line_44 $$ executor.submit(worker)[ FD ]
Line_27 $$ for (int i = 0; i < 10; i++) -->Line_44 $$ for (int i = 0; i < numThreads; i++) executor.submit(worker)[ FD ]
Line_9 $$ try (SequentialWriter writer = SequentialWriter.open(f)) -->Line_10 $$ writer.write(expected)[ FD ]
Line_4 $$ final byte[] expected = new byte[1 << 16]-->Line_19 $$ assertTrue(Arrays.equals(expected, b.array()))[ FD ]
Line_16 $$ try (RandomAccessReader reader = new RandomAccessReader.Builder(channel).build()) -->Line_32 $$ while (reader.bytesRemaining() > 4) assertEquals(buf.getInt(), reader.readInt())[ FD ]
Line_43 $$ ExecutorService executor = Executors.newFixedThreadPool(numThreads)-->Line_45 $$ executor.shutdown()[ FD ]
Line_2 $$ private static void testSeek(int numThreads) throws IOException, InterruptedException -->Line_4 $$ final byte[] expected = new byte[1 << 16][ CD ]
Line_4 $$ final byte[] expected = new byte[1 << 16]-->Line_10 $$ writer.write(expected)[ FD ]
Line_18 $$ ByteBuffer b = ByteBufferUtil.read(reader, expected.length)-->Line_24 $$ assertTrue(Arrays.equals(expected, b.array()))[ FD ]
Line_27 $$ for (int i = 0; i < 10; i++) -->Line_29 $$ reader.seek(pos)[ CD ]
Line_16 $$ try (RandomAccessReader reader = new RandomAccessReader.Builder(channel).build()) -->Line_34 $$ reader.close()[ FD ]
Line_7 $$ Random r = new Random(seed)-->Line_28 $$ int pos = r.nextInt(expected.length)[ FD ]
Line_16 $$ try (RandomAccessReader reader = new RandomAccessReader.Builder(channel).build()) -->Line_26 $$ assertEquals(0, reader.bytesRemaining())[ FD ]
