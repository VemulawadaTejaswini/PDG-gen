Line_2 $$ public void establishTopology(String containerName, String cacheName, long timeout, String... nodes) throws InterruptedException -->Line_6 $$ EmbeddedCacheManager cacheContainer = ServiceContainerHelper.findValue(registry, name)[ CD ]
Line_18 $$ long endTime = start + timeout-->Line_25 $$ if (now >= endTime) [ FD ]
Line_21 $$ while (!expectedMembers.equals(members)) -->Line_25 $$ if (now >= endTime) [ CD ]
Line_24 $$ now = System.currentTimeMillis()-->Line_25 $$ if (now >= endTime) [ FD ]
Line_21 $$ while (!expectedMembers.equals(members)) -->Line_22 $$ System.out.println(String.format("%s != %s, waiting for a topology change event...", expectedMembers, members))[ CD ]
Line_5 $$ ServiceName name = ServiceName.JBOSS.append("infinispan", containerName)-->Line_6 $$ EmbeddedCacheManager cacheContainer = ServiceContainerHelper.findValue(registry, name)[ FD ]
Line_3 $$ Set<String> expectedMembers = new TreeSet(Arrays.asList(nodes))-->Line_26 $$ throw new InterruptedException(String.format("Cache %s/%s failed to establish view %s within %d ms.  Current view is: %s", containerName, cacheName, expectedMembers, timeout, members))[ FD ]
Line_2 $$ public void establishTopology(String containerName, String cacheName, long timeout, String... nodes) throws InterruptedException -->Line_5 $$ ServiceName name = ServiceName.JBOSS.append("infinispan", containerName)[ FD ]
Line_10 $$ Cache cache = cacheContainer.getCache(cacheName)-->Line_20 $$ Set<String> members = getMembers(cache)[ FD ]
Line_20 $$ Set<String> members = getMembers(cache)-->Line_26 $$ throw new InterruptedException(String.format("Cache %s/%s failed to establish view %s within %d ms.  Current view is: %s", containerName, cacheName, expectedMembers, timeout, members))[ FD ]
Line_2 $$ public void establishTopology(String containerName, String cacheName, long timeout, String... nodes) throws InterruptedException -->Line_26 $$ throw new InterruptedException(String.format("Cache %s/%s failed to establish view %s within %d ms.  Current view is: %s", containerName, cacheName, expectedMembers, timeout, members))[ FD ]
Line_5 $$ ServiceName name = ServiceName.JBOSS.append("infinispan", containerName)-->Line_8 $$ throw new IllegalStateException(String.format("Failed to locate %s", name))[ FD ]
Line_20 $$ Set<String> members = getMembers(cache)-->Line_28 $$ members = getMembers(cache)[ FD ]
Line_6 $$ EmbeddedCacheManager cacheContainer = ServiceContainerHelper.findValue(registry, name)-->Line_7 $$ if (cacheContainer == null) [ FD ]
Line_28 $$ members = getMembers(cache)-->Line_22 $$ System.out.println(String.format("%s != %s, waiting for a topology change event...", expectedMembers, members))[ FD ]
Line_3 $$ Set<String> expectedMembers = new TreeSet(Arrays.asList(nodes))-->Line_30 $$ System.out.println(String.format("Cache %s/%s successfully established view %s within %d ms.", containerName, cacheName, expectedMembers, now - start))[ FD ]
Line_10 $$ Cache cache = cacheContainer.getCache(cacheName)-->Line_28 $$ members = getMembers(cache)[ FD ]
Line_2 $$ public void establishTopology(String containerName, String cacheName, long timeout, String... nodes) throws InterruptedException -->Line_5 $$ ServiceName name = ServiceName.JBOSS.append("infinispan", containerName)[ CD ]
Line_2 $$ public void establishTopology(String containerName, String cacheName, long timeout, String... nodes) throws InterruptedException -->Line_10 $$ Cache cache = cacheContainer.getCache(cacheName)[ CD ]
Line_20 $$ Set<String> members = getMembers(cache)-->Line_22 $$ System.out.println(String.format("%s != %s, waiting for a topology change event...", expectedMembers, members))[ FD ]
Line_2 $$ public void establishTopology(String containerName, String cacheName, long timeout, String... nodes) throws InterruptedException -->Line_30 $$ System.out.println(String.format("Cache %s/%s successfully established view %s within %d ms.", containerName, cacheName, expectedMembers, now - start))[ FD ]
Line_21 $$ while (!expectedMembers.equals(members)) -->Line_23 $$ this.wait(endTime - now)[ CD ]
Line_28 $$ members = getMembers(cache)-->Line_26 $$ throw new InterruptedException(String.format("Cache %s/%s failed to establish view %s within %d ms.  Current view is: %s", containerName, cacheName, expectedMembers, timeout, members))[ FD ]
Line_6 $$ EmbeddedCacheManager cacheContainer = ServiceContainerHelper.findValue(registry, name)-->Line_10 $$ Cache cache = cacheContainer.getCache(cacheName)[ FD ]
Line_17 $$ long now = start-->Line_25 $$ if (now >= endTime) [ FD ]
Line_2 $$ public void establishTopology(String containerName, String cacheName, long timeout, String... nodes) throws InterruptedException -->Line_12 $$ throw new IllegalStateException(String.format("Cache %s not found", cacheName))[ FD ]
Line_2 $$ public void establishTopology(String containerName, String cacheName, long timeout, String... nodes) throws InterruptedException -->Line_3 $$ Set<String> expectedMembers = new TreeSet(Arrays.asList(nodes))[ FD ]
Line_20 $$ Set<String> members = getMembers(cache)-->Line_21 $$ while (!expectedMembers.equals(members)) [ FD ]
Line_3 $$ Set<String> expectedMembers = new TreeSet(Arrays.asList(nodes))-->Line_22 $$ System.out.println(String.format("%s != %s, waiting for a topology change event...", expectedMembers, members))[ FD ]
Line_2 $$ public void establishTopology(String containerName, String cacheName, long timeout, String... nodes) throws InterruptedException -->Line_4 $$ ServiceRegistry registry = CurrentServiceContainer.getServiceContainer()[ CD ]
Line_3 $$ Set<String> expectedMembers = new TreeSet(Arrays.asList(nodes))-->Line_21 $$ while (!expectedMembers.equals(members)) [ FD ]
Line_17 $$ long now = start-->Line_24 $$ now = System.currentTimeMillis()[ FD ]
Line_2 $$ public void establishTopology(String containerName, String cacheName, long timeout, String... nodes) throws InterruptedException -->Line_3 $$ Set<String> expectedMembers = new TreeSet(Arrays.asList(nodes))[ CD ]
Line_10 $$ Cache cache = cacheContainer.getCache(cacheName)-->Line_33 $$ cache.removeListener(this)[ FD ]
Line_2 $$ public void establishTopology(String containerName, String cacheName, long timeout, String... nodes) throws InterruptedException -->Line_11 $$ if (cache == null) [ CD ]
Line_2 $$ public void establishTopology(String containerName, String cacheName, long timeout, String... nodes) throws InterruptedException -->Line_7 $$ if (cacheContainer == null) [ CD ]
Line_21 $$ while (!expectedMembers.equals(members)) -->Line_28 $$ members = getMembers(cache)[ CD ]
Line_2 $$ public void establishTopology(String containerName, String cacheName, long timeout, String... nodes) throws InterruptedException -->Line_14 $$ cache.addListener(this)[ CD ]
Line_28 $$ members = getMembers(cache)-->Line_21 $$ while (!expectedMembers.equals(members)) [ FD ]
Line_4 $$ ServiceRegistry registry = CurrentServiceContainer.getServiceContainer()-->Line_6 $$ EmbeddedCacheManager cacheContainer = ServiceContainerHelper.findValue(registry, name)[ FD ]
Line_10 $$ Cache cache = cacheContainer.getCache(cacheName)-->Line_14 $$ cache.addListener(this)[ FD ]
Line_10 $$ Cache cache = cacheContainer.getCache(cacheName)-->Line_11 $$ if (cache == null) [ FD ]
Line_21 $$ while (!expectedMembers.equals(members)) -->Line_24 $$ now = System.currentTimeMillis()[ CD ]
Line_2 $$ public void establishTopology(String containerName, String cacheName, long timeout, String... nodes) throws InterruptedException -->Line_10 $$ Cache cache = cacheContainer.getCache(cacheName)[ FD ]
