Line_47 $$ fsn = null-->Line_62 $$ fsn.close()[ FD ]
Line_14 $$ FSNamesystem fsn = FSNamesystem.loadFromDisk(conf)-->Line_60 $$ if (fsn != null) [ FD ]
Line_21 $$ File rootDir = storage.getStorageDir(0).getRoot()-->Line_57 $$ if (rootDir.exists()) [ FD ]
Line_51 $$ fsn = FSNamesystem.loadFromDisk(conf)-->Line_60 $$ if (fsn != null) [ FD ]
Line_51 $$ fsn = FSNamesystem.loadFromDisk(conf)-->Line_62 $$ fsn.close()[ FD ]
Line_14 $$ FSNamesystem fsn = FSNamesystem.loadFromDisk(conf)-->Line_27 $$ doAnEdit(fsn, 1)[ FD ]
Line_14 $$ FSNamesystem fsn = FSNamesystem.loadFromDisk(conf)-->Line_32 $$ fsn.saveNamespace()[ FD ]
Line_22 $$ Path rootPath = new Path(rootDir.getPath(), "current")-->Line_25 $$ fs.setPermission(rootPath, permissionNone)[ FD ]
Line_51 $$ fsn = FSNamesystem.loadFromDisk(conf)-->Line_54 $$ checkEditExists(fsn, 1)[ FD ]
Line_20 $$ FileSystem fs = FileSystem.getLocal(conf)-->Line_35 $$ fs.setPermission(rootPath, permissionAll)[ FD ]
Line_20 $$ FileSystem fs = FileSystem.getLocal(conf)-->Line_25 $$ fs.setPermission(rootPath, permissionNone)[ FD ]
Line_17 $$ NNStorage storage = originalImage.getStorage()-->Line_21 $$ File rootDir = storage.getStorageDir(0).getRoot()[ FD ]
Line_47 $$ fsn = null-->Line_51 $$ fsn = FSNamesystem.loadFromDisk(conf)[ FD ]
Line_17 $$ NNStorage storage = originalImage.getStorage()-->Line_34 $$ assertTrue("Savenamespace should have marked one directory as bad." + " But found " + storage.getRemovedStorageDirs().size() + " bad directories.", storage.getRemovedStorageDirs().size() == 1)[ FD ]
Line_14 $$ FSNamesystem fsn = FSNamesystem.loadFromDisk(conf)-->Line_62 $$ fsn.close()[ FD ]
Line_47 $$ fsn = null-->Line_60 $$ if (fsn != null) [ FD ]
Line_24 $$ final FsPermission permissionAll = new FsPermission(FsAction.ALL, FsAction.READ_EXECUTE, FsAction.READ_EXECUTE)-->Line_58 $$ fs.setPermission(rootPath, permissionAll)[ FD ]
Line_17 $$ NNStorage storage = originalImage.getStorage()-->Line_42 $$ assertTrue("Savenamespace should have been successful in removing " + " bad directories from Image." + " But found " + storage.getRemovedStorageDirs().size() + " bad directories.", storage.getRemovedStorageDirs().size() == 0)[ FD ]
Line_57 $$ if (rootDir.exists()) -->Line_58 $$ fs.setPermission(rootPath, permissionAll)[ CD ]
Line_22 $$ Path rootPath = new Path(rootDir.getPath(), "current")-->Line_35 $$ fs.setPermission(rootPath, permissionAll)[ FD ]
Line_22 $$ Path rootPath = new Path(rootDir.getPath(), "current")-->Line_58 $$ fs.setPermission(rootPath, permissionAll)[ FD ]
Line_14 $$ FSNamesystem fsn = FSNamesystem.loadFromDisk(conf)-->Line_19 $$ Whitebox.setInternalState(fsn, "fsImage", spyImage)[ FD ]
Line_23 $$ final FsPermission permissionNone = new FsPermission((short) 0)-->Line_25 $$ fs.setPermission(rootPath, permissionNone)[ FD ]
Line_18 $$ FSImage spyImage = spy(originalImage)-->Line_19 $$ Whitebox.setInternalState(fsn, "fsImage", spyImage)[ FD ]
Line_14 $$ FSNamesystem fsn = FSNamesystem.loadFromDisk(conf)-->Line_28 $$ fsn.setSafeMode(SafeModeAction.SAFEMODE_ENTER)[ FD ]
Line_14 $$ FSNamesystem fsn = FSNamesystem.loadFromDisk(conf)-->Line_40 $$ fsn.saveNamespace()[ FD ]
Line_14 $$ FSNamesystem fsn = FSNamesystem.loadFromDisk(conf)-->Line_47 $$ fsn = null[ FD ]
Line_21 $$ File rootDir = storage.getStorageDir(0).getRoot()-->Line_22 $$ Path rootPath = new Path(rootDir.getPath(), "current")[ FD ]
Line_14 $$ FSNamesystem fsn = FSNamesystem.loadFromDisk(conf)-->Line_54 $$ checkEditExists(fsn, 1)[ FD ]
Line_47 $$ fsn = null-->Line_54 $$ checkEditExists(fsn, 1)[ FD ]
Line_20 $$ FileSystem fs = FileSystem.getLocal(conf)-->Line_58 $$ fs.setPermission(rootPath, permissionAll)[ FD ]
Line_14 $$ FSNamesystem fsn = FSNamesystem.loadFromDisk(conf)-->Line_46 $$ fsn.close()[ FD ]
Line_14 $$ FSNamesystem fsn = FSNamesystem.loadFromDisk(conf)-->Line_51 $$ fsn = FSNamesystem.loadFromDisk(conf)[ FD ]
Line_24 $$ final FsPermission permissionAll = new FsPermission(FsAction.ALL, FsAction.READ_EXECUTE, FsAction.READ_EXECUTE)-->Line_35 $$ fs.setPermission(rootPath, permissionAll)[ FD ]
