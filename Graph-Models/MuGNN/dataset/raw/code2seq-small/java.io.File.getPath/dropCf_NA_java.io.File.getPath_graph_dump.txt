Line_14 $$ boolean success = true-->Line_18 $$ success = false[ FD ]
Line_22 $$ for (File file : store.getDirectories().sstableLister(Directories.OnTxnErr.THROW).listFiles()) -->Line_23 $$ if (file.getPath().endsWith("Data.db") && !new File(file.getPath().replace("Data.db", "Compacted")).exists())[ FD ]
Line_8 $$ ColumnFamilyStore store = Keyspace.open(cfm.ksName).getColumnFamilyStore(cfm.cfName)-->Line_10 $$ store.forceBlockingFlush()[ FD ]
Line_2 $$ public void dropCf() throws ConfigurationException -->Line_10 $$ store.forceBlockingFlush()[ CD ]
Line_23 $$ if (file.getPath().endsWith("Data.db") && !new File(file.getPath().replace("Data.db", "Compacted")).exists())-->Line_24 $$ return false[ CD ]
Line_2 $$ public void dropCf() throws ConfigurationException -->Line_12 $$ MigrationManager.announceColumnFamilyDrop(ks.name, cfm.cfName)[ CD ]
Line_2 $$ public void dropCf() throws ConfigurationException -->Line_4 $$ assertNotNull(ks)[ CD ]
Line_2 $$ public void dropCf() throws ConfigurationException -->Line_20 $$ assertFalse("This mutation should have failed since the CF no longer exists.", success)[ CD ]
Line_8 $$ ColumnFamilyStore store = Keyspace.open(cfm.ksName).getColumnFamilyStore(cfm.cfName)-->Line_11 $$ assertTrue(store.getDirectories().sstableLister(Directories.OnTxnErr.THROW).list().size() > 0)[ FD ]
Line_2 $$ public void dropCf() throws ConfigurationException -->Line_8 $$ ColumnFamilyStore store = Keyspace.open(cfm.ksName).getColumnFamilyStore(cfm.cfName)[ CD ]
Line_8 $$ ColumnFamilyStore store = Keyspace.open(cfm.ksName).getColumnFamilyStore(cfm.cfName)-->Line_9 $$ assertNotNull(store)[ FD ]
Line_2 $$ public void dropCf() throws ConfigurationException -->Line_28 $$ Util.spinAssertEquals(true, lambda, 30)[ CD ]
Line_2 $$ public void dropCf() throws ConfigurationException -->Line_21 $$ Supplier<Object> lambda = () -> [ CD ]
Line_21 $$ Supplier<Object> lambda = () -> -->Line_28 $$ Util.spinAssertEquals(true, lambda, 30)[ FD ]
Line_8 $$ ColumnFamilyStore store = Keyspace.open(cfm.ksName).getColumnFamilyStore(cfm.cfName)-->Line_22 $$ for (File file : store.getDirectories().sstableLister(Directories.OnTxnErr.THROW).listFiles()) [ FD ]
Line_18 $$ success = false-->Line_20 $$ assertFalse("This mutation should have failed since the CF no longer exists.", success)[ FD ]
Line_2 $$ public void dropCf() throws ConfigurationException -->Line_11 $$ assertTrue(store.getDirectories().sstableLister(Directories.OnTxnErr.THROW).list().size() > 0)[ CD ]
Line_2 $$ public void dropCf() throws ConfigurationException -->Line_7 $$ for (int i = 0; i < 100; i++) QueryProcessor.executeInternal(String.format("INSERT INTO %s.%s (key, name, val) VALUES (?, ?, ?)", KEYSPACE1, TABLE1), "dropCf", "col" + i, "anyvalue")[ CD ]
Line_2 $$ public void dropCf() throws ConfigurationException -->Line_5 $$ final CFMetaData cfm = ks.tables.getNullable(TABLE1)[ CD ]
Line_14 $$ boolean success = true-->Line_20 $$ assertFalse("This mutation should have failed since the CF no longer exists.", success)[ FD ]
Line_2 $$ public void dropCf() throws ConfigurationException -->Line_9 $$ assertNotNull(store)[ CD ]
Line_2 $$ public void dropCf() throws ConfigurationException -->Line_3 $$ final KeyspaceMetadata ks = Schema.instance.getKSMetaData(KEYSPACE1)[ CD ]
Line_2 $$ public void dropCf() throws ConfigurationException -->Line_14 $$ boolean success = true[ CD ]
Line_2 $$ public void dropCf() throws ConfigurationException -->Line_6 $$ assertNotNull(cfm)[ CD ]
Line_5 $$ final CFMetaData cfm = ks.tables.getNullable(TABLE1)-->Line_6 $$ assertNotNull(cfm)[ FD ]
Line_3 $$ final KeyspaceMetadata ks = Schema.instance.getKSMetaData(KEYSPACE1)-->Line_4 $$ assertNotNull(ks)[ FD ]
Line_2 $$ public void dropCf() throws ConfigurationException -->Line_13 $$ assertFalse(Schema.instance.getKSMetaData(ks.name).tables.get(cfm.cfName).isPresent())[ CD ]
