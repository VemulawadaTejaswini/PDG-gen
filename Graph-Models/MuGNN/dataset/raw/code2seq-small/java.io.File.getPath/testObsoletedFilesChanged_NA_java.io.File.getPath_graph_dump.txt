Line_5 $$ SSTableReader sstableOld = sstable(dataFolder, cfs, 0, 128)-->Line_15 $$ sstableOld.selfRef().release()[ FD ]
Line_2 $$ private static void testObsoletedFilesChanged(Consumer<SSTableReader> modifier) throws IOException -->Line_17 $$ assertNull(log.complete(null))[ CD ]
Line_2 $$ private static void testObsoletedFilesChanged(Consumer<SSTableReader> modifier) throws IOException -->Line_18 $$ assertFiles(dataFolder.getPath(), Sets.newHashSet(Iterables.concat(sstableNew.getAllFilePaths(), sstableOld.getAllFilePaths(), log.logFilePaths())))[ CD ]
Line_5 $$ SSTableReader sstableOld = sstable(dataFolder, cfs, 0, 128)-->Line_18 $$ assertFiles(dataFolder.getPath(), Sets.newHashSet(Iterables.concat(sstableNew.getAllFilePaths(), sstableOld.getAllFilePaths(), log.logFilePaths())))[ FD ]
Line_7 $$ LogTransaction log = new LogTransaction(OperationType.COMPACTION)-->Line_18 $$ assertFiles(dataFolder.getPath(), Sets.newHashSet(Iterables.concat(sstableNew.getAllFilePaths(), sstableOld.getAllFilePaths(), log.logFilePaths())))[ FD ]
Line_6 $$ SSTableReader sstableNew = sstable(dataFolder, cfs, 1, 128)-->Line_9 $$ log.trackNew(sstableNew)[ FD ]
Line_2 $$ private static void testObsoletedFilesChanged(Consumer<SSTableReader> modifier) throws IOException -->Line_13 $$ LogTransaction.removeUnfinishedLeftovers(cfs.metadata)[ CD ]
Line_7 $$ LogTransaction log = new LogTransaction(OperationType.COMPACTION)-->Line_12 $$ log.txnFile().commit()[ FD ]
Line_2 $$ private static void testObsoletedFilesChanged(Consumer<SSTableReader> modifier) throws IOException -->Line_14 $$ assertFiles(dataFolder.getPath(), Sets.newHashSet(Iterables.concat(sstableNew.getAllFilePaths(), sstableOld.getAllFilePaths(), log.logFilePaths())))[ CD ]
Line_2 $$ private static void testObsoletedFilesChanged(Consumer<SSTableReader> modifier) throws IOException -->Line_10 $$ log.obsoleted(sstableOld)[ CD ]
Line_6 $$ SSTableReader sstableNew = sstable(dataFolder, cfs, 1, 128)-->Line_18 $$ assertFiles(dataFolder.getPath(), Sets.newHashSet(Iterables.concat(sstableNew.getAllFilePaths(), sstableOld.getAllFilePaths(), log.logFilePaths())))[ FD ]
Line_5 $$ SSTableReader sstableOld = sstable(dataFolder, cfs, 0, 128)-->Line_10 $$ log.obsoleted(sstableOld)[ FD ]
Line_4 $$ File dataFolder = new Directories(cfs.metadata).getDirectoryForNewSSTables()-->Line_14 $$ assertFiles(dataFolder.getPath(), Sets.newHashSet(Iterables.concat(sstableNew.getAllFilePaths(), sstableOld.getAllFilePaths(), log.logFilePaths())))[ FD ]
Line_2 $$ private static void testObsoletedFilesChanged(Consumer<SSTableReader> modifier) throws IOException -->Line_6 $$ SSTableReader sstableNew = sstable(dataFolder, cfs, 1, 128)[ CD ]
Line_2 $$ private static void testObsoletedFilesChanged(Consumer<SSTableReader> modifier) throws IOException -->Line_9 $$ log.trackNew(sstableNew)[ CD ]
Line_2 $$ private static void testObsoletedFilesChanged(Consumer<SSTableReader> modifier) throws IOException -->Line_11 $$ modifier.accept(sstableOld)[ CD ]
Line_2 $$ private static void testObsoletedFilesChanged(Consumer<SSTableReader> modifier) throws IOException -->Line_7 $$ LogTransaction log = new LogTransaction(OperationType.COMPACTION)[ CD ]
Line_2 $$ private static void testObsoletedFilesChanged(Consumer<SSTableReader> modifier) throws IOException -->Line_4 $$ File dataFolder = new Directories(cfs.metadata).getDirectoryForNewSSTables()[ CD ]
Line_2 $$ private static void testObsoletedFilesChanged(Consumer<SSTableReader> modifier) throws IOException -->Line_16 $$ sstableNew.selfRef().release()[ CD ]
Line_7 $$ LogTransaction log = new LogTransaction(OperationType.COMPACTION)-->Line_8 $$ assertNotNull(log)[ FD ]
Line_2 $$ private static void testObsoletedFilesChanged(Consumer<SSTableReader> modifier) throws IOException -->Line_15 $$ sstableOld.selfRef().release()[ CD ]
Line_2 $$ private static void testObsoletedFilesChanged(Consumer<SSTableReader> modifier) throws IOException -->Line_5 $$ SSTableReader sstableOld = sstable(dataFolder, cfs, 0, 128)[ CD ]
Line_2 $$ private static void testObsoletedFilesChanged(Consumer<SSTableReader> modifier) throws IOException -->Line_8 $$ assertNotNull(log)[ CD ]
Line_4 $$ File dataFolder = new Directories(cfs.metadata).getDirectoryForNewSSTables()-->Line_5 $$ SSTableReader sstableOld = sstable(dataFolder, cfs, 0, 128)[ FD ]
Line_7 $$ LogTransaction log = new LogTransaction(OperationType.COMPACTION)-->Line_10 $$ log.obsoleted(sstableOld)[ FD ]
Line_7 $$ LogTransaction log = new LogTransaction(OperationType.COMPACTION)-->Line_9 $$ log.trackNew(sstableNew)[ FD ]
Line_4 $$ File dataFolder = new Directories(cfs.metadata).getDirectoryForNewSSTables()-->Line_18 $$ assertFiles(dataFolder.getPath(), Sets.newHashSet(Iterables.concat(sstableNew.getAllFilePaths(), sstableOld.getAllFilePaths(), log.logFilePaths())))[ FD ]
Line_3 $$ ColumnFamilyStore cfs = MockSchema.newCFS(KEYSPACE)-->Line_5 $$ SSTableReader sstableOld = sstable(dataFolder, cfs, 0, 128)[ FD ]
Line_2 $$ private static void testObsoletedFilesChanged(Consumer<SSTableReader> modifier) throws IOException -->Line_3 $$ ColumnFamilyStore cfs = MockSchema.newCFS(KEYSPACE)[ CD ]
Line_7 $$ LogTransaction log = new LogTransaction(OperationType.COMPACTION)-->Line_14 $$ assertFiles(dataFolder.getPath(), Sets.newHashSet(Iterables.concat(sstableNew.getAllFilePaths(), sstableOld.getAllFilePaths(), log.logFilePaths())))[ FD ]
Line_2 $$ private static void testObsoletedFilesChanged(Consumer<SSTableReader> modifier) throws IOException -->Line_11 $$ modifier.accept(sstableOld)[ FD ]
Line_5 $$ SSTableReader sstableOld = sstable(dataFolder, cfs, 0, 128)-->Line_14 $$ assertFiles(dataFolder.getPath(), Sets.newHashSet(Iterables.concat(sstableNew.getAllFilePaths(), sstableOld.getAllFilePaths(), log.logFilePaths())))[ FD ]
Line_6 $$ SSTableReader sstableNew = sstable(dataFolder, cfs, 1, 128)-->Line_16 $$ sstableNew.selfRef().release()[ FD ]
Line_6 $$ SSTableReader sstableNew = sstable(dataFolder, cfs, 1, 128)-->Line_14 $$ assertFiles(dataFolder.getPath(), Sets.newHashSet(Iterables.concat(sstableNew.getAllFilePaths(), sstableOld.getAllFilePaths(), log.logFilePaths())))[ FD ]
Line_2 $$ private static void testObsoletedFilesChanged(Consumer<SSTableReader> modifier) throws IOException -->Line_12 $$ log.txnFile().commit()[ CD ]
Line_7 $$ LogTransaction log = new LogTransaction(OperationType.COMPACTION)-->Line_17 $$ assertNull(log.complete(null))[ FD ]
Line_3 $$ ColumnFamilyStore cfs = MockSchema.newCFS(KEYSPACE)-->Line_6 $$ SSTableReader sstableNew = sstable(dataFolder, cfs, 1, 128)[ FD ]
Line_5 $$ SSTableReader sstableOld = sstable(dataFolder, cfs, 0, 128)-->Line_11 $$ modifier.accept(sstableOld)[ FD ]
Line_4 $$ File dataFolder = new Directories(cfs.metadata).getDirectoryForNewSSTables()-->Line_6 $$ SSTableReader sstableNew = sstable(dataFolder, cfs, 1, 128)[ FD ]
