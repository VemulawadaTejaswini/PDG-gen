Line_3 $$ final UnicastPingRequest pingRequest = new UnicastPingRequest()-->Line_62 $$ sendPingRequestToNode(sendPingsHandler.id(), timeout, pingRequest, latch, node, finalNodeToSend)[ FD ]
Line_33 $$ if (!transportService.nodeConnected(nodeToSend)) -->Line_82 $$ sendPingRequestToNode(sendPingsHandler.id(), timeout, pingRequest, latch, node, nodeToSend)[ CD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_62 $$ sendPingRequestToNode(sendPingsHandler.id(), timeout, pingRequest, latch, node, finalNodeToSend)[ FD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_34 $$ if (sendPingsHandler.isClosed()) [ FD ]
Line_45 $$ final DiscoveryNode finalNodeToSend = nodeToSend-->Line_57 $$ logger.trace("[[ FD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_4 $$ pingRequest.id = sendPingsHandler.id()[ CD ]
Line_14 $$ for (UnicastHostsProvider provider : hostsProviders) -->Line_15 $$ nodesToPingSet.addAll(provider.buildDynamicNodes())[ FD ]
Line_30 $$ nodeToSend = node-->Line_33 $$ if (!transportService.nodeConnected(nodeToSend)) [ FD ]
Line_45 $$ final DiscoveryNode finalNodeToSend = nodeToSend-->Line_71 $$ logger.debug("[[ FD ]
Line_39 $$ DiscoveryNode tempNode = new DiscoveryNode("", UNICAST_NODE_PREFIX + unicastNodeIdGenerator.incrementAndGet() + "_" + nodeToSend.id() + "#", nodeToSend.getHostName(), nodeToSend.getHostAddress(), nodeToSend.address(), nodeToSend.attributes(), nodeToSend.version())-->Line_41 $$ nodeToSend = tempNode[ FD ]
Line_24 $$ for (final DiscoveryNode node : nodesToPing) -->Line_60 $$ logger.trace("[[ FD ]
Line_23 $$ final CountDownLatch latch = new CountDownLatch(nodesToPing.size())-->Line_62 $$ sendPingRequestToNode(sendPingsHandler.id(), timeout, pingRequest, latch, node, finalNodeToSend)[ FD ]
Line_6 $$ DiscoveryNodes discoNodes = contextProvider.nodes()-->Line_26 $$ DiscoveryNode nodeToSend = discoNodes.findByAddress(node.address())[ FD ]
Line_26 $$ DiscoveryNode nodeToSend = discoNodes.findByAddress(node.address())-->Line_30 $$ nodeToSend = node[ FD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_5 $$ pingRequest.timeout = timeout[ FD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_71 $$ logger.debug("[[ FD ]
Line_24 $$ for (final DiscoveryNode node : nodesToPing) -->Line_62 $$ sendPingRequestToNode(sendPingsHandler.id(), timeout, pingRequest, latch, node, finalNodeToSend)[ FD ]
Line_48 $$ if (sendPingsHandler.isClosed()) -->Line_49 $$ return[ CD ]
Line_30 $$ nodeToSend = node-->Line_38 $$ if (!nodeToSend.id().startsWith(UNICAST_NODE_PREFIX)) [ FD ]
Line_61 $$ if (receivedResponses.containsKey(sendPingsHandler.id())) -->Line_65 $$ logger.trace("[[ CD ]
Line_28 $$ nodeFoundByAddress = true-->Line_37 $$ if (!nodeFoundByAddress) [ FD ]
Line_8 $$ HashSet<DiscoveryNode> nodesToPingSet = new HashSet()-->Line_11 $$ nodesToPingSet.add(temporalResponse.node())[ FD ]
Line_34 $$ if (sendPingsHandler.isClosed()) -->Line_35 $$ return[ CD ]
Line_46 $$ unicastConnectExecutor.execute(new Runnable() -->Line_48 $$ if (sendPingsHandler.isClosed()) [ CD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_6 $$ DiscoveryNodes discoNodes = contextProvider.nodes()[ CD ]
Line_27 $$ if (nodeToSend != null) -->Line_30 $$ nodeToSend = node[ CD ]
Line_37 $$ if (!nodeFoundByAddress) -->Line_38 $$ if (!nodeToSend.id().startsWith(UNICAST_NODE_PREFIX)) [ CD ]
Line_30 $$ nodeToSend = node-->Line_82 $$ sendPingRequestToNode(sendPingsHandler.id(), timeout, pingRequest, latch, node, nodeToSend)[ FD ]
Line_23 $$ final CountDownLatch latch = new CountDownLatch(nodesToPing.size())-->Line_76 $$ latch.countDown()[ FD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_21 $$ List<DiscoveryNode> nodesToPing = CollectionUtils.arrayAsArrayList(configuredTargetNodes)[ CD ]
Line_45 $$ final DiscoveryNode finalNodeToSend = nodeToSend-->Line_62 $$ sendPingRequestToNode(sendPingsHandler.id(), timeout, pingRequest, latch, node, finalNodeToSend)[ FD ]
Line_6 $$ DiscoveryNodes discoNodes = contextProvider.nodes()-->Line_17 $$ for (ObjectCursor<DiscoveryNode> masterNode : discoNodes.getMasterNodes().values()) [ FD ]
Line_45 $$ final DiscoveryNode finalNodeToSend = nodeToSend-->Line_54 $$ logger.trace("[[ FD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_22 $$ nodesToPing.addAll(sortedNodesToPing)[ CD ]
Line_26 $$ DiscoveryNode nodeToSend = discoNodes.findByAddress(node.address())-->Line_27 $$ if (nodeToSend != null) [ FD ]
Line_28 $$ nodeFoundByAddress = true-->Line_53 $$ if (!nodeFoundByAddress) [ FD ]
Line_26 $$ DiscoveryNode nodeToSend = discoNodes.findByAddress(node.address())-->Line_33 $$ if (!transportService.nodeConnected(nodeToSend)) [ FD ]
Line_9 $$ for (PingResponse temporalResponse : temporalResponses) -->Line_10 $$ if (clusterName.equals(temporalResponse.clusterName())) [ FD ]
Line_26 $$ DiscoveryNode nodeToSend = discoNodes.findByAddress(node.address())-->Line_40 $$ logger.trace("replacing [ FD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_5 $$ pingRequest.timeout = timeout[ CD ]
Line_53 $$ if (!nodeFoundByAddress) -->Line_55 $$ transportService.connectToNodeLight(finalNodeToSend)[ CD ]
Line_8 $$ HashSet<DiscoveryNode> nodesToPingSet = new HashSet()-->Line_18 $$ nodesToPingSet.add(masterNode.value)[ FD ]
Line_30 $$ nodeToSend = node-->Line_39 $$ DiscoveryNode tempNode = new DiscoveryNode("", UNICAST_NODE_PREFIX + unicastNodeIdGenerator.incrementAndGet() + "_" + nodeToSend.id() + "#", nodeToSend.getHostName(), nodeToSend.getHostAddress(), nodeToSend.address(), nodeToSend.attributes(), nodeToSend.version())[ FD ]
Line_9 $$ for (PingResponse temporalResponse : temporalResponses) -->Line_11 $$ nodesToPingSet.add(temporalResponse.node())[ FD ]
Line_26 $$ DiscoveryNode nodeToSend = discoNodes.findByAddress(node.address())-->Line_43 $$ sendPingsHandler.nodeToDisconnect.add(nodeToSend)[ FD ]
Line_8 $$ HashSet<DiscoveryNode> nodesToPingSet = new HashSet()-->Line_15 $$ nodesToPingSet.addAll(provider.buildDynamicNodes())[ FD ]
Line_25 $$ final boolean nodeFoundByAddress-->Line_53 $$ if (!nodeFoundByAddress) [ FD ]
Line_53 $$ if (!nodeFoundByAddress) -->Line_58 $$ transportService.connectToNode(finalNodeToSend)[ CD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_73 $$ logger.warn("[[ FD ]
Line_37 $$ if (!nodeFoundByAddress) -->Line_43 $$ sendPingsHandler.nodeToDisconnect.add(nodeToSend)[ CD ]
Line_25 $$ final boolean nodeFoundByAddress-->Line_31 $$ nodeFoundByAddress = false[ FD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_85 $$ if (waitTime != null) [ FD ]
Line_41 $$ nodeToSend = tempNode-->Line_82 $$ sendPingRequestToNode(sendPingsHandler.id(), timeout, pingRequest, latch, node, nodeToSend)[ FD ]
Line_20 $$ List<DiscoveryNode> sortedNodesToPing = electMasterService.sortByMasterLikelihood(nodesToPingSet)-->Line_22 $$ nodesToPing.addAll(sortedNodesToPing)[ FD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_7 $$ pingRequest.pingResponse = createPingResponse(discoNodes)[ CD ]
Line_23 $$ final CountDownLatch latch = new CountDownLatch(nodesToPing.size())-->Line_87 $$ latch.await(waitTime.millis(), TimeUnit.MILLISECONDS)[ FD ]
Line_51 $$ boolean success = false-->Line_75 $$ if (!success) [ FD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_20 $$ List<DiscoveryNode> sortedNodesToPing = electMasterService.sortByMasterLikelihood(nodesToPingSet)[ CD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_65 $$ logger.trace("[[ FD ]
Line_24 $$ for (final DiscoveryNode node : nodesToPing) -->Line_82 $$ sendPingRequestToNode(sendPingsHandler.id(), timeout, pingRequest, latch, node, nodeToSend)[ FD ]
Line_23 $$ final CountDownLatch latch = new CountDownLatch(nodesToPing.size())-->Line_82 $$ sendPingRequestToNode(sendPingsHandler.id(), timeout, pingRequest, latch, node, nodeToSend)[ FD ]
Line_53 $$ if (!nodeFoundByAddress) -->Line_54 $$ logger.trace("[[ CD ]
Line_38 $$ if (!nodeToSend.id().startsWith(UNICAST_NODE_PREFIX)) -->Line_40 $$ logger.trace("replacing [ CD ]
Line_26 $$ DiscoveryNode nodeToSend = discoNodes.findByAddress(node.address())-->Line_39 $$ DiscoveryNode tempNode = new DiscoveryNode("", UNICAST_NODE_PREFIX + unicastNodeIdGenerator.incrementAndGet() + "_" + nodeToSend.id() + "#", nodeToSend.getHostName(), nodeToSend.getHostAddress(), nodeToSend.address(), nodeToSend.attributes(), nodeToSend.version())[ FD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_87 $$ latch.await(waitTime.millis(), TimeUnit.MILLISECONDS)[ FD ]
Line_10 $$ if (clusterName.equals(temporalResponse.clusterName())) -->Line_11 $$ nodesToPingSet.add(temporalResponse.node())[ CD ]
Line_26 $$ DiscoveryNode nodeToSend = discoNodes.findByAddress(node.address())-->Line_38 $$ if (!nodeToSend.id().startsWith(UNICAST_NODE_PREFIX)) [ FD ]
Line_6 $$ DiscoveryNodes discoNodes = contextProvider.nodes()-->Line_7 $$ pingRequest.pingResponse = createPingResponse(discoNodes)[ FD ]
Line_27 $$ if (nodeToSend != null) -->Line_31 $$ nodeFoundByAddress = false[ CD ]
Line_26 $$ DiscoveryNode nodeToSend = discoNodes.findByAddress(node.address())-->Line_82 $$ sendPingRequestToNode(sendPingsHandler.id(), timeout, pingRequest, latch, node, nodeToSend)[ FD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_4 $$ pingRequest.id = sendPingsHandler.id()[ FD ]
Line_30 $$ nodeToSend = node-->Line_41 $$ nodeToSend = tempNode[ FD ]
Line_26 $$ DiscoveryNode nodeToSend = discoNodes.findByAddress(node.address())-->Line_41 $$ nodeToSend = tempNode[ FD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_54 $$ logger.trace("[[ FD ]
Line_33 $$ if (!transportService.nodeConnected(nodeToSend)) -->Line_46 $$ unicastConnectExecutor.execute(new Runnable() [ CD ]
Line_30 $$ nodeToSend = node-->Line_43 $$ sendPingsHandler.nodeToDisconnect.add(nodeToSend)[ FD ]
Line_24 $$ for (final DiscoveryNode node : nodesToPing) -->Line_30 $$ nodeToSend = node[ FD ]
Line_25 $$ final boolean nodeFoundByAddress-->Line_37 $$ if (!nodeFoundByAddress) [ FD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_61 $$ if (receivedResponses.containsKey(sendPingsHandler.id())) [ FD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_23 $$ final CountDownLatch latch = new CountDownLatch(nodesToPing.size())[ CD ]
Line_38 $$ if (!nodeToSend.id().startsWith(UNICAST_NODE_PREFIX)) -->Line_39 $$ DiscoveryNode tempNode = new DiscoveryNode("", UNICAST_NODE_PREFIX + unicastNodeIdGenerator.incrementAndGet() + "_" + nodeToSend.id() + "#", nodeToSend.getHostName(), nodeToSend.getHostAddress(), nodeToSend.address(), nodeToSend.attributes(), nodeToSend.version())[ CD ]
Line_24 $$ for (final DiscoveryNode node : nodesToPing) -->Line_26 $$ DiscoveryNode nodeToSend = discoNodes.findByAddress(node.address())[ FD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_48 $$ if (sendPingsHandler.isClosed()) [ FD ]
Line_27 $$ if (nodeToSend != null) -->Line_28 $$ nodeFoundByAddress = true[ CD ]
Line_33 $$ if (!transportService.nodeConnected(nodeToSend)) -->Line_45 $$ final DiscoveryNode finalNodeToSend = nodeToSend[ CD ]
Line_45 $$ final DiscoveryNode finalNodeToSend = nodeToSend-->Line_58 $$ transportService.connectToNode(finalNodeToSend)[ FD ]
Line_33 $$ if (!transportService.nodeConnected(nodeToSend)) -->Line_37 $$ if (!nodeFoundByAddress) [ CD ]
Line_31 $$ nodeFoundByAddress = false-->Line_37 $$ if (!nodeFoundByAddress) [ FD ]
Line_53 $$ if (!nodeFoundByAddress) -->Line_57 $$ logger.trace("[[ CD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_57 $$ logger.trace("[[ FD ]
Line_24 $$ for (final DiscoveryNode node : nodesToPing) -->Line_65 $$ logger.trace("[[ FD ]
Line_45 $$ final DiscoveryNode finalNodeToSend = nodeToSend-->Line_55 $$ transportService.connectToNodeLight(finalNodeToSend)[ FD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_69 $$ logger.trace("[[ FD ]
Line_31 $$ nodeFoundByAddress = false-->Line_53 $$ if (!nodeFoundByAddress) [ FD ]
Line_3 $$ final UnicastPingRequest pingRequest = new UnicastPingRequest()-->Line_82 $$ sendPingRequestToNode(sendPingsHandler.id(), timeout, pingRequest, latch, node, nodeToSend)[ FD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_3 $$ final UnicastPingRequest pingRequest = new UnicastPingRequest()[ CD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_60 $$ logger.trace("[[ FD ]
Line_28 $$ nodeFoundByAddress = true-->Line_31 $$ nodeFoundByAddress = false[ FD ]
Line_30 $$ nodeToSend = node-->Line_40 $$ logger.trace("replacing [ FD ]
Line_21 $$ List<DiscoveryNode> nodesToPing = CollectionUtils.arrayAsArrayList(configuredTargetNodes)-->Line_22 $$ nodesToPing.addAll(sortedNodesToPing)[ FD ]
Line_33 $$ if (!transportService.nodeConnected(nodeToSend)) -->Line_34 $$ if (sendPingsHandler.isClosed()) [ CD ]
Line_61 $$ if (receivedResponses.containsKey(sendPingsHandler.id())) -->Line_62 $$ sendPingRequestToNode(sendPingsHandler.id(), timeout, pingRequest, latch, node, finalNodeToSend)[ CD ]
Line_67 $$ success = true-->Line_75 $$ if (!success) [ FD ]
Line_45 $$ final DiscoveryNode finalNodeToSend = nodeToSend-->Line_73 $$ logger.warn("[[ FD ]
Line_46 $$ unicastConnectExecutor.execute(new Runnable() -->Line_51 $$ boolean success = false[ CD ]
Line_61 $$ if (receivedResponses.containsKey(sendPingsHandler.id())) -->Line_64 $$ latch.countDown()[ CD ]
Line_21 $$ List<DiscoveryNode> nodesToPing = CollectionUtils.arrayAsArrayList(configuredTargetNodes)-->Line_23 $$ final CountDownLatch latch = new CountDownLatch(nodesToPing.size())[ FD ]
Line_51 $$ boolean success = false-->Line_67 $$ success = true[ FD ]
Line_38 $$ if (!nodeToSend.id().startsWith(UNICAST_NODE_PREFIX)) -->Line_41 $$ nodeToSend = tempNode[ CD ]
Line_23 $$ final CountDownLatch latch = new CountDownLatch(nodesToPing.size())-->Line_64 $$ latch.countDown()[ FD ]
Line_75 $$ if (!success) -->Line_76 $$ latch.countDown()[ CD ]
Line_8 $$ HashSet<DiscoveryNode> nodesToPingSet = new HashSet()-->Line_20 $$ List<DiscoveryNode> sortedNodesToPing = electMasterService.sortByMasterLikelihood(nodesToPingSet)[ FD ]
Line_41 $$ nodeToSend = tempNode-->Line_43 $$ sendPingsHandler.nodeToDisconnect.add(nodeToSend)[ FD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_8 $$ HashSet<DiscoveryNode> nodesToPingSet = new HashSet()[ CD ]
Line_25 $$ final boolean nodeFoundByAddress-->Line_28 $$ nodeFoundByAddress = true[ FD ]
Line_39 $$ DiscoveryNode tempNode = new DiscoveryNode("", UNICAST_NODE_PREFIX + unicastNodeIdGenerator.incrementAndGet() + "_" + nodeToSend.id() + "#", nodeToSend.getHostName(), nodeToSend.getHostAddress(), nodeToSend.address(), nodeToSend.attributes(), nodeToSend.version())-->Line_40 $$ logger.trace("replacing [ FD ]
Line_45 $$ final DiscoveryNode finalNodeToSend = nodeToSend-->Line_69 $$ logger.trace("[[ FD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_85 $$ if (waitTime != null) [ CD ]
Line_2 $$ void sendPings(final TimeValue timeout, @Nullable TimeValue waitTime, final SendPingsHandler sendPingsHandler) -->Line_82 $$ sendPingRequestToNode(sendPingsHandler.id(), timeout, pingRequest, latch, node, nodeToSend)[ FD ]
