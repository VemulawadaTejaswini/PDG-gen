Line_2 $$ void onFirstPhaseResult(final int shardIndex, @Nullable ShardRouting shard, @Nullable String nodeId, final ShardIterator shardIt, Throwable t) -->Line_8 $$ if (shard != null) [ FD ]
Line_5 $$ if (totalOps.incrementAndGet() == expectedTotalOps) -->Line_33 $$ if (logger.isTraceEnabled()) [ CD ]
Line_44 $$ if (t != null && !TransportActions.isShardNotAvailableException(t)) -->Line_45 $$ logger.debug(executionFailureMsg(shard, shardIt, request, lastShard), t)[ CD ]
Line_5 $$ if (totalOps.incrementAndGet() == expectedTotalOps) -->Line_32 $$ final boolean lastShard = nextShard == null[ CD ]
Line_8 $$ if (shard != null) -->Line_11 $$ logger.debug(shardIt.shardId() + ": Failed to execute [" + request + "]", t)[ CD ]
Line_33 $$ if (logger.isTraceEnabled()) -->Line_34 $$ logger.trace(executionFailureMsg(shard, shardIt, request, lastShard), t)[ CD ]
Line_5 $$ if (totalOps.incrementAndGet() == expectedTotalOps) -->Line_36 $$ if (!lastShard) [ CD ]
Line_32 $$ final boolean lastShard = nextShard == null-->Line_45 $$ logger.debug(executionFailureMsg(shard, shardIt, request, lastShard), t)[ FD ]
Line_32 $$ final boolean lastShard = nextShard == null-->Line_34 $$ logger.trace(executionFailureMsg(shard, shardIt, request, lastShard), t)[ FD ]
Line_2 $$ void onFirstPhaseResult(final int shardIndex, @Nullable ShardRouting shard, @Nullable String nodeId, final ShardIterator shardIt, Throwable t) -->Line_20 $$ logger.debug("All shards failed for phase: [[ FD ]
Line_7 $$ if (t != null && !TransportActions.isShardNotAvailableException(t)) -->Line_8 $$ if (shard != null) [ CD ]
Line_2 $$ void onFirstPhaseResult(final int shardIndex, @Nullable ShardRouting shard, @Nullable String nodeId, final ShardIterator shardIt, Throwable t) -->Line_4 $$ addShardFailure(shardIndex, shardTarget, t)[ FD ]
Line_43 $$ if (logger.isDebugEnabled() && !logger.isTraceEnabled()) -->Line_44 $$ if (t != null && !TransportActions.isShardNotAvailableException(t)) [ CD ]
Line_31 $$ final ShardRouting nextShard = shardIt.nextOrNull()-->Line_38 $$ performFirstPhase(shardIndex, shardIt, nextShard)[ FD ]
Line_2 $$ void onFirstPhaseResult(final int shardIndex, @Nullable ShardRouting shard, @Nullable String nodeId, final ShardIterator shardIt, Throwable t) -->Line_3 $$ SearchShardTarget shardTarget = new SearchShardTarget(nodeId, shardIt.shardId().getIndex(), shardIt.shardId().getId())[ CD ]
Line_6 $$ if (logger.isDebugEnabled()) -->Line_7 $$ if (t != null && !TransportActions.isShardNotAvailableException(t)) [ CD ]
Line_2 $$ void onFirstPhaseResult(final int shardIndex, @Nullable ShardRouting shard, @Nullable String nodeId, final ShardIterator shardIt, Throwable t) -->Line_4 $$ addShardFailure(shardIndex, shardTarget, t)[ CD ]
Line_5 $$ if (totalOps.incrementAndGet() == expectedTotalOps) -->Line_31 $$ final ShardRouting nextShard = shardIt.nextOrNull()[ CD ]
Line_2 $$ void onFirstPhaseResult(final int shardIndex, @Nullable ShardRouting shard, @Nullable String nodeId, final ShardIterator shardIt, Throwable t) -->Line_14 $$ logger.trace("[ FD ]
Line_2 $$ void onFirstPhaseResult(final int shardIndex, @Nullable ShardRouting shard, @Nullable String nodeId, final ShardIterator shardIt, Throwable t) -->Line_45 $$ logger.debug(executionFailureMsg(shard, shardIt, request, lastShard), t)[ FD ]
Line_5 $$ if (totalOps.incrementAndGet() == expectedTotalOps) -->Line_6 $$ if (logger.isDebugEnabled()) [ CD ]
Line_2 $$ void onFirstPhaseResult(final int shardIndex, @Nullable ShardRouting shard, @Nullable String nodeId, final ShardIterator shardIt, Throwable t) -->Line_7 $$ if (t != null && !TransportActions.isShardNotAvailableException(t)) [ FD ]
Line_2 $$ void onFirstPhaseResult(final int shardIndex, @Nullable ShardRouting shard, @Nullable String nodeId, final ShardIterator shardIt, Throwable t) -->Line_38 $$ performFirstPhase(shardIndex, shardIt, nextShard)[ FD ]
Line_2 $$ void onFirstPhaseResult(final int shardIndex, @Nullable ShardRouting shard, @Nullable String nodeId, final ShardIterator shardIt, Throwable t) -->Line_11 $$ logger.debug(shardIt.shardId() + ": Failed to execute [" + request + "]", t)[ FD ]
Line_7 $$ if (t != null && !TransportActions.isShardNotAvailableException(t)) -->Line_13 $$ if (logger.isTraceEnabled()) [ CD ]
Line_19 $$ if (logger.isDebugEnabled()) -->Line_20 $$ logger.debug("All shards failed for phase: [[ CD ]
Line_2 $$ void onFirstPhaseResult(final int shardIndex, @Nullable ShardRouting shard, @Nullable String nodeId, final ShardIterator shardIt, Throwable t) -->Line_34 $$ logger.trace(executionFailureMsg(shard, shardIt, request, lastShard), t)[ FD ]
Line_13 $$ if (logger.isTraceEnabled()) -->Line_14 $$ logger.trace("[ CD ]
Line_3 $$ SearchShardTarget shardTarget = new SearchShardTarget(nodeId, shardIt.shardId().getIndex(), shardIt.shardId().getId())-->Line_4 $$ addShardFailure(shardIndex, shardTarget, t)[ FD ]
Line_2 $$ void onFirstPhaseResult(final int shardIndex, @Nullable ShardRouting shard, @Nullable String nodeId, final ShardIterator shardIt, Throwable t) -->Line_5 $$ if (totalOps.incrementAndGet() == expectedTotalOps) [ CD ]
Line_2 $$ void onFirstPhaseResult(final int shardIndex, @Nullable ShardRouting shard, @Nullable String nodeId, final ShardIterator shardIt, Throwable t) -->Line_40 $$ onFirstPhaseResult(shardIndex, shard, shard.currentNodeId(), shardIt, t1)[ FD ]
Line_8 $$ if (shard != null) -->Line_9 $$ logger.debug(shard.shortSummary() + ": Failed to execute [" + request + "]", t)[ CD ]
Line_32 $$ final boolean lastShard = nextShard == null-->Line_36 $$ if (!lastShard) [ FD ]
Line_5 $$ if (totalOps.incrementAndGet() == expectedTotalOps) -->Line_18 $$ if (successfulOps.get() == 0) [ CD ]
Line_2 $$ void onFirstPhaseResult(final int shardIndex, @Nullable ShardRouting shard, @Nullable String nodeId, final ShardIterator shardIt, Throwable t) -->Line_31 $$ final ShardRouting nextShard = shardIt.nextOrNull()[ FD ]
Line_2 $$ void onFirstPhaseResult(final int shardIndex, @Nullable ShardRouting shard, @Nullable String nodeId, final ShardIterator shardIt, Throwable t) -->Line_44 $$ if (t != null && !TransportActions.isShardNotAvailableException(t)) [ FD ]
Line_2 $$ void onFirstPhaseResult(final int shardIndex, @Nullable ShardRouting shard, @Nullable String nodeId, final ShardIterator shardIt, Throwable t) -->Line_3 $$ SearchShardTarget shardTarget = new SearchShardTarget(nodeId, shardIt.shardId().getIndex(), shardIt.shardId().getId())[ FD ]
Line_18 $$ if (successfulOps.get() == 0) -->Line_22 $$ raiseEarlyFailure(new SearchPhaseExecutionException(firstPhaseName(), "all shards failed", t, shardSearchFailures))[ CD ]
Line_2 $$ void onFirstPhaseResult(final int shardIndex, @Nullable ShardRouting shard, @Nullable String nodeId, final ShardIterator shardIt, Throwable t) -->Line_9 $$ logger.debug(shard.shortSummary() + ": Failed to execute [" + request + "]", t)[ FD ]
Line_18 $$ if (successfulOps.get() == 0) -->Line_19 $$ if (logger.isDebugEnabled()) [ CD ]
Line_36 $$ if (!lastShard) -->Line_43 $$ if (logger.isDebugEnabled() && !logger.isTraceEnabled()) [ CD ]
Line_5 $$ if (totalOps.incrementAndGet() == expectedTotalOps) -->Line_17 $$ final ShardSearchFailure[] shardSearchFailures = buildShardFailures()[ CD ]
