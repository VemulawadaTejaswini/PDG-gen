Line_6 $$ String ascii = randomAsciiOfLengthBetween(1, 50)-->Line_7 $$ locations.add(translog.add(new Translog.Index("test", "" + op, ascii.getBytes("UTF-8"))))[ FD ]
Line_2 $$ public void testTruncatedTranslogs() throws Exception -->Line_9 $$ translog.sync()[ CD ]
Line_11 $$ AtomicInteger truncations = new AtomicInteger(0)-->Line_17 $$ truncations.incrementAndGet()[ FD ]
Line_2 $$ public void testTruncatedTranslogs() throws Exception -->Line_5 $$ for (int op = 0; op < translogOperations; op++) [ CD ]
Line_5 $$ for (int op = 0; op < translogOperations; op++) -->Line_6 $$ String ascii = randomAsciiOfLengthBetween(1, 50)[ CD ]
Line_16 $$ if (e.getCause() instanceof EOFException) -->Line_17 $$ truncations.incrementAndGet()[ CD ]
Line_2 $$ public void testTruncatedTranslogs() throws Exception -->Line_10 $$ truncateTranslogs(translogDir)[ CD ]
Line_2 $$ public void testTruncatedTranslogs() throws Exception -->Line_11 $$ AtomicInteger truncations = new AtomicInteger(0)[ CD ]
Line_2 $$ public void testTruncatedTranslogs() throws Exception -->Line_4 $$ int translogOperations = randomIntBetween(10, 100)[ CD ]
Line_2 $$ public void testTruncatedTranslogs() throws Exception -->Line_3 $$ List<Translog.Location> locations = new ArrayList()[ CD ]
Line_4 $$ int translogOperations = randomIntBetween(10, 100)-->Line_5 $$ for (int op = 0; op < translogOperations; op++) [ FD ]
Line_12 $$ for (Translog.Location location : locations) -->Line_14 $$ translog.read(location)[ FD ]
Line_2 $$ public void testTruncatedTranslogs() throws Exception -->Line_23 $$ assertThat("at least one truncation was caused and caught", truncations.get(), greaterThanOrEqualTo(1))[ CD ]
Line_11 $$ AtomicInteger truncations = new AtomicInteger(0)-->Line_23 $$ assertThat("at least one truncation was caused and caught", truncations.get(), greaterThanOrEqualTo(1))[ FD ]
Line_5 $$ for (int op = 0; op < translogOperations; op++) -->Line_7 $$ locations.add(translog.add(new Translog.Index("test", "" + op, ascii.getBytes("UTF-8"))))[ CD ]
Line_3 $$ List<Translog.Location> locations = new ArrayList()-->Line_7 $$ locations.add(translog.add(new Translog.Index("test", "" + op, ascii.getBytes("UTF-8"))))[ FD ]
