Line_4 $$ LdapContext ldapContext = null-->Line_34 $$ return importUser(ldapServerId, companyId, ldapContext, attributes, StringPool.BLANK)[ FD ]
Line_23 $$ Properties userMappings = _ldapSettings.getUserMappings(ldapServerId, companyId)-->Line_24 $$ String userMappingsScreenName = GetterUtil.getString(userMappings.getProperty("screenName"))[ FD ]
Line_14 $$ String filter = ldapServerConfiguration.authSearchFilter()-->Line_18 $$ filter = StringUtil.replace(filter, new String[] [ FD ]
Line_4 $$ LdapContext ldapContext = null-->Line_9 $$ ldapContext = _portalLDAP.getContext(ldapServerId, companyId)[ FD ]
Line_47 $$ if (enu != null) -->Line_48 $$ enu.close()[ CD ]
Line_28 $$ if (enu.hasMoreElements()) -->Line_32 $$ Binding binding = enu.nextElement()[ CD ]
Line_8 $$ String baseDN = ldapServerConfiguration.baseDN()-->Line_27 $$ enu = ldapContext.search(baseDN, filter, searchControls)[ FD ]
Line_39 $$ if (_log.isWarnEnabled()) -->Line_40 $$ _log.warn("Problem accessing LDAP server " + e.getMessage())[ CD ]
Line_27 $$ enu = ldapContext.search(baseDN, filter, searchControls)-->Line_32 $$ Binding binding = enu.nextElement()[ FD ]
Line_10 $$ if (ldapContext == null) -->Line_11 $$ _log.error("Unable to bind to the LDAP server")[ CD ]
Line_32 $$ Binding binding = enu.nextElement()-->Line_33 $$ Attributes attributes = _portalLDAP.getUserAttributes(ldapServerId, companyId, ldapContext, _portalLDAP.getNameInNamespace(ldapServerId, companyId, binding))[ FD ]
Line_27 $$ enu = ldapContext.search(baseDN, filter, searchControls)-->Line_48 $$ enu.close()[ FD ]
Line_5 $$ NamingEnumeration<SearchResult> enu = null-->Line_27 $$ enu = ldapContext.search(baseDN, filter, searchControls)[ FD ]
Line_18 $$ filter = StringUtil.replace(filter, new String[] -->Line_27 $$ enu = ldapContext.search(baseDN, filter, searchControls)[ FD ]
Line_27 $$ enu = ldapContext.search(baseDN, filter, searchControls)-->Line_28 $$ if (enu.hasMoreElements()) [ FD ]
Line_33 $$ Attributes attributes = _portalLDAP.getUserAttributes(ldapServerId, companyId, ldapContext, _portalLDAP.getNameInNamespace(ldapServerId, companyId, binding))-->Line_34 $$ return importUser(ldapServerId, companyId, ldapContext, attributes, StringPool.BLANK)[ FD ]
Line_9 $$ ldapContext = _portalLDAP.getContext(ldapServerId, companyId)-->Line_10 $$ if (ldapContext == null) [ FD ]
Line_5 $$ NamingEnumeration<SearchResult> enu = null-->Line_28 $$ if (enu.hasMoreElements()) [ FD ]
Line_42 $$ if (_log.isDebugEnabled()) -->Line_43 $$ _log.debug(e, e)[ CD ]
Line_15 $$ if (_log.isDebugEnabled()) -->Line_16 $$ _log.debug("Search filter before transformation " + filter)[ CD ]
Line_24 $$ String userMappingsScreenName = GetterUtil.getString(userMappings.getProperty("screenName"))-->Line_25 $$ userMappingsScreenName = StringUtil.toLowerCase(userMappingsScreenName)[ FD ]
Line_28 $$ if (enu.hasMoreElements()) -->Line_29 $$ if (_log.isDebugEnabled()) [ CD ]
Line_4 $$ LdapContext ldapContext = null-->Line_51 $$ ldapContext.close()[ FD ]
Line_26 $$ SearchControls searchControls = new SearchControls(SearchControls.SUBTREE_SCOPE, 1, 0, new String[] -->Line_27 $$ enu = ldapContext.search(baseDN, filter, searchControls)[ FD ]
Line_10 $$ if (ldapContext == null) -->Line_12 $$ return null[ CD ]
Line_18 $$ filter = StringUtil.replace(filter, new String[] -->Line_19 $$ LDAPUtil.validateFilter(filter)[ FD ]
Line_20 $$ if (_log.isDebugEnabled()) -->Line_21 $$ _log.debug("Search filter after transformation " + filter)[ CD ]
Line_14 $$ String filter = ldapServerConfiguration.authSearchFilter()-->Line_19 $$ LDAPUtil.validateFilter(filter)[ FD ]
Line_4 $$ LdapContext ldapContext = null-->Line_50 $$ if (ldapContext != null) [ FD ]
Line_50 $$ if (ldapContext != null) -->Line_51 $$ ldapContext.close()[ CD ]
Line_9 $$ ldapContext = _portalLDAP.getContext(ldapServerId, companyId)-->Line_34 $$ return importUser(ldapServerId, companyId, ldapContext, attributes, StringPool.BLANK)[ FD ]
Line_27 $$ enu = ldapContext.search(baseDN, filter, searchControls)-->Line_47 $$ if (enu != null) [ FD ]
Line_29 $$ if (_log.isDebugEnabled()) -->Line_30 $$ _log.debug("Search filter returned at least one result")[ CD ]
Line_28 $$ if (enu.hasMoreElements()) -->Line_34 $$ return importUser(ldapServerId, companyId, ldapContext, attributes, StringPool.BLANK)[ CD ]
Line_14 $$ String filter = ldapServerConfiguration.authSearchFilter()-->Line_27 $$ enu = ldapContext.search(baseDN, filter, searchControls)[ FD ]
Line_4 $$ LdapContext ldapContext = null-->Line_33 $$ Attributes attributes = _portalLDAP.getUserAttributes(ldapServerId, companyId, ldapContext, _portalLDAP.getNameInNamespace(ldapServerId, companyId, binding))[ FD ]
Line_5 $$ NamingEnumeration<SearchResult> enu = null-->Line_47 $$ if (enu != null) [ FD ]
Line_9 $$ ldapContext = _portalLDAP.getContext(ldapServerId, companyId)-->Line_33 $$ Attributes attributes = _portalLDAP.getUserAttributes(ldapServerId, companyId, ldapContext, _portalLDAP.getNameInNamespace(ldapServerId, companyId, binding))[ FD ]
Line_5 $$ NamingEnumeration<SearchResult> enu = null-->Line_32 $$ Binding binding = enu.nextElement()[ FD ]
Line_4 $$ LdapContext ldapContext = null-->Line_27 $$ enu = ldapContext.search(baseDN, filter, searchControls)[ FD ]
Line_28 $$ if (enu.hasMoreElements()) -->Line_36 $$ return null[ CD ]
Line_5 $$ NamingEnumeration<SearchResult> enu = null-->Line_48 $$ enu.close()[ FD ]
Line_7 $$ LDAPServerConfiguration ldapServerConfiguration = _ldapServerConfigurationProvider.getConfiguration(companyId, ldapServerId)-->Line_14 $$ String filter = ldapServerConfiguration.authSearchFilter()[ FD ]
Line_9 $$ ldapContext = _portalLDAP.getContext(ldapServerId, companyId)-->Line_27 $$ enu = ldapContext.search(baseDN, filter, searchControls)[ FD ]
Line_28 $$ if (enu.hasMoreElements()) -->Line_33 $$ Attributes attributes = _portalLDAP.getUserAttributes(ldapServerId, companyId, ldapContext, _portalLDAP.getNameInNamespace(ldapServerId, companyId, binding))[ CD ]
Line_9 $$ ldapContext = _portalLDAP.getContext(ldapServerId, companyId)-->Line_51 $$ ldapContext.close()[ FD ]
Line_7 $$ LDAPServerConfiguration ldapServerConfiguration = _ldapServerConfigurationProvider.getConfiguration(companyId, ldapServerId)-->Line_8 $$ String baseDN = ldapServerConfiguration.baseDN()[ FD ]
Line_4 $$ LdapContext ldapContext = null-->Line_10 $$ if (ldapContext == null) [ FD ]
Line_9 $$ ldapContext = _portalLDAP.getContext(ldapServerId, companyId)-->Line_50 $$ if (ldapContext != null) [ FD ]
