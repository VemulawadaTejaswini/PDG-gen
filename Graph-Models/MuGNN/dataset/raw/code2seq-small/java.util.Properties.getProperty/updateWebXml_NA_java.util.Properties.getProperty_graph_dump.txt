Line_14 $$ Element rootElement = document.getRootElement()-->Line_24 $$ List<Element> listenerElements = rootElement.elements("listener")[ FD ]
Line_57 $$ newContent = WebXMLBuilder.organizeWebXML(newContent)-->Line_58 $$ FileUtil.write(webXml, newContent, true)[ FD ]
Line_26 $$ String listenerClass = GetterUtil.getString(listenerElement.elementText("listener-class"))-->Line_27 $$ if (listenerClass.equals(PluginContextListener.class.getName()) || listenerClass.equals(SerializableSessionAttributeListener.class.getName()) || listenerClass.equals(SecurePluginContextListener.class.getName())) [ FD ]
Line_38 $$ if (hasCustomServletListener || securityManagerEnabled) -->Line_41 $$ sb.append(PluginContextListener.class.getName())[ CD ]
Line_6 $$ content = WebXMLBuilder.organizeWebXML(content)-->Line_11 $$ content = content.substring(0, x) + content.substring(y)[ FD ]
Line_34 $$ Properties properties = getPluginPackageProperties(srcFile)-->Line_36 $$ securityManagerEnabled = GetterUtil.getBoolean(properties.getProperty("security-manager-enabled"))[ FD ]
Line_8 $$ if (x != -1) -->Line_9 $$ int y = content.indexOf("</display-name>", x)[ CD ]
Line_34 $$ Properties properties = getPluginPackageProperties(srcFile)-->Line_35 $$ if (properties != null) [ FD ]
Line_30 $$ hasCustomServletListener = true-->Line_38 $$ if (hasCustomServletListener || securityManagerEnabled) [ FD ]
Line_11 $$ content = content.substring(0, x) + content.substring(y)-->Line_50 $$ pos = content.indexOf("</web-app>")[ FD ]
Line_50 $$ pos = content.indexOf("</web-app>")-->Line_52 $$ String newContent = content.substring(0, pos) + pluginContextListenerContent + extraContent + content.substring(pos)[ FD ]
Line_52 $$ String newContent = content.substring(0, pos) + pluginContextListenerContent + extraContent + content.substring(pos)-->Line_58 $$ FileUtil.write(webXml, newContent, true)[ FD ]
Line_11 $$ content = content.substring(0, x) + content.substring(y)-->Line_52 $$ String newContent = content.substring(0, pos) + pluginContextListenerContent + extraContent + content.substring(pos)[ FD ]
Line_6 $$ content = WebXMLBuilder.organizeWebXML(content)-->Line_50 $$ pos = content.indexOf("</web-app>")[ FD ]
Line_6 $$ content = WebXMLBuilder.organizeWebXML(content)-->Line_10 $$ y = content.indexOf(">", y) + 1[ FD ]
Line_6 $$ content = WebXMLBuilder.organizeWebXML(content)-->Line_48 $$ int pos = content.indexOf("<listener>")[ FD ]
Line_11 $$ content = content.substring(0, x) + content.substring(y)-->Line_48 $$ int pos = content.indexOf("<listener>")[ FD ]
Line_14 $$ Element rootElement = document.getRootElement()-->Line_15 $$ double webXmlVersion = GetterUtil.getDouble(rootElement.attributeValue("version"), 2.3)[ FD ]
Line_6 $$ content = WebXMLBuilder.organizeWebXML(content)-->Line_13 $$ Document document = UnsecureSAXReaderUtil.read(content)[ FD ]
Line_48 $$ int pos = content.indexOf("<listener>")-->Line_52 $$ String newContent = content.substring(0, pos) + pluginContextListenerContent + extraContent + content.substring(pos)[ FD ]
Line_11 $$ content = content.substring(0, x) + content.substring(y)-->Line_13 $$ Document document = UnsecureSAXReaderUtil.read(content)[ FD ]
Line_48 $$ int pos = content.indexOf("<listener>")-->Line_50 $$ pos = content.indexOf("</web-app>")[ FD ]
Line_15 $$ double webXmlVersion = GetterUtil.getDouble(rootElement.attributeValue("version"), 2.3)-->Line_16 $$ if (webXmlVersion <= 2.3) [ FD ]
Line_23 $$ boolean hasCustomServletListener = false-->Line_38 $$ if (hasCustomServletListener || securityManagerEnabled) [ FD ]
Line_9 $$ int y = content.indexOf("</display-name>", x)-->Line_11 $$ content = content.substring(0, x) + content.substring(y)[ FD ]
Line_59 $$ if (_log.isInfoEnabled()) -->Line_60 $$ _log.info("Modifying Servlet " + webXmlVersion + " " + webXml)[ CD ]
Line_9 $$ int y = content.indexOf("</display-name>", x)-->Line_10 $$ y = content.indexOf(">", y) + 1[ FD ]
Line_7 $$ int x = content.indexOf("<display-name>")-->Line_8 $$ if (x != -1) [ FD ]
Line_8 $$ if (x != -1) -->Line_11 $$ content = content.substring(0, x) + content.substring(y)[ CD ]
Line_10 $$ y = content.indexOf(">", y) + 1-->Line_11 $$ content = content.substring(0, x) + content.substring(y)[ FD ]
Line_6 $$ content = WebXMLBuilder.organizeWebXML(content)-->Line_7 $$ int x = content.indexOf("<display-name>")[ FD ]
Line_35 $$ if (properties != null) -->Line_36 $$ securityManagerEnabled = GetterUtil.getBoolean(properties.getProperty("security-manager-enabled"))[ CD ]
Line_7 $$ int x = content.indexOf("<display-name>")-->Line_9 $$ int y = content.indexOf("</display-name>", x)[ FD ]
Line_52 $$ String newContent = content.substring(0, pos) + pluginContextListenerContent + extraContent + content.substring(pos)-->Line_57 $$ newContent = WebXMLBuilder.organizeWebXML(newContent)[ FD ]
Line_36 $$ securityManagerEnabled = GetterUtil.getBoolean(properties.getProperty("security-manager-enabled"))-->Line_38 $$ if (hasCustomServletListener || securityManagerEnabled) [ FD ]
Line_13 $$ Document document = UnsecureSAXReaderUtil.read(content)-->Line_14 $$ Element rootElement = document.getRootElement()[ FD ]
Line_8 $$ if (x != -1) -->Line_10 $$ y = content.indexOf(">", y) + 1[ CD ]
Line_6 $$ content = WebXMLBuilder.organizeWebXML(content)-->Line_9 $$ int y = content.indexOf("</display-name>", x)[ FD ]
Line_49 $$ if (pos == -1) -->Line_50 $$ pos = content.indexOf("</web-app>")[ CD ]
Line_33 $$ boolean securityManagerEnabled = false-->Line_38 $$ if (hasCustomServletListener || securityManagerEnabled) [ FD ]
Line_48 $$ int pos = content.indexOf("<listener>")-->Line_49 $$ if (pos == -1) [ FD ]
Line_25 $$ for (Element listenerElement : listenerElements) -->Line_26 $$ String listenerClass = GetterUtil.getString(listenerElement.elementText("listener-class"))[ FD ]
Line_23 $$ boolean hasCustomServletListener = false-->Line_30 $$ hasCustomServletListener = true[ FD ]
Line_38 $$ if (hasCustomServletListener || securityManagerEnabled) -->Line_39 $$ sb.append(SecurePluginContextListener.class.getName())[ CD ]
Line_6 $$ content = WebXMLBuilder.organizeWebXML(content)-->Line_52 $$ String newContent = content.substring(0, pos) + pluginContextListenerContent + extraContent + content.substring(pos)[ FD ]
Line_33 $$ boolean securityManagerEnabled = false-->Line_36 $$ securityManagerEnabled = GetterUtil.getBoolean(properties.getProperty("security-manager-enabled"))[ FD ]
Line_7 $$ int x = content.indexOf("<display-name>")-->Line_11 $$ content = content.substring(0, x) + content.substring(y)[ FD ]
