Line_4 $$ NamingEnumeration<SearchResult> enu = null-->Line_52 $$ enu.close()[ FD ]
Line_4 $$ NamingEnumeration<SearchResult> enu = null-->Line_39 $$ enu = ldapContext.search(baseDN, sb.toString(), searchControls)[ FD ]
Line_13 $$ StringBundler sb = new StringBundler(Validator.isNotNull(userSearchFilter) ? 9 : 5)-->Line_35 $$ sb.append(userSearchFilter)[ FD ]
Line_10 $$ String baseDN = ldapServerConfiguration.baseDN()-->Line_39 $$ enu = ldapContext.search(baseDN, sb.toString(), searchControls)[ FD ]
Line_11 $$ String userSearchFilter = ldapServerConfiguration.userSearchFilter()-->Line_12 $$ LDAPUtil.validateFilter(userSearchFilter, "LDAPServerConfiguration.userSearchFilter")[ FD ]
Line_13 $$ StringBundler sb = new StringBundler(Validator.isNotNull(userSearchFilter) ? 9 : 5)-->Line_16 $$ sb.append(StringPool.AMPERSAND)[ FD ]
Line_43 $$ if (checkOriginalEmail) -->Line_44 $$ String originalEmailAddress = UserImportTransactionThreadLocal.getOriginalEmailAddress()[ CD ]
Line_22 $$ String authType = PrefsPropsUtil.getString(companyId, PropsKeys.COMPANY_SECURITY_AUTH_TYPE, _companySecurityAuthType)-->Line_23 $$ if (authType.equals(CompanyConstants.AUTH_TYPE_SN) && !PrefsPropsUtil.getBoolean(companyId, PropsKeys.USERS_SCREEN_NAME_ALWAYS_AUTOGENERATE)) [ FD ]
Line_13 $$ StringBundler sb = new StringBundler(Validator.isNotNull(userSearchFilter) ? 9 : 5)-->Line_39 $$ enu = ldapContext.search(baseDN, sb.toString(), searchControls)[ FD ]
Line_2 $$ public Binding getUser(long ldapServerId, long companyId, String screenName, String emailAddress, boolean checkOriginalEmail) throws Exception -->Line_3 $$ LdapContext ldapContext = getContext(ldapServerId, companyId)[ CD ]
Line_20 $$ String login = null-->Line_25 $$ login = screenName[ FD ]
Line_23 $$ if (authType.equals(CompanyConstants.AUTH_TYPE_SN) && !PrefsPropsUtil.getBoolean(companyId, PropsKeys.USERS_SCREEN_NAME_ALWAYS_AUTOGENERATE)) -->Line_28 $$ login = emailAddress[ CD ]
Line_11 $$ String userSearchFilter = ldapServerConfiguration.userSearchFilter()-->Line_34 $$ if (Validator.isNotNull(userSearchFilter)) [ FD ]
Line_45 $$ if (Validator.isNotNull(originalEmailAddress) && !emailAddress.equals(originalEmailAddress)) -->Line_46 $$ return getUser(ldapServerId, companyId, screenName, originalEmailAddress, false)[ CD ]
Line_13 $$ StringBundler sb = new StringBundler(Validator.isNotNull(userSearchFilter) ? 9 : 5)-->Line_33 $$ sb.append(StringPool.CLOSE_PARENTHESIS)[ FD ]
Line_44 $$ String originalEmailAddress = UserImportTransactionThreadLocal.getOriginalEmailAddress()-->Line_46 $$ return getUser(ldapServerId, companyId, screenName, originalEmailAddress, false)[ FD ]
Line_21 $$ Properties userMappings = _ldapSettings.getUserMappings(ldapServerId, companyId)-->Line_27 $$ loginMapping = userMappings.getProperty("emailAddress")[ FD ]
Line_23 $$ if (authType.equals(CompanyConstants.AUTH_TYPE_SN) && !PrefsPropsUtil.getBoolean(companyId, PropsKeys.USERS_SCREEN_NAME_ALWAYS_AUTOGENERATE)) -->Line_25 $$ login = screenName[ CD ]
Line_44 $$ String originalEmailAddress = UserImportTransactionThreadLocal.getOriginalEmailAddress()-->Line_45 $$ if (Validator.isNotNull(originalEmailAddress) && !emailAddress.equals(originalEmailAddress)) [ FD ]
Line_4 $$ NamingEnumeration<SearchResult> enu = null-->Line_51 $$ if (enu != null) [ FD ]
Line_21 $$ Properties userMappings = _ldapSettings.getUserMappings(ldapServerId, companyId)-->Line_24 $$ loginMapping = userMappings.getProperty("screenName")[ FD ]
Line_39 $$ enu = ldapContext.search(baseDN, sb.toString(), searchControls)-->Line_52 $$ enu.close()[ FD ]
Line_13 $$ StringBundler sb = new StringBundler(Validator.isNotNull(userSearchFilter) ? 9 : 5)-->Line_15 $$ sb.append(StringPool.OPEN_PARENTHESIS)[ FD ]
Line_54 $$ if (ldapContext != null) -->Line_55 $$ ldapContext.close()[ CD ]
Line_9 $$ LDAPServerConfiguration ldapServerConfiguration = _ldapServerConfigurationProvider.getConfiguration(companyId, ldapServerId)-->Line_11 $$ String userSearchFilter = ldapServerConfiguration.userSearchFilter()[ FD ]
Line_2 $$ public Binding getUser(long ldapServerId, long companyId, String screenName, String emailAddress, boolean checkOriginalEmail) throws Exception -->Line_25 $$ login = screenName[ FD ]
Line_38 $$ SearchControls searchControls = new SearchControls(SearchControls.SUBTREE_SCOPE, 1, 0, null, false, false)-->Line_39 $$ enu = ldapContext.search(baseDN, sb.toString(), searchControls)[ FD ]
Line_2 $$ public Binding getUser(long ldapServerId, long companyId, String screenName, String emailAddress, boolean checkOriginalEmail) throws Exception -->Line_45 $$ if (Validator.isNotNull(originalEmailAddress) && !emailAddress.equals(originalEmailAddress)) [ FD ]
Line_23 $$ if (authType.equals(CompanyConstants.AUTH_TYPE_SN) && !PrefsPropsUtil.getBoolean(companyId, PropsKeys.USERS_SCREEN_NAME_ALWAYS_AUTOGENERATE)) -->Line_24 $$ loginMapping = userMappings.getProperty("screenName")[ CD ]
Line_6 $$ if (ldapContext == null) -->Line_7 $$ return null[ CD ]
Line_2 $$ public Binding getUser(long ldapServerId, long companyId, String screenName, String emailAddress, boolean checkOriginalEmail) throws Exception -->Line_23 $$ if (authType.equals(CompanyConstants.AUTH_TYPE_SN) && !PrefsPropsUtil.getBoolean(companyId, PropsKeys.USERS_SCREEN_NAME_ALWAYS_AUTOGENERATE)) [ FD ]
Line_34 $$ if (Validator.isNotNull(userSearchFilter)) -->Line_36 $$ sb.append(StringPool.CLOSE_PARENTHESIS)[ CD ]
Line_43 $$ if (checkOriginalEmail) -->Line_45 $$ if (Validator.isNotNull(originalEmailAddress) && !emailAddress.equals(originalEmailAddress)) [ CD ]
Line_9 $$ LDAPServerConfiguration ldapServerConfiguration = _ldapServerConfigurationProvider.getConfiguration(companyId, ldapServerId)-->Line_10 $$ String baseDN = ldapServerConfiguration.baseDN()[ FD ]
Line_14 $$ if (Validator.isNotNull(userSearchFilter)) -->Line_16 $$ sb.append(StringPool.AMPERSAND)[ CD ]
Line_4 $$ NamingEnumeration<SearchResult> enu = null-->Line_41 $$ return enu.nextElement()[ FD ]
Line_39 $$ enu = ldapContext.search(baseDN, sb.toString(), searchControls)-->Line_51 $$ if (enu != null) [ FD ]
Line_3 $$ LdapContext ldapContext = getContext(ldapServerId, companyId)-->Line_54 $$ if (ldapContext != null) [ FD ]
Line_2 $$ public Binding getUser(long ldapServerId, long companyId, String screenName, String emailAddress, boolean checkOriginalEmail) throws Exception -->Line_9 $$ LDAPServerConfiguration ldapServerConfiguration = _ldapServerConfigurationProvider.getConfiguration(companyId, ldapServerId)[ FD ]
Line_39 $$ enu = ldapContext.search(baseDN, sb.toString(), searchControls)-->Line_41 $$ return enu.nextElement()[ FD ]
Line_2 $$ public Binding getUser(long ldapServerId, long companyId, String screenName, String emailAddress, boolean checkOriginalEmail) throws Exception -->Line_46 $$ return getUser(ldapServerId, companyId, screenName, originalEmailAddress, false)[ FD ]
Line_2 $$ public Binding getUser(long ldapServerId, long companyId, String screenName, String emailAddress, boolean checkOriginalEmail) throws Exception -->Line_22 $$ String authType = PrefsPropsUtil.getString(companyId, PropsKeys.COMPANY_SECURITY_AUTH_TYPE, _companySecurityAuthType)[ FD ]
Line_13 $$ StringBundler sb = new StringBundler(Validator.isNotNull(userSearchFilter) ? 9 : 5)-->Line_36 $$ sb.append(StringPool.CLOSE_PARENTHESIS)[ FD ]
Line_19 $$ String loginMapping = null-->Line_27 $$ loginMapping = userMappings.getProperty("emailAddress")[ FD ]
Line_24 $$ loginMapping = userMappings.getProperty("screenName")-->Line_30 $$ sb.append(loginMapping)[ FD ]
Line_13 $$ StringBundler sb = new StringBundler(Validator.isNotNull(userSearchFilter) ? 9 : 5)-->Line_31 $$ sb.append(StringPool.EQUAL)[ FD ]
Line_11 $$ String userSearchFilter = ldapServerConfiguration.userSearchFilter()-->Line_14 $$ if (Validator.isNotNull(userSearchFilter)) [ FD ]
Line_25 $$ login = screenName-->Line_32 $$ sb.append(login)[ FD ]
Line_2 $$ public Binding getUser(long ldapServerId, long companyId, String screenName, String emailAddress, boolean checkOriginalEmail) throws Exception -->Line_28 $$ login = emailAddress[ FD ]
Line_19 $$ String loginMapping = null-->Line_30 $$ sb.append(loginMapping)[ FD ]
Line_51 $$ if (enu != null) -->Line_52 $$ enu.close()[ CD ]
Line_20 $$ String login = null-->Line_32 $$ sb.append(login)[ FD ]
Line_25 $$ login = screenName-->Line_28 $$ login = emailAddress[ FD ]
Line_3 $$ LdapContext ldapContext = getContext(ldapServerId, companyId)-->Line_39 $$ enu = ldapContext.search(baseDN, sb.toString(), searchControls)[ FD ]
Line_13 $$ StringBundler sb = new StringBundler(Validator.isNotNull(userSearchFilter) ? 9 : 5)-->Line_30 $$ sb.append(loginMapping)[ FD ]
Line_11 $$ String userSearchFilter = ldapServerConfiguration.userSearchFilter()-->Line_35 $$ sb.append(userSearchFilter)[ FD ]
Line_4 $$ NamingEnumeration<SearchResult> enu = null-->Line_40 $$ if (enu.hasMoreElements()) [ FD ]
Line_19 $$ String loginMapping = null-->Line_24 $$ loginMapping = userMappings.getProperty("screenName")[ FD ]
Line_20 $$ String login = null-->Line_28 $$ login = emailAddress[ FD ]
Line_13 $$ StringBundler sb = new StringBundler(Validator.isNotNull(userSearchFilter) ? 9 : 5)-->Line_32 $$ sb.append(login)[ FD ]
Line_24 $$ loginMapping = userMappings.getProperty("screenName")-->Line_27 $$ loginMapping = userMappings.getProperty("emailAddress")[ FD ]
Line_34 $$ if (Validator.isNotNull(userSearchFilter)) -->Line_35 $$ sb.append(userSearchFilter)[ CD ]
Line_2 $$ public Binding getUser(long ldapServerId, long companyId, String screenName, String emailAddress, boolean checkOriginalEmail) throws Exception -->Line_4 $$ NamingEnumeration<SearchResult> enu = null[ CD ]
Line_14 $$ if (Validator.isNotNull(userSearchFilter)) -->Line_15 $$ sb.append(StringPool.OPEN_PARENTHESIS)[ CD ]
Line_23 $$ if (authType.equals(CompanyConstants.AUTH_TYPE_SN) && !PrefsPropsUtil.getBoolean(companyId, PropsKeys.USERS_SCREEN_NAME_ALWAYS_AUTOGENERATE)) -->Line_27 $$ loginMapping = userMappings.getProperty("emailAddress")[ CD ]
Line_2 $$ public Binding getUser(long ldapServerId, long companyId, String screenName, String emailAddress, boolean checkOriginalEmail) throws Exception -->Line_21 $$ Properties userMappings = _ldapSettings.getUserMappings(ldapServerId, companyId)[ FD ]
Line_2 $$ public Binding getUser(long ldapServerId, long companyId, String screenName, String emailAddress, boolean checkOriginalEmail) throws Exception -->Line_3 $$ LdapContext ldapContext = getContext(ldapServerId, companyId)[ FD ]
Line_3 $$ LdapContext ldapContext = getContext(ldapServerId, companyId)-->Line_55 $$ ldapContext.close()[ FD ]
Line_11 $$ String userSearchFilter = ldapServerConfiguration.userSearchFilter()-->Line_13 $$ StringBundler sb = new StringBundler(Validator.isNotNull(userSearchFilter) ? 9 : 5)[ FD ]
Line_13 $$ StringBundler sb = new StringBundler(Validator.isNotNull(userSearchFilter) ? 9 : 5)-->Line_18 $$ sb.append(StringPool.OPEN_PARENTHESIS)[ FD ]
Line_27 $$ loginMapping = userMappings.getProperty("emailAddress")-->Line_30 $$ sb.append(loginMapping)[ FD ]
Line_40 $$ if (enu.hasMoreElements()) -->Line_41 $$ return enu.nextElement()[ CD ]
Line_3 $$ LdapContext ldapContext = getContext(ldapServerId, companyId)-->Line_6 $$ if (ldapContext == null) [ FD ]
Line_28 $$ login = emailAddress-->Line_32 $$ sb.append(login)[ FD ]
Line_39 $$ enu = ldapContext.search(baseDN, sb.toString(), searchControls)-->Line_40 $$ if (enu.hasMoreElements()) [ FD ]
