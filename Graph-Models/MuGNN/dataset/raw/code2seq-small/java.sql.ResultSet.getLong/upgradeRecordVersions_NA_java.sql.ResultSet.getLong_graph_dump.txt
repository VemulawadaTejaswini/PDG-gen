Line_2 $$ protected void upgradeRecordVersions() throws Exception -->Line_3 $$ PreparedStatement ps = null[ CD ]
Line_14 $$ long userId = rs.getLong("userId")-->Line_23 $$ addDDMContent(PortalUUIDUtil.generate(), ddmContentId, groupId, companyId, userId, userName, createDate, createDate, DDMStorageLink.class.getName(), null, xml)[ FD ]
Line_22 $$ String xml = toXML(expandoValuesMap)-->Line_23 $$ addDDMContent(PortalUUIDUtil.generate(), ddmContentId, groupId, companyId, userId, userName, createDate, createDate, DDMStorageLink.class.getName(), null, xml)[ FD ]
Line_18 $$ long recordId = rs.getLong("recordId")-->Line_25 $$ updateRecordDDMStorageId(recordId, version, ddmContentId)[ FD ]
Line_29 $$ if (ddmStorageIds.isEmpty()) -->Line_30 $$ return[ CD ]
Line_8 $$ rs = ps.executeQuery()-->Line_11 $$ long recordVersionId = rs.getLong("recordVersionId")[ FD ]
Line_8 $$ rs = ps.executeQuery()-->Line_16 $$ Timestamp createDate = rs.getTimestamp("createDate")[ FD ]
Line_3 $$ PreparedStatement ps = null-->Line_8 $$ rs = ps.executeQuery()[ FD ]
Line_10 $$ while (rs.next()) -->Line_14 $$ long userId = rs.getLong("userId")[ CD ]
Line_8 $$ rs = ps.executeQuery()-->Line_18 $$ long recordId = rs.getLong("recordId")[ FD ]
Line_4 $$ ResultSet rs = null-->Line_10 $$ while (rs.next()) [ FD ]
Line_4 $$ ResultSet rs = null-->Line_16 $$ Timestamp createDate = rs.getTimestamp("createDate")[ FD ]
Line_20 $$ long ddmContentId = increment()-->Line_23 $$ addDDMContent(PortalUUIDUtil.generate(), ddmContentId, groupId, companyId, userId, userName, createDate, createDate, DDMStorageLink.class.getName(), null, xml)[ FD ]
Line_20 $$ long ddmContentId = increment()-->Line_24 $$ updateRecordVersionDDMStorageId(recordVersionId, ddmContentId)[ FD ]
Line_10 $$ while (rs.next()) -->Line_25 $$ updateRecordDDMStorageId(recordId, version, ddmContentId)[ CD ]
Line_17 $$ long ddmStorageId = rs.getLong("DDMStorageId")-->Line_26 $$ updateDDMStorageLink(_expandoStorageAdapterClassNameId, ddmStorageId, _ddmContentClassNameId, ddmContentId)[ FD ]
Line_13 $$ long companyId = rs.getLong("companyId")-->Line_23 $$ addDDMContent(PortalUUIDUtil.generate(), ddmContentId, groupId, companyId, userId, userName, createDate, createDate, DDMStorageLink.class.getName(), null, xml)[ FD ]
Line_10 $$ while (rs.next()) -->Line_27 $$ ddmStorageIds.add(ddmStorageId)[ CD ]
Line_9 $$ Set<Long> ddmStorageIds = new HashSet()-->Line_27 $$ ddmStorageIds.add(ddmStorageId)[ FD ]
Line_7 $$ ps = connection.prepareStatement(sql)-->Line_35 $$ DataAccess.cleanUp(ps, rs)[ FD ]
Line_8 $$ rs = ps.executeQuery()-->Line_10 $$ while (rs.next()) [ FD ]
Line_3 $$ PreparedStatement ps = null-->Line_7 $$ ps = connection.prepareStatement(sql)[ FD ]
Line_10 $$ while (rs.next()) -->Line_21 $$ Map<String, String> expandoValuesMap = getExpandoValuesMap(ddmStorageId)[ CD ]
Line_15 $$ String userName = rs.getString("userName")-->Line_23 $$ addDDMContent(PortalUUIDUtil.generate(), ddmContentId, groupId, companyId, userId, userName, createDate, createDate, DDMStorageLink.class.getName(), null, xml)[ FD ]
Line_8 $$ rs = ps.executeQuery()-->Line_35 $$ DataAccess.cleanUp(ps, rs)[ FD ]
Line_12 $$ long groupId = rs.getLong("groupId")-->Line_23 $$ addDDMContent(PortalUUIDUtil.generate(), ddmContentId, groupId, companyId, userId, userName, createDate, createDate, DDMStorageLink.class.getName(), null, xml)[ FD ]
Line_3 $$ PreparedStatement ps = null-->Line_35 $$ DataAccess.cleanUp(ps, rs)[ FD ]
Line_7 $$ ps = connection.prepareStatement(sql)-->Line_8 $$ rs = ps.executeQuery()[ FD ]
Line_4 $$ ResultSet rs = null-->Line_12 $$ long groupId = rs.getLong("groupId")[ FD ]
Line_10 $$ while (rs.next()) -->Line_16 $$ Timestamp createDate = rs.getTimestamp("createDate")[ CD ]
Line_20 $$ long ddmContentId = increment()-->Line_25 $$ updateRecordDDMStorageId(recordId, version, ddmContentId)[ FD ]
Line_8 $$ rs = ps.executeQuery()-->Line_17 $$ long ddmStorageId = rs.getLong("DDMStorageId")[ FD ]
Line_10 $$ while (rs.next()) -->Line_11 $$ long recordVersionId = rs.getLong("recordVersionId")[ CD ]
Line_10 $$ while (rs.next()) -->Line_13 $$ long companyId = rs.getLong("companyId")[ CD ]
Line_10 $$ while (rs.next()) -->Line_26 $$ updateDDMStorageLink(_expandoStorageAdapterClassNameId, ddmStorageId, _ddmContentClassNameId, ddmContentId)[ CD ]
Line_9 $$ Set<Long> ddmStorageIds = new HashSet()-->Line_29 $$ if (ddmStorageIds.isEmpty()) [ FD ]
Line_4 $$ ResultSet rs = null-->Line_8 $$ rs = ps.executeQuery()[ FD ]
Line_10 $$ while (rs.next()) -->Line_19 $$ String version = rs.getString("version")[ CD ]
Line_8 $$ rs = ps.executeQuery()-->Line_13 $$ long companyId = rs.getLong("companyId")[ FD ]
Line_6 $$ String sql = getUpgradeRecordVersionsSQL()-->Line_7 $$ ps = connection.prepareStatement(sql)[ FD ]
Line_10 $$ while (rs.next()) -->Line_17 $$ long ddmStorageId = rs.getLong("DDMStorageId")[ CD ]
Line_11 $$ long recordVersionId = rs.getLong("recordVersionId")-->Line_24 $$ updateRecordVersionDDMStorageId(recordVersionId, ddmContentId)[ FD ]
Line_17 $$ long ddmStorageId = rs.getLong("DDMStorageId")-->Line_27 $$ ddmStorageIds.add(ddmStorageId)[ FD ]
Line_10 $$ while (rs.next()) -->Line_24 $$ updateRecordVersionDDMStorageId(recordVersionId, ddmContentId)[ CD ]
Line_8 $$ rs = ps.executeQuery()-->Line_14 $$ long userId = rs.getLong("userId")[ FD ]
Line_4 $$ ResultSet rs = null-->Line_17 $$ long ddmStorageId = rs.getLong("DDMStorageId")[ FD ]
Line_16 $$ Timestamp createDate = rs.getTimestamp("createDate")-->Line_23 $$ addDDMContent(PortalUUIDUtil.generate(), ddmContentId, groupId, companyId, userId, userName, createDate, createDate, DDMStorageLink.class.getName(), null, xml)[ FD ]
Line_8 $$ rs = ps.executeQuery()-->Line_12 $$ long groupId = rs.getLong("groupId")[ FD ]
Line_19 $$ String version = rs.getString("version")-->Line_25 $$ updateRecordDDMStorageId(recordId, version, ddmContentId)[ FD ]
Line_10 $$ while (rs.next()) -->Line_12 $$ long groupId = rs.getLong("groupId")[ CD ]
Line_4 $$ ResultSet rs = null-->Line_15 $$ String userName = rs.getString("userName")[ FD ]
Line_8 $$ rs = ps.executeQuery()-->Line_15 $$ String userName = rs.getString("userName")[ FD ]
Line_4 $$ ResultSet rs = null-->Line_35 $$ DataAccess.cleanUp(ps, rs)[ FD ]
Line_8 $$ rs = ps.executeQuery()-->Line_19 $$ String version = rs.getString("version")[ FD ]
Line_17 $$ long ddmStorageId = rs.getLong("DDMStorageId")-->Line_21 $$ Map<String, String> expandoValuesMap = getExpandoValuesMap(ddmStorageId)[ FD ]
Line_21 $$ Map<String, String> expandoValuesMap = getExpandoValuesMap(ddmStorageId)-->Line_22 $$ String xml = toXML(expandoValuesMap)[ FD ]
Line_10 $$ while (rs.next()) -->Line_15 $$ String userName = rs.getString("userName")[ CD ]
Line_10 $$ while (rs.next()) -->Line_22 $$ String xml = toXML(expandoValuesMap)[ CD ]
Line_9 $$ Set<Long> ddmStorageIds = new HashSet()-->Line_33 $$ deleteExpandoData(ddmStorageIds)[ FD ]
Line_10 $$ while (rs.next()) -->Line_23 $$ addDDMContent(PortalUUIDUtil.generate(), ddmContentId, groupId, companyId, userId, userName, createDate, createDate, DDMStorageLink.class.getName(), null, xml)[ CD ]
Line_4 $$ ResultSet rs = null-->Line_19 $$ String version = rs.getString("version")[ FD ]
Line_4 $$ ResultSet rs = null-->Line_11 $$ long recordVersionId = rs.getLong("recordVersionId")[ FD ]
Line_4 $$ ResultSet rs = null-->Line_18 $$ long recordId = rs.getLong("recordId")[ FD ]
Line_20 $$ long ddmContentId = increment()-->Line_26 $$ updateDDMStorageLink(_expandoStorageAdapterClassNameId, ddmStorageId, _ddmContentClassNameId, ddmContentId)[ FD ]
Line_4 $$ ResultSet rs = null-->Line_13 $$ long companyId = rs.getLong("companyId")[ FD ]
Line_2 $$ protected void upgradeRecordVersions() throws Exception -->Line_4 $$ ResultSet rs = null[ CD ]
Line_10 $$ while (rs.next()) -->Line_18 $$ long recordId = rs.getLong("recordId")[ CD ]
Line_4 $$ ResultSet rs = null-->Line_14 $$ long userId = rs.getLong("userId")[ FD ]
Line_10 $$ while (rs.next()) -->Line_20 $$ long ddmContentId = increment()[ CD ]
