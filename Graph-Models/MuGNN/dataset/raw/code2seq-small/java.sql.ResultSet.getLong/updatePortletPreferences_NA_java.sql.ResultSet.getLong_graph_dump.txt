Line_3 $$ PreparedStatement ps = null-->Line_56 $$ DataAccess.cleanUp(ps, rs)[ FD ]
Line_15 $$ ps = connection.prepareStatement(sql)-->Line_56 $$ DataAccess.cleanUp(ps, rs)[ FD ]
Line_26 $$ companyId = getCompanyId("select companyId from PortletItem where " + "portletItemId = ?", ownerId)-->Line_46 $$ if (companyId > 0) [ FD ]
Line_23 $$ String preferences = GetterUtil.getString(rs.getString("preferences"))-->Line_48 $$ if (!preferences.equals(newPreferences)) [ FD ]
Line_46 $$ if (companyId > 0) -->Line_52 $$ deletePortletPreferences(portletPreferencesId)[ CD ]
Line_6 $$ StringBundler sb = new StringBundler(4)-->Line_8 $$ sb.append("plid, portletId, preferences from PortletPreferences")[ FD ]
Line_16 $$ rs = ps.executeQuery()-->Line_18 $$ long portletPreferencesId = rs.getLong("portletPreferencesId")[ FD ]
Line_32 $$ companyId = (Long) group[1]-->Line_47 $$ String newPreferences = upgradePreferences(companyId, ownerId, ownerType, plid, portletId, preferences)[ FD ]
Line_17 $$ while (rs.next()) -->Line_23 $$ String preferences = GetterUtil.getString(rs.getString("preferences"))[ CD ]
Line_24 $$ long companyId = 0-->Line_32 $$ companyId = (Long) group[1][ FD ]
Line_24 $$ long companyId = 0-->Line_37 $$ companyId = (Long) layout[1][ FD ]
Line_37 $$ companyId = (Long) layout[1]-->Line_40 $$ companyId = getCompanyId("select companyId from Organization_ where " + "organizationId = ?", ownerId)[ FD ]
Line_2 $$ protected void updatePortletPreferences() throws Exception -->Line_3 $$ PreparedStatement ps = null[ CD ]
Line_14 $$ String sql = sb.toString()-->Line_15 $$ ps = connection.prepareStatement(sql)[ FD ]
Line_32 $$ companyId = (Long) group[1]-->Line_42 $$ companyId = getCompanyId("select companyId from User_ where userId = ?", ownerId)[ FD ]
Line_32 $$ companyId = (Long) group[1]-->Line_37 $$ companyId = (Long) layout[1][ FD ]
Line_16 $$ rs = ps.executeQuery()-->Line_22 $$ String portletId = rs.getString("portletId")[ FD ]
Line_4 $$ ResultSet rs = null-->Line_17 $$ while (rs.next()) [ FD ]
Line_16 $$ rs = ps.executeQuery()-->Line_19 $$ long ownerId = rs.getLong("ownerId")[ FD ]
Line_19 $$ long ownerId = rs.getLong("ownerId")-->Line_40 $$ companyId = getCompanyId("select companyId from Organization_ where " + "organizationId = ?", ownerId)[ FD ]
Line_19 $$ long ownerId = rs.getLong("ownerId")-->Line_28 $$ companyId = ownerId[ FD ]
Line_34 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_LAYOUT) -->Line_39 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_ORGANIZATION) [ CD ]
Line_40 $$ companyId = getCompanyId("select companyId from Organization_ where " + "organizationId = ?", ownerId)-->Line_47 $$ String newPreferences = upgradePreferences(companyId, ownerId, ownerType, plid, portletId, preferences)[ FD ]
Line_3 $$ PreparedStatement ps = null-->Line_15 $$ ps = connection.prepareStatement(sql)[ FD ]
Line_10 $$ if (Validator.isNotNull(whereClause)) -->Line_12 $$ sb.append(whereClause)[ CD ]
Line_4 $$ ResultSet rs = null-->Line_23 $$ String preferences = GetterUtil.getString(rs.getString("preferences"))[ FD ]
Line_26 $$ companyId = getCompanyId("select companyId from PortletItem where " + "portletItemId = ?", ownerId)-->Line_40 $$ companyId = getCompanyId("select companyId from Organization_ where " + "organizationId = ?", ownerId)[ FD ]
Line_4 $$ ResultSet rs = null-->Line_56 $$ DataAccess.cleanUp(ps, rs)[ FD ]
Line_34 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_LAYOUT) -->Line_36 $$ if (layout != null) [ CD ]
Line_17 $$ while (rs.next()) -->Line_24 $$ long companyId = 0[ CD ]
Line_27 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_COMPANY) -->Line_28 $$ companyId = ownerId[ CD ]
Line_24 $$ long companyId = 0-->Line_40 $$ companyId = getCompanyId("select companyId from Organization_ where " + "organizationId = ?", ownerId)[ FD ]
Line_21 $$ long plid = rs.getLong("plid")-->Line_47 $$ String newPreferences = upgradePreferences(companyId, ownerId, ownerType, plid, portletId, preferences)[ FD ]
Line_16 $$ rs = ps.executeQuery()-->Line_21 $$ long plid = rs.getLong("plid")[ FD ]
Line_17 $$ while (rs.next()) -->Line_25 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_ARCHIVED) [ CD ]
Line_9 $$ String whereClause = getUpdatePortletPreferencesWhereClause()-->Line_12 $$ sb.append(whereClause)[ FD ]
Line_17 $$ while (rs.next()) -->Line_19 $$ long ownerId = rs.getLong("ownerId")[ CD ]
Line_19 $$ long ownerId = rs.getLong("ownerId")-->Line_47 $$ String newPreferences = upgradePreferences(companyId, ownerId, ownerType, plid, portletId, preferences)[ FD ]
Line_24 $$ long companyId = 0-->Line_26 $$ companyId = getCompanyId("select companyId from PortletItem where " + "portletItemId = ?", ownerId)[ FD ]
Line_3 $$ PreparedStatement ps = null-->Line_16 $$ rs = ps.executeQuery()[ FD ]
Line_27 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_COMPANY) -->Line_29 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_GROUP) [ CD ]
Line_31 $$ if (group != null) -->Line_32 $$ companyId = (Long) group[1][ CD ]
Line_47 $$ String newPreferences = upgradePreferences(companyId, ownerId, ownerType, plid, portletId, preferences)-->Line_49 $$ updatePortletPreferences(portletPreferencesId, newPreferences)[ FD ]
Line_28 $$ companyId = ownerId-->Line_32 $$ companyId = (Long) group[1][ FD ]
Line_4 $$ ResultSet rs = null-->Line_22 $$ String portletId = rs.getString("portletId")[ FD ]
Line_26 $$ companyId = getCompanyId("select companyId from PortletItem where " + "portletItemId = ?", ownerId)-->Line_28 $$ companyId = ownerId[ FD ]
Line_42 $$ companyId = getCompanyId("select companyId from User_ where userId = ?", ownerId)-->Line_46 $$ if (companyId > 0) [ FD ]
Line_22 $$ String portletId = rs.getString("portletId")-->Line_47 $$ String newPreferences = upgradePreferences(companyId, ownerId, ownerType, plid, portletId, preferences)[ FD ]
Line_39 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_ORGANIZATION) -->Line_40 $$ companyId = getCompanyId("select companyId from Organization_ where " + "organizationId = ?", ownerId)[ CD ]
Line_20 $$ int ownerType = rs.getInt("ownerType")-->Line_29 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_GROUP) [ FD ]
Line_25 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_ARCHIVED) -->Line_26 $$ companyId = getCompanyId("select companyId from PortletItem where " + "portletItemId = ?", ownerId)[ CD ]
Line_28 $$ companyId = ownerId-->Line_46 $$ if (companyId > 0) [ FD ]
Line_4 $$ ResultSet rs = null-->Line_19 $$ long ownerId = rs.getLong("ownerId")[ FD ]
Line_20 $$ int ownerType = rs.getInt("ownerType")-->Line_25 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_ARCHIVED) [ FD ]
Line_4 $$ ResultSet rs = null-->Line_20 $$ int ownerType = rs.getInt("ownerType")[ FD ]
Line_24 $$ long companyId = 0-->Line_28 $$ companyId = ownerId[ FD ]
Line_15 $$ ps = connection.prepareStatement(sql)-->Line_16 $$ rs = ps.executeQuery()[ FD ]
Line_32 $$ companyId = (Long) group[1]-->Line_40 $$ companyId = getCompanyId("select companyId from Organization_ where " + "organizationId = ?", ownerId)[ FD ]
Line_32 $$ companyId = (Long) group[1]-->Line_46 $$ if (companyId > 0) [ FD ]
Line_25 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_ARCHIVED) -->Line_27 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_COMPANY) [ CD ]
Line_26 $$ companyId = getCompanyId("select companyId from PortletItem where " + "portletItemId = ?", ownerId)-->Line_47 $$ String newPreferences = upgradePreferences(companyId, ownerId, ownerType, plid, portletId, preferences)[ FD ]
Line_16 $$ rs = ps.executeQuery()-->Line_56 $$ DataAccess.cleanUp(ps, rs)[ FD ]
Line_17 $$ while (rs.next()) -->Line_20 $$ int ownerType = rs.getInt("ownerType")[ CD ]
Line_28 $$ companyId = ownerId-->Line_37 $$ companyId = (Long) layout[1][ FD ]
Line_19 $$ long ownerId = rs.getLong("ownerId")-->Line_30 $$ Object[] group = getGroup(ownerId)[ FD ]
Line_34 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_LAYOUT) -->Line_35 $$ Object[] layout = getLayout(plid)[ CD ]
Line_17 $$ while (rs.next()) -->Line_18 $$ long portletPreferencesId = rs.getLong("portletPreferencesId")[ CD ]
Line_37 $$ companyId = (Long) layout[1]-->Line_47 $$ String newPreferences = upgradePreferences(companyId, ownerId, ownerType, plid, portletId, preferences)[ FD ]
Line_28 $$ companyId = ownerId-->Line_47 $$ String newPreferences = upgradePreferences(companyId, ownerId, ownerType, plid, portletId, preferences)[ FD ]
Line_17 $$ while (rs.next()) -->Line_22 $$ String portletId = rs.getString("portletId")[ CD ]
Line_20 $$ int ownerType = rs.getInt("ownerType")-->Line_34 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_LAYOUT) [ FD ]
Line_18 $$ long portletPreferencesId = rs.getLong("portletPreferencesId")-->Line_49 $$ updatePortletPreferences(portletPreferencesId, newPreferences)[ FD ]
Line_29 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_GROUP) -->Line_30 $$ Object[] group = getGroup(ownerId)[ CD ]
Line_42 $$ companyId = getCompanyId("select companyId from User_ where userId = ?", ownerId)-->Line_47 $$ String newPreferences = upgradePreferences(companyId, ownerId, ownerType, plid, portletId, preferences)[ FD ]
Line_39 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_ORGANIZATION) -->Line_41 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_USER) [ CD ]
Line_2 $$ protected void updatePortletPreferences() throws Exception -->Line_4 $$ ResultSet rs = null[ CD ]
Line_40 $$ companyId = getCompanyId("select companyId from Organization_ where " + "organizationId = ?", ownerId)-->Line_46 $$ if (companyId > 0) [ FD ]
Line_6 $$ StringBundler sb = new StringBundler(4)-->Line_14 $$ String sql = sb.toString()[ FD ]
Line_19 $$ long ownerId = rs.getLong("ownerId")-->Line_26 $$ companyId = getCompanyId("select companyId from PortletItem where " + "portletItemId = ?", ownerId)[ FD ]
Line_26 $$ companyId = getCompanyId("select companyId from PortletItem where " + "portletItemId = ?", ownerId)-->Line_32 $$ companyId = (Long) group[1][ FD ]
Line_47 $$ String newPreferences = upgradePreferences(companyId, ownerId, ownerType, plid, portletId, preferences)-->Line_48 $$ if (!preferences.equals(newPreferences)) [ FD ]
Line_6 $$ StringBundler sb = new StringBundler(4)-->Line_11 $$ sb.append(" where ")[ FD ]
Line_36 $$ if (layout != null) -->Line_37 $$ companyId = (Long) layout[1][ CD ]
Line_35 $$ Object[] layout = getLayout(plid)-->Line_36 $$ if (layout != null) [ FD ]
Line_30 $$ Object[] group = getGroup(ownerId)-->Line_31 $$ if (group != null) [ FD ]
Line_40 $$ companyId = getCompanyId("select companyId from Organization_ where " + "organizationId = ?", ownerId)-->Line_42 $$ companyId = getCompanyId("select companyId from User_ where userId = ?", ownerId)[ FD ]
Line_20 $$ int ownerType = rs.getInt("ownerType")-->Line_39 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_ORGANIZATION) [ FD ]
Line_29 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_GROUP) -->Line_31 $$ if (group != null) [ CD ]
Line_37 $$ companyId = (Long) layout[1]-->Line_42 $$ companyId = getCompanyId("select companyId from User_ where userId = ?", ownerId)[ FD ]
Line_16 $$ rs = ps.executeQuery()-->Line_17 $$ while (rs.next()) [ FD ]
Line_17 $$ while (rs.next()) -->Line_21 $$ long plid = rs.getLong("plid")[ CD ]
Line_48 $$ if (!preferences.equals(newPreferences)) -->Line_49 $$ updatePortletPreferences(portletPreferencesId, newPreferences)[ CD ]
Line_46 $$ if (companyId > 0) -->Line_47 $$ String newPreferences = upgradePreferences(companyId, ownerId, ownerType, plid, portletId, preferences)[ CD ]
Line_28 $$ companyId = ownerId-->Line_40 $$ companyId = getCompanyId("select companyId from Organization_ where " + "organizationId = ?", ownerId)[ FD ]
Line_26 $$ companyId = getCompanyId("select companyId from PortletItem where " + "portletItemId = ?", ownerId)-->Line_42 $$ companyId = getCompanyId("select companyId from User_ where userId = ?", ownerId)[ FD ]
Line_16 $$ rs = ps.executeQuery()-->Line_20 $$ int ownerType = rs.getInt("ownerType")[ FD ]
Line_20 $$ int ownerType = rs.getInt("ownerType")-->Line_47 $$ String newPreferences = upgradePreferences(companyId, ownerId, ownerType, plid, portletId, preferences)[ FD ]
Line_28 $$ companyId = ownerId-->Line_42 $$ companyId = getCompanyId("select companyId from User_ where userId = ?", ownerId)[ FD ]
Line_24 $$ long companyId = 0-->Line_46 $$ if (companyId > 0) [ FD ]
Line_26 $$ companyId = getCompanyId("select companyId from PortletItem where " + "portletItemId = ?", ownerId)-->Line_37 $$ companyId = (Long) layout[1][ FD ]
Line_24 $$ long companyId = 0-->Line_47 $$ String newPreferences = upgradePreferences(companyId, ownerId, ownerType, plid, portletId, preferences)[ FD ]
Line_4 $$ ResultSet rs = null-->Line_21 $$ long plid = rs.getLong("plid")[ FD ]
Line_9 $$ String whereClause = getUpdatePortletPreferencesWhereClause()-->Line_10 $$ if (Validator.isNotNull(whereClause)) [ FD ]
Line_18 $$ long portletPreferencesId = rs.getLong("portletPreferencesId")-->Line_52 $$ deletePortletPreferences(portletPreferencesId)[ FD ]
Line_19 $$ long ownerId = rs.getLong("ownerId")-->Line_42 $$ companyId = getCompanyId("select companyId from User_ where userId = ?", ownerId)[ FD ]
Line_37 $$ companyId = (Long) layout[1]-->Line_46 $$ if (companyId > 0) [ FD ]
Line_24 $$ long companyId = 0-->Line_42 $$ companyId = getCompanyId("select companyId from User_ where userId = ?", ownerId)[ FD ]
Line_20 $$ int ownerType = rs.getInt("ownerType")-->Line_41 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_USER) [ FD ]
Line_46 $$ if (companyId > 0) -->Line_48 $$ if (!preferences.equals(newPreferences)) [ CD ]
Line_21 $$ long plid = rs.getLong("plid")-->Line_35 $$ Object[] layout = getLayout(plid)[ FD ]
Line_6 $$ StringBundler sb = new StringBundler(4)-->Line_7 $$ sb.append("select portletPreferencesId, ownerId, ownerType, ")[ FD ]
Line_10 $$ if (Validator.isNotNull(whereClause)) -->Line_11 $$ sb.append(" where ")[ CD ]
Line_4 $$ ResultSet rs = null-->Line_16 $$ rs = ps.executeQuery()[ FD ]
Line_6 $$ StringBundler sb = new StringBundler(4)-->Line_12 $$ sb.append(whereClause)[ FD ]
Line_29 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_GROUP) -->Line_34 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_LAYOUT) [ CD ]
Line_20 $$ int ownerType = rs.getInt("ownerType")-->Line_27 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_COMPANY) [ FD ]
Line_41 $$ if (ownerType == PortletKeys.PREFS_OWNER_TYPE_USER) -->Line_42 $$ companyId = getCompanyId("select companyId from User_ where userId = ?", ownerId)[ CD ]
Line_16 $$ rs = ps.executeQuery()-->Line_23 $$ String preferences = GetterUtil.getString(rs.getString("preferences"))[ FD ]
Line_23 $$ String preferences = GetterUtil.getString(rs.getString("preferences"))-->Line_47 $$ String newPreferences = upgradePreferences(companyId, ownerId, ownerType, plid, portletId, preferences)[ FD ]
Line_4 $$ ResultSet rs = null-->Line_18 $$ long portletPreferencesId = rs.getLong("portletPreferencesId")[ FD ]
Line_17 $$ while (rs.next()) -->Line_46 $$ if (companyId > 0) [ CD ]
