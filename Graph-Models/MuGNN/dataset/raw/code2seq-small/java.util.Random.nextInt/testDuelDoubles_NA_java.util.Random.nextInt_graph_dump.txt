Line_41 $$ LeafReaderContext context = refreshReader()-->Line_59 $$ duelFieldDataDouble(random, context, leftFieldData, rightFieldData)[ FD ]
Line_47 $$ Entry<FieldDataType, Type> left-->Line_50 $$ left = list.remove(random.nextInt(list.size()))[ FD ]
Line_2 $$ public void testDuelDoubles() throws Exception -->Line_3 $$ final String mapping = XContentFactory.jsonBuilder().startObject().startObject("type").startObject("properties").startObject("float").field("type", "float").endObject().startObject("double").field("type", "double").endObject().endObject().endObject().endObject().string()[ CD ]
Line_9 $$ for (int i = 0; i < atLeast; i++) -->Line_21 $$ numValues = vals.size()[ CD ]
Line_58 $$ IndexNumericFieldData rightFieldData = getForField(right.getKey(), right.getValue().name().toLowerCase(Locale.ROOT), true)-->Line_59 $$ duelFieldDataDouble(random, context, leftFieldData, rightFieldData)[ FD ]
Line_46 $$ while (!list.isEmpty()) -->Line_61 $$ DirectoryReader perSegment = DirectoryReader.open(writer, true)[ CD ]
Line_2 $$ public void testDuelDoubles() throws Exception -->Line_45 $$ ArrayList<Entry<FieldDataType, Type>> list = new ArrayList(typeMap.entrySet())[ CD ]
Line_49 $$ if (list.size() > 1) -->Line_50 $$ left = list.remove(random.nextInt(list.size()))[ CD ]
Line_5 $$ Random random = getRandom()-->Line_50 $$ left = list.remove(random.nextInt(list.size()))[ FD ]
Line_51 $$ right = list.remove(random.nextInt(list.size()))-->Line_58 $$ IndexNumericFieldData rightFieldData = getForField(right.getKey(), right.getValue().name().toLowerCase(Locale.ROOT), true)[ FD ]
Line_10 $$ int numValues = randomInt(maxNumValues)-->Line_14 $$ for (int j = 0; j < numValues; ++j) [ FD ]
Line_62 $$ CompositeReaderContext composite = perSegment.getContext()-->Line_63 $$ List<LeafReaderContext> leaves = composite.leaves()[ FD ]
Line_49 $$ if (list.size() > 1) -->Line_51 $$ right = list.remove(random.nextInt(list.size()))[ CD ]
Line_45 $$ ArrayList<Entry<FieldDataType, Type>> list = new ArrayList(typeMap.entrySet())-->Line_53 $$ right = left = list.remove(0)[ FD ]
Line_45 $$ ArrayList<Entry<FieldDataType, Type>> list = new ArrayList(typeMap.entrySet())-->Line_51 $$ right = list.remove(random.nextInt(list.size()))[ FD ]
Line_2 $$ public void testDuelDoubles() throws Exception -->Line_41 $$ LeafReaderContext context = refreshReader()[ CD ]
Line_14 $$ for (int j = 0; j < numValues; ++j) -->Line_27 $$ for (int j = 0; j < numValues; ++j) [ FD ]
Line_42 $$ Map<FieldDataType, Type> typeMap = new HashMap()-->Line_45 $$ ArrayList<Entry<FieldDataType, Type>> list = new ArrayList(typeMap.entrySet())[ FD ]
Line_21 $$ numValues = vals.size()-->Line_31 $$ for (int j = 0; j < numValues; ++j) [ FD ]
Line_9 $$ for (int i = 0; i < atLeast; i++) -->Line_35 $$ final ParsedDocument d = mapper.parse("test", "type", Integer.toString(i), doc.bytes())[ CD ]
Line_45 $$ ArrayList<Entry<FieldDataType, Type>> list = new ArrayList(typeMap.entrySet())-->Line_46 $$ while (!list.isEmpty()) [ FD ]
Line_47 $$ Entry<FieldDataType, Type> left-->Line_56 $$ IndexNumericFieldData leftFieldData = getForField(left.getKey(), left.getValue().name().toLowerCase(Locale.ROOT), true)[ FD ]
Line_7 $$ final int maxNumValues = randomBoolean() ? 1 : randomIntBetween(2, 10)-->Line_10 $$ int numValues = randomInt(maxNumValues)[ FD ]
Line_46 $$ while (!list.isEmpty()) -->Line_63 $$ List<LeafReaderContext> leaves = composite.leaves()[ CD ]
Line_48 $$ Entry<FieldDataType, Type> right-->Line_51 $$ right = list.remove(random.nextInt(list.size()))[ FD ]
Line_46 $$ while (!list.isEmpty()) -->Line_56 $$ IndexNumericFieldData leftFieldData = getForField(left.getKey(), left.getValue().name().toLowerCase(Locale.ROOT), true)[ CD ]
Line_9 $$ for (int i = 0; i < atLeast; i++) -->Line_31 $$ for (int j = 0; j < numValues; ++j) [ CD ]
Line_2 $$ public void testDuelDoubles() throws Exception -->Line_7 $$ final int maxNumValues = randomBoolean() ? 1 : randomIntBetween(2, 10)[ CD ]
Line_61 $$ DirectoryReader perSegment = DirectoryReader.open(writer, true)-->Line_62 $$ CompositeReaderContext composite = perSegment.getContext()[ FD ]
Line_27 $$ for (int j = 0; j < numValues; ++j) -->Line_28 $$ doc = doc.value(values[j])[ CD ]
Line_27 $$ for (int j = 0; j < numValues; ++j) -->Line_31 $$ for (int j = 0; j < numValues; ++j) [ FD ]
Line_49 $$ if (list.size() > 1) -->Line_53 $$ right = left = list.remove(0)[ CD ]
Line_5 $$ Random random = getRandom()-->Line_51 $$ right = list.remove(random.nextInt(list.size()))[ FD ]
Line_53 $$ right = left = list.remove(0)-->Line_56 $$ IndexNumericFieldData leftFieldData = getForField(left.getKey(), left.getValue().name().toLowerCase(Locale.ROOT), true)[ FD ]
Line_9 $$ for (int i = 0; i < atLeast; i++) -->Line_34 $$ doc = doc.endArray().endObject()[ CD ]
Line_46 $$ while (!list.isEmpty()) -->Line_48 $$ Entry<FieldDataType, Type> right[ CD ]
Line_10 $$ int numValues = randomInt(maxNumValues)-->Line_27 $$ for (int j = 0; j < numValues; ++j) [ FD ]
Line_53 $$ right = left = list.remove(0)-->Line_58 $$ IndexNumericFieldData rightFieldData = getForField(right.getKey(), right.getValue().name().toLowerCase(Locale.ROOT), true)[ FD ]
Line_5 $$ Random random = getRandom()-->Line_59 $$ duelFieldDataDouble(random, context, leftFieldData, rightFieldData)[ FD ]
Line_6 $$ int atLeast = scaledRandomIntBetween(200, 1500)-->Line_9 $$ for (int i = 0; i < atLeast; i++) [ FD ]
Line_46 $$ while (!list.isEmpty()) -->Line_47 $$ Entry<FieldDataType, Type> left[ CD ]
Line_9 $$ for (int i = 0; i < atLeast; i++) -->Line_36 $$ writer.addDocument(d.rootDoc())[ CD ]
Line_48 $$ Entry<FieldDataType, Type> right-->Line_53 $$ right = left = list.remove(0)[ FD ]
Line_9 $$ for (int i = 0; i < atLeast; i++) -->Line_26 $$ XContentBuilder doc = XContentFactory.jsonBuilder().startObject().startArray("float")[ CD ]
Line_2 $$ public void testDuelDoubles() throws Exception -->Line_9 $$ for (int i = 0; i < atLeast; i++) [ CD ]
Line_2 $$ public void testDuelDoubles() throws Exception -->Line_6 $$ int atLeast = scaledRandomIntBetween(200, 1500)[ CD ]
Line_50 $$ left = list.remove(random.nextInt(list.size()))-->Line_53 $$ right = left = list.remove(0)[ FD ]
Line_50 $$ left = list.remove(random.nextInt(list.size()))-->Line_56 $$ IndexNumericFieldData leftFieldData = getForField(left.getKey(), left.getValue().name().toLowerCase(Locale.ROOT), true)[ FD ]
Line_46 $$ while (!list.isEmpty()) -->Line_58 $$ IndexNumericFieldData rightFieldData = getForField(right.getKey(), right.getValue().name().toLowerCase(Locale.ROOT), true)[ CD ]
Line_31 $$ for (int j = 0; j < numValues; ++j) -->Line_32 $$ doc = doc.value(values[j])[ CD ]
Line_14 $$ for (int j = 0; j < numValues; ++j) -->Line_15 $$ if (randomBoolean()) [ CD ]
Line_46 $$ while (!list.isEmpty()) -->Line_59 $$ duelFieldDataDouble(random, context, leftFieldData, rightFieldData)[ CD ]
Line_5 $$ Random random = getRandom()-->Line_60 $$ duelFieldDataDouble(random, context, rightFieldData, leftFieldData)[ FD ]
Line_47 $$ Entry<FieldDataType, Type> left-->Line_53 $$ right = left = list.remove(0)[ FD ]
Line_9 $$ for (int i = 0; i < atLeast; i++) -->Line_11 $$ float def = randomBoolean() ? randomFloat() : Float.NaN[ CD ]
Line_45 $$ ArrayList<Entry<FieldDataType, Type>> list = new ArrayList(typeMap.entrySet())-->Line_50 $$ left = list.remove(random.nextInt(list.size()))[ FD ]
Line_42 $$ Map<FieldDataType, Type> typeMap = new HashMap()-->Line_44 $$ typeMap.put(new FieldDataType("float", Settings.builder().put("format", "doc_values")), Type.Float)[ FD ]
Line_56 $$ IndexNumericFieldData leftFieldData = getForField(left.getKey(), left.getValue().name().toLowerCase(Locale.ROOT), true)-->Line_65 $$ duelFieldDataDouble(random, atomicReaderContext, leftFieldData, rightFieldData)[ FD ]
Line_56 $$ IndexNumericFieldData leftFieldData = getForField(left.getKey(), left.getValue().name().toLowerCase(Locale.ROOT), true)-->Line_59 $$ duelFieldDataDouble(random, context, leftFieldData, rightFieldData)[ FD ]
Line_46 $$ while (!list.isEmpty()) -->Line_62 $$ CompositeReaderContext composite = perSegment.getContext()[ CD ]
Line_5 $$ Random random = getRandom()-->Line_37 $$ if (random.nextInt(10) == 0) [ FD ]
Line_4 $$ final DocumentMapper mapper = mapperService.documentMapperParser().parse("type", new CompressedXContent(mapping))-->Line_35 $$ final ParsedDocument d = mapper.parse("test", "type", Integer.toString(i), doc.bytes())[ FD ]
Line_5 $$ Random random = getRandom()-->Line_65 $$ duelFieldDataDouble(random, atomicReaderContext, leftFieldData, rightFieldData)[ FD ]
Line_2 $$ public void testDuelDoubles() throws Exception -->Line_42 $$ Map<FieldDataType, Type> typeMap = new HashMap()[ CD ]
Line_9 $$ for (int i = 0; i < atLeast; i++) -->Line_10 $$ int numValues = randomInt(maxNumValues)[ CD ]
Line_10 $$ int numValues = randomInt(maxNumValues)-->Line_21 $$ numValues = vals.size()[ FD ]
Line_45 $$ ArrayList<Entry<FieldDataType, Type>> list = new ArrayList(typeMap.entrySet())-->Line_49 $$ if (list.size() > 1) [ FD ]
Line_51 $$ right = list.remove(random.nextInt(list.size()))-->Line_53 $$ right = left = list.remove(0)[ FD ]
Line_2 $$ public void testDuelDoubles() throws Exception -->Line_44 $$ typeMap.put(new FieldDataType("float", Settings.builder().put("format", "doc_values")), Type.Float)[ CD ]
Line_64 $$ for (LeafReaderContext atomicReaderContext : leaves) -->Line_65 $$ duelFieldDataDouble(random, atomicReaderContext, leftFieldData, rightFieldData)[ FD ]
Line_2 $$ public void testDuelDoubles() throws Exception -->Line_43 $$ typeMap.put(new FieldDataType("double", Settings.builder().put("format", "doc_values")), Type.Double)[ CD ]
Line_14 $$ for (int j = 0; j < numValues; ++j) -->Line_31 $$ for (int j = 0; j < numValues; ++j) [ FD ]
Line_58 $$ IndexNumericFieldData rightFieldData = getForField(right.getKey(), right.getValue().name().toLowerCase(Locale.ROOT), true)-->Line_60 $$ duelFieldDataDouble(random, context, rightFieldData, leftFieldData)[ FD ]
Line_46 $$ while (!list.isEmpty()) -->Line_60 $$ duelFieldDataDouble(random, context, rightFieldData, leftFieldData)[ CD ]
Line_2 $$ public void testDuelDoubles() throws Exception -->Line_4 $$ final DocumentMapper mapper = mapperService.documentMapperParser().parse("type", new CompressedXContent(mapping))[ CD ]
Line_2 $$ public void testDuelDoubles() throws Exception -->Line_5 $$ Random random = getRandom()[ CD ]
Line_9 $$ for (int i = 0; i < atLeast; i++) -->Line_27 $$ for (int j = 0; j < numValues; ++j) [ CD ]
Line_2 $$ public void testDuelDoubles() throws Exception -->Line_8 $$ float[] values = new float[maxNumValues][ CD ]
Line_56 $$ IndexNumericFieldData leftFieldData = getForField(left.getKey(), left.getValue().name().toLowerCase(Locale.ROOT), true)-->Line_60 $$ duelFieldDataDouble(random, context, rightFieldData, leftFieldData)[ FD ]
Line_15 $$ if (randomBoolean()) -->Line_18 $$ vals.add(randomFloat())[ CD ]
Line_15 $$ if (randomBoolean()) -->Line_16 $$ vals.add(def)[ CD ]
Line_21 $$ numValues = vals.size()-->Line_27 $$ for (int j = 0; j < numValues; ++j) [ FD ]
Line_48 $$ Entry<FieldDataType, Type> right-->Line_58 $$ IndexNumericFieldData rightFieldData = getForField(right.getKey(), right.getValue().name().toLowerCase(Locale.ROOT), true)[ FD ]
Line_46 $$ while (!list.isEmpty()) -->Line_49 $$ if (list.size() > 1) [ CD ]
Line_42 $$ Map<FieldDataType, Type> typeMap = new HashMap()-->Line_43 $$ typeMap.put(new FieldDataType("double", Settings.builder().put("format", "doc_values")), Type.Double)[ FD ]
Line_9 $$ for (int i = 0; i < atLeast; i++) -->Line_35 $$ final ParsedDocument d = mapper.parse("test", "type", Integer.toString(i), doc.bytes())[ FD ]
Line_11 $$ float def = randomBoolean() ? randomFloat() : Float.NaN-->Line_16 $$ vals.add(def)[ FD ]
Line_9 $$ for (int i = 0; i < atLeast; i++) -->Line_30 $$ doc = doc.endArray().startArray("double")[ CD ]
Line_2 $$ public void testDuelDoubles() throws Exception -->Line_46 $$ while (!list.isEmpty()) [ CD ]
Line_46 $$ while (!list.isEmpty()) -->Line_55 $$ ifdService.clear()[ CD ]
Line_58 $$ IndexNumericFieldData rightFieldData = getForField(right.getKey(), right.getValue().name().toLowerCase(Locale.ROOT), true)-->Line_65 $$ duelFieldDataDouble(random, atomicReaderContext, leftFieldData, rightFieldData)[ FD ]
Line_9 $$ for (int i = 0; i < atLeast; i++) -->Line_14 $$ for (int j = 0; j < numValues; ++j) [ CD ]
Line_41 $$ LeafReaderContext context = refreshReader()-->Line_60 $$ duelFieldDataDouble(random, context, rightFieldData, leftFieldData)[ FD ]
Line_9 $$ for (int i = 0; i < atLeast; i++) -->Line_37 $$ if (random.nextInt(10) == 0) [ CD ]
Line_10 $$ int numValues = randomInt(maxNumValues)-->Line_31 $$ for (int j = 0; j < numValues; ++j) [ FD ]
Line_46 $$ while (!list.isEmpty()) -->Line_57 $$ ifdService.clear()[ CD ]
Line_37 $$ if (random.nextInt(10) == 0) -->Line_38 $$ refreshReader()[ CD ]
