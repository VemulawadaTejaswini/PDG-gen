Line_47 $$ if (isDirty) -->Line_55 $$ AffineTransform translateInstance = AffineTransform.getTranslateInstance(gutterWidth, myEditor.getLineHeight() * (myCacheStartLine - myStartVisualLine))[ CD ]
Line_72 $$ s = StringUtil.unescapeXml(s)-->Line_92 $$ g2d.drawString(s, placeToShow.x + R, placeToShow.y + h - g2d.getFontMetrics(g2d.getFont()).getDescent() / 2 - 2)[ FD ]
Line_49 $$ Graphics2D g2d = myCacheLevel1.createGraphics()-->Line_82 $$ int w = g2d.getFontMetrics().stringWidth(s)[ FD ]
Line_7 $$ final JPanel editorFragmentPreviewPanel = new JPanel() -->Line_10 $$ int width = myEditor.getGutterComponentEx().getWidth() + myEditor.getScrollingModel().getVisibleArea().width - myEditor.getVerticalScrollBar().getWidth()[ CD ]
Line_71 $$ s = s.replaceAll("&nbsp;", " ").replaceAll("\\s+", " ")-->Line_72 $$ s = StringUtil.unescapeXml(s)[ FD ]
Line_21 $$ if (myCacheLevel2 == null || myCacheStartLine > myStartVisualLine || myCacheEndLine < myEndVisualLine) -->Line_31 $$ AffineTransform translateInstance = AffineTransform.getTranslateInstance(-3, lineShift)[ CD ]
Line_125 $$ myEditorPreviewHint = new LightweightHint(editorFragmentPreviewPanel) -->Line_127 $$ super.hide(ok)[ FD ]
Line_4 $$ boolean needDelay = false-->Line_6 $$ needDelay = true[ FD ]
Line_101 $$ if (UIUtil.isUnderDarcula()) -->Line_116 $$ bottomArea.subtract(topArea)[ CD ]
Line_21 $$ if (myCacheLevel2 == null || myCacheStartLine > myStartVisualLine || myCacheEndLine < myEndVisualLine) -->Line_22 $$ myCacheStartLine = fitLineToEditor(myVisualLine - myCachePreviewLines)[ CD ]
Line_101 $$ if (UIUtil.isUnderDarcula()) -->Line_112 $$ topArea.add(new Area(topShape2))[ CD ]
Line_129 $$ if (myCacheLevel2 != null) -->Line_132 $$ myCacheEndLine = -1[ CD ]
Line_49 $$ Graphics2D g2d = myCacheLevel1.createGraphics()-->Line_88 $$ g2d.fillRoundRect(placeToShow.x, placeToShow.y, w + 2 * R, h, R, R)[ FD ]
Line_7 $$ final JPanel editorFragmentPreviewPanel = new JPanel() -->Line_96 $$ Graphics2D g2 = (Graphics2D) g.create()[ CD ]
Line_21 $$ if (myCacheLevel2 == null || myCacheStartLine > myStartVisualLine || myCacheEndLine < myEndVisualLine) -->Line_39 $$ EditorComponentImpl contentComponent = myEditor.getContentComponent()[ CD ]
Line_96 $$ Graphics2D g2 = (Graphics2D) g.create()-->Line_114 $$ g2.fill(topArea)[ FD ]
Line_10 $$ int width = myEditor.getGutterComponentEx().getWidth() + myEditor.getScrollingModel().getVisibleArea().width - myEditor.getVerticalScrollBar().getWidth()-->Line_12 $$ width--[ FD ]
Line_96 $$ Graphics2D g2 = (Graphics2D) g.create()-->Line_118 $$ g2.fill(bottomArea)[ FD ]
Line_19 $$ EditorGutterComponentEx gutterComponentEx = myEditor.getGutterComponentEx()-->Line_35 $$ gutterComponentEx.paint(cg)[ FD ]
Line_101 $$ if (UIUtil.isUnderDarcula()) -->Line_106 $$ int ry = myEditor.getLineHeight() * 3 / 2[ CD ]
Line_73 $$ LogicalPosition logicalPosition = myEditor.offsetToLogicalPosition(hEndOffset)-->Line_75 $$ logicalPosition = myEditor.offsetToLogicalPosition(endOfLineOffset)[ FD ]
Line_61 $$ for (RangeHighlighterEx ex : myHighlighters) -->Line_62 $$ if (!ex.isValid())[ FD ]
Line_27 $$ Graphics2D cg = myCacheLevel2.createGraphics()-->Line_35 $$ gutterComponentEx.paint(cg)[ FD ]
Line_68 $$ String s = String.valueOf(tooltip)-->Line_69 $$ if (s.isEmpty())[ FD ]
Line_115 $$ Area bottomArea = new Area(s)-->Line_118 $$ g2.fill(bottomArea)[ FD ]
Line_49 $$ Graphics2D g2d = myCacheLevel1.createGraphics()-->Line_81 $$ g2d.setFont(font.deriveFont(font.getSize() * .8F))[ FD ]
Line_101 $$ if (UIUtil.isUnderDarcula()) -->Line_104 $$ double cy = 0[ CD ]
Line_101 $$ if (UIUtil.isUnderDarcula()) -->Line_109 $$ Shape topShape1 = new Ellipse2D.Double(cx - rx - pseudoMajorAxis / 2, cy - ry, 2 * rx, 2 * ry)[ CD ]
Line_65 $$ Object tooltip = ex.getErrorStripeTooltip()-->Line_68 $$ String s = String.valueOf(tooltip)[ FD ]
Line_75 $$ logicalPosition = myEditor.offsetToLogicalPosition(endOfLineOffset)-->Line_77 $$ logicalPosition = myEditor.xyToLogicalPosition(placeToShow)[ FD ]
Line_21 $$ if (myCacheLevel2 == null || myCacheStartLine > myStartVisualLine || myCacheEndLine < myEndVisualLine) -->Line_29 $$ EditorUIUtil.setupAntialiasing(cg)[ CD ]
Line_64 $$ int hEndOffset = ex.getAffectedAreaEndOffset()-->Line_73 $$ LogicalPosition logicalPosition = myEditor.offsetToLogicalPosition(hEndOffset)[ FD ]
Line_36 $$ translateInstance = AffineTransform.getTranslateInstance(gutterWidth - 3, lineShift)-->Line_56 $$ translateInstance.preConcatenate(transform)[ FD ]
Line_5 $$ if (myEditorPreviewHint == null) -->Line_7 $$ final JPanel editorFragmentPreviewPanel = new JPanel() [ CD ]
Line_21 $$ if (myCacheLevel2 == null || myCacheStartLine > myStartVisualLine || myCacheEndLine < myEndVisualLine) -->Line_24 $$ if (myCacheLevel2 == null) [ CD ]
Line_3 $$ final HintManagerImpl hintManager = HintManagerImpl.getInstanceImpl()-->Line_158 $$ showEditorHint(hintManager, point, hintInfo)[ FD ]
Line_7 $$ final JPanel editorFragmentPreviewPanel = new JPanel() -->Line_47 $$ if (isDirty) [ CD ]
Line_2 $$ public LightweightHint show(@NotNull final Editor editor, @NotNull Point p, boolean alignToRight, @NotNull TooltipGroup group, @NotNull final HintHint hintInfo) -->Line_141 $$ hintInfo.setBorderColor(myEditor.getColorsScheme().getDefaultForeground())[ CD ]
Line_47 $$ if (isDirty) -->Line_50 $$ final AffineTransform transform = g2d.getTransform()[ CD ]
Line_2 $$ public LightweightHint show(@NotNull final Editor editor, @NotNull Point p, boolean alignToRight, @NotNull TooltipGroup group, @NotNull final HintHint hintInfo) -->Line_5 $$ if (myEditorPreviewHint == null) [ CD ]
Line_101 $$ if (UIUtil.isUnderDarcula()) -->Line_107 $$ g2.setPaint(new GradientPaint(0, 0, Gray._255.withAlpha(75), 0, ry, Gray._255.withAlpha(10)))[ CD ]
Line_28 $$ final AffineTransform t = cg.getTransform()-->Line_32 $$ translateInstance.preConcatenate(t)[ FD ]
Line_7 $$ final JPanel editorFragmentPreviewPanel = new JPanel() -->Line_16 $$ if (myVisualLine == -1)[ CD ]
Line_111 $$ Area topArea = new Area(topShape1)-->Line_116 $$ bottomArea.subtract(topArea)[ FD ]
Line_83 $$ int rightEdge = rightEdges.get(logicalPosition.line)-->Line_86 $$ rightEdges.put(logicalPosition.line, rightEdge)[ FD ]
Line_27 $$ Graphics2D cg = myCacheLevel2.createGraphics()-->Line_40 $$ cg.setClip(0, -lineShift, contentComponent.getWidth(), myCacheLevel2.getHeight())[ FD ]
Line_7 $$ final JPanel editorFragmentPreviewPanel = new JPanel() -->Line_13 $$ return new Dimension(width - BalloonImpl.POINTER_WIDTH, myEditor.getLineHeight() * (myEndVisualLine - myStartVisualLine))[ CD ]
Line_19 $$ EditorGutterComponentEx gutterComponentEx = myEditor.getGutterComponentEx()-->Line_20 $$ int gutterWidth = gutterComponentEx.getWidth()[ FD ]
Line_31 $$ AffineTransform translateInstance = AffineTransform.getTranslateInstance(-3, lineShift)-->Line_56 $$ translateInstance.preConcatenate(transform)[ FD ]
Line_68 $$ String s = String.valueOf(tooltip)-->Line_71 $$ s = s.replaceAll("&nbsp;", " ").replaceAll("\\s+", " ")[ FD ]
Line_2 $$ public LightweightHint show(@NotNull final Editor editor, @NotNull Point p, boolean alignToRight, @NotNull TooltipGroup group, @NotNull final HintHint hintInfo) -->Line_143 $$ myPointHolder.set(point)[ CD ]
Line_150 $$ if (myEditorPreviewHint == null || !myDelayed)-->Line_151 $$ return[ CD ]
Line_5 $$ if (myEditorPreviewHint == null) -->Line_6 $$ needDelay = true[ CD ]
Line_59 $$ TIntIntHashMap rightEdges = new TIntIntHashMap()-->Line_83 $$ int rightEdge = rightEdges.get(logicalPosition.line)[ FD ]
Line_96 $$ Graphics2D g2 = (Graphics2D) g.create()-->Line_100 $$ UIUtil.drawImage(g2, myCacheLevel1, 0, 0, this)[ FD ]
Line_68 $$ String s = String.valueOf(tooltip)-->Line_82 $$ int w = g2d.getFontMetrics().stringWidth(s)[ FD ]
Line_61 $$ for (RangeHighlighterEx ex : myHighlighters) -->Line_65 $$ Object tooltip = ex.getErrorStripeTooltip()[ FD ]
Line_31 $$ AffineTransform translateInstance = AffineTransform.getTranslateInstance(-3, lineShift)-->Line_32 $$ translateInstance.preConcatenate(t)[ FD ]
Line_21 $$ if (myCacheLevel2 == null || myCacheStartLine > myStartVisualLine || myCacheEndLine < myEndVisualLine) -->Line_35 $$ gutterComponentEx.paint(cg)[ CD ]
Line_21 $$ if (myCacheLevel2 == null || myCacheStartLine > myStartVisualLine || myCacheEndLine < myEndVisualLine) -->Line_41 $$ contentComponent.paint(cg)[ CD ]
Line_125 $$ myEditorPreviewHint = new LightweightHint(editorFragmentPreviewPanel) -->Line_127 $$ super.hide(ok)[ CD ]
Line_36 $$ translateInstance = AffineTransform.getTranslateInstance(gutterWidth - 3, lineShift)-->Line_38 $$ cg.setTransform(translateInstance)[ FD ]
Line_4 $$ boolean needDelay = false-->Line_145 $$ if (needDelay && !myShowInstantly) [ FD ]
Line_21 $$ if (myCacheLevel2 == null || myCacheStartLine > myStartVisualLine || myCacheEndLine < myEndVisualLine) -->Line_30 $$ int lineShift = -myEditor.getLineHeight() * myCacheStartLine[ CD ]
Line_36 $$ translateInstance = AffineTransform.getTranslateInstance(gutterWidth - 3, lineShift)-->Line_57 $$ g2d.setTransform(translateInstance)[ FD ]
Line_157 $$ if (!myDelayed) -->Line_158 $$ showEditorHint(hintManager, point, hintInfo)[ CD ]
Line_7 $$ final JPanel editorFragmentPreviewPanel = new JPanel() -->Line_11 $$ if (!ToolWindowManagerEx.getInstanceEx(myEditor.getProject()).getIdsOn(ToolWindowAnchor.LEFT).isEmpty())[ CD ]
Line_27 $$ Graphics2D cg = myCacheLevel2.createGraphics()-->Line_38 $$ cg.setTransform(translateInstance)[ FD ]
Line_73 $$ LogicalPosition logicalPosition = myEditor.offsetToLogicalPosition(hEndOffset)-->Line_77 $$ logicalPosition = myEditor.xyToLogicalPosition(placeToShow)[ FD ]
Line_60 $$ int h = myEditor.getLineHeight() - 2-->Line_88 $$ g2d.fillRoundRect(placeToShow.x, placeToShow.y, w + 2 * R, h, R, R)[ FD ]
Line_21 $$ if (myCacheLevel2 == null || myCacheStartLine > myStartVisualLine || myCacheEndLine < myEndVisualLine) -->Line_37 $$ translateInstance.preConcatenate(t)[ CD ]
Line_5 $$ if (myEditorPreviewHint == null) -->Line_137 $$ myEditorPreviewHint.setForceLightweightPopup(true)[ CD ]
Line_101 $$ if (UIUtil.isUnderDarcula()) -->Line_115 $$ Area bottomArea = new Area(s)[ CD ]
Line_28 $$ final AffineTransform t = cg.getTransform()-->Line_37 $$ translateInstance.preConcatenate(t)[ FD ]
Line_148 $$ alarm.addRequest(new Runnable() -->Line_152 $$ showEditorHint(hintManager, myPointHolder.get(), myHintHolder.get())[ CD ]
Line_75 $$ logicalPosition = myEditor.offsetToLogicalPosition(endOfLineOffset)-->Line_76 $$ Point placeToShow = myEditor.logicalPositionToXY(logicalPosition)[ FD ]
Line_49 $$ Graphics2D g2d = myCacheLevel1.createGraphics()-->Line_87 $$ g2d.setColor(MessageType.WARNING.getPopupBackground())[ FD ]
Line_96 $$ Graphics2D g2 = (Graphics2D) g.create()-->Line_99 $$ g2.setClip(new RoundRectangle2D.Double(0, 0, size.width - .5, size.height - .5, 2, 2))[ FD ]
Line_71 $$ s = s.replaceAll("&nbsp;", " ").replaceAll("\\s+", " ")-->Line_82 $$ int w = g2d.getFontMetrics().stringWidth(s)[ FD ]
Line_2 $$ public LightweightHint show(@NotNull final Editor editor, @NotNull Point p, boolean alignToRight, @NotNull TooltipGroup group, @NotNull final HintHint hintInfo) -->Line_140 $$ hintInfo.setTextBg(myEditor.getColorsScheme().getDefaultBackground())[ CD ]
Line_85 $$ rightEdge = Math.max(rightEdge, placeToShow.x + w + 3 * R)-->Line_86 $$ rightEdges.put(logicalPosition.line, rightEdge)[ FD ]
Line_20 $$ int gutterWidth = gutterComponentEx.getWidth()-->Line_34 $$ cg.setClip(0, -lineShift, gutterWidth, myCacheLevel2.getHeight())[ FD ]
Line_30 $$ int lineShift = -myEditor.getLineHeight() * myCacheStartLine-->Line_34 $$ cg.setClip(0, -lineShift, gutterWidth, myCacheLevel2.getHeight())[ FD ]
Line_101 $$ if (UIUtil.isUnderDarcula()) -->Line_110 $$ Shape topShape2 = new Ellipse2D.Double(cx - rx + pseudoMajorAxis / 2, cy - ry, 2 * rx, 2 * ry)[ CD ]
Line_43 $$ if (myCacheLevel1 == null) -->Line_44 $$ myCacheLevel1 = UIUtil.createImage(size.width, myEditor.getLineHeight() * (2 * myPreviewLines + 1), BufferedImage.TYPE_INT_RGB)[ CD ]
Line_47 $$ if (isDirty) -->Line_51 $$ EditorUIUtil.setupAntialiasing(g2d)[ CD ]
Line_21 $$ if (myCacheLevel2 == null || myCacheStartLine > myStartVisualLine || myCacheEndLine < myEndVisualLine) -->Line_38 $$ cg.setTransform(translateInstance)[ CD ]
Line_129 $$ if (myCacheLevel2 != null) -->Line_131 $$ myCacheStartLine = -1[ CD ]
Line_49 $$ Graphics2D g2d = myCacheLevel1.createGraphics()-->Line_92 $$ g2d.drawString(s, placeToShow.x + R, placeToShow.y + h - g2d.getFontMetrics(g2d.getFont()).getDescent() / 2 - 2)[ FD ]
Line_7 $$ final JPanel editorFragmentPreviewPanel = new JPanel() -->Line_96 $$ Graphics2D g2 = (Graphics2D) g.create()[ FD ]
Line_73 $$ LogicalPosition logicalPosition = myEditor.offsetToLogicalPosition(hEndOffset)-->Line_76 $$ Point placeToShow = myEditor.logicalPositionToXY(logicalPosition)[ FD ]
Line_47 $$ if (isDirty) -->Line_56 $$ translateInstance.preConcatenate(transform)[ CD ]
Line_21 $$ if (myCacheLevel2 == null || myCacheStartLine > myStartVisualLine || myCacheEndLine < myEndVisualLine) -->Line_40 $$ cg.setClip(0, -lineShift, contentComponent.getWidth(), myCacheLevel2.getHeight())[ CD ]
Line_47 $$ if (isDirty) -->Line_59 $$ TIntIntHashMap rightEdges = new TIntIntHashMap()[ CD ]
Line_47 $$ if (isDirty) -->Line_58 $$ UIUtil.drawImage(g2d, myCacheLevel2, -gutterWidth, 0, null)[ CD ]
Line_21 $$ if (myCacheLevel2 == null || myCacheStartLine > myStartVisualLine || myCacheEndLine < myEndVisualLine) -->Line_23 $$ myCacheEndLine = fitLineToEditor(myCacheStartLine + 2 * myCachePreviewLines + 1)[ CD ]
Line_31 $$ AffineTransform translateInstance = AffineTransform.getTranslateInstance(-3, lineShift)-->Line_38 $$ cg.setTransform(translateInstance)[ FD ]
Line_31 $$ AffineTransform translateInstance = AffineTransform.getTranslateInstance(-3, lineShift)-->Line_36 $$ translateInstance = AffineTransform.getTranslateInstance(gutterWidth - 3, lineShift)[ FD ]
Line_27 $$ Graphics2D cg = myCacheLevel2.createGraphics()-->Line_33 $$ cg.setTransform(translateInstance)[ FD ]
Line_39 $$ EditorComponentImpl contentComponent = myEditor.getContentComponent()-->Line_41 $$ contentComponent.paint(cg)[ FD ]
Line_2 $$ public LightweightHint show(@NotNull final Editor editor, @NotNull Point p, boolean alignToRight, @NotNull TooltipGroup group, @NotNull final HintHint hintInfo) -->Line_160 $$ return myEditorPreviewHint[ CD ]
Line_65 $$ Object tooltip = ex.getErrorStripeTooltip()-->Line_66 $$ if (tooltip == null)[ FD ]
Line_101 $$ if (UIUtil.isUnderDarcula()) -->Line_114 $$ g2.fill(topArea)[ CD ]
Line_47 $$ if (isDirty) -->Line_49 $$ Graphics2D g2d = myCacheLevel1.createGraphics()[ CD ]
Line_47 $$ if (isDirty) -->Line_54 $$ g2d.fillRect(0, 0, getWidth(), getHeight())[ CD ]
Line_21 $$ if (myCacheLevel2 == null || myCacheStartLine > myStartVisualLine || myCacheEndLine < myEndVisualLine) -->Line_36 $$ translateInstance = AffineTransform.getTranslateInstance(gutterWidth - 3, lineShift)[ CD ]
Line_59 $$ TIntIntHashMap rightEdges = new TIntIntHashMap()-->Line_86 $$ rightEdges.put(logicalPosition.line, rightEdge)[ FD ]
Line_49 $$ Graphics2D g2d = myCacheLevel1.createGraphics()-->Line_90 $$ g2d.drawRoundRect(placeToShow.x, placeToShow.y, w + 2 * R, h, R, R)[ FD ]
Line_101 $$ if (UIUtil.isUnderDarcula()) -->Line_108 $$ double pseudoMajorAxis = size.width - rx * 9 / 5[ CD ]
Line_148 $$ alarm.addRequest(new Runnable() -->Line_150 $$ if (myEditorPreviewHint == null || !myDelayed)[ CD ]
Line_2 $$ public LightweightHint show(@NotNull final Editor editor, @NotNull Point p, boolean alignToRight, @NotNull TooltipGroup group, @NotNull final HintHint hintInfo) -->Line_3 $$ final HintManagerImpl hintManager = HintManagerImpl.getInstanceImpl()[ CD ]
Line_101 $$ if (UIUtil.isUnderDarcula()) -->Line_118 $$ g2.fill(bottomArea)[ CD ]
Line_145 $$ if (needDelay && !myShowInstantly) -->Line_148 $$ alarm.addRequest(new Runnable() [ CD ]
Line_115 $$ Area bottomArea = new Area(s)-->Line_116 $$ bottomArea.subtract(topArea)[ FD ]
Line_27 $$ Graphics2D cg = myCacheLevel2.createGraphics()-->Line_41 $$ contentComponent.paint(cg)[ FD ]
Line_6 $$ needDelay = true-->Line_145 $$ if (needDelay && !myShowInstantly) [ FD ]
Line_31 $$ AffineTransform translateInstance = AffineTransform.getTranslateInstance(-3, lineShift)-->Line_33 $$ cg.setTransform(translateInstance)[ FD ]
Line_27 $$ Graphics2D cg = myCacheLevel2.createGraphics()-->Line_34 $$ cg.setClip(0, -lineShift, gutterWidth, myCacheLevel2.getHeight())[ FD ]
Line_2 $$ public LightweightHint show(@NotNull final Editor editor, @NotNull Point p, boolean alignToRight, @NotNull TooltipGroup group, @NotNull final HintHint hintInfo) -->Line_144 $$ myHintHolder.set(hintInfo)[ CD ]
Line_2 $$ public LightweightHint show(@NotNull final Editor editor, @NotNull Point p, boolean alignToRight, @NotNull TooltipGroup group, @NotNull final HintHint hintInfo) -->Line_158 $$ showEditorHint(hintManager, point, hintInfo)[ FD ]
Line_61 $$ for (RangeHighlighterEx ex : myHighlighters) -->Line_64 $$ int hEndOffset = ex.getAffectedAreaEndOffset()[ FD ]
Line_30 $$ int lineShift = -myEditor.getLineHeight() * myCacheStartLine-->Line_40 $$ cg.setClip(0, -lineShift, contentComponent.getWidth(), myCacheLevel2.getHeight())[ FD ]
Line_101 $$ if (UIUtil.isUnderDarcula()) -->Line_117 $$ g2.setPaint(new GradientPaint(0, size.height - ry, Gray._0.withAlpha(10), 0, size.height, Gray._255.withAlpha(30)))[ CD ]
Line_83 $$ int rightEdge = rightEdges.get(logicalPosition.line)-->Line_84 $$ placeToShow.x = Math.max(placeToShow.x, rightEdge)[ FD ]
Line_21 $$ if (myCacheLevel2 == null || myCacheStartLine > myStartVisualLine || myCacheEndLine < myEndVisualLine) -->Line_28 $$ final AffineTransform t = cg.getTransform()[ CD ]
Line_96 $$ Graphics2D g2 = (Graphics2D) g.create()-->Line_98 $$ GraphicsUtil.setupAAPainting(g2)[ FD ]
Line_47 $$ if (isDirty) -->Line_57 $$ g2d.setTransform(translateInstance)[ CD ]
Line_76 $$ Point placeToShow = myEditor.logicalPositionToXY(logicalPosition)-->Line_77 $$ logicalPosition = myEditor.xyToLogicalPosition(placeToShow)[ FD ]
Line_49 $$ Graphics2D g2d = myCacheLevel1.createGraphics()-->Line_91 $$ g2d.setColor(JBColor.foreground())[ FD ]
Line_49 $$ Graphics2D g2d = myCacheLevel1.createGraphics()-->Line_51 $$ EditorUIUtil.setupAntialiasing(g2d)[ FD ]
Line_2 $$ public LightweightHint show(@NotNull final Editor editor, @NotNull Point p, boolean alignToRight, @NotNull TooltipGroup group, @NotNull final HintHint hintInfo) -->Line_144 $$ myHintHolder.set(hintInfo)[ FD ]
Line_30 $$ int lineShift = -myEditor.getLineHeight() * myCacheStartLine-->Line_36 $$ translateInstance = AffineTransform.getTranslateInstance(gutterWidth - 3, lineShift)[ FD ]
Line_72 $$ s = StringUtil.unescapeXml(s)-->Line_82 $$ int w = g2d.getFontMetrics().stringWidth(s)[ FD ]
Line_2 $$ public LightweightHint show(@NotNull final Editor editor, @NotNull Point p, boolean alignToRight, @NotNull TooltipGroup group, @NotNull final HintHint hintInfo) -->Line_141 $$ hintInfo.setBorderColor(myEditor.getColorsScheme().getDefaultForeground())[ FD ]
Line_21 $$ if (myCacheLevel2 == null || myCacheStartLine > myStartVisualLine || myCacheEndLine < myEndVisualLine) -->Line_33 $$ cg.setTransform(translateInstance)[ CD ]
Line_7 $$ final JPanel editorFragmentPreviewPanel = new JPanel() -->Line_21 $$ if (myCacheLevel2 == null || myCacheStartLine > myStartVisualLine || myCacheEndLine < myEndVisualLine) [ CD ]
Line_2 $$ public LightweightHint show(@NotNull final Editor editor, @NotNull Point p, boolean alignToRight, @NotNull TooltipGroup group, @NotNull final HintHint hintInfo) -->Line_4 $$ boolean needDelay = false[ CD ]
Line_2 $$ public LightweightHint show(@NotNull final Editor editor, @NotNull Point p, boolean alignToRight, @NotNull TooltipGroup group, @NotNull final HintHint hintInfo) -->Line_139 $$ Point point = new Point(hintInfo.getOriginalPoint())[ FD ]
Line_27 $$ Graphics2D cg = myCacheLevel2.createGraphics()-->Line_28 $$ final AffineTransform t = cg.getTransform()[ FD ]
Line_68 $$ String s = String.valueOf(tooltip)-->Line_72 $$ s = StringUtil.unescapeXml(s)[ FD ]
Line_21 $$ if (myCacheLevel2 == null || myCacheStartLine > myStartVisualLine || myCacheEndLine < myEndVisualLine) -->Line_27 $$ Graphics2D cg = myCacheLevel2.createGraphics()[ CD ]
Line_7 $$ final JPanel editorFragmentPreviewPanel = new JPanel() -->Line_20 $$ int gutterWidth = gutterComponentEx.getWidth()[ CD ]
Line_7 $$ final JPanel editorFragmentPreviewPanel = new JPanel() -->Line_18 $$ Dimension size = getPreferredSize()[ CD ]
Line_7 $$ final JPanel editorFragmentPreviewPanel = new JPanel() -->Line_19 $$ EditorGutterComponentEx gutterComponentEx = myEditor.getGutterComponentEx()[ CD ]
Line_101 $$ if (UIUtil.isUnderDarcula()) -->Line_111 $$ Area topArea = new Area(topShape1)[ CD ]
Line_83 $$ int rightEdge = rightEdges.get(logicalPosition.line)-->Line_85 $$ rightEdge = Math.max(rightEdge, placeToShow.x + w + 3 * R)[ FD ]
Line_49 $$ Graphics2D g2d = myCacheLevel1.createGraphics()-->Line_58 $$ UIUtil.drawImage(g2d, myCacheLevel2, -gutterWidth, 0, null)[ FD ]
Line_49 $$ Graphics2D g2d = myCacheLevel1.createGraphics()-->Line_50 $$ final AffineTransform transform = g2d.getTransform()[ FD ]
Line_2 $$ public LightweightHint show(@NotNull final Editor editor, @NotNull Point p, boolean alignToRight, @NotNull TooltipGroup group, @NotNull final HintHint hintInfo) -->Line_140 $$ hintInfo.setTextBg(myEditor.getColorsScheme().getDefaultBackground())[ FD ]
Line_47 $$ if (isDirty) -->Line_52 $$ GraphicsUtil.setupAAPainting(g2d)[ CD ]
Line_101 $$ if (UIUtil.isUnderDarcula()) -->Line_103 $$ double cx = size.width / 2[ CD ]
Line_2 $$ public LightweightHint show(@NotNull final Editor editor, @NotNull Point p, boolean alignToRight, @NotNull TooltipGroup group, @NotNull final HintHint hintInfo) -->Line_145 $$ if (needDelay && !myShowInstantly) [ CD ]
Line_7 $$ final JPanel editorFragmentPreviewPanel = new JPanel() -->Line_43 $$ if (myCacheLevel1 == null) [ CD ]
Line_101 $$ if (UIUtil.isUnderDarcula()) -->Line_105 $$ double rx = size.width / 10[ CD ]
Line_111 $$ Area topArea = new Area(topShape1)-->Line_114 $$ g2.fill(topArea)[ FD ]
Line_49 $$ Graphics2D g2d = myCacheLevel1.createGraphics()-->Line_89 $$ g2d.setColor(new JBColor(JBColor.GRAY, Gray._200))[ FD ]
Line_145 $$ if (needDelay && !myShowInstantly) -->Line_157 $$ if (!myDelayed) [ CD ]
Line_49 $$ Graphics2D g2d = myCacheLevel1.createGraphics()-->Line_57 $$ g2d.setTransform(translateInstance)[ FD ]
Line_101 $$ if (UIUtil.isUnderDarcula()) -->Line_113 $$ topArea.add(new Area(new Rectangle.Double(cx - pseudoMajorAxis / 2, cy, pseudoMajorAxis, ry)))[ CD ]
Line_31 $$ AffineTransform translateInstance = AffineTransform.getTranslateInstance(-3, lineShift)-->Line_37 $$ translateInstance.preConcatenate(t)[ FD ]
Line_60 $$ int h = myEditor.getLineHeight() - 2-->Line_90 $$ g2d.drawRoundRect(placeToShow.x, placeToShow.y, w + 2 * R, h, R, R)[ FD ]
Line_96 $$ Graphics2D g2 = (Graphics2D) g.create()-->Line_107 $$ g2.setPaint(new GradientPaint(0, 0, Gray._255.withAlpha(75), 0, ry, Gray._255.withAlpha(10)))[ FD ]
Line_50 $$ final AffineTransform transform = g2d.getTransform()-->Line_56 $$ translateInstance.preConcatenate(transform)[ FD ]
Line_80 $$ Font font = myEditor.getColorsScheme().getFont(EditorFontType.PLAIN)-->Line_81 $$ g2d.setFont(font.deriveFont(font.getSize() * .8F))[ FD ]
Line_71 $$ s = s.replaceAll("&nbsp;", " ").replaceAll("\\s+", " ")-->Line_92 $$ g2d.drawString(s, placeToShow.x + R, placeToShow.y + h - g2d.getFontMetrics(g2d.getFont()).getDescent() / 2 - 2)[ FD ]
Line_74 $$ int endOfLineOffset = myEditor.getDocument().getLineEndOffset(logicalPosition.line)-->Line_75 $$ logicalPosition = myEditor.offsetToLogicalPosition(endOfLineOffset)[ FD ]
Line_68 $$ String s = String.valueOf(tooltip)-->Line_92 $$ g2d.drawString(s, placeToShow.x + R, placeToShow.y + h - g2d.getFontMetrics(g2d.getFont()).getDescent() / 2 - 2)[ FD ]
Line_20 $$ int gutterWidth = gutterComponentEx.getWidth()-->Line_55 $$ AffineTransform translateInstance = AffineTransform.getTranslateInstance(gutterWidth, myEditor.getLineHeight() * (myCacheStartLine - myStartVisualLine))[ FD ]
Line_111 $$ Area topArea = new Area(topShape1)-->Line_112 $$ topArea.add(new Area(topShape2))[ FD ]
Line_36 $$ translateInstance = AffineTransform.getTranslateInstance(gutterWidth - 3, lineShift)-->Line_37 $$ translateInstance.preConcatenate(t)[ FD ]
Line_49 $$ Graphics2D g2d = myCacheLevel1.createGraphics()-->Line_54 $$ g2d.fillRect(0, 0, getWidth(), getHeight())[ FD ]
Line_20 $$ int gutterWidth = gutterComponentEx.getWidth()-->Line_58 $$ UIUtil.drawImage(g2d, myCacheLevel2, -gutterWidth, 0, null)[ FD ]
Line_21 $$ if (myCacheLevel2 == null || myCacheStartLine > myStartVisualLine || myCacheEndLine < myEndVisualLine) -->Line_34 $$ cg.setClip(0, -lineShift, gutterWidth, myCacheLevel2.getHeight())[ CD ]
Line_16 $$ if (myVisualLine == -1)-->Line_17 $$ return[ CD ]
Line_49 $$ Graphics2D g2d = myCacheLevel1.createGraphics()-->Line_52 $$ GraphicsUtil.setupAAPainting(g2d)[ FD ]
Line_125 $$ myEditorPreviewHint = new LightweightHint(editorFragmentPreviewPanel) -->Line_129 $$ if (myCacheLevel2 != null) [ CD ]
Line_47 $$ if (isDirty) -->Line_53 $$ g2d.setColor(myEditor.getBackgroundColor())[ CD ]
Line_24 $$ if (myCacheLevel2 == null) -->Line_25 $$ myCacheLevel2 = UIUtil.createImage(size.width, myEditor.getLineHeight() * (2 * myCachePreviewLines + 1), BufferedImage.TYPE_INT_RGB)[ CD ]
Line_39 $$ EditorComponentImpl contentComponent = myEditor.getContentComponent()-->Line_40 $$ cg.setClip(0, -lineShift, contentComponent.getWidth(), myCacheLevel2.getHeight())[ FD ]
Line_47 $$ if (isDirty) -->Line_60 $$ int h = myEditor.getLineHeight() - 2[ CD ]
Line_30 $$ int lineShift = -myEditor.getLineHeight() * myCacheStartLine-->Line_31 $$ AffineTransform translateInstance = AffineTransform.getTranslateInstance(-3, lineShift)[ FD ]
Line_111 $$ Area topArea = new Area(topShape1)-->Line_113 $$ topArea.add(new Area(new Rectangle.Double(cx - pseudoMajorAxis / 2, cy, pseudoMajorAxis, ry)))[ FD ]
Line_11 $$ if (!ToolWindowManagerEx.getInstanceEx(myEditor.getProject()).getIdsOn(ToolWindowAnchor.LEFT).isEmpty())-->Line_12 $$ width--[ CD ]
Line_49 $$ Graphics2D g2d = myCacheLevel1.createGraphics()-->Line_53 $$ g2d.setColor(myEditor.getBackgroundColor())[ FD ]
Line_27 $$ Graphics2D cg = myCacheLevel2.createGraphics()-->Line_29 $$ EditorUIUtil.setupAntialiasing(cg)[ FD ]
Line_96 $$ Graphics2D g2 = (Graphics2D) g.create()-->Line_121 $$ g2.dispose()[ FD ]
Line_21 $$ if (myCacheLevel2 == null || myCacheStartLine > myStartVisualLine || myCacheEndLine < myEndVisualLine) -->Line_32 $$ translateInstance.preConcatenate(t)[ CD ]
Line_3 $$ final HintManagerImpl hintManager = HintManagerImpl.getInstanceImpl()-->Line_152 $$ showEditorHint(hintManager, myPointHolder.get(), myHintHolder.get())[ FD ]
Line_96 $$ Graphics2D g2 = (Graphics2D) g.create()-->Line_117 $$ g2.setPaint(new GradientPaint(0, size.height - ry, Gray._0.withAlpha(10), 0, size.height, Gray._255.withAlpha(30)))[ FD ]
Line_31 $$ AffineTransform translateInstance = AffineTransform.getTranslateInstance(-3, lineShift)-->Line_57 $$ g2d.setTransform(translateInstance)[ FD ]
Line_2 $$ public LightweightHint show(@NotNull final Editor editor, @NotNull Point p, boolean alignToRight, @NotNull TooltipGroup group, @NotNull final HintHint hintInfo) -->Line_142 $$ point = SwingUtilities.convertPoint(((EditorImpl) editor).getVerticalScrollBar(), point, myEditor.getComponent().getRootPane())[ CD ]
