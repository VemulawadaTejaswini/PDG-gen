Line_3 $$ User user = UserLocalServiceUtil.getUser(userId)-->Line_10 $$ Map<String, Serializable> importLayoutSettingsMap = ExportImportConfigurationSettingsMapFactory.buildImportLayoutSettingsMap(userId, targetLayout.getGroupId(), targetLayout.isPrivateLayout(), null, parameterMap, user.getLocale(), user.getTimeZone())[ FD ]
Line_3 $$ User user = UserLocalServiceUtil.getUser(userId)-->Line_7 $$ ExportImportConfiguration exportConfiguration = ExportImportConfigurationLocalServiceUtil.addDraftExportImportConfiguration(user.getUserId(), ExportImportConfigurationConstants.TYPE_EXPORT_LAYOUT, exportLayoutSettingsMap)[ FD ]
Line_4 $$ Map<String, String[]> parameterMap = getLayoutSetPrototypeParameters(serviceContext)-->Line_6 $$ Map<String, Serializable> exportLayoutSettingsMap = ExportImportConfigurationSettingsMapFactory.buildExportLayoutSettingsMap(user, sourceLayout.getGroupId(), sourceLayout.isPrivateLayout(), new long[] [ FD ]
Line_10 $$ Map<String, Serializable> importLayoutSettingsMap = ExportImportConfigurationSettingsMapFactory.buildImportLayoutSettingsMap(userId, targetLayout.getGroupId(), targetLayout.isPrivateLayout(), null, parameterMap, user.getLocale(), user.getTimeZone())-->Line_11 $$ ExportImportConfiguration importConfiguration = ExportImportConfigurationLocalServiceUtil.addDraftExportImportConfiguration(userId, ExportImportConfigurationConstants.TYPE_IMPORT_LAYOUT, importLayoutSettingsMap)[ FD ]
Line_2 $$ public void copyLayout(long userId, Layout sourceLayout, Layout targetLayout, ServiceContext serviceContext) throws Exception -->Line_8 $$ File file = ExportImportLocalServiceUtil.exportLayoutsAsFile(exportConfiguration)[ CD ]
Line_2 $$ public void copyLayout(long userId, Layout sourceLayout, Layout targetLayout, ServiceContext serviceContext) throws Exception -->Line_10 $$ Map<String, Serializable> importLayoutSettingsMap = ExportImportConfigurationSettingsMapFactory.buildImportLayoutSettingsMap(userId, targetLayout.getGroupId(), targetLayout.isPrivateLayout(), null, parameterMap, user.getLocale(), user.getTimeZone())[ FD ]
Line_2 $$ public void copyLayout(long userId, Layout sourceLayout, Layout targetLayout, ServiceContext serviceContext) throws Exception -->Line_6 $$ Map<String, Serializable> exportLayoutSettingsMap = ExportImportConfigurationSettingsMapFactory.buildExportLayoutSettingsMap(user, sourceLayout.getGroupId(), sourceLayout.isPrivateLayout(), new long[] [ FD ]
Line_8 $$ File file = ExportImportLocalServiceUtil.exportLayoutsAsFile(exportConfiguration)-->Line_12 $$ ExportImportLocalServiceUtil.importLayouts(importConfiguration, file)[ FD ]
Line_4 $$ Map<String, String[]> parameterMap = getLayoutSetPrototypeParameters(serviceContext)-->Line_10 $$ Map<String, Serializable> importLayoutSettingsMap = ExportImportConfigurationSettingsMapFactory.buildImportLayoutSettingsMap(userId, targetLayout.getGroupId(), targetLayout.isPrivateLayout(), null, parameterMap, user.getLocale(), user.getTimeZone())[ FD ]
Line_4 $$ Map<String, String[]> parameterMap = getLayoutSetPrototypeParameters(serviceContext)-->Line_5 $$ parameterMap.put(PortletDataHandlerKeys.DELETE_MISSING_LAYOUTS, new String[] [ FD ]
Line_2 $$ public void copyLayout(long userId, Layout sourceLayout, Layout targetLayout, ServiceContext serviceContext) throws Exception -->Line_4 $$ Map<String, String[]> parameterMap = getLayoutSetPrototypeParameters(serviceContext)[ CD ]
Line_2 $$ public void copyLayout(long userId, Layout sourceLayout, Layout targetLayout, ServiceContext serviceContext) throws Exception -->Line_5 $$ parameterMap.put(PortletDataHandlerKeys.DELETE_MISSING_LAYOUTS, new String[] [ CD ]
Line_2 $$ public void copyLayout(long userId, Layout sourceLayout, Layout targetLayout, ServiceContext serviceContext) throws Exception -->Line_3 $$ User user = UserLocalServiceUtil.getUser(userId)[ FD ]
Line_2 $$ public void copyLayout(long userId, Layout sourceLayout, Layout targetLayout, ServiceContext serviceContext) throws Exception -->Line_7 $$ ExportImportConfiguration exportConfiguration = ExportImportConfigurationLocalServiceUtil.addDraftExportImportConfiguration(user.getUserId(), ExportImportConfigurationConstants.TYPE_EXPORT_LAYOUT, exportLayoutSettingsMap)[ CD ]
Line_2 $$ public void copyLayout(long userId, Layout sourceLayout, Layout targetLayout, ServiceContext serviceContext) throws Exception -->Line_3 $$ User user = UserLocalServiceUtil.getUser(userId)[ CD ]
Line_2 $$ public void copyLayout(long userId, Layout sourceLayout, Layout targetLayout, ServiceContext serviceContext) throws Exception -->Line_6 $$ Map<String, Serializable> exportLayoutSettingsMap = ExportImportConfigurationSettingsMapFactory.buildExportLayoutSettingsMap(user, sourceLayout.getGroupId(), sourceLayout.isPrivateLayout(), new long[] [ CD ]
Line_11 $$ ExportImportConfiguration importConfiguration = ExportImportConfigurationLocalServiceUtil.addDraftExportImportConfiguration(userId, ExportImportConfigurationConstants.TYPE_IMPORT_LAYOUT, importLayoutSettingsMap)-->Line_12 $$ ExportImportLocalServiceUtil.importLayouts(importConfiguration, file)[ FD ]
Line_2 $$ public void copyLayout(long userId, Layout sourceLayout, Layout targetLayout, ServiceContext serviceContext) throws Exception -->Line_11 $$ ExportImportConfiguration importConfiguration = ExportImportConfigurationLocalServiceUtil.addDraftExportImportConfiguration(userId, ExportImportConfigurationConstants.TYPE_IMPORT_LAYOUT, importLayoutSettingsMap)[ FD ]
Line_7 $$ ExportImportConfiguration exportConfiguration = ExportImportConfigurationLocalServiceUtil.addDraftExportImportConfiguration(user.getUserId(), ExportImportConfigurationConstants.TYPE_EXPORT_LAYOUT, exportLayoutSettingsMap)-->Line_8 $$ File file = ExportImportLocalServiceUtil.exportLayoutsAsFile(exportConfiguration)[ FD ]
Line_6 $$ Map<String, Serializable> exportLayoutSettingsMap = ExportImportConfigurationSettingsMapFactory.buildExportLayoutSettingsMap(user, sourceLayout.getGroupId(), sourceLayout.isPrivateLayout(), new long[] -->Line_7 $$ ExportImportConfiguration exportConfiguration = ExportImportConfigurationLocalServiceUtil.addDraftExportImportConfiguration(user.getUserId(), ExportImportConfigurationConstants.TYPE_EXPORT_LAYOUT, exportLayoutSettingsMap)[ FD ]
Line_8 $$ File file = ExportImportLocalServiceUtil.exportLayoutsAsFile(exportConfiguration)-->Line_14 $$ file.delete()[ FD ]
Line_2 $$ public void copyLayout(long userId, Layout sourceLayout, Layout targetLayout, ServiceContext serviceContext) throws Exception -->Line_4 $$ Map<String, String[]> parameterMap = getLayoutSetPrototypeParameters(serviceContext)[ FD ]
Line_3 $$ User user = UserLocalServiceUtil.getUser(userId)-->Line_6 $$ Map<String, Serializable> exportLayoutSettingsMap = ExportImportConfigurationSettingsMapFactory.buildExportLayoutSettingsMap(user, sourceLayout.getGroupId(), sourceLayout.isPrivateLayout(), new long[] [ FD ]
