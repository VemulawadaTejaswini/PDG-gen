Line_12 $$ String newPortletTitle = PortalUtil.getNewPortletTitle(portletTitle, String.valueOf(sourceLayout.getLayoutId()), targetLayout.getName(languageId))-->Line_16 $$ targetPreferences.setValue("portletSetupTitle_" + languageId, newPortletTitle)[ FD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_18 $$ targetPreferences.store()[ CD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_9 $$ GroupLocalServiceUtil.addGroup(userId, GroupConstants.DEFAULT_PARENT_GROUP_ID, Layout.class.getName(), targetLayout.getPlid(), GroupConstants.DEFAULT_LIVE_GROUP_ID, targetLayout.getNameMap(), null, 0, true, GroupConstants.DEFAULT_MEMBERSHIP_RESTRICTION, null, false, true, null)[ FD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_16 $$ targetPreferences.setValue("portletSetupTitle_" + languageId, newPortletTitle)[ FD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_14 $$ targetPreferences.setValue("lfrScopeType", "layout")[ FD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_7 $$ Layout targetScopeLayout = LayoutLocalServiceUtil.getLayoutByUuidAndGroupId(targetLayout.getUuid(), targetLayout.getGroupId(), targetLayout.isPrivateLayout())[ CD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_12 $$ String newPortletTitle = PortalUtil.getNewPortletTitle(portletTitle, String.valueOf(sourceLayout.getLayoutId()), targetLayout.getName(languageId))[ CD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_11 $$ String portletTitle = PortalUtil.getPortletTitle(PortletConstants.getRootPortletId(sourcePortletId), languageId)[ FD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_18 $$ targetPreferences.store()[ FD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_11 $$ String portletTitle = PortalUtil.getPortletTitle(PortletConstants.getRootPortletId(sourcePortletId), languageId)[ CD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_17 $$ targetPreferences.setValue("portletSetupUseCustomTitle", Boolean.TRUE.toString())[ FD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_3 $$ String scopeType = GetterUtil.getString(sourcePreferences.getValue("lfrScopeType", null))[ FD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_15 $$ targetPreferences.setValue("lfrScopeLayoutUuid", targetLayout.getUuid())[ CD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_4 $$ if (Validator.isNull(scopeType) || !scopeType.equals("layout")) [ CD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_3 $$ String scopeType = GetterUtil.getString(sourcePreferences.getValue("lfrScopeType", null))[ CD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_14 $$ targetPreferences.setValue("lfrScopeType", "layout")[ CD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_12 $$ String newPortletTitle = PortalUtil.getNewPortletTitle(portletTitle, String.valueOf(sourceLayout.getLayoutId()), targetLayout.getName(languageId))[ FD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_17 $$ targetPreferences.setValue("portletSetupUseCustomTitle", Boolean.TRUE.toString())[ CD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_8 $$ if (!targetScopeLayout.hasScopeGroup()) [ CD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_16 $$ targetPreferences.setValue("portletSetupTitle_" + languageId, newPortletTitle)[ CD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_13 $$ targetPreferences.setValue("groupId", String.valueOf(targetLayout.getGroupId()))[ FD ]
Line_8 $$ if (!targetScopeLayout.hasScopeGroup()) -->Line_9 $$ GroupLocalServiceUtil.addGroup(userId, GroupConstants.DEFAULT_PARENT_GROUP_ID, Layout.class.getName(), targetLayout.getPlid(), GroupConstants.DEFAULT_LIVE_GROUP_ID, targetLayout.getNameMap(), null, 0, true, GroupConstants.DEFAULT_MEMBERSHIP_RESTRICTION, null, false, true, null)[ CD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_15 $$ targetPreferences.setValue("lfrScopeLayoutUuid", targetLayout.getUuid())[ FD ]
Line_7 $$ Layout targetScopeLayout = LayoutLocalServiceUtil.getLayoutByUuidAndGroupId(targetLayout.getUuid(), targetLayout.getGroupId(), targetLayout.isPrivateLayout())-->Line_8 $$ if (!targetScopeLayout.hasScopeGroup()) [ FD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_7 $$ Layout targetScopeLayout = LayoutLocalServiceUtil.getLayoutByUuidAndGroupId(targetLayout.getUuid(), targetLayout.getGroupId(), targetLayout.isPrivateLayout())[ FD ]
Line_4 $$ if (Validator.isNull(scopeType) || !scopeType.equals("layout")) -->Line_5 $$ return[ CD ]
Line_2 $$ public void updateLayoutScopes(long userId, Layout sourceLayout, Layout targetLayout, PortletPreferences sourcePreferences, PortletPreferences targetPreferences, String sourcePortletId, String languageId) throws Exception -->Line_13 $$ targetPreferences.setValue("groupId", String.valueOf(targetLayout.getGroupId()))[ CD ]
Line_3 $$ String scopeType = GetterUtil.getString(sourcePreferences.getValue("lfrScopeType", null))-->Line_4 $$ if (Validator.isNull(scopeType) || !scopeType.equals("layout")) [ FD ]
Line_11 $$ String portletTitle = PortalUtil.getPortletTitle(PortletConstants.getRootPortletId(sourcePortletId), languageId)-->Line_12 $$ String newPortletTitle = PortalUtil.getNewPortletTitle(portletTitle, String.valueOf(sourceLayout.getLayoutId()), targetLayout.getName(languageId))[ FD ]
