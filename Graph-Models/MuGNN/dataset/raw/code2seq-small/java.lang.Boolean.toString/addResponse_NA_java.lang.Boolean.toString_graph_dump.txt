Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_20 $$ if (props.contains(CREATIONDATE)) [ FD ]
Line_108 $$ for (QName qname : props) -->Line_113 $$ if (customProps.contains(qname)) [ FD ]
Line_63 $$ if (lock != null) -->Line_70 $$ if (resource.isCollection()) [ CD ]
Line_4 $$ Element responseElement = DocUtil.add(multistatus, createQName("response"))-->Line_6 $$ Element successStatElement = DocUtil.add(responseElement, createQName("propstat"))[ FD ]
Line_33 $$ hasSuccess = true-->Line_116 $$ hasSuccess = true[ FD ]
Line_113 $$ if (customProps.contains(qname)) -->Line_119 $$ hasFailure = true[ CD ]
Line_10 $$ boolean hasSuccess = false-->Line_44 $$ hasSuccess = true[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_62 $$ Lock lock = resource.getLock()[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_4 $$ Element responseElement = DocUtil.add(multistatus, createQName("response"))[ FD ]
Line_53 $$ if ((lock == null) || resource.isLocked()) -->Line_56 $$ DocUtil.add(successPropElement, ISREADONLY, Boolean.TRUE.toString())[ CD ]
Line_63 $$ if (lock != null) -->Line_83 $$ if (timeRemaining > 0) [ CD ]
Line_6 $$ Element successStatElement = DocUtil.add(responseElement, createQName("propstat"))-->Line_7 $$ Element successPropElement = DocUtil.add(successStatElement, createQName("prop"))[ FD ]
Line_65 $$ Element activeLockElement = DocUtil.add(lockDiscoveryElement, createQName("activelock"))-->Line_86 $$ DocUtil.add(activeLockElement, createQName("timeout"), "Infinite")[ FD ]
Line_98 $$ if (props.contains(RESOURCETYPE)) -->Line_101 $$ if (resource.isCollection()) [ CD ]
Line_3 $$ props = new HashSet(props)-->Line_31 $$ props.remove(GETLASTMODIFIED)[ FD ]
Line_33 $$ hasSuccess = true-->Line_92 $$ hasSuccess = true[ FD ]
Line_52 $$ Lock lock = resource.getLock()-->Line_90 $$ DocUtil.add(lockTokenElement, createQName("href"), "opaquelocktoken:" + lock.getUuid())[ FD ]
Line_65 $$ Element activeLockElement = DocUtil.add(lockDiscoveryElement, createQName("activelock"))-->Line_73 $$ DocUtil.add(activeLockElement, createQName("owner"), lock.getOwner())[ FD ]
Line_108 $$ for (QName qname : props) -->Line_110 $$ Namespace namespace = qname.getNamespace()[ FD ]
Line_89 $$ Element lockTokenElement = DocUtil.add(activeLockElement, createQName("locktoken"))-->Line_90 $$ DocUtil.add(lockTokenElement, createQName("href"), "opaquelocktoken:" + lock.getUuid())[ FD ]
Line_10 $$ boolean hasSuccess = false-->Line_33 $$ hasSuccess = true[ FD ]
Line_28 $$ hasSuccess = true-->Line_58 $$ hasSuccess = true[ FD ]
Line_75 $$ Date expirationDate = lock.getExpirationDate()-->Line_76 $$ if (expirationDate != null) [ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_53 $$ if ((lock == null) || resource.isLocked()) [ FD ]
Line_4 $$ Element responseElement = DocUtil.add(multistatus, createQName("response"))-->Line_5 $$ DocUtil.add(responseElement, createQName("href"), resource.getHREF())[ FD ]
Line_64 $$ Element lockDiscoveryElement = DocUtil.add(successPropElement, LOCKDISCOVERY)-->Line_65 $$ Element activeLockElement = DocUtil.add(lockDiscoveryElement, createQName("activelock"))[ FD ]
Line_38 $$ hasSuccess = true-->Line_127 $$ if (!hasSuccess && hasFailure) [ FD ]
Line_3 $$ props = new HashSet(props)-->Line_26 $$ props.remove(DISPLAYNAME)[ FD ]
Line_98 $$ if (props.contains(RESOURCETYPE)) -->Line_99 $$ props.remove(RESOURCETYPE)[ CD ]
Line_38 $$ hasSuccess = true-->Line_104 $$ hasSuccess = true[ FD ]
Line_3 $$ props = new HashSet(props)-->Line_41 $$ props.remove(GETCONTENTLENGTH)[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_25 $$ if (props.contains(DISPLAYNAME)) [ FD ]
Line_79 $$ if (timeRemaining <= 0) -->Line_80 $$ timeRemaining = 1[ CD ]
Line_111 $$ String prefix = namespace.getPrefix()-->Line_114 $$ String text = webDavProps.getText(name, prefix, uri)[ FD ]
Line_4 $$ Element responseElement = DocUtil.add(multistatus, createQName("response"))-->Line_125 $$ responseElement.remove(successStatElement)[ FD ]
Line_63 $$ if (lock != null) -->Line_66 $$ Element lockTypeElement = DocUtil.add(activeLockElement, createQName("locktype"))[ CD ]
Line_33 $$ hasSuccess = true-->Line_104 $$ hasSuccess = true[ FD ]
Line_50 $$ if (props.contains(ISREADONLY)) -->Line_52 $$ Lock lock = resource.getLock()[ CD ]
Line_23 $$ hasSuccess = true-->Line_58 $$ hasSuccess = true[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_22 $$ DocUtil.add(successPropElement, CREATIONDATE, resource.getCreateDate())[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_40 $$ if (props.contains(GETCONTENTLENGTH)) [ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_60 $$ if (props.contains(LOCKDISCOVERY)) [ CD ]
Line_3 $$ props = new HashSet(props)-->Line_17 $$ props.addAll(_ALL_SIMPLE_PROPS)[ FD ]
Line_23 $$ hasSuccess = true-->Line_28 $$ hasSuccess = true[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_26 $$ props.remove(DISPLAYNAME)[ FD ]
Line_42 $$ if (!resource.isCollection()) -->Line_44 $$ hasSuccess = true[ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_8 $$ Element failureStatElement = DocUtil.add(responseElement, createQName("propstat"))[ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_20 $$ if (props.contains(CREATIONDATE)) [ CD ]
Line_3 $$ props = new HashSet(props)-->Line_12 $$ if (props.contains(ALLPROP)) [ FD ]
Line_7 $$ Element successPropElement = DocUtil.add(successStatElement, createQName("prop"))-->Line_37 $$ DocUtil.add(successPropElement, GETCONTENTTYPE, resource.getContentType())[ FD ]
Line_11 $$ boolean hasFailure = false-->Line_119 $$ hasFailure = true[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_17 $$ props.addAll(_ALL_SIMPLE_PROPS)[ FD ]
Line_33 $$ hasSuccess = true-->Line_58 $$ hasSuccess = true[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_107 $$ Set<QName> customProps = webDavProps.getPropsSet()[ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_6 $$ Element successStatElement = DocUtil.add(responseElement, createQName("propstat"))[ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_3 $$ props = new HashSet(props)[ FD ]
Line_14 $$ if (resource.isCollection()) -->Line_17 $$ props.addAll(_ALL_SIMPLE_PROPS)[ CD ]
Line_3 $$ props = new HashSet(props)-->Line_99 $$ props.remove(RESOURCETYPE)[ FD ]
Line_11 $$ boolean hasFailure = false-->Line_95 $$ hasFailure = true[ FD ]
Line_3 $$ props = new HashSet(props)-->Line_61 $$ props.remove(LOCKDISCOVERY)[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_37 $$ DocUtil.add(successPropElement, GETCONTENTTYPE, resource.getContentType())[ FD ]
Line_113 $$ if (customProps.contains(qname)) -->Line_118 $$ DocUtil.add(failurePropElement, qname)[ CD ]
Line_65 $$ Element activeLockElement = DocUtil.add(lockDiscoveryElement, createQName("activelock"))-->Line_71 $$ DocUtil.add(activeLockElement, createQName("depth"), "Infinity")[ FD ]
Line_88 $$ if (webDAVRequest.getUserId() == lock.getUserId()) -->Line_89 $$ Element lockTokenElement = DocUtil.add(activeLockElement, createQName("locktoken"))[ CD ]
Line_14 $$ if (resource.isCollection()) -->Line_15 $$ props.addAll(_ALL_COLLECTION_PROPS)[ CD ]
Line_8 $$ Element failureStatElement = DocUtil.add(responseElement, createQName("propstat"))-->Line_9 $$ Element failurePropElement = DocUtil.add(failureStatElement, createQName("prop"))[ FD ]
Line_7 $$ Element successPropElement = DocUtil.add(successStatElement, createQName("prop"))-->Line_54 $$ DocUtil.add(successPropElement, ISREADONLY, Boolean.FALSE.toString())[ FD ]
Line_88 $$ if (webDAVRequest.getUserId() == lock.getUserId()) -->Line_90 $$ DocUtil.add(lockTokenElement, createQName("href"), "opaquelocktoken:" + lock.getUuid())[ CD ]
Line_63 $$ if (lock != null) -->Line_94 $$ DocUtil.add(failurePropElement, LOCKDISCOVERY)[ CD ]
Line_44 $$ hasSuccess = true-->Line_92 $$ hasSuccess = true[ FD ]
Line_98 $$ if (props.contains(RESOURCETYPE)) -->Line_104 $$ hasSuccess = true[ CD ]
Line_108 $$ for (QName qname : props) -->Line_115 $$ DocUtil.add(successPropElement, qname, text)[ FD ]
Line_12 $$ if (props.contains(ALLPROP)) -->Line_14 $$ if (resource.isCollection()) [ CD ]
Line_33 $$ hasSuccess = true-->Line_127 $$ if (!hasSuccess && hasFailure) [ FD ]
Line_110 $$ Namespace namespace = qname.getNamespace()-->Line_111 $$ String prefix = namespace.getPrefix()[ FD ]
Line_58 $$ hasSuccess = true-->Line_92 $$ hasSuccess = true[ FD ]
Line_9 $$ Element failurePropElement = DocUtil.add(failureStatElement, createQName("prop"))-->Line_94 $$ DocUtil.add(failurePropElement, LOCKDISCOVERY)[ FD ]
Line_10 $$ boolean hasSuccess = false-->Line_127 $$ if (!hasSuccess && hasFailure) [ FD ]
Line_60 $$ if (props.contains(LOCKDISCOVERY)) -->Line_63 $$ if (lock != null) [ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_50 $$ if (props.contains(ISREADONLY)) [ FD ]
Line_52 $$ Lock lock = resource.getLock()-->Line_63 $$ if (lock != null) [ FD ]
Line_3 $$ props = new HashSet(props)-->Line_25 $$ if (props.contains(DISPLAYNAME)) [ FD ]
Line_50 $$ if (props.contains(ISREADONLY)) -->Line_58 $$ hasSuccess = true[ CD ]
Line_66 $$ Element lockTypeElement = DocUtil.add(activeLockElement, createQName("locktype"))-->Line_67 $$ DocUtil.add(lockTypeElement, createQName("write"))[ FD ]
Line_63 $$ if (lock != null) -->Line_92 $$ hasSuccess = true[ CD ]
Line_3 $$ props = new HashSet(props)-->Line_98 $$ if (props.contains(RESOURCETYPE)) [ FD ]
Line_110 $$ Namespace namespace = qname.getNamespace()-->Line_112 $$ String uri = namespace.getURI()[ FD ]
Line_95 $$ hasFailure = true-->Line_127 $$ if (!hasSuccess && hasFailure) [ FD ]
Line_104 $$ hasSuccess = true-->Line_127 $$ if (!hasSuccess && hasFailure) [ FD ]
Line_25 $$ if (props.contains(DISPLAYNAME)) -->Line_28 $$ hasSuccess = true[ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_98 $$ if (props.contains(RESOURCETYPE)) [ FD ]
Line_108 $$ for (QName qname : props) -->Line_109 $$ String name = qname.getName()[ FD ]
Line_3 $$ props = new HashSet(props)-->Line_40 $$ if (props.contains(GETCONTENTLENGTH)) [ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_12 $$ if (props.contains(ALLPROP)) [ FD ]
Line_65 $$ Element activeLockElement = DocUtil.add(lockDiscoveryElement, createQName("activelock"))-->Line_66 $$ Element lockTypeElement = DocUtil.add(activeLockElement, createQName("locktype"))[ FD ]
Line_113 $$ if (customProps.contains(qname)) -->Line_115 $$ DocUtil.add(successPropElement, qname, text)[ CD ]
Line_23 $$ hasSuccess = true-->Line_44 $$ hasSuccess = true[ FD ]
Line_3 $$ props = new HashSet(props)-->Line_60 $$ if (props.contains(LOCKDISCOVERY)) [ FD ]
Line_38 $$ hasSuccess = true-->Line_92 $$ hasSuccess = true[ FD ]
Line_44 $$ hasSuccess = true-->Line_116 $$ hasSuccess = true[ FD ]
Line_78 $$ timeRemaining = (expirationDate.getTime() - now) / Time.SECOND-->Line_80 $$ timeRemaining = 1[ FD ]
Line_108 $$ for (QName qname : props) -->Line_118 $$ DocUtil.add(failurePropElement, qname)[ FD ]
Line_30 $$ if (props.contains(GETLASTMODIFIED)) -->Line_32 $$ DocUtil.add(successPropElement, GETLASTMODIFIED, resource.getModifiedDate())[ CD ]
Line_42 $$ if (!resource.isCollection()) -->Line_46 $$ DocUtil.add(failurePropElement, GETCONTENTLENGTH)[ CD ]
Line_106 $$ WebDAVProps webDavProps = WebDAVPropsLocalServiceUtil.getWebDAVProps(webDAVRequest.getCompanyId(), resource.getClassName(), resource.getPrimaryKey())-->Line_114 $$ String text = webDavProps.getText(name, prefix, uri)[ FD ]
Line_7 $$ Element successPropElement = DocUtil.add(successStatElement, createQName("prop"))-->Line_43 $$ DocUtil.add(successPropElement, GETCONTENTLENGTH, resource.getSize())[ FD ]
Line_95 $$ hasFailure = true-->Line_119 $$ hasFailure = true[ FD ]
Line_116 $$ hasSuccess = true-->Line_127 $$ if (!hasSuccess && hasFailure) [ FD ]
Line_28 $$ hasSuccess = true-->Line_33 $$ hasSuccess = true[ FD ]
Line_58 $$ hasSuccess = true-->Line_127 $$ if (!hasSuccess && hasFailure) [ FD ]
Line_74 $$ long timeRemaining = 0-->Line_78 $$ timeRemaining = (expirationDate.getTime() - now) / Time.SECOND[ FD ]
Line_4 $$ Element responseElement = DocUtil.add(multistatus, createQName("response"))-->Line_8 $$ Element failureStatElement = DocUtil.add(responseElement, createQName("propstat"))[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_42 $$ if (!resource.isCollection()) [ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_7 $$ Element successPropElement = DocUtil.add(successStatElement, createQName("prop"))[ CD ]
Line_92 $$ hasSuccess = true-->Line_116 $$ hasSuccess = true[ FD ]
Line_75 $$ Date expirationDate = lock.getExpirationDate()-->Line_78 $$ timeRemaining = (expirationDate.getTime() - now) / Time.SECOND[ FD ]
Line_52 $$ Lock lock = resource.getLock()-->Line_88 $$ if (webDAVRequest.getUserId() == lock.getUserId()) [ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_99 $$ props.remove(RESOURCETYPE)[ FD ]
Line_20 $$ if (props.contains(CREATIONDATE)) -->Line_23 $$ hasSuccess = true[ CD ]
Line_9 $$ Element failurePropElement = DocUtil.add(failureStatElement, createQName("prop"))-->Line_46 $$ DocUtil.add(failurePropElement, GETCONTENTLENGTH)[ FD ]
Line_52 $$ Lock lock = resource.getLock()-->Line_75 $$ Date expirationDate = lock.getExpirationDate()[ FD ]
Line_76 $$ if (expirationDate != null) -->Line_78 $$ timeRemaining = (expirationDate.getTime() - now) / Time.SECOND[ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_88 $$ if (webDAVRequest.getUserId() == lock.getUserId()) [ FD ]
Line_42 $$ if (!resource.isCollection()) -->Line_43 $$ DocUtil.add(successPropElement, GETCONTENTLENGTH, resource.getSize())[ CD ]
Line_28 $$ hasSuccess = true-->Line_38 $$ hasSuccess = true[ FD ]
Line_23 $$ hasSuccess = true-->Line_116 $$ hasSuccess = true[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_27 $$ DocUtil.add(successPropElement, DISPLAYNAME, resource.getDisplayName())[ FD ]
Line_7 $$ Element successPropElement = DocUtil.add(successStatElement, createQName("prop"))-->Line_56 $$ DocUtil.add(successPropElement, ISREADONLY, Boolean.TRUE.toString())[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_35 $$ if (props.contains(GETCONTENTTYPE)) [ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_61 $$ props.remove(LOCKDISCOVERY)[ FD ]
Line_63 $$ if (lock != null) -->Line_73 $$ DocUtil.add(activeLockElement, createQName("owner"), lock.getOwner())[ CD ]
Line_28 $$ hasSuccess = true-->Line_127 $$ if (!hasSuccess && hasFailure) [ FD ]
Line_10 $$ boolean hasSuccess = false-->Line_28 $$ hasSuccess = true[ FD ]
Line_63 $$ if (lock != null) -->Line_67 $$ DocUtil.add(lockTypeElement, createQName("write"))[ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_101 $$ if (resource.isCollection()) [ FD ]
Line_114 $$ String text = webDavProps.getText(name, prefix, uri)-->Line_115 $$ DocUtil.add(successPropElement, qname, text)[ FD ]
Line_10 $$ boolean hasSuccess = false-->Line_38 $$ hasSuccess = true[ FD ]
Line_23 $$ hasSuccess = true-->Line_33 $$ hasSuccess = true[ FD ]
Line_112 $$ String uri = namespace.getURI()-->Line_114 $$ String text = webDavProps.getText(name, prefix, uri)[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_50 $$ if (props.contains(ISREADONLY)) [ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_14 $$ if (resource.isCollection()) [ FD ]
Line_11 $$ boolean hasFailure = false-->Line_47 $$ hasFailure = true[ FD ]
Line_53 $$ if ((lock == null) || resource.isLocked()) -->Line_54 $$ DocUtil.add(successPropElement, ISREADONLY, Boolean.FALSE.toString())[ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_43 $$ DocUtil.add(successPropElement, GETCONTENTLENGTH, resource.getSize())[ FD ]
Line_127 $$ if (!hasSuccess && hasFailure) -->Line_128 $$ DocUtil.add(failureStatElement, createQName("status"), "HTTP/1.1 404 Not Found")[ CD ]
Line_6 $$ Element successStatElement = DocUtil.add(responseElement, createQName("propstat"))-->Line_125 $$ responseElement.remove(successStatElement)[ FD ]
Line_63 $$ if (lock != null) -->Line_75 $$ Date expirationDate = lock.getExpirationDate()[ CD ]
Line_74 $$ long timeRemaining = 0-->Line_79 $$ if (timeRemaining <= 0) [ FD ]
Line_7 $$ Element successPropElement = DocUtil.add(successStatElement, createQName("prop"))-->Line_100 $$ Element resourceTypeElement = DocUtil.add(successPropElement, RESOURCETYPE)[ FD ]
Line_28 $$ hasSuccess = true-->Line_92 $$ hasSuccess = true[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_40 $$ if (props.contains(GETCONTENTLENGTH)) [ CD ]
Line_3 $$ props = new HashSet(props)-->Line_51 $$ props.remove(ISREADONLY)[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_12 $$ if (props.contains(ALLPROP)) [ CD ]
Line_47 $$ hasFailure = true-->Line_127 $$ if (!hasSuccess && hasFailure) [ FD ]
Line_20 $$ if (props.contains(CREATIONDATE)) -->Line_21 $$ props.remove(CREATIONDATE)[ CD ]
Line_10 $$ boolean hasSuccess = false-->Line_104 $$ hasSuccess = true[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_41 $$ props.remove(GETCONTENTLENGTH)[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_25 $$ if (props.contains(DISPLAYNAME)) [ CD ]
Line_25 $$ if (props.contains(DISPLAYNAME)) -->Line_26 $$ props.remove(DISPLAYNAME)[ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_30 $$ if (props.contains(GETLASTMODIFIED)) [ FD ]
Line_23 $$ hasSuccess = true-->Line_92 $$ hasSuccess = true[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_31 $$ props.remove(GETLASTMODIFIED)[ FD ]
Line_101 $$ if (resource.isCollection()) -->Line_102 $$ DocUtil.add(resourceTypeElement, createQName("collection"))[ CD ]
Line_44 $$ hasSuccess = true-->Line_127 $$ if (!hasSuccess && hasFailure) [ FD ]
Line_3 $$ props = new HashSet(props)-->Line_30 $$ if (props.contains(GETLASTMODIFIED)) [ FD ]
Line_78 $$ timeRemaining = (expirationDate.getTime() - now) / Time.SECOND-->Line_79 $$ if (timeRemaining <= 0) [ FD ]
Line_20 $$ if (props.contains(CREATIONDATE)) -->Line_22 $$ DocUtil.add(successPropElement, CREATIONDATE, resource.getCreateDate())[ CD ]
Line_42 $$ if (!resource.isCollection()) -->Line_47 $$ hasFailure = true[ CD ]
Line_63 $$ if (lock != null) -->Line_95 $$ hasFailure = true[ CD ]
Line_7 $$ Element successPropElement = DocUtil.add(successStatElement, createQName("prop"))-->Line_32 $$ DocUtil.add(successPropElement, GETLASTMODIFIED, resource.getModifiedDate())[ FD ]
Line_60 $$ if (props.contains(LOCKDISCOVERY)) -->Line_62 $$ Lock lock = resource.getLock()[ CD ]
Line_33 $$ hasSuccess = true-->Line_44 $$ hasSuccess = true[ FD ]
Line_58 $$ hasSuccess = true-->Line_104 $$ hasSuccess = true[ FD ]
Line_92 $$ hasSuccess = true-->Line_104 $$ hasSuccess = true[ FD ]
Line_106 $$ WebDAVProps webDavProps = WebDAVPropsLocalServiceUtil.getWebDAVProps(webDAVRequest.getCompanyId(), resource.getClassName(), resource.getPrimaryKey())-->Line_107 $$ Set<QName> customProps = webDavProps.getPropsSet()[ FD ]
Line_109 $$ String name = qname.getName()-->Line_114 $$ String text = webDavProps.getText(name, prefix, uri)[ FD ]
Line_23 $$ hasSuccess = true-->Line_38 $$ hasSuccess = true[ FD ]
Line_3 $$ props = new HashSet(props)-->Line_15 $$ props.addAll(_ALL_COLLECTION_PROPS)[ FD ]
Line_38 $$ hasSuccess = true-->Line_44 $$ hasSuccess = true[ FD ]
Line_65 $$ Element activeLockElement = DocUtil.add(lockDiscoveryElement, createQName("activelock"))-->Line_89 $$ Element lockTokenElement = DocUtil.add(activeLockElement, createQName("locktoken"))[ FD ]
Line_83 $$ if (timeRemaining > 0) -->Line_86 $$ DocUtil.add(activeLockElement, createQName("timeout"), "Infinite")[ CD ]
Line_63 $$ if (lock != null) -->Line_65 $$ Element activeLockElement = DocUtil.add(lockDiscoveryElement, createQName("activelock"))[ CD ]
Line_7 $$ Element successPropElement = DocUtil.add(successStatElement, createQName("prop"))-->Line_27 $$ DocUtil.add(successPropElement, DISPLAYNAME, resource.getDisplayName())[ FD ]
Line_113 $$ if (customProps.contains(qname)) -->Line_114 $$ String text = webDavProps.getText(name, prefix, uri)[ CD ]
Line_10 $$ boolean hasSuccess = false-->Line_116 $$ hasSuccess = true[ FD ]
Line_28 $$ hasSuccess = true-->Line_116 $$ hasSuccess = true[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_52 $$ Lock lock = resource.getLock()[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_30 $$ if (props.contains(GETLASTMODIFIED)) [ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_15 $$ props.addAll(_ALL_COLLECTION_PROPS)[ FD ]
Line_52 $$ Lock lock = resource.getLock()-->Line_73 $$ DocUtil.add(activeLockElement, createQName("owner"), lock.getOwner())[ FD ]
Line_3 $$ props = new HashSet(props)-->Line_36 $$ props.remove(GETCONTENTTYPE)[ FD ]
Line_23 $$ hasSuccess = true-->Line_104 $$ hasSuccess = true[ FD ]
Line_3 $$ props = new HashSet(props)-->Line_50 $$ if (props.contains(ISREADONLY)) [ FD ]
Line_60 $$ if (props.contains(LOCKDISCOVERY)) -->Line_61 $$ props.remove(LOCKDISCOVERY)[ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_106 $$ WebDAVProps webDavProps = WebDAVPropsLocalServiceUtil.getWebDAVProps(webDAVRequest.getCompanyId(), resource.getClassName(), resource.getPrimaryKey())[ FD ]
Line_107 $$ Set<QName> customProps = webDavProps.getPropsSet()-->Line_113 $$ if (customProps.contains(qname)) [ FD ]
Line_6 $$ Element successStatElement = DocUtil.add(responseElement, createQName("propstat"))-->Line_123 $$ DocUtil.add(successStatElement, createQName("status"), "HTTP/1.1 200 OK")[ FD ]
Line_70 $$ if (resource.isCollection()) -->Line_71 $$ DocUtil.add(activeLockElement, createQName("depth"), "Infinity")[ CD ]
Line_38 $$ hasSuccess = true-->Line_58 $$ hasSuccess = true[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_122 $$ if (hasSuccess) [ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_127 $$ if (!hasSuccess && hasFailure) [ CD ]
Line_35 $$ if (props.contains(GETCONTENTTYPE)) -->Line_38 $$ hasSuccess = true[ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_60 $$ if (props.contains(LOCKDISCOVERY)) [ FD ]
Line_58 $$ hasSuccess = true-->Line_116 $$ hasSuccess = true[ FD ]
Line_127 $$ if (!hasSuccess && hasFailure) -->Line_130 $$ responseElement.remove(failureStatElement)[ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_5 $$ DocUtil.add(responseElement, createQName("href"), resource.getHREF())[ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_98 $$ if (props.contains(RESOURCETYPE)) [ CD ]
Line_3 $$ props = new HashSet(props)-->Line_35 $$ if (props.contains(GETCONTENTTYPE)) [ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_70 $$ if (resource.isCollection()) [ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_4 $$ Element responseElement = DocUtil.add(multistatus, createQName("response"))[ CD ]
Line_23 $$ hasSuccess = true-->Line_127 $$ if (!hasSuccess && hasFailure) [ FD ]
Line_47 $$ hasFailure = true-->Line_119 $$ hasFailure = true[ FD ]
Line_7 $$ Element successPropElement = DocUtil.add(successStatElement, createQName("prop"))-->Line_22 $$ DocUtil.add(successPropElement, CREATIONDATE, resource.getCreateDate())[ FD ]
Line_12 $$ if (props.contains(ALLPROP)) -->Line_13 $$ props.remove(ALLPROP)[ CD ]
Line_44 $$ hasSuccess = true-->Line_58 $$ hasSuccess = true[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_11 $$ boolean hasFailure = false[ CD ]
Line_40 $$ if (props.contains(GETCONTENTLENGTH)) -->Line_41 $$ props.remove(GETCONTENTLENGTH)[ CD ]
Line_83 $$ if (timeRemaining > 0) -->Line_84 $$ DocUtil.add(activeLockElement, createQName("timeout"), "Second-" + timeRemaining)[ CD ]
Line_65 $$ Element activeLockElement = DocUtil.add(lockDiscoveryElement, createQName("activelock"))-->Line_84 $$ DocUtil.add(activeLockElement, createQName("timeout"), "Second-" + timeRemaining)[ FD ]
Line_3 $$ props = new HashSet(props)-->Line_21 $$ props.remove(CREATIONDATE)[ FD ]
Line_30 $$ if (props.contains(GETLASTMODIFIED)) -->Line_33 $$ hasSuccess = true[ CD ]
Line_25 $$ if (props.contains(DISPLAYNAME)) -->Line_27 $$ DocUtil.add(successPropElement, DISPLAYNAME, resource.getDisplayName())[ CD ]
Line_9 $$ Element failurePropElement = DocUtil.add(failureStatElement, createQName("prop"))-->Line_118 $$ DocUtil.add(failurePropElement, qname)[ FD ]
Line_8 $$ Element failureStatElement = DocUtil.add(responseElement, createQName("propstat"))-->Line_130 $$ responseElement.remove(failureStatElement)[ FD ]
Line_10 $$ boolean hasSuccess = false-->Line_58 $$ hasSuccess = true[ FD ]
Line_10 $$ boolean hasSuccess = false-->Line_23 $$ hasSuccess = true[ FD ]
Line_65 $$ Element activeLockElement = DocUtil.add(lockDiscoveryElement, createQName("activelock"))-->Line_68 $$ Element lockScopeElement = DocUtil.add(activeLockElement, createQName("lockscope"))[ FD ]
Line_74 $$ long timeRemaining = 0-->Line_83 $$ if (timeRemaining > 0) [ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_13 $$ props.remove(ALLPROP)[ FD ]
Line_63 $$ if (lock != null) -->Line_69 $$ DocUtil.add(lockScopeElement, createQName("exclusive"))[ CD ]
Line_98 $$ if (props.contains(RESOURCETYPE)) -->Line_100 $$ Element resourceTypeElement = DocUtil.add(successPropElement, RESOURCETYPE)[ CD ]
Line_76 $$ if (expirationDate != null) -->Line_79 $$ if (timeRemaining <= 0) [ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_10 $$ boolean hasSuccess = false[ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_51 $$ props.remove(ISREADONLY)[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_106 $$ WebDAVProps webDavProps = WebDAVPropsLocalServiceUtil.getWebDAVProps(webDAVRequest.getCompanyId(), resource.getClassName(), resource.getPrimaryKey())[ CD ]
Line_78 $$ timeRemaining = (expirationDate.getTime() - now) / Time.SECOND-->Line_83 $$ if (timeRemaining > 0) [ FD ]
Line_92 $$ hasSuccess = true-->Line_127 $$ if (!hasSuccess && hasFailure) [ FD ]
Line_47 $$ hasFailure = true-->Line_95 $$ hasFailure = true[ FD ]
Line_7 $$ Element successPropElement = DocUtil.add(successStatElement, createQName("prop"))-->Line_115 $$ DocUtil.add(successPropElement, qname, text)[ FD ]
Line_40 $$ if (props.contains(GETCONTENTLENGTH)) -->Line_42 $$ if (!resource.isCollection()) [ CD ]
Line_104 $$ hasSuccess = true-->Line_116 $$ hasSuccess = true[ FD ]
Line_4 $$ Element responseElement = DocUtil.add(multistatus, createQName("response"))-->Line_130 $$ responseElement.remove(failureStatElement)[ FD ]
Line_80 $$ timeRemaining = 1-->Line_83 $$ if (timeRemaining > 0) [ FD ]
Line_119 $$ hasFailure = true-->Line_127 $$ if (!hasSuccess && hasFailure) [ FD ]
Line_33 $$ hasSuccess = true-->Line_38 $$ hasSuccess = true[ FD ]
Line_11 $$ boolean hasFailure = false-->Line_127 $$ if (!hasSuccess && hasFailure) [ FD ]
Line_28 $$ hasSuccess = true-->Line_44 $$ hasSuccess = true[ FD ]
Line_10 $$ boolean hasSuccess = false-->Line_92 $$ hasSuccess = true[ FD ]
Line_100 $$ Element resourceTypeElement = DocUtil.add(successPropElement, RESOURCETYPE)-->Line_102 $$ DocUtil.add(resourceTypeElement, createQName("collection"))[ FD ]
Line_50 $$ if (props.contains(ISREADONLY)) -->Line_53 $$ if ((lock == null) || resource.isLocked()) [ CD ]
Line_63 $$ if (lock != null) -->Line_68 $$ Element lockScopeElement = DocUtil.add(activeLockElement, createQName("lockscope"))[ CD ]
Line_63 $$ if (lock != null) -->Line_88 $$ if (webDAVRequest.getUserId() == lock.getUserId()) [ CD ]
Line_30 $$ if (props.contains(GETLASTMODIFIED)) -->Line_31 $$ props.remove(GETLASTMODIFIED)[ CD ]
Line_3 $$ props = new HashSet(props)-->Line_20 $$ if (props.contains(CREATIONDATE)) [ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_36 $$ props.remove(GETCONTENTTYPE)[ FD ]
Line_63 $$ if (lock != null) -->Line_74 $$ long timeRemaining = 0[ CD ]
Line_3 $$ props = new HashSet(props)-->Line_13 $$ props.remove(ALLPROP)[ FD ]
Line_44 $$ hasSuccess = true-->Line_104 $$ hasSuccess = true[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_35 $$ if (props.contains(GETCONTENTTYPE)) [ FD ]
Line_76 $$ if (expirationDate != null) -->Line_77 $$ long now = System.currentTimeMillis()[ CD ]
Line_74 $$ long timeRemaining = 0-->Line_80 $$ timeRemaining = 1[ FD ]
Line_63 $$ if (lock != null) -->Line_64 $$ Element lockDiscoveryElement = DocUtil.add(successPropElement, LOCKDISCOVERY)[ CD ]
Line_68 $$ Element lockScopeElement = DocUtil.add(activeLockElement, createQName("lockscope"))-->Line_69 $$ DocUtil.add(lockScopeElement, createQName("exclusive"))[ FD ]
Line_63 $$ if (lock != null) -->Line_76 $$ if (expirationDate != null) [ CD ]
Line_7 $$ Element successPropElement = DocUtil.add(successStatElement, createQName("prop"))-->Line_64 $$ Element lockDiscoveryElement = DocUtil.add(successPropElement, LOCKDISCOVERY)[ FD ]
Line_8 $$ Element failureStatElement = DocUtil.add(responseElement, createQName("propstat"))-->Line_128 $$ DocUtil.add(failureStatElement, createQName("status"), "HTTP/1.1 404 Not Found")[ FD ]
Line_35 $$ if (props.contains(GETCONTENTTYPE)) -->Line_37 $$ DocUtil.add(successPropElement, GETCONTENTTYPE, resource.getContentType())[ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_3 $$ props = new HashSet(props)[ CD ]
Line_35 $$ if (props.contains(GETCONTENTTYPE)) -->Line_36 $$ props.remove(GETCONTENTTYPE)[ CD ]
Line_113 $$ if (customProps.contains(qname)) -->Line_116 $$ hasSuccess = true[ CD ]
Line_50 $$ if (props.contains(ISREADONLY)) -->Line_51 $$ props.remove(ISREADONLY)[ CD ]
Line_122 $$ if (hasSuccess) -->Line_125 $$ responseElement.remove(successStatElement)[ CD ]
Line_122 $$ if (hasSuccess) -->Line_123 $$ DocUtil.add(successStatElement, createQName("status"), "HTTP/1.1 200 OK")[ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_9 $$ Element failurePropElement = DocUtil.add(failureStatElement, createQName("prop"))[ CD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_21 $$ props.remove(CREATIONDATE)[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_32 $$ DocUtil.add(successPropElement, GETLASTMODIFIED, resource.getModifiedDate())[ FD ]
Line_38 $$ hasSuccess = true-->Line_116 $$ hasSuccess = true[ FD ]
Line_2 $$ protected void addResponse(WebDAVRequest webDAVRequest, Resource resource, Set<QName> props, Element multistatus) throws Exception -->Line_5 $$ DocUtil.add(responseElement, createQName("href"), resource.getHREF())[ FD ]
Line_28 $$ hasSuccess = true-->Line_104 $$ hasSuccess = true[ FD ]
