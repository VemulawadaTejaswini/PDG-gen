Line_32 $$ lp = PsiTreeUtil.getParentOfType(lp == null ? element : lp, XPathLocationPath.class, true)-->Line_34 $$ check = lp == null || (sibling = lp.getPrevSibling()) != null[ FD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_12 $$ final XmlElement context = contextProvider.getContextElement()[ CD ]
Line_14 $$ final Set<Lookup> list = new HashSet<Lookup>()-->Line_20 $$ final XPathNodeTest.PrincipalType principalType = addContextNames(element, contextProvider, prefixedName, list)[ FD ]
Line_12 $$ final XmlElement context = contextProvider.getContextElement()-->Line_18 $$ addNamespaceCompletions(contextProvider.getNamespaceContext(), list, context)[ FD ]
Line_22 $$ if (axisSpecifier == null || axisSpecifier.isDefaultAxis()) -->Line_36 $$ if (check) [ CD ]
Line_14 $$ final Set<Lookup> list = new HashSet<Lookup>()-->Line_15 $$ addNameCompletions(contextProvider, element, list)[ FD ]
Line_11 $$ final ContextProvider contextProvider = ContextProvider.getContextProvider(element)-->Line_20 $$ final XPathNodeTest.PrincipalType principalType = addContextNames(element, contextProvider, prefixedName, list)[ FD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_15 $$ addNameCompletions(contextProvider, element, list)[ FD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_20 $$ final XPathNodeTest.PrincipalType principalType = addContextNames(element, contextProvider, prefixedName, list)[ CD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_45 $$ list.addAll(getNodeTypeCompletions(element))[ FD ]
Line_25 $$ while (sibling instanceof PsiWhiteSpace) -->Line_26 $$ sibling = sibling.getPrevSibling()[ CD ]
Line_13 $$ final boolean insidePrefix = suffix.contains(INTELLIJ_IDEA_RULEZ + ":")-->Line_21 $$ if (namespacePrefix == null && !insidePrefix) [ FD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_17 $$ if (namespacePrefix == null || insidePrefix) [ CD ]
Line_30 $$ XPathLocationPath lp = null-->Line_34 $$ check = lp == null || (sibling = lp.getPrevSibling()) != null[ FD ]
Line_22 $$ if (axisSpecifier == null || axisSpecifier.isDefaultAxis()) -->Line_23 $$ list.addAll(getAxisCompletions())[ CD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_40 $$ list.addAll(getVariableCompletions(element))[ FD ]
Line_14 $$ final Set<Lookup> list = new HashSet<Lookup>()-->Line_39 $$ list.addAll(getFunctionCompletions(element))[ FD ]
Line_31 $$ do -->Line_32 $$ lp = PsiTreeUtil.getParentOfType(lp == null ? element : lp, XPathLocationPath.class, true)[ CD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_3 $$ if (!element.isNameTest()) [ CD ]
Line_22 $$ if (axisSpecifier == null || axisSpecifier.isDefaultAxis()) -->Line_28 $$ boolean check = sibling != null[ CD ]
Line_6 $$ final PrefixedName prefixedName = element.getQName()-->Line_8 $$ final String canonicalText = prefixedName.toString()[ FD ]
Line_9 $$ final String suffix = canonicalText.substring(canonicalText.indexOf(INTELLIJ_IDEA_RULEZ))-->Line_13 $$ final boolean insidePrefix = suffix.contains(INTELLIJ_IDEA_RULEZ + ":")[ FD ]
Line_24 $$ PsiElement sibling = element.getParent().getPrevSibling()-->Line_26 $$ sibling = sibling.getPrevSibling()[ FD ]
Line_36 $$ if (check) -->Line_37 $$ if (sibling instanceof XPathToken && XPathTokenTypes.PATH_OPS.contains(((XPathToken) sibling).getTokenType())) [ CD ]
Line_29 $$ if (!check) -->Line_30 $$ XPathLocationPath lp = null[ CD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_13 $$ final boolean insidePrefix = suffix.contains(INTELLIJ_IDEA_RULEZ + ":")[ CD ]
Line_6 $$ final PrefixedName prefixedName = element.getQName()-->Line_16 $$ final String namespacePrefix = prefixedName.getPrefix()[ FD ]
Line_44 $$ if (principalType == XPathNodeTest.PrincipalType.ELEMENT && prefixedName.getPrefix() == null) -->Line_45 $$ list.addAll(getNodeTypeCompletions(element))[ CD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_14 $$ final Set<Lookup> list = new HashSet<Lookup>()[ CD ]
Line_28 $$ boolean check = sibling != null-->Line_29 $$ if (!check) [ FD ]
Line_29 $$ if (!check) -->Line_31 $$ do [ CD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_11 $$ final ContextProvider contextProvider = ContextProvider.getContextProvider(element)[ CD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_48 $$ return list[ CD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_10 $$ final XPathAxisSpecifier axisSpecifier = element.getStep().getAxisSpecifier()[ FD ]
Line_17 $$ if (namespacePrefix == null || insidePrefix) -->Line_18 $$ addNamespaceCompletions(contextProvider.getNamespaceContext(), list, context)[ CD ]
Line_30 $$ XPathLocationPath lp = null-->Line_32 $$ lp = PsiTreeUtil.getParentOfType(lp == null ? element : lp, XPathLocationPath.class, true)[ FD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_3 $$ if (!element.isNameTest()) [ FD ]
Line_21 $$ if (namespacePrefix == null && !insidePrefix) -->Line_22 $$ if (axisSpecifier == null || axisSpecifier.isDefaultAxis()) [ CD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_15 $$ addNameCompletions(contextProvider, element, list)[ CD ]
Line_14 $$ final Set<Lookup> list = new HashSet<Lookup>()-->Line_40 $$ list.addAll(getVariableCompletions(element))[ FD ]
Line_28 $$ boolean check = sibling != null-->Line_34 $$ check = lp == null || (sibling = lp.getPrevSibling()) != null[ FD ]
Line_21 $$ if (namespacePrefix == null && !insidePrefix) -->Line_44 $$ if (principalType == XPathNodeTest.PrincipalType.ELEMENT && prefixedName.getPrefix() == null) [ CD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_39 $$ list.addAll(getFunctionCompletions(element))[ FD ]
Line_37 $$ if (sibling instanceof XPathToken && XPathTokenTypes.PATH_OPS.contains(((XPathToken) sibling).getTokenType())) -->Line_40 $$ list.addAll(getVariableCompletions(element))[ CD ]
Line_22 $$ if (axisSpecifier == null || axisSpecifier.isDefaultAxis()) -->Line_25 $$ while (sibling instanceof PsiWhiteSpace) [ CD ]
Line_30 $$ XPathLocationPath lp = null-->Line_31 $$ do [ FD ]
Line_13 $$ final boolean insidePrefix = suffix.contains(INTELLIJ_IDEA_RULEZ + ":")-->Line_17 $$ if (namespacePrefix == null || insidePrefix) [ FD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_9 $$ final String suffix = canonicalText.substring(canonicalText.indexOf(INTELLIJ_IDEA_RULEZ))[ CD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_24 $$ PsiElement sibling = element.getParent().getPrevSibling()[ FD ]
Line_29 $$ if (!check) -->Line_34 $$ check = lp == null || (sibling = lp.getPrevSibling()) != null[ CD ]
Line_14 $$ final Set<Lookup> list = new HashSet<Lookup>()-->Line_18 $$ addNamespaceCompletions(contextProvider.getNamespaceContext(), list, context)[ FD ]
Line_22 $$ if (axisSpecifier == null || axisSpecifier.isDefaultAxis()) -->Line_24 $$ PsiElement sibling = element.getParent().getPrevSibling()[ CD ]
Line_14 $$ final Set<Lookup> list = new HashSet<Lookup>()-->Line_45 $$ list.addAll(getNodeTypeCompletions(element))[ FD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_6 $$ final PrefixedName prefixedName = element.getQName()[ CD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_11 $$ final ContextProvider contextProvider = ContextProvider.getContextProvider(element)[ FD ]
Line_10 $$ final XPathAxisSpecifier axisSpecifier = element.getStep().getAxisSpecifier()-->Line_22 $$ if (axisSpecifier == null || axisSpecifier.isDefaultAxis()) [ FD ]
Line_37 $$ if (sibling instanceof XPathToken && XPathTokenTypes.PATH_OPS.contains(((XPathToken) sibling).getTokenType())) -->Line_39 $$ list.addAll(getFunctionCompletions(element))[ CD ]
Line_6 $$ final PrefixedName prefixedName = element.getQName()-->Line_20 $$ final XPathNodeTest.PrincipalType principalType = addContextNames(element, contextProvider, prefixedName, list)[ FD ]
Line_14 $$ final Set<Lookup> list = new HashSet<Lookup>()-->Line_23 $$ list.addAll(getAxisCompletions())[ FD ]
Line_11 $$ final ContextProvider contextProvider = ContextProvider.getContextProvider(element)-->Line_12 $$ final XmlElement context = contextProvider.getContextElement()[ FD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_6 $$ final PrefixedName prefixedName = element.getQName()[ FD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_21 $$ if (namespacePrefix == null && !insidePrefix) [ CD ]
Line_8 $$ final String canonicalText = prefixedName.toString()-->Line_9 $$ final String suffix = canonicalText.substring(canonicalText.indexOf(INTELLIJ_IDEA_RULEZ))[ FD ]
Line_11 $$ final ContextProvider contextProvider = ContextProvider.getContextProvider(element)-->Line_18 $$ addNamespaceCompletions(contextProvider.getNamespaceContext(), list, context)[ FD ]
Line_22 $$ if (axisSpecifier == null || axisSpecifier.isDefaultAxis()) -->Line_29 $$ if (!check) [ CD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_8 $$ final String canonicalText = prefixedName.toString()[ CD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_10 $$ final XPathAxisSpecifier axisSpecifier = element.getStep().getAxisSpecifier()[ CD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_20 $$ final XPathNodeTest.PrincipalType principalType = addContextNames(element, contextProvider, prefixedName, list)[ FD ]
Line_26 $$ sibling = sibling.getPrevSibling()-->Line_34 $$ check = lp == null || (sibling = lp.getPrevSibling()) != null[ FD ]
Line_24 $$ PsiElement sibling = element.getParent().getPrevSibling()-->Line_34 $$ check = lp == null || (sibling = lp.getPrevSibling()) != null[ FD ]
Line_6 $$ final PrefixedName prefixedName = element.getQName()-->Line_44 $$ if (principalType == XPathNodeTest.PrincipalType.ELEMENT && prefixedName.getPrefix() == null) [ FD ]
Line_11 $$ final ContextProvider contextProvider = ContextProvider.getContextProvider(element)-->Line_15 $$ addNameCompletions(contextProvider, element, list)[ FD ]
Line_3 $$ if (!element.isNameTest()) -->Line_4 $$ return Collections.emptyList()[ CD ]
Line_2 $$ public static Collection<Lookup> getNodeTestCompletions(final XPathNodeTest element) -->Line_16 $$ final String namespacePrefix = prefixedName.getPrefix()[ CD ]
Line_32 $$ lp = PsiTreeUtil.getParentOfType(lp == null ? element : lp, XPathLocationPath.class, true)-->Line_31 $$ do [ FD ]
