Line_2 $$ public void testFSRMStateStoreClientRetry() throws Exception -->Line_4 $$ MiniDFSCluster cluster = new MiniDFSCluster.Builder(conf).numDataNodes(2).build()[ CD ]
Line_4 $$ MiniDFSCluster cluster = new MiniDFSCluster.Builder(conf).numDataNodes(2).build()-->Line_11 $$ cluster.shutdownNameNodes()[ FD ]
Line_8 $$ final RMStateStore store = fsTester.getRMStateStore()-->Line_9 $$ store.setRMDispatcher(new TestDispatcher())[ FD ]
Line_12 $$ Thread clientThread = new Thread() -->Line_27 $$ clientThread.join()[ FD ]
Line_10 $$ final AtomicBoolean assertionFailedInThread = new AtomicBoolean(false)-->Line_18 $$ assertionFailedInThread.set(true)[ FD ]
Line_4 $$ MiniDFSCluster cluster = new MiniDFSCluster.Builder(conf).numDataNodes(2).build()-->Line_26 $$ cluster.restartNameNode()[ FD ]
Line_4 $$ MiniDFSCluster cluster = new MiniDFSCluster.Builder(conf).numDataNodes(2).build()-->Line_30 $$ cluster.shutdown()[ FD ]
Line_4 $$ MiniDFSCluster cluster = new MiniDFSCluster.Builder(conf).numDataNodes(2).build()-->Line_5 $$ cluster.waitActive()[ FD ]
Line_2 $$ public void testFSRMStateStoreClientRetry() throws Exception -->Line_5 $$ cluster.waitActive()[ CD ]
Line_10 $$ final AtomicBoolean assertionFailedInThread = new AtomicBoolean(false)-->Line_28 $$ Assert.assertFalse(assertionFailedInThread.get())[ FD ]
Line_17 $$ if (!e.getMessage().contains("could only be replicated" + " to 0 nodes instead of minReplication (=1)")) -->Line_18 $$ assertionFailedInThread.set(true)[ CD ]
Line_2 $$ public void testFSRMStateStoreClientRetry() throws Exception -->Line_3 $$ HdfsConfiguration conf = new HdfsConfiguration()[ CD ]
Line_12 $$ Thread clientThread = new Thread() -->Line_25 $$ clientThread.start()[ FD ]
Line_8 $$ final RMStateStore store = fsTester.getRMStateStore()-->Line_15 $$ store.storeApplicationStateInternal(ApplicationId.newInstance(100L, 1), ApplicationStateData.newInstance(111, 111, "user", null, RMAppState.ACCEPTED, "diagnostics", 333))[ FD ]
Line_7 $$ TestFSRMStateStoreTester fsTester = new TestFSRMStateStoreTester(cluster)-->Line_8 $$ final RMStateStore store = fsTester.getRMStateStore()[ FD ]
