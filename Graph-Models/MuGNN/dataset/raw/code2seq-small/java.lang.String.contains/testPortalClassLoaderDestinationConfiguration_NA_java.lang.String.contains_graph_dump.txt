Line_12 $$ List<MessageListener> messageListenersList2 = new ArrayList()-->Line_14 $$ messageListenersList2.add(new TestMessageListener("liferay/portaltest2"))[ FD ]
Line_2 $$ public void testPortalClassLoaderDestinationConfiguration() -->Line_3 $$ DefaultMessagingConfigurator defaultMessagingConfigurator = new DefaultMessagingConfigurator()[ CD ]
Line_18 $$ Filter filter = registry.getFilter("(&(destination.name=*portaltest*)(objectClass=com.liferay." + "portal.kernel.messaging.Destination))")-->Line_19 $$ ServiceTracker<Destination, Destination> serviceTracker = registry.trackServices(filter)[ FD ]
Line_22 $$ while (ArrayUtil.isEmpty(serviceTracker.getServices())) -->Line_23 $$ Thread.sleep(1000)[ CD ]
Line_34 $$ if (destination.getMessageListenerCount() > 0) -->Line_37 $$ destination.send(message)[ CD ]
Line_19 $$ ServiceTracker<Destination, Destination> serviceTracker = registry.trackServices(filter)-->Line_20 $$ serviceTracker.open()[ FD ]
Line_9 $$ List<MessageListener> messageListenersList1 = new ArrayList()-->Line_11 $$ messageListenersList1.add(new TestMessageListener("liferay/portaltest1"))[ FD ]
Line_3 $$ DefaultMessagingConfigurator defaultMessagingConfigurator = new DefaultMessagingConfigurator()-->Line_7 $$ defaultMessagingConfigurator.setDestinationConfigurations(destinationConfigurations)[ FD ]
Line_2 $$ public void testPortalClassLoaderDestinationConfiguration() -->Line_10 $$ messageListeners.put("liferay/portaltest1", messageListenersList1)[ CD ]
Line_29 $$ String destinationName = destination.getName()-->Line_30 $$ Assert.assertTrue(destinationName.contains("portaltest"))[ FD ]
Line_31 $$ if (destinationName.equals("liferay/portaltest1")) -->Line_32 $$ Assert.assertEquals(1, destination.getMessageListenerCount())[ CD ]
Line_34 $$ if (destination.getMessageListenerCount() > 0) -->Line_36 $$ message.setDestinationName(destinationName)[ CD ]
Line_2 $$ public void testPortalClassLoaderDestinationConfiguration() -->Line_9 $$ List<MessageListener> messageListenersList1 = new ArrayList()[ CD ]
Line_35 $$ Message message = new Message()-->Line_37 $$ destination.send(message)[ FD ]
Line_34 $$ if (destination.getMessageListenerCount() > 0) -->Line_35 $$ Message message = new Message()[ CD ]
Line_19 $$ ServiceTracker<Destination, Destination> serviceTracker = registry.trackServices(filter)-->Line_25 $$ Object[] services = serviceTracker.getServices()[ FD ]
Line_17 $$ Registry registry = RegistryUtil.getRegistry()-->Line_19 $$ ServiceTracker<Destination, Destination> serviceTracker = registry.trackServices(filter)[ FD ]
Line_29 $$ String destinationName = destination.getName()-->Line_31 $$ if (destinationName.equals("liferay/portaltest1")) [ FD ]
Line_2 $$ public void testPortalClassLoaderDestinationConfiguration() -->Line_18 $$ Filter filter = registry.getFilter("(&(destination.name=*portaltest*)(objectClass=com.liferay." + "portal.kernel.messaging.Destination))")[ CD ]
Line_3 $$ DefaultMessagingConfigurator defaultMessagingConfigurator = new DefaultMessagingConfigurator()-->Line_15 $$ defaultMessagingConfigurator.setMessageListeners(messageListeners)[ FD ]
Line_2 $$ public void testPortalClassLoaderDestinationConfiguration() -->Line_14 $$ messageListenersList2.add(new TestMessageListener("liferay/portaltest2"))[ CD ]
Line_3 $$ DefaultMessagingConfigurator defaultMessagingConfigurator = new DefaultMessagingConfigurator()-->Line_16 $$ defaultMessagingConfigurator.afterPropertiesSet()[ FD ]
Line_9 $$ List<MessageListener> messageListenersList1 = new ArrayList()-->Line_10 $$ messageListeners.put("liferay/portaltest1", messageListenersList1)[ FD ]
Line_8 $$ Map<String, List<MessageListener>> messageListeners = new HashMap()-->Line_13 $$ messageListeners.put("liferay/portaltest2", messageListenersList2)[ FD ]
Line_2 $$ public void testPortalClassLoaderDestinationConfiguration() -->Line_6 $$ destinationConfigurations.add(DestinationConfiguration.createParallelDestinationConfiguration("liferay/portaltest2"))[ CD ]
Line_2 $$ public void testPortalClassLoaderDestinationConfiguration() -->Line_16 $$ defaultMessagingConfigurator.afterPropertiesSet()[ CD ]
Line_2 $$ public void testPortalClassLoaderDestinationConfiguration() -->Line_4 $$ Set<DestinationConfiguration> destinationConfigurations = new HashSet()[ CD ]
Line_2 $$ public void testPortalClassLoaderDestinationConfiguration() -->Line_20 $$ serviceTracker.open()[ CD ]
Line_2 $$ public void testPortalClassLoaderDestinationConfiguration() -->Line_11 $$ messageListenersList1.add(new TestMessageListener("liferay/portaltest1"))[ CD ]
Line_2 $$ public void testPortalClassLoaderDestinationConfiguration() -->Line_17 $$ Registry registry = RegistryUtil.getRegistry()[ CD ]
Line_4 $$ Set<DestinationConfiguration> destinationConfigurations = new HashSet()-->Line_5 $$ destinationConfigurations.add(DestinationConfiguration.createSynchronousDestinationConfiguration("liferay/portaltest1"))[ FD ]
Line_2 $$ public void testPortalClassLoaderDestinationConfiguration() -->Line_8 $$ Map<String, List<MessageListener>> messageListeners = new HashMap()[ CD ]
Line_4 $$ Set<DestinationConfiguration> destinationConfigurations = new HashSet()-->Line_7 $$ defaultMessagingConfigurator.setDestinationConfigurations(destinationConfigurations)[ FD ]
Line_12 $$ List<MessageListener> messageListenersList2 = new ArrayList()-->Line_13 $$ messageListeners.put("liferay/portaltest2", messageListenersList2)[ FD ]
Line_2 $$ public void testPortalClassLoaderDestinationConfiguration() -->Line_7 $$ defaultMessagingConfigurator.setDestinationConfigurations(destinationConfigurations)[ CD ]
Line_2 $$ public void testPortalClassLoaderDestinationConfiguration() -->Line_12 $$ List<MessageListener> messageListenersList2 = new ArrayList()[ CD ]
Line_8 $$ Map<String, List<MessageListener>> messageListeners = new HashMap()-->Line_15 $$ defaultMessagingConfigurator.setMessageListeners(messageListeners)[ FD ]
Line_2 $$ public void testPortalClassLoaderDestinationConfiguration() -->Line_5 $$ destinationConfigurations.add(DestinationConfiguration.createSynchronousDestinationConfiguration("liferay/portaltest1"))[ CD ]
Line_28 $$ Destination destination = (Destination) service-->Line_37 $$ destination.send(message)[ FD ]
Line_2 $$ public void testPortalClassLoaderDestinationConfiguration() -->Line_15 $$ defaultMessagingConfigurator.setMessageListeners(messageListeners)[ CD ]
Line_17 $$ Registry registry = RegistryUtil.getRegistry()-->Line_18 $$ Filter filter = registry.getFilter("(&(destination.name=*portaltest*)(objectClass=com.liferay." + "portal.kernel.messaging.Destination))")[ FD ]
Line_35 $$ Message message = new Message()-->Line_36 $$ message.setDestinationName(destinationName)[ FD ]
Line_2 $$ public void testPortalClassLoaderDestinationConfiguration() -->Line_13 $$ messageListeners.put("liferay/portaltest2", messageListenersList2)[ CD ]
Line_29 $$ String destinationName = destination.getName()-->Line_36 $$ message.setDestinationName(destinationName)[ FD ]
Line_2 $$ public void testPortalClassLoaderDestinationConfiguration() -->Line_19 $$ ServiceTracker<Destination, Destination> serviceTracker = registry.trackServices(filter)[ CD ]
Line_4 $$ Set<DestinationConfiguration> destinationConfigurations = new HashSet()-->Line_6 $$ destinationConfigurations.add(DestinationConfiguration.createParallelDestinationConfiguration("liferay/portaltest2"))[ FD ]
Line_28 $$ Destination destination = (Destination) service-->Line_32 $$ Assert.assertEquals(1, destination.getMessageListenerCount())[ FD ]
Line_28 $$ Destination destination = (Destination) service-->Line_34 $$ if (destination.getMessageListenerCount() > 0) [ FD ]
Line_28 $$ Destination destination = (Destination) service-->Line_29 $$ String destinationName = destination.getName()[ FD ]
Line_19 $$ ServiceTracker<Destination, Destination> serviceTracker = registry.trackServices(filter)-->Line_22 $$ while (ArrayUtil.isEmpty(serviceTracker.getServices())) [ FD ]
Line_8 $$ Map<String, List<MessageListener>> messageListeners = new HashMap()-->Line_10 $$ messageListeners.put("liferay/portaltest1", messageListenersList1)[ FD ]
