Line_2 $$ protected String replaceExportLayoutReferences(PortletDataContext portletDataContext, StagedModel stagedModel, String content) throws Exception -->Line_109 $$ portletDataContext.addReferenceElement(stagedModel, entityElement, layout, PortletDataContext.REFERENCE_TYPE_DEPENDENCY, true)[ FD ]
Line_56 $$ String urlWithoutLocale = url.substring(localePath.length())-->Line_57 $$ if (urlWithoutLocale.startsWith(PRIVATE_GROUP_SERVLET_MAPPING) || urlWithoutLocale.startsWith(PRIVATE_USER_SERVLET_MAPPING) || urlWithoutLocale.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ FD ]
Line_59 $$ url = urlWithoutLocale-->Line_63 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) [ FD ]
Line_57 $$ if (urlWithoutLocale.startsWith(PRIVATE_GROUP_SERVLET_MAPPING) || urlWithoutLocale.startsWith(PRIVATE_USER_SERVLET_MAPPING) || urlWithoutLocale.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) -->Line_59 $$ url = urlWithoutLocale[ CD ]
Line_2 $$ protected String replaceExportLayoutReferences(PortletDataContext portletDataContext, StagedModel stagedModel, String content) throws Exception -->Line_13 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)[ FD ]
Line_38 $$ if (pathContext.length() > 1) -->Line_42 $$ urlSB.append(DATA_HANDLER_PATH_CONTEXT)[ CD ]
Line_63 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) -->Line_64 $$ urlSB.append(DATA_HANDLER_PRIVATE_GROUP_SERVLET_MAPPING)[ CD ]
Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_86 $$ LayoutFriendlyURL layoutFriendlyUrl = LayoutFriendlyURLLocalServiceUtil.fetchFirstLayoutFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) -->Line_87 $$ if (layoutFriendlyUrl == null) [ CD ]
Line_2 $$ protected String replaceExportLayoutReferences(PortletDataContext portletDataContext, StagedModel stagedModel, String content) throws Exception -->Line_30 $$ String url = content.substring(beginPos + offset, endPos)[ FD ]
Line_4 $$ StringBuilder sb = new StringBuilder(content)-->Line_118 $$ return sb.toString()[ FD ]
Line_18 $$ offset = 5-->Line_21 $$ offset++[ FD ]
Line_67 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) -->Line_70 $$ privateLayout = true[ CD ]
Line_59 $$ url = urlWithoutLocale-->Line_67 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) [ FD ]
Line_113 $$ url = urlSB.toString()-->Line_48 $$ int pos = url.indexOf(StringPool.SLASH, 1)[ FD ]
Line_18 $$ offset = 5-->Line_24 $$ offset = 2[ FD ]
Line_17 $$ if (content.startsWith("href=", beginPos)) -->Line_19 $$ char c = content.charAt(beginPos + offset)[ CD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_39 $$ if (!url.startsWith(pathContext)) [ FD ]
Line_49 $$ String localePath = StringPool.BLANK-->Line_56 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_7 $$ int endPos = content.length()-->Line_11 $$ endPos = beginPos - 1[ FD ]
Line_78 $$ layoutSet = group.getPublicLayoutSet()-->Line_80 $$ layoutSet = group.getPrivateLayoutSet()[ FD ]
Line_2 $$ protected String replaceExportLayoutReferences(PortletDataContext portletDataContext, StagedModel stagedModel, String content) throws Exception -->Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)[ FD ]
Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_43 $$ url = url.substring(pathContext.length())[ FD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_67 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) [ FD ]
Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_52 $$ localePath = url.substring(0, pos)[ FD ]
Line_49 $$ String localePath = StringPool.BLANK-->Line_52 $$ localePath = url.substring(0, pos)[ FD ]
Line_113 $$ url = urlSB.toString()-->Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ FD ]
Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_39 $$ if (!url.startsWith(pathContext)) [ FD ]
Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_108 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_26 $$ endPos = StringUtil.indexOfAny(content, LAYOUT_REFERENCE_STOP_CHARS, beginPos + offset, endPos)-->Line_115 $$ sb.replace(beginPos + offset, endPos, url)[ FD ]
Line_59 $$ url = urlWithoutLocale-->Line_52 $$ localePath = url.substring(0, pos)[ FD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_45 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_56 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_39 $$ if (!url.startsWith(pathContext)) [ FD ]
Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)[ FD ]
Line_113 $$ url = urlSB.toString()-->Line_86 $$ LayoutFriendlyURL layoutFriendlyUrl = LayoutFriendlyURLLocalServiceUtil.fetchFirstLayoutFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_63 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) [ FD ]
Line_23 $$ if (content.charAt(beginPos) == CharPool.OPEN_BRACKET) -->Line_24 $$ offset = 2[ CD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ FD ]
Line_7 $$ int endPos = content.length()-->Line_27 $$ if (endPos == -1) [ FD ]
Line_105 $$ url = url.substring(groupFriendlyURL.length())-->Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)[ FD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_43 $$ url = url.substring(pathContext.length())[ FD ]
Line_66 $$ privateLayout = true-->Line_108 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_113 $$ url = urlSB.toString()-->Line_63 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) [ FD ]
Line_113 $$ url = urlSB.toString()-->Line_67 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) [ FD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_115 $$ sb.replace(beginPos + offset, endPos, url)[ FD ]
Line_38 $$ if (pathContext.length() > 1) -->Line_43 $$ url = url.substring(pathContext.length())[ CD ]
Line_113 $$ url = urlSB.toString()-->Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_56 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_13 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)-->Line_14 $$ if (beginPos == -1) [ FD ]
Line_31 $$ StringBundler urlSB = new StringBundler(5)-->Line_99 $$ urlSB.append(DATA_HANDLER_GROUP_FRIENDLY_URL)[ FD ]
Line_7 $$ int endPos = content.length()-->Line_115 $$ sb.replace(beginPos + offset, endPos, url)[ FD ]
Line_105 $$ url = url.substring(groupFriendlyURL.length())-->Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ FD ]
Line_2 $$ protected String replaceExportLayoutReferences(PortletDataContext portletDataContext, StagedModel stagedModel, String content) throws Exception -->Line_118 $$ return sb.toString()[ CD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_105 $$ url = url.substring(groupFriendlyURL.length())-->Line_43 $$ url = url.substring(pathContext.length())[ FD ]
Line_75 $$ String urlSBString = urlSB.toString()-->Line_79 $$ if (urlSBString.contains(DATA_HANDLER_PRIVATE_LAYOUT_SET_SECURE_URL) || urlSBString.contains(DATA_HANDLER_PRIVATE_LAYOUT_SET_URL)) [ FD ]
Line_113 $$ url = urlSB.toString()-->Line_52 $$ localePath = url.substring(0, pos)[ FD ]
Line_63 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) -->Line_67 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) [ CD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_34 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_115 $$ sb.replace(beginPos + offset, endPos, url)[ FD ]
Line_57 $$ if (urlWithoutLocale.startsWith(PRIVATE_GROUP_SERVLET_MAPPING) || urlWithoutLocale.startsWith(PRIVATE_USER_SERVLET_MAPPING) || urlWithoutLocale.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) -->Line_58 $$ urlSB.append(localePath)[ CD ]
Line_67 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) -->Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)[ CD ]
Line_62 $$ boolean privateLayout = false-->Line_66 $$ privateLayout = true[ FD ]
Line_11 $$ endPos = beginPos - 1-->Line_30 $$ String url = content.substring(beginPos + offset, endPos)[ FD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_59 $$ url = urlWithoutLocale-->Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_63 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) -->Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)[ CD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_112 $$ urlSB.append(url)[ FD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_113 $$ url = urlSB.toString()[ FD ]
Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)[ FD ]
Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_48 $$ int pos = url.indexOf(StringPool.SLASH, 1)[ FD ]
Line_113 $$ url = urlSB.toString()-->Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_7 $$ int endPos = content.length()-->Line_26 $$ endPos = StringUtil.indexOfAny(content, LAYOUT_REFERENCE_STOP_CHARS, beginPos + offset, endPos)[ FD ]
Line_113 $$ url = urlSB.toString()-->Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)[ FD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_34 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_103 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) -->Line_105 $$ url = url.substring(groupFriendlyURL.length())[ CD ]
Line_113 $$ url = urlSB.toString()-->Line_105 $$ url = url.substring(groupFriendlyURL.length())[ FD ]
Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_103 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) [ FD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_77 $$ if (urlSBString.contains(DATA_HANDLER_PUBLIC_LAYOUT_SET_SECURE_URL) || urlSBString.contains(DATA_HANDLER_PUBLIC_LAYOUT_SET_URL)) -->Line_78 $$ layoutSet = group.getPublicLayoutSet()[ CD ]
Line_4 $$ StringBuilder sb = new StringBuilder(content)-->Line_115 $$ sb.replace(beginPos + offset, endPos, url)[ FD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_45 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_86 $$ LayoutFriendlyURL layoutFriendlyUrl = LayoutFriendlyURLLocalServiceUtil.fetchFirstLayoutFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_76 $$ LayoutSet layoutSet = null-->Line_78 $$ layoutSet = group.getPublicLayoutSet()[ FD ]
Line_9 $$ while (true) -->Line_10 $$ if (beginPos > -1) [ CD ]
Line_53 $$ locale = LocaleUtil.fromLanguageId(localePath.substring(1), true, false)-->Line_55 $$ if (locale != null) [ FD ]
Line_113 $$ url = urlSB.toString()-->Line_103 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) [ FD ]
Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_113 $$ url = urlSB.toString()[ FD ]
Line_66 $$ privateLayout = true-->Line_85 $$ privateLayout = layoutSet.isPrivateLayout()[ FD ]
Line_70 $$ privateLayout = true-->Line_108 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_105 $$ url = url.substring(groupFriendlyURL.length())-->Line_63 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) [ FD ]
Line_85 $$ privateLayout = layoutSet.isPrivateLayout()-->Line_86 $$ LayoutFriendlyURL layoutFriendlyUrl = LayoutFriendlyURLLocalServiceUtil.fetchFirstLayoutFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) -->Line_85 $$ privateLayout = layoutSet.isPrivateLayout()[ CD ]
Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) -->Line_72 $$ urlSB.append(DATA_HANDLER_PUBLIC_SERVLET_MAPPING)[ CD ]
Line_49 $$ String localePath = StringPool.BLANK-->Line_58 $$ urlSB.append(localePath)[ FD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_103 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) [ FD ]
Line_2 $$ protected String replaceExportLayoutReferences(PortletDataContext portletDataContext, StagedModel stagedModel, String content) throws Exception -->Line_3 $$ Group group = GroupLocalServiceUtil.getGroup(portletDataContext.getScopeGroupId())[ FD ]
Line_6 $$ int beginPos = -1-->Line_10 $$ if (beginPos > -1) [ FD ]
Line_26 $$ endPos = StringUtil.indexOfAny(content, LAYOUT_REFERENCE_STOP_CHARS, beginPos + offset, endPos)-->Line_30 $$ String url = content.substring(beginPos + offset, endPos)[ FD ]
Line_79 $$ if (urlSBString.contains(DATA_HANDLER_PRIVATE_LAYOUT_SET_SECURE_URL) || urlSBString.contains(DATA_HANDLER_PRIVATE_LAYOUT_SET_URL)) -->Line_80 $$ layoutSet = group.getPrivateLayoutSet()[ CD ]
Line_102 $$ String groupFriendlyURL = group.getFriendlyURL()-->Line_103 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) [ FD ]
Line_62 $$ boolean privateLayout = false-->Line_108 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_108 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_5 $$ String[] patterns = -->Line_13 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)[ FD ]
Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_34 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_90 $$ if (privateLayout) -->Line_91 $$ if (group.isUser()) [ CD ]
Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_45 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_67 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) [ FD ]
Line_6 $$ int beginPos = -1-->Line_23 $$ if (content.charAt(beginPos) == CharPool.OPEN_BRACKET) [ FD ]
Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) -->Line_90 $$ if (privateLayout) [ CD ]
Line_105 $$ url = url.substring(groupFriendlyURL.length())-->Line_39 $$ if (!url.startsWith(pathContext)) [ FD ]
Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) -->Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)[ CD ]
Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ FD ]
Line_2 $$ protected String replaceExportLayoutReferences(PortletDataContext portletDataContext, StagedModel stagedModel, String content) throws Exception -->Line_4 $$ StringBuilder sb = new StringBuilder(content)[ CD ]
Line_56 $$ String urlWithoutLocale = url.substring(localePath.length())-->Line_59 $$ url = urlWithoutLocale[ FD ]
Line_105 $$ url = url.substring(groupFriendlyURL.length())-->Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_63 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) [ FD ]
Line_66 $$ privateLayout = true-->Line_70 $$ privateLayout = true[ FD ]
Line_113 $$ url = urlSB.toString()-->Line_39 $$ if (!url.startsWith(pathContext)) [ FD ]
Line_2 $$ protected String replaceExportLayoutReferences(PortletDataContext portletDataContext, StagedModel stagedModel, String content) throws Exception -->Line_7 $$ int endPos = content.length()[ FD ]
Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_108 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_3 $$ Group group = GroupLocalServiceUtil.getGroup(portletDataContext.getScopeGroupId())-->Line_80 $$ layoutSet = group.getPrivateLayoutSet()[ FD ]
Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_115 $$ sb.replace(beginPos + offset, endPos, url)[ FD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ FD ]
Line_11 $$ endPos = beginPos - 1-->Line_115 $$ sb.replace(beginPos + offset, endPos, url)[ FD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_52 $$ localePath = url.substring(0, pos)[ FD ]
Line_3 $$ Group group = GroupLocalServiceUtil.getGroup(portletDataContext.getScopeGroupId())-->Line_102 $$ String groupFriendlyURL = group.getFriendlyURL()[ FD ]
Line_59 $$ url = urlWithoutLocale-->Line_43 $$ url = url.substring(pathContext.length())[ FD ]
Line_105 $$ url = url.substring(groupFriendlyURL.length())-->Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)[ FD ]
Line_17 $$ if (content.startsWith("href=", beginPos)) -->Line_20 $$ if ((c == CharPool.APOSTROPHE) || (c == CharPool.QUOTE)) [ CD ]
Line_59 $$ url = urlWithoutLocale-->Line_105 $$ url = url.substring(groupFriendlyURL.length())[ FD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_45 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) -->Line_75 $$ String urlSBString = urlSB.toString()[ CD ]
Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_113 $$ url = urlSB.toString()[ FD ]
Line_76 $$ LayoutSet layoutSet = null-->Line_82 $$ if (layoutSet == null) [ FD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_52 $$ localePath = url.substring(0, pos)[ FD ]
Line_2 $$ protected String replaceExportLayoutReferences(PortletDataContext portletDataContext, StagedModel stagedModel, String content) throws Exception -->Line_8 $$ int offset = 0[ CD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_37 $$ String pathContext = PortalUtil.getPathContext()-->Line_43 $$ url = url.substring(pathContext.length())[ FD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_52 $$ localePath = url.substring(0, pos)[ FD ]
Line_59 $$ url = urlWithoutLocale-->Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)[ FD ]
Line_9 $$ while (true) -->Line_30 $$ String url = content.substring(beginPos + offset, endPos)[ CD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_48 $$ int pos = url.indexOf(StringPool.SLASH, 1)[ FD ]
Line_31 $$ StringBundler urlSB = new StringBundler(5)-->Line_42 $$ urlSB.append(DATA_HANDLER_PATH_CONTEXT)[ FD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_34 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_34 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) -->Line_86 $$ LayoutFriendlyURL layoutFriendlyUrl = LayoutFriendlyURLLocalServiceUtil.fetchFirstLayoutFriendlyURL(group.getGroupId(), privateLayout, url)[ CD ]
Line_6 $$ int beginPos = -1-->Line_17 $$ if (content.startsWith("href=", beginPos)) [ FD ]
Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) -->Line_82 $$ if (layoutSet == null) [ CD ]
Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) -->Line_99 $$ urlSB.append(DATA_HANDLER_GROUP_FRIENDLY_URL)[ CD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_56 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)[ FD ]
Line_105 $$ url = url.substring(groupFriendlyURL.length())-->Line_48 $$ int pos = url.indexOf(StringPool.SLASH, 1)[ FD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_115 $$ sb.replace(beginPos + offset, endPos, url)[ FD ]
Line_113 $$ url = urlSB.toString()-->Line_34 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_59 $$ url = urlWithoutLocale-->Line_45 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_13 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)-->Line_17 $$ if (content.startsWith("href=", beginPos)) [ FD ]
Line_2 $$ protected String replaceExportLayoutReferences(PortletDataContext portletDataContext, StagedModel stagedModel, String content) throws Exception -->Line_9 $$ while (true) [ CD ]
Line_105 $$ url = url.substring(groupFriendlyURL.length())-->Line_103 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) [ FD ]
Line_31 $$ StringBundler urlSB = new StringBundler(5)-->Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)[ FD ]
Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_103 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) [ FD ]
Line_31 $$ StringBundler urlSB = new StringBundler(5)-->Line_112 $$ urlSB.append(url)[ FD ]
Line_52 $$ localePath = url.substring(0, pos)-->Line_53 $$ locale = LocaleUtil.fromLanguageId(localePath.substring(1), true, false)[ FD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_86 $$ LayoutFriendlyURL layoutFriendlyUrl = LayoutFriendlyURLLocalServiceUtil.fetchFirstLayoutFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_8 $$ int offset = 0-->Line_18 $$ offset = 5[ FD ]
Line_113 $$ url = urlSB.toString()-->Line_43 $$ url = url.substring(pathContext.length())[ FD ]
Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_86 $$ LayoutFriendlyURL layoutFriendlyUrl = LayoutFriendlyURLLocalServiceUtil.fetchFirstLayoutFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_52 $$ localePath = url.substring(0, pos)-->Line_56 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_49 $$ String localePath = StringPool.BLANK-->Line_53 $$ locale = LocaleUtil.fromLanguageId(localePath.substring(1), true, false)[ FD ]
Line_66 $$ privateLayout = true-->Line_86 $$ LayoutFriendlyURL layoutFriendlyUrl = LayoutFriendlyURLLocalServiceUtil.fetchFirstLayoutFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_105 $$ url = url.substring(groupFriendlyURL.length())[ FD ]
Line_105 $$ url = url.substring(groupFriendlyURL.length())-->Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_3 $$ Group group = GroupLocalServiceUtil.getGroup(portletDataContext.getScopeGroupId())-->Line_108 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)[ FD ]
Line_59 $$ url = urlWithoutLocale-->Line_39 $$ if (!url.startsWith(pathContext)) [ FD ]
Line_76 $$ LayoutSet layoutSet = null-->Line_85 $$ privateLayout = layoutSet.isPrivateLayout()[ FD ]
Line_31 $$ StringBundler urlSB = new StringBundler(5)-->Line_92 $$ urlSB.append(DATA_HANDLER_PRIVATE_USER_SERVLET_MAPPING)[ FD ]
Line_11 $$ endPos = beginPos - 1-->Line_26 $$ endPos = StringUtil.indexOfAny(content, LAYOUT_REFERENCE_STOP_CHARS, beginPos + offset, endPos)[ FD ]
Line_111 $$ if (urlSB.length() > 0) -->Line_112 $$ urlSB.append(url)[ CD ]
Line_26 $$ endPos = StringUtil.indexOfAny(content, LAYOUT_REFERENCE_STOP_CHARS, beginPos + offset, endPos)-->Line_13 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)[ FD ]
Line_2 $$ protected String replaceExportLayoutReferences(PortletDataContext portletDataContext, StagedModel stagedModel, String content) throws Exception -->Line_107 $$ Element entityElement = portletDataContext.getExportDataElement(stagedModel)[ FD ]
Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_105 $$ url = url.substring(groupFriendlyURL.length())[ FD ]
Line_59 $$ url = urlWithoutLocale-->Line_34 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_112 $$ urlSB.append(url)[ FD ]
Line_62 $$ boolean privateLayout = false-->Line_86 $$ LayoutFriendlyURL layoutFriendlyUrl = LayoutFriendlyURLLocalServiceUtil.fetchFirstLayoutFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_111 $$ if (urlSB.length() > 0) -->Line_113 $$ url = urlSB.toString()[ CD ]
Line_105 $$ url = url.substring(groupFriendlyURL.length())-->Line_45 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_37 $$ String pathContext = PortalUtil.getPathContext()-->Line_39 $$ if (!url.startsWith(pathContext)) [ FD ]
Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_39 $$ if (!url.startsWith(pathContext)) [ FD ]
Line_9 $$ while (true) -->Line_13 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)[ CD ]
Line_26 $$ endPos = StringUtil.indexOfAny(content, LAYOUT_REFERENCE_STOP_CHARS, beginPos + offset, endPos)-->Line_27 $$ if (endPos == -1) [ FD ]
Line_103 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) -->Line_104 $$ urlSB.append(DATA_HANDLER_GROUP_FRIENDLY_URL)[ CD ]
Line_2 $$ protected String replaceExportLayoutReferences(PortletDataContext portletDataContext, StagedModel stagedModel, String content) throws Exception -->Line_26 $$ endPos = StringUtil.indexOfAny(content, LAYOUT_REFERENCE_STOP_CHARS, beginPos + offset, endPos)[ FD ]
Line_13 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)-->Line_10 $$ if (beginPos > -1) [ FD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_105 $$ url = url.substring(groupFriendlyURL.length())[ FD ]
Line_59 $$ url = urlWithoutLocale-->Line_112 $$ urlSB.append(url)[ FD ]
Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)[ FD ]
Line_31 $$ StringBundler urlSB = new StringBundler(5)-->Line_113 $$ url = urlSB.toString()[ FD ]
Line_105 $$ url = url.substring(groupFriendlyURL.length())-->Line_56 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_31 $$ StringBundler urlSB = new StringBundler(5)-->Line_58 $$ urlSB.append(localePath)[ FD ]
Line_59 $$ url = urlWithoutLocale-->Line_48 $$ int pos = url.indexOf(StringPool.SLASH, 1)[ FD ]
Line_113 $$ url = urlSB.toString()-->Line_112 $$ urlSB.append(url)[ FD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_63 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) [ FD ]
Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_108 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ FD ]
Line_51 $$ if (pos != -1) -->Line_53 $$ locale = LocaleUtil.fromLanguageId(localePath.substring(1), true, false)[ CD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_67 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) [ FD ]
Line_63 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) -->Line_66 $$ privateLayout = true[ CD ]
Line_91 $$ if (group.isUser()) -->Line_92 $$ urlSB.append(DATA_HANDLER_PRIVATE_USER_SERVLET_MAPPING)[ CD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_43 $$ url = url.substring(pathContext.length())[ FD ]
Line_102 $$ String groupFriendlyURL = group.getFriendlyURL()-->Line_105 $$ url = url.substring(groupFriendlyURL.length())[ FD ]
Line_31 $$ StringBundler urlSB = new StringBundler(5)-->Line_104 $$ urlSB.append(DATA_HANDLER_GROUP_FRIENDLY_URL)[ FD ]
Line_50 $$ Locale locale = null-->Line_53 $$ locale = LocaleUtil.fromLanguageId(localePath.substring(1), true, false)[ FD ]
Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_63 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) [ FD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_103 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) [ FD ]
Line_31 $$ StringBundler urlSB = new StringBundler(5)-->Line_97 $$ urlSB.append(DATA_HANDLER_PUBLIC_SERVLET_MAPPING)[ FD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_113 $$ url = urlSB.toString()[ FD ]
Line_6 $$ int beginPos = -1-->Line_13 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)[ FD ]
Line_113 $$ url = urlSB.toString()-->Line_56 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_2 $$ protected String replaceExportLayoutReferences(PortletDataContext portletDataContext, StagedModel stagedModel, String content) throws Exception -->Line_5 $$ String[] patterns = [ CD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_59 $$ url = urlWithoutLocale-->Line_115 $$ sb.replace(beginPos + offset, endPos, url)[ FD ]
Line_8 $$ int offset = 0-->Line_21 $$ offset++[ FD ]
Line_13 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)-->Line_23 $$ if (content.charAt(beginPos) == CharPool.OPEN_BRACKET) [ FD ]
Line_105 $$ url = url.substring(groupFriendlyURL.length())-->Line_112 $$ urlSB.append(url)[ FD ]
Line_2 $$ protected String replaceExportLayoutReferences(PortletDataContext portletDataContext, StagedModel stagedModel, String content) throws Exception -->Line_23 $$ if (content.charAt(beginPos) == CharPool.OPEN_BRACKET) [ FD ]
Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_105 $$ url = url.substring(groupFriendlyURL.length())[ FD ]
Line_13 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)-->Line_11 $$ endPos = beginPos - 1[ FD ]
Line_107 $$ Element entityElement = portletDataContext.getExportDataElement(stagedModel)-->Line_109 $$ portletDataContext.addReferenceElement(stagedModel, entityElement, layout, PortletDataContext.REFERENCE_TYPE_DEPENDENCY, true)[ FD ]
Line_2 $$ protected String replaceExportLayoutReferences(PortletDataContext portletDataContext, StagedModel stagedModel, String content) throws Exception -->Line_17 $$ if (content.startsWith("href=", beginPos)) [ FD ]
Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ FD ]
Line_3 $$ Group group = GroupLocalServiceUtil.getGroup(portletDataContext.getScopeGroupId())-->Line_91 $$ if (group.isUser()) [ FD ]
Line_59 $$ url = urlWithoutLocale-->Line_103 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) [ FD ]
Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_48 $$ int pos = url.indexOf(StringPool.SLASH, 1)[ FD ]
Line_59 $$ url = urlWithoutLocale-->Line_108 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_52 $$ localePath = url.substring(0, pos)[ FD ]
Line_113 $$ url = urlSB.toString()-->Line_108 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_59 $$ url = urlWithoutLocale-->Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ FD ]
Line_59 $$ url = urlWithoutLocale-->Line_86 $$ LayoutFriendlyURL layoutFriendlyUrl = LayoutFriendlyURLLocalServiceUtil.fetchFirstLayoutFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_56 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_8 $$ int offset = 0-->Line_24 $$ offset = 2[ FD ]
Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_67 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) [ FD ]
Line_17 $$ if (content.startsWith("href=", beginPos)) -->Line_23 $$ if (content.charAt(beginPos) == CharPool.OPEN_BRACKET) [ CD ]
Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_103 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) [ FD ]
Line_113 $$ url = urlSB.toString()-->Line_45 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_70 $$ privateLayout = true-->Line_85 $$ privateLayout = layoutSet.isPrivateLayout()[ FD ]
Line_59 $$ url = urlWithoutLocale-->Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)[ FD ]
Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_45 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_2 $$ protected String replaceExportLayoutReferences(PortletDataContext portletDataContext, StagedModel stagedModel, String content) throws Exception -->Line_19 $$ char c = content.charAt(beginPos + offset)[ FD ]
Line_20 $$ if ((c == CharPool.APOSTROPHE) || (c == CharPool.QUOTE)) -->Line_21 $$ offset++[ CD ]
Line_59 $$ url = urlWithoutLocale-->Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)[ FD ]
Line_7 $$ int endPos = content.length()-->Line_13 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)[ FD ]
Line_55 $$ if (locale != null) -->Line_56 $$ String urlWithoutLocale = url.substring(localePath.length())[ CD ]
Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_48 $$ int pos = url.indexOf(StringPool.SLASH, 1)[ FD ]
Line_6 $$ int beginPos = -1-->Line_11 $$ endPos = beginPos - 1[ FD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_105 $$ url = url.substring(groupFriendlyURL.length())[ FD ]
Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_86 $$ LayoutFriendlyURL layoutFriendlyUrl = LayoutFriendlyURLLocalServiceUtil.fetchFirstLayoutFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_113 $$ url = urlSB.toString()[ FD ]
Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_75 $$ String urlSBString = urlSB.toString()-->Line_77 $$ if (urlSBString.contains(DATA_HANDLER_PUBLIC_LAYOUT_SET_SECURE_URL) || urlSBString.contains(DATA_HANDLER_PUBLIC_LAYOUT_SET_URL)) [ FD ]
Line_48 $$ int pos = url.indexOf(StringPool.SLASH, 1)-->Line_51 $$ if (pos != -1) [ FD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_86 $$ LayoutFriendlyURL layoutFriendlyUrl = LayoutFriendlyURLLocalServiceUtil.fetchFirstLayoutFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_38 $$ if (pathContext.length() > 1) -->Line_39 $$ if (!url.startsWith(pathContext)) [ CD ]
Line_76 $$ LayoutSet layoutSet = null-->Line_80 $$ layoutSet = group.getPrivateLayoutSet()[ FD ]
Line_80 $$ layoutSet = group.getPrivateLayoutSet()-->Line_82 $$ if (layoutSet == null) [ FD ]
Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_67 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) [ FD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_48 $$ int pos = url.indexOf(StringPool.SLASH, 1)[ FD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_105 $$ url = url.substring(groupFriendlyURL.length())[ FD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_108 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_2 $$ protected String replaceExportLayoutReferences(PortletDataContext portletDataContext, StagedModel stagedModel, String content) throws Exception -->Line_6 $$ int beginPos = -1[ CD ]
Line_31 $$ StringBundler urlSB = new StringBundler(5)-->Line_75 $$ String urlSBString = urlSB.toString()[ FD ]
Line_105 $$ url = url.substring(groupFriendlyURL.length())-->Line_86 $$ LayoutFriendlyURL layoutFriendlyUrl = LayoutFriendlyURLLocalServiceUtil.fetchFirstLayoutFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_62 $$ boolean privateLayout = false-->Line_85 $$ privateLayout = layoutSet.isPrivateLayout()[ FD ]
Line_78 $$ layoutSet = group.getPublicLayoutSet()-->Line_85 $$ privateLayout = layoutSet.isPrivateLayout()[ FD ]
Line_78 $$ layoutSet = group.getPublicLayoutSet()-->Line_82 $$ if (layoutSet == null) [ FD ]
Line_31 $$ StringBundler urlSB = new StringBundler(5)-->Line_111 $$ if (urlSB.length() > 0) [ FD ]
Line_108 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(group.getGroupId(), privateLayout, url)-->Line_109 $$ portletDataContext.addReferenceElement(stagedModel, entityElement, layout, PortletDataContext.REFERENCE_TYPE_DEPENDENCY, true)[ FD ]
Line_3 $$ Group group = GroupLocalServiceUtil.getGroup(portletDataContext.getScopeGroupId())-->Line_86 $$ LayoutFriendlyURL layoutFriendlyUrl = LayoutFriendlyURLLocalServiceUtil.fetchFirstLayoutFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_9 $$ while (true) -->Line_26 $$ endPos = StringUtil.indexOfAny(content, LAYOUT_REFERENCE_STOP_CHARS, beginPos + offset, endPos)[ CD ]
Line_50 $$ Locale locale = null-->Line_55 $$ if (locale != null) [ FD ]
Line_105 $$ url = url.substring(groupFriendlyURL.length())-->Line_52 $$ localePath = url.substring(0, pos)[ FD ]
Line_105 $$ url = url.substring(groupFriendlyURL.length())-->Line_67 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) [ FD ]
Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_112 $$ urlSB.append(url)[ FD ]
Line_24 $$ offset = 2-->Line_21 $$ offset++[ FD ]
Line_52 $$ localePath = url.substring(0, pos)-->Line_58 $$ urlSB.append(localePath)[ FD ]
Line_2 $$ protected String replaceExportLayoutReferences(PortletDataContext portletDataContext, StagedModel stagedModel, String content) throws Exception -->Line_7 $$ int endPos = content.length()[ CD ]
Line_31 $$ StringBundler urlSB = new StringBundler(5)-->Line_68 $$ urlSB.append(DATA_HANDLER_PRIVATE_USER_SERVLET_MAPPING)[ FD ]
Line_6 $$ int beginPos = -1-->Line_14 $$ if (beginPos == -1) [ FD ]
Line_51 $$ if (pos != -1) -->Line_52 $$ localePath = url.substring(0, pos)[ CD ]
Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_63 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) [ FD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_103 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) [ FD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_63 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) [ FD ]
Line_55 $$ if (locale != null) -->Line_57 $$ if (urlWithoutLocale.startsWith(PRIVATE_GROUP_SERVLET_MAPPING) || urlWithoutLocale.startsWith(PRIVATE_USER_SERVLET_MAPPING) || urlWithoutLocale.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ CD ]
Line_7 $$ int endPos = content.length()-->Line_30 $$ String url = content.substring(beginPos + offset, endPos)[ FD ]
Line_90 $$ if (privateLayout) -->Line_97 $$ urlSB.append(DATA_HANDLER_PUBLIC_SERVLET_MAPPING)[ CD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ FD ]
Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_52 $$ localePath = url.substring(0, pos)[ FD ]
Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_113 $$ url = urlSB.toString()[ FD ]
Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)[ FD ]
Line_86 $$ LayoutFriendlyURL layoutFriendlyUrl = LayoutFriendlyURLLocalServiceUtil.fetchFirstLayoutFriendlyURL(group.getGroupId(), privateLayout, url)-->Line_87 $$ if (layoutFriendlyUrl == null) [ FD ]
Line_9 $$ while (true) -->Line_17 $$ if (content.startsWith("href=", beginPos)) [ CD ]
Line_9 $$ while (true) -->Line_27 $$ if (endPos == -1) [ CD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_59 $$ url = urlWithoutLocale[ FD ]
Line_105 $$ url = url.substring(groupFriendlyURL.length())-->Line_115 $$ sb.replace(beginPos + offset, endPos, url)[ FD ]
Line_80 $$ layoutSet = group.getPrivateLayoutSet()-->Line_85 $$ privateLayout = layoutSet.isPrivateLayout()[ FD ]
Line_10 $$ if (beginPos > -1) -->Line_11 $$ endPos = beginPos - 1[ CD ]
Line_113 $$ url = urlSB.toString()-->Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)[ FD ]
Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_56 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_113 $$ url = urlSB.toString()-->Line_115 $$ sb.replace(beginPos + offset, endPos, url)[ FD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_67 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) [ FD ]
Line_77 $$ if (urlSBString.contains(DATA_HANDLER_PUBLIC_LAYOUT_SET_SECURE_URL) || urlSBString.contains(DATA_HANDLER_PUBLIC_LAYOUT_SET_URL)) -->Line_79 $$ if (urlSBString.contains(DATA_HANDLER_PRIVATE_LAYOUT_SET_SECURE_URL) || urlSBString.contains(DATA_HANDLER_PRIVATE_LAYOUT_SET_URL)) [ CD ]
Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) -->Line_77 $$ if (urlSBString.contains(DATA_HANDLER_PUBLIC_LAYOUT_SET_SECURE_URL) || urlSBString.contains(DATA_HANDLER_PUBLIC_LAYOUT_SET_URL)) [ CD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)[ FD ]
Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) -->Line_76 $$ LayoutSet layoutSet = null[ CD ]
Line_105 $$ url = url.substring(groupFriendlyURL.length())-->Line_108 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_39 $$ if (!url.startsWith(pathContext)) [ FD ]
Line_37 $$ String pathContext = PortalUtil.getPathContext()-->Line_38 $$ if (pathContext.length() > 1) [ FD ]
Line_11 $$ endPos = beginPos - 1-->Line_13 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)[ FD ]
Line_9 $$ while (true) -->Line_14 $$ if (beginPos == -1) [ CD ]
Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_43 $$ url = url.substring(pathContext.length())[ FD ]
Line_31 $$ StringBundler urlSB = new StringBundler(5)-->Line_64 $$ urlSB.append(DATA_HANDLER_PRIVATE_GROUP_SERVLET_MAPPING)[ FD ]
Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_45 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_9 $$ while (true) -->Line_31 $$ StringBundler urlSB = new StringBundler(5)[ CD ]
Line_85 $$ privateLayout = layoutSet.isPrivateLayout()-->Line_108 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_11 $$ endPos = beginPos - 1-->Line_27 $$ if (endPos == -1) [ FD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_59 $$ url = urlWithoutLocale[ FD ]
Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_48 $$ int pos = url.indexOf(StringPool.SLASH, 1)[ FD ]
Line_65 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_112 $$ urlSB.append(url)[ FD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)[ FD ]
Line_67 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) -->Line_68 $$ urlSB.append(DATA_HANDLER_PRIVATE_USER_SERVLET_MAPPING)[ CD ]
Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_43 $$ url = url.substring(pathContext.length())[ FD ]
Line_2 $$ protected String replaceExportLayoutReferences(PortletDataContext portletDataContext, StagedModel stagedModel, String content) throws Exception -->Line_3 $$ Group group = GroupLocalServiceUtil.getGroup(portletDataContext.getScopeGroupId())[ CD ]
Line_105 $$ url = url.substring(groupFriendlyURL.length())-->Line_34 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_56 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_39 $$ if (!url.startsWith(pathContext)) [ FD ]
Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_112 $$ urlSB.append(url)[ FD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_59 $$ url = urlWithoutLocale[ FD ]
Line_91 $$ if (group.isUser()) -->Line_94 $$ urlSB.append(DATA_HANDLER_PRIVATE_GROUP_SERVLET_MAPPING)[ CD ]
Line_17 $$ if (content.startsWith("href=", beginPos)) -->Line_18 $$ offset = 5[ CD ]
Line_59 $$ url = urlWithoutLocale-->Line_113 $$ url = urlSB.toString()[ FD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)[ FD ]
Line_43 $$ url = url.substring(pathContext.length())-->Line_112 $$ urlSB.append(url)[ FD ]
Line_59 $$ url = urlWithoutLocale-->Line_56 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_31 $$ StringBundler urlSB = new StringBundler(5)-->Line_72 $$ urlSB.append(DATA_HANDLER_PUBLIC_SERVLET_MAPPING)[ FD ]
Line_105 $$ url = url.substring(groupFriendlyURL.length())-->Line_113 $$ url = urlSB.toString()[ FD ]
Line_69 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_115 $$ sb.replace(beginPos + offset, endPos, url)[ FD ]
Line_3 $$ Group group = GroupLocalServiceUtil.getGroup(portletDataContext.getScopeGroupId())-->Line_78 $$ layoutSet = group.getPublicLayoutSet()[ FD ]
Line_48 $$ int pos = url.indexOf(StringPool.SLASH, 1)-->Line_52 $$ localePath = url.substring(0, pos)[ FD ]
Line_31 $$ StringBundler urlSB = new StringBundler(5)-->Line_94 $$ urlSB.append(DATA_HANDLER_PRIVATE_GROUP_SERVLET_MAPPING)[ FD ]
Line_33 $$ url = replaceExportHostname(portletDataContext.getScopeGroupId(), url, urlSB)-->Line_108 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_73 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_34 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_62 $$ boolean privateLayout = false-->Line_70 $$ privateLayout = true[ FD ]
Line_30 $$ String url = content.substring(beginPos + offset, endPos)-->Line_115 $$ sb.replace(beginPos + offset, endPos, url)[ FD ]
Line_70 $$ privateLayout = true-->Line_86 $$ LayoutFriendlyURL layoutFriendlyUrl = LayoutFriendlyURLLocalServiceUtil.fetchFirstLayoutFriendlyURL(group.getGroupId(), privateLayout, url)[ FD ]
Line_67 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) -->Line_71 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ CD ]
