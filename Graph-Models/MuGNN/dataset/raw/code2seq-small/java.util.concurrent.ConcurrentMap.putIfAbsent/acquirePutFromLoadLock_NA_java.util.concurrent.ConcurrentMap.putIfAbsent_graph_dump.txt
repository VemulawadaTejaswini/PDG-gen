Line_30 $$ if (pending.isRemoved()) -->Line_35 $$ pending = null[ CD ]
Line_34 $$ locked = false-->Line_62 $$ locked = false[ FD ]
Line_35 $$ pending = null-->Line_91 $$ pending = existing[ FD ]
Line_60 $$ if (!valid && pending != null) -->Line_62 $$ locked = false[ CD ]
Line_25 $$ if (pending != null) -->Line_27 $$ if (locked) [ CD ]
Line_22 $$ PendingPutMap pending = pendingPuts.get(key)-->Line_26 $$ locked = pending.acquireLock(100, TimeUnit.MILLISECONDS)[ FD ]
Line_27 $$ if (locked) -->Line_28 $$ boolean valid = false[ CD ]
Line_88 $$ pending = new PendingPutMap(pendingPut)-->Line_65 $$ log.tracef("acquirePutFromLoadLock(%s#%s, %d) ended with %s, valid: %s", cache.getName(), key, txTimestamp, pending, valid)[ FD ]
Line_91 $$ pending = existing-->Line_65 $$ log.tracef("acquirePutFromLoadLock(%s#%s, %d) ended with %s, valid: %s", cache.getName(), key, txTimestamp, pending, valid)[ FD ]
Line_42 $$ if (toCancel != null) -->Line_43 $$ valid = !toCancel.completed[ CD ]
Line_64 $$ if (trace) -->Line_65 $$ log.tracef("acquirePutFromLoadLock(%s#%s, %d) ended with %s, valid: %s", cache.getName(), key, txTimestamp, pending, valid)[ CD ]
Line_48 $$ valid = false-->Line_55 $$ valid = txTimestamp > regionInvalidationTimestamp[ FD ]
Line_22 $$ PendingPutMap pending = pendingPuts.get(key)-->Line_91 $$ pending = existing[ FD ]
Line_22 $$ PendingPutMap pending = pendingPuts.get(key)-->Line_89 $$ PendingPutMap existing = pendingPuts.putIfAbsent(key, pending)[ FD ]
Line_22 $$ PendingPutMap pending = pendingPuts.get(key)-->Line_35 $$ pending = null[ FD ]
Line_69 $$ if (trace) -->Line_70 $$ log.tracef("acquirePutFromLoadLock(%s#%s, %d) failed to lock", cache.getName(), key, txTimestamp)[ CD ]
Line_18 $$ if (trace) -->Line_19 $$ log.tracef("acquirePutFromLoadLock(%s#%s, %d)", cache.getName(), key, txTimestamp)[ CD ]
Line_60 $$ if (!valid && pending != null) -->Line_61 $$ pending.releaseLock()[ CD ]
Line_28 $$ boolean valid = false-->Line_60 $$ if (!valid && pending != null) [ FD ]
Line_36 $$ if (trace) -->Line_37 $$ log.tracef("Record removed when waiting for the lock.")[ CD ]
Line_55 $$ valid = txTimestamp > regionInvalidationTimestamp-->Line_65 $$ log.tracef("acquirePutFromLoadLock(%s#%s, %d) ended with %s, valid: %s", cache.getName(), key, txTimestamp, pending, valid)[ FD ]
Line_25 $$ if (pending != null) -->Line_90 $$ if (existing != null) [ CD ]
Line_35 $$ pending = null-->Line_65 $$ log.tracef("acquirePutFromLoadLock(%s#%s, %d) ended with %s, valid: %s", cache.getName(), key, txTimestamp, pending, valid)[ FD ]
Line_88 $$ pending = new PendingPutMap(pendingPut)-->Line_97 $$ pending.releaseLock()[ FD ]
Line_76 $$ long regionInvalidationTimestamp = this.regionInvalidationTimestamp-->Line_55 $$ valid = txTimestamp > regionInvalidationTimestamp[ FD ]
Line_22 $$ PendingPutMap pending = pendingPuts.get(key)-->Line_61 $$ pending.releaseLock()[ FD ]
Line_91 $$ pending = existing-->Line_26 $$ locked = pending.acquireLock(100, TimeUnit.MILLISECONDS)[ FD ]
Line_25 $$ if (pending != null) -->Line_76 $$ long regionInvalidationTimestamp = this.regionInvalidationTimestamp[ CD ]
Line_28 $$ boolean valid = false-->Line_43 $$ valid = !toCancel.completed[ FD ]
Line_76 $$ long regionInvalidationTimestamp = this.regionInvalidationTimestamp-->Line_84 $$ log.tracef("Region invalidated at %d, this transaction started at %d", regionInvalidationTimestamp, txTimestamp)[ FD ]
Line_88 $$ pending = new PendingPutMap(pendingPut)-->Line_25 $$ if (pending != null) [ FD ]
Line_48 $$ valid = false-->Line_60 $$ if (!valid && pending != null) [ FD ]
Line_35 $$ pending = null-->Line_30 $$ if (pending.isRemoved()) [ FD ]
Line_35 $$ pending = null-->Line_41 $$ final PendingPut toCancel = pending.remove(session)[ FD ]
Line_27 $$ if (locked) -->Line_69 $$ if (trace) [ CD ]
Line_26 $$ locked = pending.acquireLock(100, TimeUnit.MILLISECONDS)-->Line_34 $$ locked = false[ FD ]
Line_25 $$ if (pending != null) -->Line_89 $$ PendingPutMap existing = pendingPuts.putIfAbsent(key, pending)[ CD ]
Line_26 $$ locked = pending.acquireLock(100, TimeUnit.MILLISECONDS)-->Line_62 $$ locked = false[ FD ]
Line_21 $$ boolean locked = false-->Line_34 $$ locked = false[ FD ]
Line_76 $$ long regionInvalidationTimestamp = this.regionInvalidationTimestamp-->Line_79 $$ log.tracef("acquirePutFromLoadLock(%s#%s, %d) failed due to region invalidated at %d", cache.getName(), key, txTimestamp, regionInvalidationTimestamp)[ FD ]
Line_41 $$ final PendingPut toCancel = pending.remove(session)-->Line_42 $$ if (toCancel != null) [ FD ]
Line_48 $$ valid = false-->Line_65 $$ log.tracef("acquirePutFromLoadLock(%s#%s, %d) ended with %s, valid: %s", cache.getName(), key, txTimestamp, pending, valid)[ FD ]
Line_30 $$ if (pending.isRemoved()) -->Line_34 $$ locked = false[ CD ]
Line_96 $$ if (locked) -->Line_97 $$ pending.releaseLock()[ CD ]
Line_25 $$ if (pending != null) -->Line_87 $$ PendingPut pendingPut = new PendingPut(session)[ CD ]
Line_76 $$ long regionInvalidationTimestamp = this.regionInvalidationTimestamp-->Line_77 $$ if (txTimestamp <= regionInvalidationTimestamp) [ FD ]
Line_77 $$ if (txTimestamp <= regionInvalidationTimestamp) -->Line_78 $$ if (trace) [ CD ]
Line_25 $$ if (pending != null) -->Line_88 $$ pending = new PendingPutMap(pendingPut)[ CD ]
Line_99 $$ if (t instanceof RuntimeException) -->Line_101 $$ if (t instanceof Error) [ CD ]
Line_30 $$ if (pending.isRemoved()) -->Line_36 $$ if (trace) [ CD ]
Line_88 $$ pending = new PendingPutMap(pendingPut)-->Line_41 $$ final PendingPut toCancel = pending.remove(session)[ FD ]
Line_88 $$ pending = new PendingPutMap(pendingPut)-->Line_89 $$ PendingPutMap existing = pendingPuts.putIfAbsent(key, pending)[ FD ]
Line_90 $$ if (existing != null) -->Line_91 $$ pending = existing[ CD ]
Line_91 $$ pending = existing-->Line_89 $$ PendingPutMap existing = pendingPuts.putIfAbsent(key, pending)[ FD ]
Line_22 $$ PendingPutMap pending = pendingPuts.get(key)-->Line_25 $$ if (pending != null) [ FD ]
Line_89 $$ PendingPutMap existing = pendingPuts.putIfAbsent(key, pending)-->Line_90 $$ if (existing != null) [ FD ]
Line_91 $$ pending = existing-->Line_41 $$ final PendingPut toCancel = pending.remove(session)[ FD ]
Line_88 $$ pending = new PendingPutMap(pendingPut)-->Line_91 $$ pending = existing[ FD ]
Line_91 $$ pending = existing-->Line_97 $$ pending.releaseLock()[ FD ]
Line_35 $$ pending = null-->Line_61 $$ pending.releaseLock()[ FD ]
Line_35 $$ pending = null-->Line_25 $$ if (pending != null) [ FD ]
Line_88 $$ pending = new PendingPutMap(pendingPut)-->Line_26 $$ locked = pending.acquireLock(100, TimeUnit.MILLISECONDS)[ FD ]
Line_22 $$ PendingPutMap pending = pendingPuts.get(key)-->Line_30 $$ if (pending.isRemoved()) [ FD ]
Line_83 $$ if (trace) -->Line_84 $$ log.tracef("Region invalidated at %d, this transaction started at %d", regionInvalidationTimestamp, txTimestamp)[ CD ]
Line_21 $$ boolean locked = false-->Line_26 $$ locked = pending.acquireLock(100, TimeUnit.MILLISECONDS)[ FD ]
Line_43 $$ valid = !toCancel.completed-->Line_65 $$ log.tracef("acquirePutFromLoadLock(%s#%s, %d) ended with %s, valid: %s", cache.getName(), key, txTimestamp, pending, valid)[ FD ]
Line_28 $$ boolean valid = false-->Line_48 $$ valid = false[ FD ]
Line_91 $$ pending = existing-->Line_61 $$ pending.releaseLock()[ FD ]
Line_35 $$ pending = null-->Line_88 $$ pending = new PendingPutMap(pendingPut)[ FD ]
Line_77 $$ if (txTimestamp <= regionInvalidationTimestamp) -->Line_83 $$ if (trace) [ CD ]
Line_43 $$ valid = !toCancel.completed-->Line_55 $$ valid = txTimestamp > regionInvalidationTimestamp[ FD ]
Line_42 $$ if (toCancel != null) -->Line_44 $$ toCancel.completed = true[ CD ]
Line_28 $$ boolean valid = false-->Line_65 $$ log.tracef("acquirePutFromLoadLock(%s#%s, %d) ended with %s, valid: %s", cache.getName(), key, txTimestamp, pending, valid)[ FD ]
Line_22 $$ PendingPutMap pending = pendingPuts.get(key)-->Line_41 $$ final PendingPut toCancel = pending.remove(session)[ FD ]
Line_91 $$ pending = existing-->Line_30 $$ if (pending.isRemoved()) [ FD ]
Line_25 $$ if (pending != null) -->Line_26 $$ locked = pending.acquireLock(100, TimeUnit.MILLISECONDS)[ CD ]
Line_77 $$ if (txTimestamp <= regionInvalidationTimestamp) -->Line_81 $$ return null[ CD ]
Line_22 $$ PendingPutMap pending = pendingPuts.get(key)-->Line_88 $$ pending = new PendingPutMap(pendingPut)[ FD ]
Line_89 $$ PendingPutMap existing = pendingPuts.putIfAbsent(key, pending)-->Line_91 $$ pending = existing[ FD ]
Line_91 $$ pending = existing-->Line_25 $$ if (pending != null) [ FD ]
Line_22 $$ PendingPutMap pending = pendingPuts.get(key)-->Line_97 $$ pending.releaseLock()[ FD ]
Line_35 $$ pending = null-->Line_97 $$ pending.releaseLock()[ FD ]
Line_55 $$ valid = txTimestamp > regionInvalidationTimestamp-->Line_60 $$ if (!valid && pending != null) [ FD ]
Line_88 $$ pending = new PendingPutMap(pendingPut)-->Line_30 $$ if (pending.isRemoved()) [ FD ]
Line_43 $$ valid = !toCancel.completed-->Line_60 $$ if (!valid && pending != null) [ FD ]
Line_78 $$ if (trace) -->Line_79 $$ log.tracef("acquirePutFromLoadLock(%s#%s, %d) failed due to region invalidated at %d", cache.getName(), key, txTimestamp, regionInvalidationTimestamp)[ CD ]
Line_28 $$ boolean valid = false-->Line_55 $$ valid = txTimestamp > regionInvalidationTimestamp[ FD ]
Line_35 $$ pending = null-->Line_26 $$ locked = pending.acquireLock(100, TimeUnit.MILLISECONDS)[ FD ]
Line_43 $$ valid = !toCancel.completed-->Line_48 $$ valid = false[ FD ]
Line_22 $$ PendingPutMap pending = pendingPuts.get(key)-->Line_65 $$ log.tracef("acquirePutFromLoadLock(%s#%s, %d) ended with %s, valid: %s", cache.getName(), key, txTimestamp, pending, valid)[ FD ]
Line_88 $$ pending = new PendingPutMap(pendingPut)-->Line_61 $$ pending.releaseLock()[ FD ]
Line_35 $$ pending = null-->Line_89 $$ PendingPutMap existing = pendingPuts.putIfAbsent(key, pending)[ FD ]
Line_25 $$ if (pending != null) -->Line_77 $$ if (txTimestamp <= regionInvalidationTimestamp) [ CD ]
Line_21 $$ boolean locked = false-->Line_62 $$ locked = false[ FD ]
