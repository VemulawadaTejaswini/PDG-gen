Line_33 $$ int prevX = 0-->Line_61 $$ prevX = x[ FD ]
Line_35 $$ while (true) -->Line_40 $$ if (offset >= state.getEndOffset()) [ CD ]
Line_11 $$ px = 0-->Line_64 $$ if (x >= px) [ FD ]
Line_16 $$ int plainSpaceSize = EditorUtil.getSpaceWidth(Font.PLAIN, this)-->Line_18 $$ return new VisualPosition(line, EditorUtil.columnsNumber(px, plainSpaceSize))[ FD ]
Line_63 $$ x += charWidth-->Line_93 $$ prevX = x[ FD ]
Line_13 $$ int textLength = myDocument.getTextLength()-->Line_17 $$ if (offset >= textLength)[ FD ]
Line_8 $$ px -= myPrefixWidthInPixels-->Line_100 $$ if (x >= px) [ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_33 $$ int prevX = 0[ CD ]
Line_49 $$ x += charWidth-->Line_63 $$ x += charWidth[ FD ]
Line_113 $$ if (x >= px && c == '\t' && !onSoftWrapDrawing) -->Line_114 $$ if (mySettings.isCaretInsideTabs()) [ CD ]
Line_63 $$ x += charWidth-->Line_64 $$ if (x >= px) [ FD ]
Line_49 $$ x += charWidth-->Line_93 $$ prevX = x[ FD ]
Line_21 $$ LogicalPosition endLogicalPosition = visualToLogicalPosition(new VisualPosition(line + 1, 0))-->Line_22 $$ int endOffset = logicalPositionToOffset(endLogicalPosition)[ FD ]
Line_49 $$ x += charWidth-->Line_100 $$ if (x >= px) [ FD ]
Line_71 $$ x += charWidth-->Line_47 $$ prevX = x[ FD ]
Line_40 $$ if (offset >= state.getEndOffset()) -->Line_41 $$ state.advance()[ CD ]
Line_60 $$ c = softWrapText.charAt(i)-->Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_46 $$ if (activeSoftWrapProcessed) -->Line_72 $$ if (x >= px) [ CD ]
Line_49 $$ x += charWidth-->Line_69 $$ prevX = x[ FD ]
Line_33 $$ int prevX = 0-->Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_53 $$ column++[ FD ]
Line_127 $$ column += diff / plainSpaceSize-->Line_129 $$ column++[ FD ]
Line_115 $$ column += (px - prevX) / plainSpaceSize-->Line_129 $$ column++[ FD ]
Line_46 $$ if (activeSoftWrapProcessed) -->Line_49 $$ x += charWidth[ CD ]
Line_42 $$ fontType = state.getMergedAttributes().getFontType()-->Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_81 $$ if (region != null) -->Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)[ CD ]
Line_63 $$ x += charWidth-->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_49 $$ x += charWidth-->Line_50 $$ if (x >= px) [ FD ]
Line_62 $$ charWidth = charToVisibleWidth(c, fontType, x)-->Line_63 $$ x += charWidth[ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_29 $$ int x = 0[ CD ]
Line_6 $$ int px = p.x-->Line_18 $$ return new VisualPosition(line, EditorUtil.columnsNumber(px, plainSpaceSize))[ FD ]
Line_15 $$ int offset = logicalPositionToOffset(logicalPosition)-->Line_37 $$ if (offset >= textLength) [ FD ]
Line_99 $$ x += charWidth-->Line_72 $$ if (x >= px) [ FD ]
Line_71 $$ x += charWidth-->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_30 $$ int charWidth[ CD ]
Line_28 $$ int fontType = state.getMergedAttributes().getFontType()-->Line_42 $$ fontType = state.getMergedAttributes().getFontType()[ FD ]
Line_123 $$ if (c != '\n' && (x - px) * 2 < charWidth)-->Line_124 $$ column++[ CD ]
Line_63 $$ x += charWidth-->Line_99 $$ x += charWidth[ FD ]
Line_48 $$ charWidth = getSoftWrapModel().getMinDrawingWidthInPixels(SoftWrapDrawingType.BEFORE_SOFT_WRAP_LINE_FEED)-->Line_63 $$ x += charWidth[ FD ]
Line_67 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_76 $$ column++[ FD ]
Line_46 $$ if (activeSoftWrapProcessed) -->Line_70 $$ charWidth = mySoftWrapModel.getMinDrawingWidthInPixels(SoftWrapDrawingType.AFTER_SOFT_WRAP)[ CD ]
Line_36 $$ charWidth = -1-->Line_107 $$ if (charWidth < 0) [ FD ]
Line_8 $$ px -= myPrefixWidthInPixels-->Line_11 $$ px = 0[ FD ]
Line_34 $$ int column = 0-->Line_89 $$ column++[ FD ]
Line_48 $$ charWidth = getSoftWrapModel().getMinDrawingWidthInPixels(SoftWrapDrawingType.BEFORE_SOFT_WRAP_LINE_FEED)-->Line_108 $$ charWidth = EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_129 $$ column++[ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_133 $$ return new VisualPosition(line, column)[ CD ]
Line_6 $$ int px = p.x-->Line_86 $$ if (x >= px) [ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_7 $$ if (line == 0 && myPrefixText != null) [ CD ]
Line_60 $$ c = softWrapText.charAt(i)-->Line_84 $$ c = aPlaceholder[ FD ]
Line_30 $$ int charWidth-->Line_70 $$ charWidth = mySoftWrapModel.getMinDrawingWidthInPixels(SoftWrapDrawingType.AFTER_SOFT_WRAP)[ FD ]
Line_46 $$ if (activeSoftWrapProcessed) -->Line_48 $$ charWidth = getSoftWrapModel().getMinDrawingWidthInPixels(SoftWrapDrawingType.BEFORE_SOFT_WRAP_LINE_FEED)[ CD ]
Line_63 $$ x += charWidth-->Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_70 $$ charWidth = mySoftWrapModel.getMinDrawingWidthInPixels(SoftWrapDrawingType.AFTER_SOFT_WRAP)-->Line_110 $$ if (charWidth < 0) [ FD ]
Line_73 $$ onSoftWrapDrawing = true-->Line_113 $$ if (x >= px && c == '\t' && !onSoftWrapDrawing) [ FD ]
Line_49 $$ x += charWidth-->Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_49 $$ x += charWidth-->Line_122 $$ if (x >= px) [ FD ]
Line_71 $$ x += charWidth-->Line_69 $$ prevX = x[ FD ]
Line_63 $$ x += charWidth-->Line_71 $$ x += charWidth[ FD ]
Line_29 $$ int x = 0-->Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_29 $$ int x = 0-->Line_49 $$ x += charWidth[ FD ]
Line_30 $$ int charWidth-->Line_107 $$ if (charWidth < 0) [ FD ]
Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)-->Line_86 $$ if (x >= px) [ FD ]
Line_94 $$ c = text.charAt(offset)-->Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_16 $$ int plainSpaceSize = EditorUtil.getSpaceWidth(Font.PLAIN, this)-->Line_115 $$ column += (px - prevX) / plainSpaceSize[ FD ]
Line_67 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_47 $$ prevX = x-->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_67 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_117 $$ column++[ FD ]
Line_31 $$ boolean onSoftWrapDrawing = false-->Line_113 $$ if (x >= px && c == '\t' && !onSoftWrapDrawing) [ FD ]
Line_8 $$ px -= myPrefixWidthInPixels-->Line_10 $$ if (px < 0) [ FD ]
Line_93 $$ prevX = x-->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_35 $$ while (true) -->Line_44 $$ SoftWrap softWrap = mySoftWrapModel.getSoftWrap(offset)[ CD ]
Line_62 $$ charWidth = charToVisibleWidth(c, fontType, x)-->Line_111 $$ charWidth = plainSpaceSize[ FD ]
Line_44 $$ SoftWrap softWrap = mySoftWrapModel.getSoftWrap(offset)-->Line_45 $$ if (softWrap != null) [ FD ]
Line_46 $$ if (activeSoftWrapProcessed) -->Line_69 $$ prevX = x[ CD ]
Line_46 $$ if (activeSoftWrapProcessed) -->Line_47 $$ prevX = x[ CD ]
Line_30 $$ int charWidth-->Line_111 $$ charWidth = plainSpaceSize[ FD ]
Line_48 $$ charWidth = getSoftWrapModel().getMinDrawingWidthInPixels(SoftWrapDrawingType.BEFORE_SOFT_WRAP_LINE_FEED)-->Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_34 $$ int column = 0-->Line_76 $$ column++[ FD ]
Line_14 $$ LogicalPosition logicalPosition = visualToLogicalPosition(new VisualPosition(line, 0))-->Line_24 $$ LogMessageEx.error(LOG, "Detected invalid (x; y)->VisualPosition processing", String.format("Given point: %s, mapped to visual line %d. Visual(%d; %d) is mapped to " + "logical position '%s' which is mapped to offset %d (start offset). Visual(%d; %d) is mapped to logical '%s' which is mapped " + "to offset %d (end offset). State: %s", p, line, line, 0, logicalPosition, offset, line + 1, 0, endLogicalPosition, endOffset, dumpState()))[ FD ]
Line_63 $$ x += charWidth-->Line_86 $$ if (x >= px) [ FD ]
Line_29 $$ int x = 0-->Line_47 $$ prevX = x[ FD ]
Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)-->Line_122 $$ if (x >= px) [ FD ]
Line_15 $$ int offset = logicalPositionToOffset(logicalPosition)-->Line_24 $$ LogMessageEx.error(LOG, "Detected invalid (x; y)->VisualPosition processing", String.format("Given point: %s, mapped to visual line %d. Visual(%d; %d) is mapped to " + "logical position '%s' which is mapped to offset %d (start offset). Visual(%d; %d) is mapped to logical '%s' which is mapped " + "to offset %d (end offset). State: %s", p, line, line, 0, logicalPosition, offset, line + 1, 0, endLogicalPosition, endOffset, dumpState()))[ FD ]
Line_29 $$ int x = 0-->Line_71 $$ x += charWidth[ FD ]
Line_28 $$ int fontType = state.getMergedAttributes().getFontType()-->Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_91 $$ offset = region.getEndOffset()-->Line_44 $$ SoftWrap softWrap = mySoftWrapModel.getSoftWrap(offset)[ FD ]
Line_33 $$ int prevX = 0-->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_127 $$ column += diff / plainSpaceSize[ FD ]
Line_21 $$ LogicalPosition endLogicalPosition = visualToLogicalPosition(new VisualPosition(line + 1, 0))-->Line_24 $$ LogMessageEx.error(LOG, "Detected invalid (x; y)->VisualPosition processing", String.format("Given point: %s, mapped to visual line %d. Visual(%d; %d) is mapped to " + "logical position '%s' which is mapped to offset %d (start offset). Visual(%d; %d) is mapped to logical '%s' which is mapped " + "to offset %d (end offset). State: %s", p, line, line, 0, logicalPosition, offset, line + 1, 0, endLogicalPosition, endOffset, dumpState()))[ FD ]
Line_94 $$ c = text.charAt(offset)-->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)-->Line_49 $$ x += charWidth[ FD ]
Line_46 $$ if (activeSoftWrapProcessed) -->Line_57 $$ CharSequence softWrapText = softWrap.getText()[ CD ]
Line_61 $$ prevX = x-->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_63 $$ x += charWidth-->Line_62 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_58 $$ for (int i = 1; i < softWrapText.length(); i++) -->Line_62 $$ charWidth = charToVisibleWidth(c, fontType, x)[ CD ]
Line_5 $$ int line = yPositionToVisibleLine(Math.max(p.y, 0))-->Line_24 $$ LogMessageEx.error(LOG, "Detected invalid (x; y)->VisualPosition processing", String.format("Given point: %s, mapped to visual line %d. Visual(%d; %d) is mapped to " + "logical position '%s' which is mapped to offset %d (start offset). Visual(%d; %d) is mapped to logical '%s' which is mapped " + "to offset %d (end offset). State: %s", p, line, line, 0, logicalPosition, offset, line + 1, 0, endLogicalPosition, endOffset, dumpState()))[ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_31 $$ boolean onSoftWrapDrawing = false[ CD ]
Line_99 $$ x += charWidth-->Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_67 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_48 $$ charWidth = getSoftWrapModel().getMinDrawingWidthInPixels(SoftWrapDrawingType.BEFORE_SOFT_WRAP_LINE_FEED)-->Line_107 $$ if (charWidth < 0) [ FD ]
Line_126 $$ int diff = px - x-->Line_127 $$ column += diff / plainSpaceSize[ FD ]
Line_42 $$ fontType = state.getMergedAttributes().getFontType()-->Line_62 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_67 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_89 $$ column++[ FD ]
Line_15 $$ int offset = logicalPositionToOffset(logicalPosition)-->Line_23 $$ if (offset > endOffset) [ FD ]
Line_11 $$ px = 0-->Line_72 $$ if (x >= px) [ FD ]
Line_49 $$ x += charWidth-->Line_47 $$ prevX = x[ FD ]
Line_23 $$ if (offset > endOffset) -->Line_24 $$ LogMessageEx.error(LOG, "Detected invalid (x; y)->VisualPosition processing", String.format("Given point: %s, mapped to visual line %d. Visual(%d; %d) is mapped to " + "logical position '%s' which is mapped to offset %d (start offset). Visual(%d; %d) is mapped to logical '%s' which is mapped " + "to offset %d (end offset). State: %s", p, line, line, 0, logicalPosition, offset, line + 1, 0, endLogicalPosition, endOffset, dumpState()))[ CD ]
Line_61 $$ prevX = x-->Line_93 $$ prevX = x[ FD ]
Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_117 $$ column++[ FD ]
Line_32 $$ char c = ' '-->Line_84 $$ c = aPlaceholder[ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_6 $$ int px = p.x[ CD ]
Line_46 $$ if (activeSoftWrapProcessed) -->Line_58 $$ for (int i = 1; i < softWrapText.length(); i++) [ CD ]
Line_60 $$ c = softWrapText.charAt(i)-->Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_81 $$ if (region != null) -->Line_91 $$ offset = region.getEndOffset()[ CD ]
Line_71 $$ x += charWidth-->Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_19 $$ boolean activeSoftWrapProcessed = logicalPosition.softWrapLinesOnCurrentLogicalLine <= 0-->Line_77 $$ activeSoftWrapProcessed = true[ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_14 $$ LogicalPosition logicalPosition = visualToLogicalPosition(new VisualPosition(line, 0))[ CD ]
Line_67 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_115 $$ column += (px - prevX) / plainSpaceSize[ FD ]
Line_46 $$ if (activeSoftWrapProcessed) -->Line_50 $$ if (x >= px) [ CD ]
Line_99 $$ x += charWidth-->Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_36 $$ charWidth = -1-->Line_108 $$ charWidth = EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_113 $$ if (x >= px && c == '\t' && !onSoftWrapDrawing) [ CD ]
Line_40 $$ if (offset >= state.getEndOffset()) -->Line_42 $$ fontType = state.getMergedAttributes().getFontType()[ CD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_16 $$ int plainSpaceSize = EditorUtil.getSpaceWidth(Font.PLAIN, this)[ CD ]
Line_84 $$ c = aPlaceholder-->Line_95 $$ if (c == '\n') [ FD ]
Line_35 $$ while (true) -->Line_36 $$ charWidth = -1[ CD ]
Line_34 $$ int column = 0-->Line_129 $$ column++[ FD ]
Line_63 $$ x += charWidth-->Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_29 $$ int x = 0-->Line_86 $$ if (x >= px) [ FD ]
Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)-->Line_111 $$ charWidth = plainSpaceSize[ FD ]
Line_36 $$ charWidth = -1-->Line_99 $$ x += charWidth[ FD ]
Line_29 $$ int x = 0-->Line_122 $$ if (x >= px) [ FD ]
Line_71 $$ x += charWidth-->Line_50 $$ if (x >= px) [ FD ]
Line_31 $$ boolean onSoftWrapDrawing = false-->Line_51 $$ onSoftWrapDrawing = true[ FD ]
Line_32 $$ char c = ' '-->Line_108 $$ charWidth = EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_29 $$ int x = 0-->Line_99 $$ x += charWidth[ FD ]
Line_81 $$ if (region != null) -->Line_99 $$ x += charWidth[ CD ]
Line_6 $$ int px = p.x-->Line_100 $$ if (x >= px) [ FD ]
Line_99 $$ x += charWidth-->Line_122 $$ if (x >= px) [ FD ]
Line_27 $$ IterationState state = new IterationState(this, offset, endOffset, false)-->Line_80 $$ FoldRegion region = state.getCurrentFold()[ FD ]
Line_48 $$ charWidth = getSoftWrapModel().getMinDrawingWidthInPixels(SoftWrapDrawingType.BEFORE_SOFT_WRAP_LINE_FEED)-->Line_70 $$ charWidth = mySoftWrapModel.getMinDrawingWidthInPixels(SoftWrapDrawingType.AFTER_SOFT_WRAP)[ FD ]
Line_107 $$ if (charWidth < 0) -->Line_108 $$ charWidth = EditorUtil.charWidth(c, fontType, this)[ CD ]
Line_71 $$ x += charWidth-->Line_122 $$ if (x >= px) [ FD ]
Line_69 $$ prevX = x-->Line_93 $$ prevX = x[ FD ]
Line_35 $$ while (true) -->Line_45 $$ if (softWrap != null) [ CD ]
Line_48 $$ charWidth = getSoftWrapModel().getMinDrawingWidthInPixels(SoftWrapDrawingType.BEFORE_SOFT_WRAP_LINE_FEED)-->Line_111 $$ charWidth = plainSpaceSize[ FD ]
Line_16 $$ int plainSpaceSize = EditorUtil.getSpaceWidth(Font.PLAIN, this)-->Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_113 $$ if (x >= px && c == '\t' && !onSoftWrapDrawing) -->Line_122 $$ if (x >= px) [ CD ]
Line_62 $$ charWidth = charToVisibleWidth(c, fontType, x)-->Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_49 $$ x += charWidth-->Line_72 $$ if (x >= px) [ FD ]
Line_99 $$ x += charWidth-->Line_86 $$ if (x >= px) [ FD ]
Line_22 $$ int endOffset = logicalPositionToOffset(endLogicalPosition)-->Line_24 $$ LogMessageEx.error(LOG, "Detected invalid (x; y)->VisualPosition processing", String.format("Given point: %s, mapped to visual line %d. Visual(%d; %d) is mapped to " + "logical position '%s' which is mapped to offset %d (start offset). Visual(%d; %d) is mapped to logical '%s' which is mapped " + "to offset %d (end offset). State: %s", p, line, line, 0, logicalPosition, offset, line + 1, 0, endLogicalPosition, endOffset, dumpState()))[ FD ]
Line_14 $$ LogicalPosition logicalPosition = visualToLogicalPosition(new VisualPosition(line, 0))-->Line_15 $$ int offset = logicalPositionToOffset(logicalPosition)[ FD ]
Line_30 $$ int charWidth-->Line_108 $$ charWidth = EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_70 $$ charWidth = mySoftWrapModel.getMinDrawingWidthInPixels(SoftWrapDrawingType.AFTER_SOFT_WRAP)-->Line_49 $$ x += charWidth[ FD ]
Line_81 $$ if (region != null) -->Line_93 $$ prevX = x[ CD ]
Line_7 $$ if (line == 0 && myPrefixText != null) -->Line_8 $$ px -= myPrefixWidthInPixels[ CD ]
Line_91 $$ offset = region.getEndOffset()-->Line_40 $$ if (offset >= state.getEndOffset()) [ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_27 $$ IterationState state = new IterationState(this, offset, endOffset, false)[ CD ]
Line_8 $$ px -= myPrefixWidthInPixels-->Line_86 $$ if (x >= px) [ FD ]
Line_29 $$ int x = 0-->Line_67 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_36 $$ charWidth = -1-->Line_62 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_63 $$ x += charWidth-->Line_69 $$ prevX = x[ FD ]
Line_36 $$ charWidth = -1-->Line_48 $$ charWidth = getSoftWrapModel().getMinDrawingWidthInPixels(SoftWrapDrawingType.BEFORE_SOFT_WRAP_LINE_FEED)[ FD ]
Line_15 $$ int offset = logicalPositionToOffset(logicalPosition)-->Line_91 $$ offset = region.getEndOffset()[ FD ]
Line_27 $$ IterationState state = new IterationState(this, offset, endOffset, false)-->Line_41 $$ state.advance()[ FD ]
Line_8 $$ px -= myPrefixWidthInPixels-->Line_18 $$ return new VisualPosition(line, EditorUtil.columnsNumber(px, plainSpaceSize))[ FD ]
Line_16 $$ int plainSpaceSize = EditorUtil.getSpaceWidth(Font.PLAIN, this)-->Line_67 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_29 $$ int x = 0-->Line_62 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_6 $$ int px = p.x-->Line_50 $$ if (x >= px) [ FD ]
Line_62 $$ charWidth = charToVisibleWidth(c, fontType, x)-->Line_71 $$ x += charWidth[ FD ]
Line_60 $$ c = softWrapText.charAt(i)-->Line_62 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_11 $$ px = 0-->Line_86 $$ if (x >= px) [ FD ]
Line_47 $$ prevX = x-->Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_110 $$ if (charWidth < 0) -->Line_111 $$ charWidth = plainSpaceSize[ CD ]
Line_94 $$ c = text.charAt(offset)-->Line_108 $$ charWidth = EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_47 $$ prevX = x-->Line_61 $$ prevX = x[ FD ]
Line_94 $$ c = text.charAt(offset)-->Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)-->Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_44 $$ SoftWrap softWrap = mySoftWrapModel.getSoftWrap(offset)-->Line_57 $$ CharSequence softWrapText = softWrap.getText()[ FD ]
Line_61 $$ prevX = x-->Line_67 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_122 $$ if (x >= px) -->Line_123 $$ if (c != '\n' && (x - px) * 2 < charWidth)[ CD ]
Line_50 $$ if (x >= px) -->Line_53 $$ column++[ CD ]
Line_35 $$ while (true) -->Line_37 $$ if (offset >= textLength) [ CD ]
Line_81 $$ if (region != null) -->Line_82 $$ char[] placeholder = region.getPlaceholderText().toCharArray()[ CD ]
Line_48 $$ charWidth = getSoftWrapModel().getMinDrawingWidthInPixels(SoftWrapDrawingType.BEFORE_SOFT_WRAP_LINE_FEED)-->Line_62 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_34 $$ int column = 0[ CD ]
Line_36 $$ charWidth = -1-->Line_71 $$ x += charWidth[ FD ]
Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_124 $$ column++[ FD ]
Line_29 $$ int x = 0-->Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_16 $$ int plainSpaceSize = EditorUtil.getSpaceWidth(Font.PLAIN, this)-->Line_127 $$ column += diff / plainSpaceSize[ FD ]
Line_48 $$ charWidth = getSoftWrapModel().getMinDrawingWidthInPixels(SoftWrapDrawingType.BEFORE_SOFT_WRAP_LINE_FEED)-->Line_99 $$ x += charWidth[ FD ]
Line_70 $$ charWidth = mySoftWrapModel.getMinDrawingWidthInPixels(SoftWrapDrawingType.AFTER_SOFT_WRAP)-->Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_99 $$ x += charWidth-->Line_69 $$ prevX = x[ FD ]
Line_32 $$ char c = ' '-->Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_91 $$ offset = region.getEndOffset()-->Line_94 $$ c = text.charAt(offset)[ FD ]
Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)-->Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_67 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_129 $$ column++[ FD ]
Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)-->Line_93 $$ prevX = x[ FD ]
Line_6 $$ int px = p.x-->Line_122 $$ if (x >= px) [ FD ]
Line_49 $$ x += charWidth-->Line_71 $$ x += charWidth[ FD ]
Line_35 $$ while (true) -->Line_81 $$ if (region != null) [ CD ]
Line_58 $$ for (int i = 1; i < softWrapText.length(); i++) -->Line_61 $$ prevX = x[ CD ]
Line_32 $$ char c = ' '-->Line_60 $$ c = softWrapText.charAt(i)[ FD ]
Line_63 $$ x += charWidth-->Line_122 $$ if (x >= px) [ FD ]
Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)-->Line_110 $$ if (charWidth < 0) [ FD ]
Line_71 $$ x += charWidth-->Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_28 $$ int fontType = state.getMergedAttributes().getFontType()-->Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_60 $$ c = softWrapText.charAt(i)-->Line_67 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)-->Line_107 $$ if (charWidth < 0) [ FD ]
Line_32 $$ char c = ' '-->Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)-->Line_100 $$ if (x >= px) [ FD ]
Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)-->Line_69 $$ prevX = x[ FD ]
Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)-->Line_71 $$ x += charWidth[ FD ]
Line_29 $$ int x = 0-->Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_63 $$ x += charWidth-->Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_81 $$ if (region != null) -->Line_100 $$ if (x >= px) [ CD ]
Line_27 $$ IterationState state = new IterationState(this, offset, endOffset, false)-->Line_40 $$ if (offset >= state.getEndOffset()) [ FD ]
Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)-->Line_99 $$ x += charWidth[ FD ]
Line_67 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_124 $$ column++[ FD ]
Line_60 $$ c = softWrapText.charAt(i)-->Line_94 $$ c = text.charAt(offset)[ FD ]
Line_128 $$ if (diff % plainSpaceSize * 2 >= plainSpaceSize) -->Line_129 $$ column++[ CD ]
Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_129 $$ column++[ FD ]
Line_115 $$ column += (px - prevX) / plainSpaceSize-->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_122 $$ if (x >= px) -->Line_127 $$ column += diff / plainSpaceSize[ CD ]
Line_62 $$ charWidth = charToVisibleWidth(c, fontType, x)-->Line_107 $$ if (charWidth < 0) [ FD ]
Line_81 $$ if (region != null) -->Line_94 $$ c = text.charAt(offset)[ CD ]
Line_48 $$ charWidth = getSoftWrapModel().getMinDrawingWidthInPixels(SoftWrapDrawingType.BEFORE_SOFT_WRAP_LINE_FEED)-->Line_49 $$ x += charWidth[ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_110 $$ if (charWidth < 0) [ CD ]
Line_62 $$ charWidth = charToVisibleWidth(c, fontType, x)-->Line_108 $$ charWidth = EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_24 $$ LogMessageEx.error(LOG, "Detected invalid (x; y)->VisualPosition processing", String.format("Given point: %s, mapped to visual line %d. Visual(%d; %d) is mapped to " + "logical position '%s' which is mapped to offset %d (start offset). Visual(%d; %d) is mapped to logical '%s' which is mapped " + "to offset %d (end offset). State: %s", p, line, line, 0, logicalPosition, offset, line + 1, 0, endLogicalPosition, endOffset, dumpState()))[ FD ]
Line_45 $$ if (softWrap != null) -->Line_46 $$ if (activeSoftWrapProcessed) [ CD ]
Line_22 $$ int endOffset = logicalPositionToOffset(endLogicalPosition)-->Line_23 $$ if (offset > endOffset) [ FD ]
Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_13 $$ int textLength = myDocument.getTextLength()[ CD ]
Line_15 $$ int offset = logicalPositionToOffset(logicalPosition)-->Line_44 $$ SoftWrap softWrap = mySoftWrapModel.getSoftWrap(offset)[ FD ]
Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_127 $$ column += diff / plainSpaceSize[ FD ]
Line_99 $$ x += charWidth-->Line_47 $$ prevX = x[ FD ]
Line_36 $$ charWidth = -1-->Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_94 $$ c = text.charAt(offset)-->Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_71 $$ x += charWidth-->Line_86 $$ if (x >= px) [ FD ]
Line_69 $$ prevX = x-->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_63 $$ x += charWidth-->Line_61 $$ prevX = x[ FD ]
Line_71 $$ x += charWidth-->Line_72 $$ if (x >= px) [ FD ]
Line_33 $$ int prevX = 0-->Line_47 $$ prevX = x[ FD ]
Line_8 $$ px -= myPrefixWidthInPixels-->Line_64 $$ if (x >= px) [ FD ]
Line_29 $$ int x = 0-->Line_63 $$ x += charWidth[ FD ]
Line_30 $$ int charWidth-->Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_58 $$ for (int i = 1; i < softWrapText.length(); i++) -->Line_63 $$ x += charWidth[ CD ]
Line_11 $$ px = 0-->Line_122 $$ if (x >= px) [ FD ]
Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_115 $$ column += (px - prevX) / plainSpaceSize[ FD ]
Line_91 $$ offset = region.getEndOffset()-->Line_104 $$ offset++[ FD ]
Line_71 $$ x += charWidth-->Line_99 $$ x += charWidth[ FD ]
Line_114 $$ if (mySettings.isCaretInsideTabs()) -->Line_118 $$ if ((x - px) * 2 < x - prevX) [ CD ]
Line_49 $$ x += charWidth-->Line_62 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_81 $$ if (region != null) -->Line_104 $$ offset++[ CD ]
Line_30 $$ int charWidth-->Line_48 $$ charWidth = getSoftWrapModel().getMinDrawingWidthInPixels(SoftWrapDrawingType.BEFORE_SOFT_WRAP_LINE_FEED)[ FD ]
Line_61 $$ prevX = x-->Line_69 $$ prevX = x[ FD ]
Line_16 $$ int plainSpaceSize = EditorUtil.getSpaceWidth(Font.PLAIN, this)-->Line_111 $$ charWidth = plainSpaceSize[ FD ]
Line_32 $$ char c = ' '-->Line_67 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_42 $$ fontType = state.getMergedAttributes().getFontType()-->Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_16 $$ int plainSpaceSize = EditorUtil.getSpaceWidth(Font.PLAIN, this)-->Line_25 $$ return new VisualPosition(line, EditorUtil.columnsNumber(px, plainSpaceSize))[ FD ]
Line_108 $$ charWidth = EditorUtil.charWidth(c, fontType, this)-->Line_110 $$ if (charWidth < 0) [ FD ]
Line_57 $$ CharSequence softWrapText = softWrap.getText()-->Line_58 $$ for (int i = 1; i < softWrapText.length(); i++) [ FD ]
Line_32 $$ char c = ' '-->Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_58 $$ for (int i = 1; i < softWrapText.length(); i++) -->Line_67 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ CD ]
Line_93 $$ prevX = x-->Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_3 $$ if (myUseNewRendering)-->Line_4 $$ return myView.xyToVisualPosition(p)[ CD ]
Line_36 $$ charWidth = -1-->Line_49 $$ x += charWidth[ FD ]
Line_108 $$ charWidth = EditorUtil.charWidth(c, fontType, this)-->Line_111 $$ charWidth = plainSpaceSize[ FD ]
Line_11 $$ px = 0-->Line_100 $$ if (x >= px) [ FD ]
Line_28 $$ int fontType = state.getMergedAttributes().getFontType()-->Line_62 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_63 $$ x += charWidth-->Line_67 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_115 $$ column += (px - prevX) / plainSpaceSize-->Line_124 $$ column++[ FD ]
Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)-->Line_99 $$ x += charWidth[ FD ]
Line_49 $$ x += charWidth-->Line_99 $$ x += charWidth[ FD ]
Line_33 $$ int prevX = 0-->Line_67 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_84 $$ c = aPlaceholder-->Line_94 $$ c = text.charAt(offset)[ FD ]
Line_115 $$ column += (px - prevX) / plainSpaceSize-->Line_127 $$ column += diff / plainSpaceSize[ FD ]
Line_58 $$ for (int i = 1; i < softWrapText.length(); i++) -->Line_60 $$ c = softWrapText.charAt(i)[ FD ]
Line_116 $$ if ((px - prevX) % plainSpaceSize > plainSpaceSize / 2)-->Line_117 $$ column++[ CD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_4 $$ return myView.xyToVisualPosition(p)[ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_19 $$ boolean activeSoftWrapProcessed = logicalPosition.softWrapLinesOnCurrentLogicalLine <= 0[ CD ]
Line_34 $$ int column = 0-->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_51 $$ onSoftWrapDrawing = true-->Line_73 $$ onSoftWrapDrawing = true[ FD ]
Line_34 $$ int column = 0-->Line_124 $$ column++[ FD ]
Line_8 $$ px -= myPrefixWidthInPixels-->Line_50 $$ if (x >= px) [ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_28 $$ int fontType = state.getMergedAttributes().getFontType()[ CD ]
Line_71 $$ x += charWidth-->Line_100 $$ if (x >= px) [ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_21 $$ LogicalPosition endLogicalPosition = visualToLogicalPosition(new VisualPosition(line + 1, 0))[ CD ]
Line_99 $$ x += charWidth-->Line_100 $$ if (x >= px) [ FD ]
Line_49 $$ x += charWidth-->Line_61 $$ prevX = x[ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_107 $$ if (charWidth < 0) [ CD ]
Line_34 $$ int column = 0-->Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_30 $$ int charWidth-->Line_71 $$ x += charWidth[ FD ]
Line_81 $$ if (region != null) -->Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ CD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_22 $$ int endOffset = logicalPositionToOffset(endLogicalPosition)[ CD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_32 $$ char c = ' '[ CD ]
Line_30 $$ int charWidth-->Line_36 $$ charWidth = -1[ FD ]
Line_6 $$ int px = p.x-->Line_25 $$ return new VisualPosition(line, EditorUtil.columnsNumber(px, plainSpaceSize))[ FD ]
Line_84 $$ c = aPlaceholder-->Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_48 $$ charWidth = getSoftWrapModel().getMinDrawingWidthInPixels(SoftWrapDrawingType.BEFORE_SOFT_WRAP_LINE_FEED)-->Line_71 $$ x += charWidth[ FD ]
Line_49 $$ x += charWidth-->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_29 $$ int x = 0-->Line_50 $$ if (x >= px) [ FD ]
Line_63 $$ x += charWidth-->Line_100 $$ if (x >= px) [ FD ]
Line_60 $$ c = softWrapText.charAt(i)-->Line_108 $$ charWidth = EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_29 $$ int x = 0-->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_20 $$ CharSequence text = myDocument.getImmutableCharSequence()[ CD ]
Line_15 $$ int offset = logicalPositionToOffset(logicalPosition)-->Line_40 $$ if (offset >= state.getEndOffset()) [ FD ]
Line_29 $$ int x = 0-->Line_72 $$ if (x >= px) [ FD ]
Line_49 $$ x += charWidth-->Line_67 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_34 $$ int column = 0-->Line_53 $$ column++[ FD ]
Line_6 $$ int px = p.x-->Line_11 $$ px = 0[ FD ]
Line_99 $$ x += charWidth-->Line_50 $$ if (x >= px) [ FD ]
Line_10 $$ if (px < 0) -->Line_11 $$ px = 0[ CD ]
Line_30 $$ int charWidth-->Line_63 $$ x += charWidth[ FD ]
Line_29 $$ int x = 0-->Line_64 $$ if (x >= px) [ FD ]
Line_11 $$ px = 0-->Line_18 $$ return new VisualPosition(line, EditorUtil.columnsNumber(px, plainSpaceSize))[ FD ]
Line_8 $$ px -= myPrefixWidthInPixels-->Line_72 $$ if (x >= px) [ FD ]
Line_8 $$ px -= myPrefixWidthInPixels-->Line_122 $$ if (x >= px) [ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_17 $$ if (offset >= textLength)[ CD ]
Line_71 $$ x += charWidth-->Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_122 $$ if (x >= px) -->Line_128 $$ if (diff % plainSpaceSize * 2 >= plainSpaceSize) [ CD ]
Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)-->Line_47 $$ prevX = x[ FD ]
Line_60 $$ c = softWrapText.charAt(i)-->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_16 $$ int plainSpaceSize = EditorUtil.getSpaceWidth(Font.PLAIN, this)-->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_34 $$ int column = 0-->Line_127 $$ column += diff / plainSpaceSize[ FD ]
Line_70 $$ charWidth = mySoftWrapModel.getMinDrawingWidthInPixels(SoftWrapDrawingType.AFTER_SOFT_WRAP)-->Line_108 $$ charWidth = EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_16 $$ int plainSpaceSize = EditorUtil.getSpaceWidth(Font.PLAIN, this)-->Line_128 $$ if (diff % plainSpaceSize * 2 >= plainSpaceSize) [ FD ]
Line_27 $$ IterationState state = new IterationState(this, offset, endOffset, false)-->Line_42 $$ fontType = state.getMergedAttributes().getFontType()[ FD ]
Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_89 $$ column++[ FD ]
Line_62 $$ charWidth = charToVisibleWidth(c, fontType, x)-->Line_99 $$ x += charWidth[ FD ]
Line_28 $$ int fontType = state.getMergedAttributes().getFontType()-->Line_108 $$ charWidth = EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_32 $$ char c = ' '-->Line_95 $$ if (c == '\n') [ FD ]
Line_50 $$ if (x >= px) -->Line_51 $$ onSoftWrapDrawing = true[ CD ]
Line_63 $$ x += charWidth-->Line_72 $$ if (x >= px) [ FD ]
Line_49 $$ x += charWidth-->Line_86 $$ if (x >= px) [ FD ]
Line_6 $$ int px = p.x-->Line_64 $$ if (x >= px) [ FD ]
Line_91 $$ offset = region.getEndOffset()-->Line_37 $$ if (offset >= textLength) [ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_15 $$ int offset = logicalPositionToOffset(logicalPosition)[ CD ]
Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_76 $$ column++[ FD ]
Line_31 $$ boolean onSoftWrapDrawing = false-->Line_73 $$ onSoftWrapDrawing = true[ FD ]
Line_99 $$ x += charWidth-->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)-->Line_72 $$ if (x >= px) [ FD ]
Line_46 $$ if (activeSoftWrapProcessed) -->Line_77 $$ activeSoftWrapProcessed = true[ CD ]
Line_34 $$ int column = 0-->Line_67 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_29 $$ int x = 0-->Line_93 $$ prevX = x[ FD ]
Line_69 $$ prevX = x-->Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_30 $$ int charWidth-->Line_62 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_62 $$ charWidth = charToVisibleWidth(c, fontType, x)-->Line_70 $$ charWidth = mySoftWrapModel.getMinDrawingWidthInPixels(SoftWrapDrawingType.AFTER_SOFT_WRAP)[ FD ]
Line_122 $$ if (x >= px) -->Line_126 $$ int diff = px - x[ CD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_5 $$ int line = yPositionToVisibleLine(Math.max(p.y, 0))[ CD ]
Line_84 $$ c = aPlaceholder-->Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_94 $$ c = text.charAt(offset)-->Line_95 $$ if (c == '\n') [ FD ]
Line_36 $$ charWidth = -1-->Line_63 $$ x += charWidth[ FD ]
Line_8 $$ px -= myPrefixWidthInPixels-->Line_25 $$ return new VisualPosition(line, EditorUtil.columnsNumber(px, plainSpaceSize))[ FD ]
Line_36 $$ charWidth = -1-->Line_70 $$ charWidth = mySoftWrapModel.getMinDrawingWidthInPixels(SoftWrapDrawingType.AFTER_SOFT_WRAP)[ FD ]
Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_124 $$ column++[ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_10 $$ if (px < 0) [ CD ]
Line_51 $$ onSoftWrapDrawing = true-->Line_113 $$ if (x >= px && c == '\t' && !onSoftWrapDrawing) [ FD ]
Line_81 $$ if (region != null) -->Line_95 $$ if (c == '\n') [ CD ]
Line_70 $$ charWidth = mySoftWrapModel.getMinDrawingWidthInPixels(SoftWrapDrawingType.AFTER_SOFT_WRAP)-->Line_107 $$ if (charWidth < 0) [ FD ]
Line_84 $$ c = aPlaceholder-->Line_108 $$ charWidth = EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_29 $$ int x = 0-->Line_61 $$ prevX = x[ FD ]
Line_34 $$ int column = 0-->Line_117 $$ column++[ FD ]
Line_11 $$ px = 0-->Line_50 $$ if (x >= px) [ FD ]
Line_60 $$ c = softWrapText.charAt(i)-->Line_95 $$ if (c == '\n') [ FD ]
Line_29 $$ int x = 0-->Line_100 $$ if (x >= px) [ FD ]
Line_47 $$ prevX = x-->Line_67 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_70 $$ charWidth = mySoftWrapModel.getMinDrawingWidthInPixels(SoftWrapDrawingType.AFTER_SOFT_WRAP)-->Line_71 $$ x += charWidth[ FD ]
Line_17 $$ if (offset >= textLength)-->Line_18 $$ return new VisualPosition(line, EditorUtil.columnsNumber(px, plainSpaceSize))[ CD ]
Line_29 $$ int x = 0-->Line_69 $$ prevX = x[ FD ]
Line_49 $$ x += charWidth-->Line_64 $$ if (x >= px) [ FD ]
Line_47 $$ prevX = x-->Line_93 $$ prevX = x[ FD ]
Line_6 $$ int px = p.x-->Line_10 $$ if (px < 0) [ FD ]
Line_46 $$ if (activeSoftWrapProcessed) -->Line_76 $$ column++[ CD ]
Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)-->Line_108 $$ charWidth = EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_3 $$ if (myUseNewRendering)[ CD ]
Line_32 $$ char c = ' '-->Line_94 $$ c = text.charAt(offset)[ FD ]
Line_84 $$ c = aPlaceholder-->Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_32 $$ char c = ' '-->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_84 $$ c = aPlaceholder-->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_34 $$ int column = 0-->Line_115 $$ column += (px - prevX) / plainSpaceSize[ FD ]
Line_58 $$ for (int i = 1; i < softWrapText.length(); i++) -->Line_60 $$ c = softWrapText.charAt(i)[ CD ]
Line_61 $$ prevX = x-->Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_35 $$ while (true) -->Line_80 $$ FoldRegion region = state.getCurrentFold()[ CD ]
Line_72 $$ if (x >= px) -->Line_73 $$ onSoftWrapDrawing = true[ CD ]
Line_13 $$ int textLength = myDocument.getTextLength()-->Line_37 $$ if (offset >= textLength) [ FD ]
Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)-->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_47 $$ prevX = x-->Line_69 $$ prevX = x[ FD ]
Line_36 $$ charWidth = -1-->Line_110 $$ if (charWidth < 0) [ FD ]
Line_32 $$ char c = ' '-->Line_62 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_49 $$ x += charWidth-->Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_71 $$ x += charWidth-->Line_93 $$ prevX = x[ FD ]
Line_11 $$ px = 0-->Line_25 $$ return new VisualPosition(line, EditorUtil.columnsNumber(px, plainSpaceSize))[ FD ]
Line_2 $$ public VisualPosition xyToVisualPosition(@NotNull Point p) -->Line_23 $$ if (offset > endOffset) [ CD ]
Line_99 $$ x += charWidth-->Line_93 $$ prevX = x[ FD ]
Line_114 $$ if (mySettings.isCaretInsideTabs()) -->Line_115 $$ column += (px - prevX) / plainSpaceSize[ CD ]
Line_36 $$ charWidth = -1-->Line_111 $$ charWidth = plainSpaceSize[ FD ]
Line_48 $$ charWidth = getSoftWrapModel().getMinDrawingWidthInPixels(SoftWrapDrawingType.BEFORE_SOFT_WRAP_LINE_FEED)-->Line_110 $$ if (charWidth < 0) [ FD ]
Line_67 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)-->Line_127 $$ column += diff / plainSpaceSize[ FD ]
Line_42 $$ fontType = state.getMergedAttributes().getFontType()-->Line_108 $$ charWidth = EditorUtil.charWidth(c, fontType, this)[ FD ]
Line_20 $$ CharSequence text = myDocument.getImmutableCharSequence()-->Line_94 $$ c = text.charAt(offset)[ FD ]
Line_85 $$ x += EditorUtil.charWidth(c, fontType, this)-->Line_50 $$ if (x >= px) [ FD ]
Line_58 $$ for (int i = 1; i < softWrapText.length(); i++) -->Line_64 $$ if (x >= px) [ CD ]
Line_6 $$ int px = p.x-->Line_72 $$ if (x >= px) [ FD ]
Line_49 $$ x += charWidth-->Line_98 $$ charWidth = charToVisibleWidth(c, fontType, x)[ FD ]
Line_15 $$ int offset = logicalPositionToOffset(logicalPosition)-->Line_104 $$ offset++[ FD ]
Line_70 $$ charWidth = mySoftWrapModel.getMinDrawingWidthInPixels(SoftWrapDrawingType.AFTER_SOFT_WRAP)-->Line_111 $$ charWidth = plainSpaceSize[ FD ]
Line_114 $$ if (mySettings.isCaretInsideTabs()) -->Line_116 $$ if ((px - prevX) % plainSpaceSize > plainSpaceSize / 2)[ CD ]
Line_33 $$ int prevX = 0-->Line_93 $$ prevX = x[ FD ]
Line_70 $$ charWidth = mySoftWrapModel.getMinDrawingWidthInPixels(SoftWrapDrawingType.AFTER_SOFT_WRAP)-->Line_99 $$ x += charWidth[ FD ]
Line_33 $$ int prevX = 0-->Line_69 $$ prevX = x[ FD ]
Line_23 $$ if (offset > endOffset) -->Line_25 $$ return new VisualPosition(line, EditorUtil.columnsNumber(px, plainSpaceSize))[ CD ]
Line_30 $$ int charWidth-->Line_99 $$ x += charWidth[ FD ]
Line_118 $$ if ((x - px) * 2 < x - prevX) -->Line_119 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ CD ]
Line_30 $$ int charWidth-->Line_49 $$ x += charWidth[ FD ]
Line_57 $$ CharSequence softWrapText = softWrap.getText()-->Line_60 $$ c = softWrapText.charAt(i)[ FD ]
Line_30 $$ int charWidth-->Line_110 $$ if (charWidth < 0) [ FD ]
Line_60 $$ c = softWrapText.charAt(i)-->Line_103 $$ column += EditorUtil.columnsNumber(c, x, prevX, plainSpaceSize)[ FD ]
Line_27 $$ IterationState state = new IterationState(this, offset, endOffset, false)-->Line_28 $$ int fontType = state.getMergedAttributes().getFontType()[ FD ]
Line_6 $$ int px = p.x-->Line_8 $$ px -= myPrefixWidthInPixels[ FD ]
Line_15 $$ int offset = logicalPositionToOffset(logicalPosition)-->Line_17 $$ if (offset >= textLength)[ FD ]
Line_46 $$ if (activeSoftWrapProcessed) -->Line_71 $$ x += charWidth[ CD ]
Line_115 $$ column += (px - prevX) / plainSpaceSize-->Line_117 $$ column++[ FD ]
Line_62 $$ charWidth = charToVisibleWidth(c, fontType, x)-->Line_110 $$ if (charWidth < 0) [ FD ]
Line_15 $$ int offset = logicalPositionToOffset(logicalPosition)-->Line_94 $$ c = text.charAt(offset)[ FD ]
