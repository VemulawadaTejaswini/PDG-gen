Line_33 $$ for (CharSequence geohash : geohashes) -->Line_34 $$ int precision = Math.min(this.precision, geohash.length())[ FD ]
Line_13 $$ IndexableField latField = latFields[i]-->Line_14 $$ assert lonField.fieldType().docValuesType() == latField.fieldType().docValuesType()[ FD ]
Line_11 $$ for (int i = 0; i < lonFields.length; i++) -->Line_15 $$ if (lonField.fieldType().docValuesType() == DocValuesType.NONE) [ CD ]
Line_32 $$ Set<CharSequence> locations = new HashSet()-->Line_36 $$ locations.add(truncatedGeohash)[ FD ]
Line_6 $$ GeoPoint spare = new GeoPoint()-->Line_28 $$ geohashes.add(spare.geohash())[ FD ]
Line_3 $$ final Set<CharSequence> geohashes = new HashSet()-->Line_28 $$ geohashes.add(spare.geohash())[ FD ]
Line_4 $$ if (fieldName != null) -->Line_7 $$ if (fields.length == 0) [ CD ]
Line_11 $$ for (int i = 0; i < lonFields.length; i++) -->Line_13 $$ IndexableField latField = latFields[i][ CD ]
Line_22 $$ for (IndexableField field : fields) -->Line_26 $$ spare.resetFromIndexHash(Long.parseLong(field.stringValue()))[ FD ]
Line_23 $$ if (field instanceof StringField) -->Line_26 $$ spare.resetFromIndexHash(Long.parseLong(field.stringValue()))[ CD ]
Line_3 $$ final Set<CharSequence> geohashes = new HashSet()-->Line_17 $$ geohashes.add(GeoHashUtils.stringEncode(spare.getLon(), spare.getLat(), precision))[ FD ]
Line_7 $$ if (fields.length == 0) -->Line_10 $$ if (lonFields.length > 0 && latFields.length > 0) [ CD ]
Line_15 $$ if (lonField.fieldType().docValuesType() == DocValuesType.NONE) -->Line_17 $$ geohashes.add(GeoHashUtils.stringEncode(spare.getLon(), spare.getLat(), precision))[ CD ]
Line_6 $$ GeoPoint spare = new GeoPoint()-->Line_24 $$ spare.resetFromString(field.stringValue())[ FD ]
Line_4 $$ if (fieldName != null) -->Line_5 $$ IndexableField[] fields = document.getFields(fieldName)[ CD ]
Line_12 $$ IndexableField lonField = lonFields[i]-->Line_14 $$ assert lonField.fieldType().docValuesType() == latField.fieldType().docValuesType()[ FD ]
Line_23 $$ if (field instanceof StringField) -->Line_24 $$ spare.resetFromString(field.stringValue())[ CD ]
Line_2 $$ public Set<CharSequence> parseContext(Document document) -->Line_32 $$ Set<CharSequence> locations = new HashSet()[ CD ]
Line_2 $$ public Set<CharSequence> parseContext(Document document) -->Line_38 $$ return locations[ CD ]
Line_33 $$ for (CharSequence geohash : geohashes) -->Line_35 $$ CharSequence truncatedGeohash = geohash.subSequence(0, precision)[ FD ]
Line_6 $$ GeoPoint spare = new GeoPoint()-->Line_16 $$ spare.reset(latField.numericValue().doubleValue(), lonField.numericValue().doubleValue())[ FD ]
Line_15 $$ if (lonField.fieldType().docValuesType() == DocValuesType.NONE) -->Line_16 $$ spare.reset(latField.numericValue().doubleValue(), lonField.numericValue().doubleValue())[ CD ]
Line_13 $$ IndexableField latField = latFields[i]-->Line_16 $$ spare.reset(latField.numericValue().doubleValue(), lonField.numericValue().doubleValue())[ FD ]
Line_10 $$ if (lonFields.length > 0 && latFields.length > 0) -->Line_11 $$ for (int i = 0; i < lonFields.length; i++) [ CD ]
Line_2 $$ public Set<CharSequence> parseContext(Document document) -->Line_3 $$ final Set<CharSequence> geohashes = new HashSet()[ CD ]
Line_11 $$ for (int i = 0; i < lonFields.length; i++) -->Line_12 $$ IndexableField lonField = lonFields[i][ CD ]
Line_22 $$ for (IndexableField field : fields) -->Line_23 $$ if (field instanceof StringField) [ FD ]
Line_7 $$ if (fields.length == 0) -->Line_8 $$ IndexableField[] lonFields = document.getFields(fieldName + ".lon")[ CD ]
Line_2 $$ public Set<CharSequence> parseContext(Document document) -->Line_8 $$ IndexableField[] lonFields = document.getFields(fieldName + ".lon")[ FD ]
Line_2 $$ public Set<CharSequence> parseContext(Document document) -->Line_4 $$ if (fieldName != null) [ CD ]
Line_4 $$ if (fieldName != null) -->Line_6 $$ GeoPoint spare = new GeoPoint()[ CD ]
Line_2 $$ public Set<CharSequence> parseContext(Document document) -->Line_9 $$ IndexableField[] latFields = document.getFields(fieldName + ".lat")[ FD ]
Line_12 $$ IndexableField lonField = lonFields[i]-->Line_16 $$ spare.reset(latField.numericValue().doubleValue(), lonField.numericValue().doubleValue())[ FD ]
Line_12 $$ IndexableField lonField = lonFields[i]-->Line_15 $$ if (lonField.fieldType().docValuesType() == DocValuesType.NONE) [ FD ]
Line_35 $$ CharSequence truncatedGeohash = geohash.subSequence(0, precision)-->Line_36 $$ locations.add(truncatedGeohash)[ FD ]
Line_6 $$ GeoPoint spare = new GeoPoint()-->Line_26 $$ spare.resetFromIndexHash(Long.parseLong(field.stringValue()))[ FD ]
Line_2 $$ public Set<CharSequence> parseContext(Document document) -->Line_5 $$ IndexableField[] fields = document.getFields(fieldName)[ FD ]
Line_34 $$ int precision = Math.min(this.precision, geohash.length())-->Line_35 $$ CharSequence truncatedGeohash = geohash.subSequence(0, precision)[ FD ]
Line_6 $$ GeoPoint spare = new GeoPoint()-->Line_17 $$ geohashes.add(GeoHashUtils.stringEncode(spare.getLon(), spare.getLat(), precision))[ FD ]
Line_22 $$ for (IndexableField field : fields) -->Line_24 $$ spare.resetFromString(field.stringValue())[ FD ]
Line_7 $$ if (fields.length == 0) -->Line_9 $$ IndexableField[] latFields = document.getFields(fieldName + ".lat")[ CD ]
