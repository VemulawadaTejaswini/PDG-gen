Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)[ FD ]
Line_52 $$ if (locale != null) -->Line_53 $$ String urlWithoutLocale = url.substring(localePath.length())[ CD ]
Line_48 $$ if (pos != -1) -->Line_49 $$ localePath = url.substring(0, pos)[ CD ]
Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_49 $$ localePath = url.substring(0, pos)[ FD ]
Line_2 $$ protected void validateLayoutReferences(long groupId, String content) throws PortalException -->Line_8 $$ while (true) [ CD ]
Line_10 $$ endPos = beginPos - 1-->Line_25 $$ endPos = StringUtil.indexOfAny(content, LAYOUT_REFERENCE_STOP_CHARS, beginPos + offset, endPos)[ FD ]
Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_65 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ FD ]
Line_2 $$ protected void validateLayoutReferences(long groupId, String content) throws PortalException -->Line_29 $$ String url = content.substring(beginPos + offset, endPos)[ FD ]
Line_10 $$ endPos = beginPos - 1-->Line_12 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)[ FD ]
Line_8 $$ while (true) -->Line_59 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) [ CD ]
Line_29 $$ String url = content.substring(beginPos + offset, endPos)-->Line_59 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) [ FD ]
Line_65 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) -->Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)[ CD ]
Line_6 $$ int endPos = content.length()-->Line_26 $$ if (endPos == -1) [ FD ]
Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_40 $$ url = url.substring(pathContext.length())[ FD ]
Line_81 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) -->Line_82 $$ url = url.substring(groupFriendlyURL.length())[ CD ]
Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)-->Line_42 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_50 $$ locale = LocaleUtil.fromLanguageId(localePath.substring(1), true, false)-->Line_52 $$ if (locale != null) [ FD ]
Line_12 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)-->Line_13 $$ if (beginPos == -1) [ FD ]
Line_55 $$ url = urlWithoutLocale-->Line_49 $$ localePath = url.substring(0, pos)[ FD ]
Line_8 $$ while (true) -->Line_46 $$ String localePath = StringPool.BLANK[ CD ]
Line_35 $$ String pathContext = PortalUtil.getPathContext()-->Line_37 $$ if (!url.startsWith(pathContext)) [ FD ]
Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_53 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_73 $$ layoutSet = group.getPrivateLayoutSet()-->Line_75 $$ if (layoutSet == null) [ FD ]
Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_32 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_9 $$ if (beginPos > -1) -->Line_10 $$ endPos = beginPos - 1[ CD ]
Line_82 $$ url = url.substring(groupFriendlyURL.length())-->Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_49 $$ localePath = url.substring(0, pos)-->Line_50 $$ locale = LocaleUtil.fromLanguageId(localePath.substring(1), true, false)[ FD ]
Line_47 $$ Locale locale = null-->Line_52 $$ if (locale != null) [ FD ]
Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)-->Line_82 $$ url = url.substring(groupFriendlyURL.length())[ FD ]
Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_62 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) [ FD ]
Line_71 $$ layoutSet = group.getPublicLayoutSet()-->Line_78 $$ privateLayout = layoutSet.isPrivateLayout()[ FD ]
Line_2 $$ protected void validateLayoutReferences(long groupId, String content) throws PortalException -->Line_7 $$ int offset = 0[ CD ]
Line_2 $$ protected void validateLayoutReferences(long groupId, String content) throws PortalException -->Line_6 $$ int endPos = content.length()[ CD ]
Line_12 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)-->Line_16 $$ if (content.startsWith("href=", beginPos)) [ FD ]
Line_53 $$ String urlWithoutLocale = url.substring(localePath.length())-->Line_55 $$ url = urlWithoutLocale[ FD ]
Line_55 $$ url = urlWithoutLocale-->Line_40 $$ url = url.substring(pathContext.length())[ FD ]
Line_62 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) -->Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)[ CD ]
Line_4 $$ String[] patterns = -->Line_12 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)[ FD ]
Line_40 $$ url = url.substring(pathContext.length())-->Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_59 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) [ FD ]
Line_6 $$ int endPos = content.length()-->Line_12 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)[ FD ]
Line_8 $$ while (true) -->Line_16 $$ if (content.startsWith("href=", beginPos)) [ CD ]
Line_29 $$ String url = content.substring(beginPos + offset, endPos)-->Line_49 $$ localePath = url.substring(0, pos)[ FD ]
Line_29 $$ String url = content.substring(beginPos + offset, endPos)-->Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)[ FD ]
Line_12 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)-->Line_9 $$ if (beginPos > -1) [ FD ]
Line_82 $$ url = url.substring(groupFriendlyURL.length())-->Line_32 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_82 $$ url = url.substring(groupFriendlyURL.length())-->Line_49 $$ localePath = url.substring(0, pos)[ FD ]
Line_55 $$ url = urlWithoutLocale-->Line_32 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_8 $$ while (true) -->Line_13 $$ if (beginPos == -1) [ CD ]
Line_48 $$ if (pos != -1) -->Line_50 $$ locale = LocaleUtil.fromLanguageId(localePath.substring(1), true, false)[ CD ]
Line_29 $$ String url = content.substring(beginPos + offset, endPos)-->Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_55 $$ url = urlWithoutLocale-->Line_37 $$ if (!url.startsWith(pathContext)) [ FD ]
Line_8 $$ while (true) -->Line_26 $$ if (endPos == -1) [ CD ]
Line_40 $$ url = url.substring(pathContext.length())-->Line_59 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) [ FD ]
Line_30 $$ StringBundler urlSB = new StringBundler(5)-->Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)[ FD ]
Line_55 $$ url = urlWithoutLocale-->Line_53 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_5 $$ int beginPos = -1-->Line_10 $$ endPos = beginPos - 1[ FD ]
Line_5 $$ int beginPos = -1-->Line_13 $$ if (beginPos == -1) [ FD ]
Line_61 $$ privateLayout = true-->Line_64 $$ privateLayout = true[ FD ]
Line_40 $$ url = url.substring(pathContext.length())-->Line_82 $$ url = url.substring(groupFriendlyURL.length())[ FD ]
Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)[ FD ]
Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_45 $$ int pos = url.indexOf(StringPool.SLASH, 1)[ FD ]
Line_69 $$ LayoutSet layoutSet = null-->Line_73 $$ layoutSet = group.getPrivateLayoutSet()[ FD ]
Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)-->Line_81 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) [ FD ]
Line_5 $$ int beginPos = -1-->Line_12 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)[ FD ]
Line_45 $$ int pos = url.indexOf(StringPool.SLASH, 1)-->Line_48 $$ if (pos != -1) [ FD ]
Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_37 $$ if (!url.startsWith(pathContext)) [ FD ]
Line_59 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) -->Line_62 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) [ CD ]
Line_71 $$ layoutSet = group.getPublicLayoutSet()-->Line_73 $$ layoutSet = group.getPrivateLayoutSet()[ FD ]
Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_82 $$ url = url.substring(groupFriendlyURL.length())[ FD ]
Line_8 $$ while (true) -->Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)[ CD ]
Line_82 $$ url = url.substring(groupFriendlyURL.length())-->Line_81 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) [ FD ]
Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_49 $$ localePath = url.substring(0, pos)[ FD ]
Line_80 $$ String groupFriendlyURL = group.getFriendlyURL()-->Line_81 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) [ FD ]
Line_71 $$ layoutSet = group.getPublicLayoutSet()-->Line_75 $$ if (layoutSet == null) [ FD ]
Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_42 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_45 $$ int pos = url.indexOf(StringPool.SLASH, 1)-->Line_49 $$ localePath = url.substring(0, pos)[ FD ]
Line_22 $$ if (content.charAt(beginPos) == CharPool.OPEN_BRACKET) -->Line_23 $$ offset = 2[ CD ]
Line_8 $$ while (true) -->Line_42 $$ if (!url.startsWith(StringPool.SLASH)) [ CD ]
Line_58 $$ boolean privateLayout = false-->Line_64 $$ privateLayout = true[ FD ]
Line_40 $$ url = url.substring(pathContext.length())-->Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_69 $$ LayoutSet layoutSet = null-->Line_78 $$ privateLayout = layoutSet.isPrivateLayout()[ FD ]
Line_40 $$ url = url.substring(pathContext.length())-->Line_84 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(groupId, privateLayout, url)[ FD ]
Line_82 $$ url = url.substring(groupFriendlyURL.length())-->Line_40 $$ url = url.substring(pathContext.length())[ FD ]
Line_2 $$ protected void validateLayoutReferences(long groupId, String content) throws PortalException -->Line_18 $$ char c = content.charAt(beginPos + offset)[ FD ]
Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_32 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_2 $$ protected void validateLayoutReferences(long groupId, String content) throws PortalException -->Line_5 $$ int beginPos = -1[ CD ]
Line_8 $$ while (true) -->Line_12 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)[ CD ]
Line_8 $$ while (true) -->Line_9 $$ if (beginPos > -1) [ CD ]
Line_59 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) -->Line_61 $$ privateLayout = true[ CD ]
Line_49 $$ localePath = url.substring(0, pos)-->Line_53 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_40 $$ url = url.substring(pathContext.length())-->Line_53 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_16 $$ if (content.startsWith("href=", beginPos)) -->Line_19 $$ if ((c == CharPool.APOSTROPHE) || (c == CharPool.QUOTE)) [ CD ]
Line_2 $$ protected void validateLayoutReferences(long groupId, String content) throws PortalException -->Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)[ FD ]
Line_82 $$ url = url.substring(groupFriendlyURL.length())-->Line_84 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(groupId, privateLayout, url)[ FD ]
Line_82 $$ url = url.substring(groupFriendlyURL.length())-->Line_65 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ FD ]
Line_29 $$ String url = content.substring(beginPos + offset, endPos)-->Line_81 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) [ FD ]
Line_2 $$ protected void validateLayoutReferences(long groupId, String content) throws PortalException -->Line_25 $$ endPos = StringUtil.indexOfAny(content, LAYOUT_REFERENCE_STOP_CHARS, beginPos + offset, endPos)[ FD ]
Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_81 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) [ FD ]
Line_8 $$ while (true) -->Line_36 $$ if (pathContext.length() > 1) [ CD ]
Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)-->Line_37 $$ if (!url.startsWith(pathContext)) [ FD ]
Line_40 $$ url = url.substring(pathContext.length())-->Line_55 $$ url = urlWithoutLocale[ FD ]
Line_80 $$ String groupFriendlyURL = group.getFriendlyURL()-->Line_82 $$ url = url.substring(groupFriendlyURL.length())[ FD ]
Line_29 $$ String url = content.substring(beginPos + offset, endPos)-->Line_37 $$ if (!url.startsWith(pathContext)) [ FD ]
Line_35 $$ String pathContext = PortalUtil.getPathContext()-->Line_40 $$ url = url.substring(pathContext.length())[ FD ]
Line_10 $$ endPos = beginPos - 1-->Line_29 $$ String url = content.substring(beginPos + offset, endPos)[ FD ]
Line_58 $$ boolean privateLayout = false-->Line_61 $$ privateLayout = true[ FD ]
Line_8 $$ while (true) -->Line_80 $$ String groupFriendlyURL = group.getFriendlyURL()[ CD ]
Line_55 $$ url = urlWithoutLocale-->Line_81 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) [ FD ]
Line_2 $$ protected void validateLayoutReferences(long groupId, String content) throws PortalException -->Line_3 $$ Group group = GroupLocalServiceUtil.getGroup(groupId)[ FD ]
Line_62 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) -->Line_65 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ CD ]
Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_59 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) [ FD ]
Line_36 $$ if (pathContext.length() > 1) -->Line_37 $$ if (!url.startsWith(pathContext)) [ CD ]
Line_29 $$ String url = content.substring(beginPos + offset, endPos)-->Line_65 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ FD ]
Line_30 $$ StringBundler urlSB = new StringBundler(5)-->Line_68 $$ String urlSBString = urlSB.toString()[ FD ]
Line_65 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) -->Line_69 $$ LayoutSet layoutSet = null[ CD ]
Line_29 $$ String url = content.substring(beginPos + offset, endPos)-->Line_84 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(groupId, privateLayout, url)[ FD ]
Line_5 $$ int beginPos = -1-->Line_9 $$ if (beginPos > -1) [ FD ]
Line_55 $$ url = urlWithoutLocale-->Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)[ FD ]
Line_40 $$ url = url.substring(pathContext.length())-->Line_81 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) [ FD ]
Line_12 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)-->Line_10 $$ endPos = beginPos - 1[ FD ]
Line_29 $$ String url = content.substring(beginPos + offset, endPos)-->Line_45 $$ int pos = url.indexOf(StringPool.SLASH, 1)[ FD ]
Line_25 $$ endPos = StringUtil.indexOfAny(content, LAYOUT_REFERENCE_STOP_CHARS, beginPos + offset, endPos)-->Line_29 $$ String url = content.substring(beginPos + offset, endPos)[ FD ]
Line_78 $$ privateLayout = layoutSet.isPrivateLayout()-->Line_84 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(groupId, privateLayout, url)[ FD ]
Line_8 $$ while (true) -->Line_45 $$ int pos = url.indexOf(StringPool.SLASH, 1)[ CD ]
Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_65 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ FD ]
Line_65 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) -->Line_68 $$ String urlSBString = urlSB.toString()[ CD ]
Line_70 $$ if (urlSBString.contains(DATA_HANDLER_PUBLIC_LAYOUT_SET_SECURE_URL) || urlSBString.contains(DATA_HANDLER_PUBLIC_LAYOUT_SET_URL)) -->Line_71 $$ layoutSet = group.getPublicLayoutSet()[ CD ]
Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_81 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) [ FD ]
Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_62 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) [ FD ]
Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_84 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(groupId, privateLayout, url)[ FD ]
Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_42 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_29 $$ String url = content.substring(beginPos + offset, endPos)-->Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)[ FD ]
Line_5 $$ int beginPos = -1-->Line_16 $$ if (content.startsWith("href=", beginPos)) [ FD ]
Line_8 $$ while (true) -->Line_58 $$ boolean privateLayout = false[ CD ]
Line_64 $$ privateLayout = true-->Line_84 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(groupId, privateLayout, url)[ FD ]
Line_8 $$ while (true) -->Line_30 $$ StringBundler urlSB = new StringBundler(5)[ CD ]
Line_55 $$ url = urlWithoutLocale-->Line_82 $$ url = url.substring(groupFriendlyURL.length())[ FD ]
Line_46 $$ String localePath = StringPool.BLANK-->Line_49 $$ localePath = url.substring(0, pos)[ FD ]
Line_6 $$ int endPos = content.length()-->Line_10 $$ endPos = beginPos - 1[ FD ]
Line_25 $$ endPos = StringUtil.indexOfAny(content, LAYOUT_REFERENCE_STOP_CHARS, beginPos + offset, endPos)-->Line_26 $$ if (endPos == -1) [ FD ]
Line_82 $$ url = url.substring(groupFriendlyURL.length())-->Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)[ FD ]
Line_3 $$ Group group = GroupLocalServiceUtil.getGroup(groupId)-->Line_71 $$ layoutSet = group.getPublicLayoutSet()[ FD ]
Line_2 $$ protected void validateLayoutReferences(long groupId, String content) throws PortalException -->Line_12 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)[ FD ]
Line_58 $$ boolean privateLayout = false-->Line_78 $$ privateLayout = layoutSet.isPrivateLayout()[ FD ]
Line_55 $$ url = urlWithoutLocale-->Line_42 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_65 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) -->Line_70 $$ if (urlSBString.contains(DATA_HANDLER_PUBLIC_LAYOUT_SET_SECURE_URL) || urlSBString.contains(DATA_HANDLER_PUBLIC_LAYOUT_SET_URL)) [ CD ]
Line_40 $$ url = url.substring(pathContext.length())-->Line_42 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)-->Line_40 $$ url = url.substring(pathContext.length())[ FD ]
Line_12 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)-->Line_22 $$ if (content.charAt(beginPos) == CharPool.OPEN_BRACKET) [ FD ]
Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_45 $$ int pos = url.indexOf(StringPool.SLASH, 1)[ FD ]
Line_8 $$ while (true) -->Line_35 $$ String pathContext = PortalUtil.getPathContext()[ CD ]
Line_8 $$ while (true) -->Line_29 $$ String url = content.substring(beginPos + offset, endPos)[ CD ]
Line_29 $$ String url = content.substring(beginPos + offset, endPos)-->Line_32 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_72 $$ if (urlSBString.contains(DATA_HANDLER_PRIVATE_LAYOUT_SET_SECURE_URL) || urlSBString.contains(DATA_HANDLER_PRIVATE_LAYOUT_SET_URL)) -->Line_73 $$ layoutSet = group.getPrivateLayoutSet()[ CD ]
Line_82 $$ url = url.substring(groupFriendlyURL.length())-->Line_45 $$ int pos = url.indexOf(StringPool.SLASH, 1)[ FD ]
Line_16 $$ if (content.startsWith("href=", beginPos)) -->Line_17 $$ offset = 5[ CD ]
Line_82 $$ url = url.substring(groupFriendlyURL.length())-->Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_45 $$ int pos = url.indexOf(StringPool.SLASH, 1)[ FD ]
Line_55 $$ url = urlWithoutLocale-->Line_84 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(groupId, privateLayout, url)[ FD ]
Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_53 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_55 $$ url = urlWithoutLocale-->Line_59 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) [ FD ]
Line_8 $$ while (true) -->Line_81 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) [ CD ]
Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_40 $$ url = url.substring(pathContext.length())[ FD ]
Line_2 $$ protected void validateLayoutReferences(long groupId, String content) throws PortalException -->Line_84 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(groupId, privateLayout, url)[ FD ]
Line_61 $$ privateLayout = true-->Line_84 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(groupId, privateLayout, url)[ FD ]
Line_47 $$ Locale locale = null-->Line_50 $$ locale = LocaleUtil.fromLanguageId(localePath.substring(1), true, false)[ FD ]
Line_40 $$ url = url.substring(pathContext.length())-->Line_45 $$ int pos = url.indexOf(StringPool.SLASH, 1)[ FD ]
Line_53 $$ String urlWithoutLocale = url.substring(localePath.length())-->Line_54 $$ if (urlWithoutLocale.startsWith(PRIVATE_GROUP_SERVLET_MAPPING) || urlWithoutLocale.startsWith(PRIVATE_USER_SERVLET_MAPPING) || urlWithoutLocale.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ FD ]
Line_70 $$ if (urlSBString.contains(DATA_HANDLER_PUBLIC_LAYOUT_SET_SECURE_URL) || urlSBString.contains(DATA_HANDLER_PUBLIC_LAYOUT_SET_URL)) -->Line_72 $$ if (urlSBString.contains(DATA_HANDLER_PRIVATE_LAYOUT_SET_SECURE_URL) || urlSBString.contains(DATA_HANDLER_PRIVATE_LAYOUT_SET_URL)) [ CD ]
Line_2 $$ protected void validateLayoutReferences(long groupId, String content) throws PortalException -->Line_6 $$ int endPos = content.length()[ FD ]
Line_17 $$ offset = 5-->Line_23 $$ offset = 2[ FD ]
Line_6 $$ int endPos = content.length()-->Line_29 $$ String url = content.substring(beginPos + offset, endPos)[ FD ]
Line_40 $$ url = url.substring(pathContext.length())-->Line_62 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) [ FD ]
Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_49 $$ localePath = url.substring(0, pos)[ FD ]
Line_3 $$ Group group = GroupLocalServiceUtil.getGroup(groupId)-->Line_73 $$ layoutSet = group.getPrivateLayoutSet()[ FD ]
Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_32 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_8 $$ while (true) -->Line_52 $$ if (locale != null) [ CD ]
Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)[ FD ]
Line_29 $$ String url = content.substring(beginPos + offset, endPos)-->Line_53 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_17 $$ offset = 5-->Line_20 $$ offset++[ FD ]
Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_82 $$ url = url.substring(groupFriendlyURL.length())[ FD ]
Line_40 $$ url = url.substring(pathContext.length())-->Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)[ FD ]
Line_8 $$ while (true) -->Line_25 $$ endPos = StringUtil.indexOfAny(content, LAYOUT_REFERENCE_STOP_CHARS, beginPos + offset, endPos)[ CD ]
Line_8 $$ while (true) -->Line_47 $$ Locale locale = null[ CD ]
Line_82 $$ url = url.substring(groupFriendlyURL.length())-->Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)[ FD ]
Line_69 $$ LayoutSet layoutSet = null-->Line_75 $$ if (layoutSet == null) [ FD ]
Line_65 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) -->Line_78 $$ privateLayout = layoutSet.isPrivateLayout()[ CD ]
Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)-->Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_6 $$ int endPos = content.length()-->Line_25 $$ endPos = StringUtil.indexOfAny(content, LAYOUT_REFERENCE_STOP_CHARS, beginPos + offset, endPos)[ FD ]
Line_68 $$ String urlSBString = urlSB.toString()-->Line_70 $$ if (urlSBString.contains(DATA_HANDLER_PUBLIC_LAYOUT_SET_SECURE_URL) || urlSBString.contains(DATA_HANDLER_PUBLIC_LAYOUT_SET_URL)) [ FD ]
Line_3 $$ Group group = GroupLocalServiceUtil.getGroup(groupId)-->Line_80 $$ String groupFriendlyURL = group.getFriendlyURL()[ FD ]
Line_29 $$ String url = content.substring(beginPos + offset, endPos)-->Line_82 $$ url = url.substring(groupFriendlyURL.length())[ FD ]
Line_40 $$ url = url.substring(pathContext.length())-->Line_49 $$ localePath = url.substring(0, pos)[ FD ]
Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_16 $$ if (content.startsWith("href=", beginPos)) -->Line_18 $$ char c = content.charAt(beginPos + offset)[ CD ]
Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_81 $$ if (url.equals(groupFriendlyURL) || url.startsWith(groupFriendlyURL + StringPool.SLASH)) [ FD ]
Line_52 $$ if (locale != null) -->Line_54 $$ if (urlWithoutLocale.startsWith(PRIVATE_GROUP_SERVLET_MAPPING) || urlWithoutLocale.startsWith(PRIVATE_USER_SERVLET_MAPPING) || urlWithoutLocale.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ CD ]
Line_36 $$ if (pathContext.length() > 1) -->Line_40 $$ url = url.substring(pathContext.length())[ CD ]
Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_84 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(groupId, privateLayout, url)[ FD ]
Line_29 $$ String url = content.substring(beginPos + offset, endPos)-->Line_55 $$ url = urlWithoutLocale[ FD ]
Line_35 $$ String pathContext = PortalUtil.getPathContext()-->Line_36 $$ if (pathContext.length() > 1) [ FD ]
Line_55 $$ url = urlWithoutLocale-->Line_45 $$ int pos = url.indexOf(StringPool.SLASH, 1)[ FD ]
Line_69 $$ LayoutSet layoutSet = null-->Line_71 $$ layoutSet = group.getPublicLayoutSet()[ FD ]
Line_55 $$ url = urlWithoutLocale-->Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_40 $$ url = url.substring(pathContext.length())-->Line_32 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)-->Line_53 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_37 $$ if (!url.startsWith(pathContext)) [ FD ]
Line_55 $$ url = urlWithoutLocale-->Line_62 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) [ FD ]
Line_29 $$ String url = content.substring(beginPos + offset, endPos)-->Line_40 $$ url = url.substring(pathContext.length())[ FD ]
Line_62 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) -->Line_64 $$ privateLayout = true[ CD ]
Line_61 $$ privateLayout = true-->Line_78 $$ privateLayout = layoutSet.isPrivateLayout()[ FD ]
Line_16 $$ if (content.startsWith("href=", beginPos)) -->Line_22 $$ if (content.charAt(beginPos) == CharPool.OPEN_BRACKET) [ CD ]
Line_64 $$ privateLayout = true-->Line_78 $$ privateLayout = layoutSet.isPrivateLayout()[ FD ]
Line_2 $$ protected void validateLayoutReferences(long groupId, String content) throws PortalException -->Line_4 $$ String[] patterns = [ CD ]
Line_65 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) -->Line_75 $$ if (layoutSet == null) [ CD ]
Line_2 $$ protected void validateLayoutReferences(long groupId, String content) throws PortalException -->Line_22 $$ if (content.charAt(beginPos) == CharPool.OPEN_BRACKET) [ FD ]
Line_58 $$ boolean privateLayout = false-->Line_84 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(groupId, privateLayout, url)[ FD ]
Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)-->Line_45 $$ int pos = url.indexOf(StringPool.SLASH, 1)[ FD ]
Line_8 $$ while (true) -->Line_84 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(groupId, privateLayout, url)[ CD ]
Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)-->Line_84 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(groupId, privateLayout, url)[ FD ]
Line_46 $$ String localePath = StringPool.BLANK-->Line_50 $$ locale = LocaleUtil.fromLanguageId(localePath.substring(1), true, false)[ FD ]
Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)-->Line_55 $$ url = urlWithoutLocale[ FD ]
Line_40 $$ url = url.substring(pathContext.length())-->Line_37 $$ if (!url.startsWith(pathContext)) [ FD ]
Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_37 $$ if (!url.startsWith(pathContext)) [ FD ]
Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_84 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(groupId, privateLayout, url)[ FD ]
Line_55 $$ url = urlWithoutLocale-->Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)[ FD ]
Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)[ FD ]
Line_82 $$ url = url.substring(groupFriendlyURL.length())-->Line_42 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_29 $$ String url = content.substring(beginPos + offset, endPos)-->Line_42 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_84 $$ Layout layout = LayoutLocalServiceUtil.fetchLayoutByFriendlyURL(groupId, privateLayout, url)-->Line_85 $$ if (layout == null) [ FD ]
Line_55 $$ url = urlWithoutLocale-->Line_65 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ FD ]
Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)-->Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)[ FD ]
Line_82 $$ url = url.substring(groupFriendlyURL.length())-->Line_53 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)-->Line_62 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) [ FD ]
Line_82 $$ url = url.substring(groupFriendlyURL.length())-->Line_59 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) [ FD ]
Line_8 $$ while (true) -->Line_32 $$ if (!url.startsWith(StringPool.SLASH)) [ CD ]
Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)[ FD ]
Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_29 $$ String url = content.substring(beginPos + offset, endPos)-->Line_62 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) [ FD ]
Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)-->Line_62 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) [ FD ]
Line_73 $$ layoutSet = group.getPrivateLayoutSet()-->Line_78 $$ privateLayout = layoutSet.isPrivateLayout()[ FD ]
Line_54 $$ if (urlWithoutLocale.startsWith(PRIVATE_GROUP_SERVLET_MAPPING) || urlWithoutLocale.startsWith(PRIVATE_USER_SERVLET_MAPPING) || urlWithoutLocale.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) -->Line_55 $$ url = urlWithoutLocale[ CD ]
Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)-->Line_65 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ FD ]
Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_59 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) [ FD ]
Line_10 $$ endPos = beginPos - 1-->Line_26 $$ if (endPos == -1) [ FD ]
Line_29 $$ String url = content.substring(beginPos + offset, endPos)-->Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_68 $$ String urlSBString = urlSB.toString()-->Line_72 $$ if (urlSBString.contains(DATA_HANDLER_PRIVATE_LAYOUT_SET_SECURE_URL) || urlSBString.contains(DATA_HANDLER_PRIVATE_LAYOUT_SET_URL)) [ FD ]
Line_7 $$ int offset = 0-->Line_20 $$ offset++[ FD ]
Line_55 $$ url = urlWithoutLocale-->Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_82 $$ url = url.substring(groupFriendlyURL.length())-->Line_62 $$ if (url.startsWith(PRIVATE_USER_SERVLET_MAPPING)) [ FD ]
Line_46 $$ String localePath = StringPool.BLANK-->Line_53 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_59 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) -->Line_60 $$ url = url.substring(PRIVATE_GROUP_SERVLET_MAPPING.length() - 1)[ CD ]
Line_23 $$ offset = 2-->Line_20 $$ offset++[ FD ]
Line_7 $$ int offset = 0-->Line_17 $$ offset = 5[ FD ]
Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_65 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ FD ]
Line_2 $$ protected void validateLayoutReferences(long groupId, String content) throws PortalException -->Line_3 $$ Group group = GroupLocalServiceUtil.getGroup(groupId)[ CD ]
Line_2 $$ protected void validateLayoutReferences(long groupId, String content) throws PortalException -->Line_16 $$ if (content.startsWith("href=", beginPos)) [ FD ]
Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)-->Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)[ FD ]
Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_42 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_66 $$ url = url.substring(PUBLIC_GROUP_SERVLET_MAPPING.length() - 1)-->Line_40 $$ url = url.substring(pathContext.length())[ FD ]
Line_82 $$ url = url.substring(groupFriendlyURL.length())-->Line_37 $$ if (!url.startsWith(pathContext)) [ FD ]
Line_8 $$ while (true) -->Line_85 $$ if (layout == null) [ CD ]
Line_40 $$ url = url.substring(pathContext.length())-->Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)[ FD ]
Line_8 $$ while (true) -->Line_48 $$ if (pos != -1) [ CD ]
Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_82 $$ url = url.substring(groupFriendlyURL.length())[ FD ]
Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)-->Line_49 $$ localePath = url.substring(0, pos)[ FD ]
Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)-->Line_32 $$ if (!url.startsWith(StringPool.SLASH)) [ FD ]
Line_19 $$ if ((c == CharPool.APOSTROPHE) || (c == CharPool.QUOTE)) -->Line_20 $$ offset++[ CD ]
Line_5 $$ int beginPos = -1-->Line_22 $$ if (content.charAt(beginPos) == CharPool.OPEN_BRACKET) [ FD ]
Line_31 $$ url = replaceExportHostname(groupId, url, urlSB)-->Line_59 $$ if (url.startsWith(PRIVATE_GROUP_SERVLET_MAPPING)) [ FD ]
Line_63 $$ url = url.substring(PRIVATE_USER_SERVLET_MAPPING.length() - 1)-->Line_53 $$ String urlWithoutLocale = url.substring(localePath.length())[ FD ]
Line_40 $$ url = url.substring(pathContext.length())-->Line_65 $$ if (url.startsWith(PUBLIC_GROUP_SERVLET_MAPPING)) [ FD ]
Line_25 $$ endPos = StringUtil.indexOfAny(content, LAYOUT_REFERENCE_STOP_CHARS, beginPos + offset, endPos)-->Line_12 $$ beginPos = StringUtil.lastIndexOfAny(content, patterns, endPos)[ FD ]
Line_7 $$ int offset = 0-->Line_23 $$ offset = 2[ FD ]
