Line_11 $$ if (preference.charAt(0) == '_') -->Line_13 $$ if (preferenceType == Preference.SHARDS) [ CD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_37 $$ return indexShard.preferAttributesActiveInitializingShardsIt(awarenessAttributes, nodes)[ FD ]
Line_11 $$ if (preference.charAt(0) == '_') -->Line_43 $$ preferenceType = Preference.parse(preference)[ CD ]
Line_3 $$ if (preference == null || preference.isEmpty()) -->Line_4 $$ String[] awarenessAttributes = awarenessAllocationDecider.awarenessAttributes()[ CD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_6 $$ return indexShard.activeInitializingShardsRandomIt()[ FD ]
Line_32 $$ if (index == -1 || index == preference.length() - 1) -->Line_40 $$ preference = preference.substring(index + 1)[ CD ]
Line_15 $$ String shards-->Line_19 $$ shards = preference.substring(Preference.SHARDS.type().length() + 1, index)[ FD ]
Line_34 $$ if (awarenessAttributes.length == 0) -->Line_35 $$ return indexShard.activeInitializingShardsRandomIt()[ CD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_56 $$ return indexShard.replicaFirstActiveInitializingShardsIt()[ FD ]
Line_34 $$ if (awarenessAttributes.length == 0) -->Line_37 $$ return indexShard.preferAttributesActiveInitializingShardsIt(awarenessAttributes, nodes)[ CD ]
Line_32 $$ if (index == -1 || index == preference.length() - 1) -->Line_33 $$ String[] awarenessAttributes = awarenessAllocationDecider.awarenessAttributes()[ CD ]
Line_23 $$ for (String id : ids) -->Line_24 $$ if (Integer.parseInt(id) == indexShard.shardId().id()) [ FD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_61 $$ ensureNodeIdExists(nodes, nodeId)[ FD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_64 $$ String nodeAttribute = preference.substring(Preference.ONLY_NODES.type().length() + 1)[ FD ]
Line_64 $$ String nodeAttribute = preference.substring(Preference.ONLY_NODES.type().length() + 1)-->Line_65 $$ return indexShard.onlyNodeSelectorActiveInitializingShardsIt(nodeAttribute, nodes)[ FD ]
Line_16 $$ if (index == -1) -->Line_17 $$ shards = preference.substring(Preference.SHARDS.type().length() + 1)[ CD ]
Line_13 $$ if (preferenceType == Preference.SHARDS) -->Line_16 $$ if (index == -1) [ CD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_14 $$ int index = preference.indexOf(';')[ FD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_11 $$ if (preference.charAt(0) == '_') [ CD ]
Line_32 $$ if (index == -1 || index == preference.length() - 1) -->Line_34 $$ if (awarenessAttributes.length == 0) [ CD ]
Line_13 $$ if (preferenceType == Preference.SHARDS) -->Line_21 $$ String[] ids = Strings.splitStringByCommaToArray(shards)[ CD ]
Line_3 $$ if (preference == null || preference.isEmpty()) -->Line_5 $$ if (awarenessAttributes.length == 0) [ CD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_43 $$ preferenceType = Preference.parse(preference)[ FD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_72 $$ return indexShard.activeInitializingShardsIt(Murmur3HashFunction.hash(preference))[ FD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_8 $$ return indexShard.preferAttributesActiveInitializingShardsIt(awarenessAttributes, nodes)[ FD ]
Line_4 $$ String[] awarenessAttributes = awarenessAllocationDecider.awarenessAttributes()-->Line_8 $$ return indexShard.preferAttributesActiveInitializingShardsIt(awarenessAttributes, nodes)[ FD ]
Line_19 $$ shards = preference.substring(Preference.SHARDS.type().length() + 1, index)-->Line_21 $$ String[] ids = Strings.splitStringByCommaToArray(shards)[ FD ]
Line_24 $$ if (Integer.parseInt(id) == indexShard.shardId().id()) -->Line_25 $$ found = true[ CD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_46 $$ return indexShard.preferNodeActiveInitializingShardsIt(preference.substring(Preference.PREFER_NODE.type().length() + 1))[ FD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_32 $$ if (index == -1 || index == preference.length() - 1) [ FD ]
Line_71 $$ if (awarenessAttributes.length == 0) -->Line_72 $$ return indexShard.activeInitializingShardsIt(Murmur3HashFunction.hash(preference))[ CD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_50 $$ return indexShard.primaryActiveInitializingShardIt()[ FD ]
Line_29 $$ if (!found) -->Line_30 $$ return null[ CD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_52 $$ return indexShard.replicaActiveInitializingShardIt()[ FD ]
Line_17 $$ shards = preference.substring(Preference.SHARDS.type().length() + 1)-->Line_21 $$ String[] ids = Strings.splitStringByCommaToArray(shards)[ FD ]
Line_60 $$ String nodeId = preference.substring(Preference.ONLY_NODE.type().length() + 1)-->Line_62 $$ return indexShard.onlyNodeActiveInitializingShardsIt(nodeId)[ FD ]
Line_22 $$ boolean found = false-->Line_29 $$ if (!found) [ FD ]
Line_71 $$ if (awarenessAttributes.length == 0) -->Line_74 $$ return indexShard.preferAttributesActiveInitializingShardsIt(awarenessAttributes, nodes, Murmur3HashFunction.hash(preference))[ CD ]
Line_60 $$ String nodeId = preference.substring(Preference.ONLY_NODE.type().length() + 1)-->Line_61 $$ ensureNodeIdExists(nodes, nodeId)[ FD ]
Line_13 $$ if (preferenceType == Preference.SHARDS) -->Line_14 $$ int index = preference.indexOf(';')[ CD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_74 $$ return indexShard.preferAttributesActiveInitializingShardsIt(awarenessAttributes, nodes, Murmur3HashFunction.hash(preference))[ FD ]
Line_14 $$ int index = preference.indexOf(';')-->Line_16 $$ if (index == -1) [ FD ]
Line_17 $$ shards = preference.substring(Preference.SHARDS.type().length() + 1)-->Line_19 $$ shards = preference.substring(Preference.SHARDS.type().length() + 1, index)[ FD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_24 $$ if (Integer.parseInt(id) == indexShard.shardId().id()) [ FD ]
Line_5 $$ if (awarenessAttributes.length == 0) -->Line_6 $$ return indexShard.activeInitializingShardsRandomIt()[ CD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_19 $$ shards = preference.substring(Preference.SHARDS.type().length() + 1, index)[ FD ]
Line_5 $$ if (awarenessAttributes.length == 0) -->Line_8 $$ return indexShard.preferAttributesActiveInitializingShardsIt(awarenessAttributes, nodes)[ CD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_35 $$ return indexShard.activeInitializingShardsRandomIt()[ FD ]
Line_15 $$ String shards-->Line_17 $$ shards = preference.substring(Preference.SHARDS.type().length() + 1)[ FD ]
Line_14 $$ int index = preference.indexOf(';')-->Line_19 $$ shards = preference.substring(Preference.SHARDS.type().length() + 1, index)[ FD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_65 $$ return indexShard.onlyNodeSelectorActiveInitializingShardsIt(nodeAttribute, nodes)[ FD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_71 $$ if (awarenessAttributes.length == 0) [ CD ]
Line_11 $$ if (preference.charAt(0) == '_') -->Line_12 $$ Preference preferenceType = Preference.parse(preference)[ CD ]
Line_13 $$ if (preferenceType == Preference.SHARDS) -->Line_29 $$ if (!found) [ CD ]
Line_4 $$ String[] awarenessAttributes = awarenessAllocationDecider.awarenessAttributes()-->Line_74 $$ return indexShard.preferAttributesActiveInitializingShardsIt(awarenessAttributes, nodes, Murmur3HashFunction.hash(preference))[ FD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_3 $$ if (preference == null || preference.isEmpty()) [ CD ]
Line_4 $$ String[] awarenessAttributes = awarenessAllocationDecider.awarenessAttributes()-->Line_37 $$ return indexShard.preferAttributesActiveInitializingShardsIt(awarenessAttributes, nodes)[ FD ]
Line_25 $$ found = true-->Line_29 $$ if (!found) [ FD ]
Line_13 $$ if (preferenceType == Preference.SHARDS) -->Line_32 $$ if (index == -1 || index == preference.length() - 1) [ CD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_62 $$ return indexShard.onlyNodeActiveInitializingShardsIt(nodeId)[ FD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_17 $$ shards = preference.substring(Preference.SHARDS.type().length() + 1)[ FD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_70 $$ String[] awarenessAttributes = awarenessAllocationDecider.awarenessAttributes()[ CD ]
Line_16 $$ if (index == -1) -->Line_19 $$ shards = preference.substring(Preference.SHARDS.type().length() + 1, index)[ CD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_48 $$ return indexShard.preferNodeActiveInitializingShardsIt(localNodeId)[ FD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_54 $$ return indexShard.primaryFirstActiveInitializingShardsIt()[ FD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_3 $$ if (preference == null || preference.isEmpty()) [ FD ]
Line_13 $$ if (preferenceType == Preference.SHARDS) -->Line_22 $$ boolean found = false[ CD ]
Line_12 $$ Preference preferenceType = Preference.parse(preference)-->Line_43 $$ preferenceType = Preference.parse(preference)[ FD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_60 $$ String nodeId = preference.substring(Preference.ONLY_NODE.type().length() + 1)[ FD ]
Line_13 $$ if (preferenceType == Preference.SHARDS) -->Line_15 $$ String shards[ CD ]
Line_12 $$ Preference preferenceType = Preference.parse(preference)-->Line_13 $$ if (preferenceType == Preference.SHARDS) [ FD ]
Line_22 $$ boolean found = false-->Line_25 $$ found = true[ FD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_12 $$ Preference preferenceType = Preference.parse(preference)[ FD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_58 $$ return indexShard.onlyNodeActiveInitializingShardsIt(localNodeId)[ FD ]
Line_15 $$ String shards-->Line_21 $$ String[] ids = Strings.splitStringByCommaToArray(shards)[ FD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_11 $$ if (preference.charAt(0) == '_') [ FD ]
Line_2 $$ private ShardIterator preferenceActiveShardIterator(IndexShardRoutingTable indexShard, String localNodeId, DiscoveryNodes nodes, @Nullable String preference) -->Line_40 $$ preference = preference.substring(index + 1)[ FD ]
